<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>U7&#39;s BlogğŸ‹</title>
  
  
  <link href="https://u7u7.top/atom.xml" rel="self"/>
  
  <link href="https://u7u7.top/"/>
  <updated>2023-03-29T08:30:25.000Z</updated>
  <id>https://u7u7.top/</id>
  
  <author>
    <name>U7&#39;s BlogğŸ‹</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å¤§æ•°æ®23å¹´2æœˆç¬”è®°</title>
    <link href="https://u7u7.top/posts/23biji02.html"/>
    <id>https://u7u7.top/posts/23biji02.html</id>
    <published>2023-03-29T08:30:25.000Z</published>
    <updated>2023-03-29T08:30:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Day11-é‡å†™">Day11 é‡å†™</h1><h2 id="å­¦ä¹ æ—¥æœŸ-2-15-2-16">å­¦ä¹ æ—¥æœŸ: 2.15-2.16</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="day11ä»»åŠ¡">day11ä»»åŠ¡</h3><p>å› ä¸ºå¾ˆä¹…æ²¡æœ‰ä½¿ç”¨scalaå¯¹æ•°æ®å¤„ç†ï¼Œè¿™ä¸¤å¤©æ‰“ç®—ç”¨ä¹‹å‰è€å¸ˆå­¦ä¹ çš„æ•°æ®å’Œé¢˜ç›®ä½¿ç”¨ä¸€ä¸‹</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> subject4</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">dataGet</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>).appName(<span class="string">&quot;dataGet4&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line">    <span class="keyword">val</span> date = <span class="string">&quot;20230215&quot;</span></span><br><span class="line">    spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;url&quot;</span>,<span class="string">&quot;jdbc:mysql://172.16.1.77/shtd_store&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;driver&quot;</span>,<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;user&quot;</span>,<span class="string">&quot;root&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;password&quot;</span>,<span class="string">&quot;root&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;dbtable&quot;</span>,<span class="string">&quot;CUSTOMER&quot;</span>).load().createOrReplaceTempView(<span class="string">&quot;customer&quot;</span>)</span><br><span class="line"></span><br><span class="line">    mysqlGet(spark,<span class="string">&quot;NATION&quot;</span>)</span><br><span class="line">    mysqlGet(spark,<span class="string">&quot;PART&quot;</span>)</span><br><span class="line">    mysqlGet(spark,<span class="string">&quot;PARTSUPP&quot;</span>)</span><br><span class="line">    mysqlGet(spark,<span class="string">&quot;REGION&quot;</span>)</span><br><span class="line">    mysqlGet(spark,<span class="string">&quot;SUPPLIER&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert into table ods.customer partition (etldate=$date)</span></span><br><span class="line"><span class="string">        |select * from customer</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert into table ods.nation partition (etldate=$date)</span></span><br><span class="line"><span class="string">        |select * from nation</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert into table ods.part partition (etldate=$date)</span></span><br><span class="line"><span class="string">         |select * from part</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert into table ods.partsupp partition (etldate=$date)</span></span><br><span class="line"><span class="string">        |select * from partsupp</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mysqlGet</span></span>(mysqlSpark:<span class="type">SparkSession</span>,mysqlName:<span class="type">String</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">      <span class="keyword">val</span> url = <span class="string">&quot;jdbc:mysql://172.16.1.77:3306/shtd_store?serverTimezone=GMT&amp;useUnicode=true&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user = <span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password = <span class="string">&quot;root&quot;</span></span><br><span class="line">      mysqlSpark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>,url)</span><br><span class="line">        .option(<span class="string">&quot;driver&quot;</span>,driver)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>,user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>,password)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>,mysqlName).load().createTempView(mysqlName.toLowerCase)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="BUGç‚¹">BUGç‚¹</h2><p>æ‰“å®ŒjaråŒ…ç”¨sparkæäº¤ ä¼šæŠ¥é”™è¯´æ˜¯jdbcçš„é—®é¢˜ï¼Œè§£å†³äº†ä¸€æ•´å¤©éƒ½æ²¡æå¥½ï¼Œæ‰¾ä¸åˆ°é—®é¢˜çš„åŸå› ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/blognoteImg/image-20230329174401734.png" alt="image-20230329174401734"></p><h2 id="æ—¥æ€»ç»“">æ—¥æ€»ç»“</h2><blockquote><p>è¿™ä¸¤å¤©æ”¾åˆ°ä¸€å¤©å»äº†ï¼Œå› ä¸ºä»Šå¤©ä¸€å¤©éƒ½åœ¨ä¿®BUGï¼Œé—®é¢˜åŸæœ¬ä»¥ä¸ºä¸å¤§ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸¤ä¸ªæäº¤éƒ½æ˜¯åŒæ ·çš„æŠ¥é”™ï¼Œæ„Ÿè§‰æ˜¯æœåŠ¡å™¨çš„é…ç½®ï¼Œè‡ªå·±ç”¨ä¹‹å‰è‡ªå·±æäº¤è¿‡çš„ä»£ç è¿˜æ˜¯å¤±è´¥ã€‚ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¤´ç»ªï¼Œå°è¯•ç”¨jdbcå¯åŠ¨hiveä¹Ÿä¸è¡Œï¼Œé—®é¢˜åº”è¯¥å°±æ˜¯åœ¨hiveå’ŒMySQLçš„è¿æ¥äº†ï¼Œæ˜å¤©è¯·äººå†æ¥çœ‹ä¸€çœ‹ï¼Œé¡ºåˆ©æ¸…æ´—ä¸€æ¬¡ï¼Œä»¥åå°±ä¼šå¥½èµ·æ¥äº†ã€‚</p></blockquote><h1 id="Sparkæ•°æ®æ¸…æ´—BUG">Sparkæ•°æ®æ¸…æ´—BUG</h1><h2 id="å­¦ä¹ æ—¥æœŸ-2-17-2-20">å­¦ä¹ æ—¥æœŸ: 2.17-2.20</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-2">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>å»¶ç»­æ˜¨å¤©ç»“å°¾æ—¶å€™çš„BUG</p><h2 id="BUGç‚¹-2">BUGç‚¹</h2><p>ä¿®äº†å‡ å¤©ï¼Œåé¢å‡ºç°çš„BUGï¼Œè¿è¡Œå¤±è´¥çš„æˆªå›¾å°±ä¸æ”¾ä¸Šæ¥äº†ï¼Œç®€å•å™è¿°ä¸€ä¸‹ï¼ŒæŠ¥é”™ä¿¡æ¯æ˜¯æ‰¾ä¸åˆ°hiveä¸­çš„åº“å’Œè¡¨åï¼Œä½†æ˜¯æˆ‘æ˜¯åˆšåˆ›å»ºçš„ï¼Œæˆ‘å°±æ€€ç–‘æ˜¯æœ‰ä¸¤ä¸ªhiveï¼Œå› ä¸ºä¹‹å‰å¶å°”ä¼šæŸ¥å¾—åˆ°ï¼Œç„¶åé—®é¾šæ˜¥å¼ºï¼Œè¯´IDEAæ¸…ç†ä¸€ä¸‹ç¼“å­˜ï¼Œç„¶åè¿˜æ²¡æœ‰ç”¨ï¼ŒæŠŠhive-site.xmlæ¢æˆåŸæ¥çš„å°±å¥½äº†ï¼Œéš¾é“æ˜¯xmlæ–‡ä»¶çš„é—®é¢˜ï¼Ÿç„¶åæˆ‘åˆæ¢å›å»ï¼Œä¹Ÿæ˜¯å¥½çš„ï¼Œå°±ç¢ç£¨ä¸é€äº†ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/blognoteImg/image-20230329174418261.png" alt="image-20230329174418261"></p><h2 id="æ‰©å±•å­¦ä¹ ">æ‰©å±•å­¦ä¹ </h2><p>æ— ï¼Œä¿®bugï¼Œä¸€é“ç®—æ³•é¢˜éƒ½æ²¡åš</p><h2 id="æ—¥æ€»ç»“-2">æ—¥æ€»ç»“</h2><p>è¿™å‡ å¤©ä¿®BUGï¼Œåªèƒ½è¯´æ²¡ä»€ä¹ˆå¤´ç»ªï¼Œå› ä¸ºæŠ¥é”™ä¿¡æ¯ä¸æ˜ç¡®ï¼Œ CSDNæœä¹Ÿæ–‡ä¸å¯¹é¢˜ï¼Œä»åˆšå¼€å§‹è¿æ¥mysqlå°±æŠ¥é”™ï¼Œç„¶åè§£å†³ï¼Œæ›´æ¢äº†mysql-connector-javaåŒ…ç‰ˆæœ¬ï¼Œä¹Ÿæ²¡è§£å†³ï¼Œåé¢åœ¨sparké‡Œé¢åŠ jaråŒ…ï¼Œå°±ä¿®å¥½äº†ï¼Œç„¶åå°±æ˜¯ä¸€ç›´è¿æ¥ä¸ä¸Šhiveï¼Œçªç„¶æƒ³èµ·æ¥ï¼Œè‡ªå·±ä¹‹å‰å­¦hadoopçš„æ—¶å€™è£…çš„å°±æ˜¯hive3å’Œspark3ï¼Œè™½ç„¶ç‰ˆæœ¬æ˜¯å¯¹å¥—çš„ï¼Œä½†æ˜¯å°±æ˜¯æŸ¥æ‰¾ä¸åˆ°ï¼Œå¥½åƒè¦æ›´æ”¹é…ç½®ï¼Œå¤ªéº»çƒ¦äº†ï¼Œè‡ªå·±ç´¢æ€§å°±é™ç‰ˆæœ¬äº†ã€‚è¿™æ¬¡æŠŠç‰ˆæœ¬é™ä½äº†ï¼Œåˆå‡ºç°äº†å…¶ä»–çš„BUGï¼Œåœ¨æœ€åä¸€ä¸ªBUGï¼Œæ‰¾ä¸åˆ°hiveè¡¨çš„æ—¶å€™ï¼Œè§£å†³äº†ä¸€å¤©åŠï¼Œæœ€åä¹Ÿä¸ç®—å¾ˆæ¸…æ¥šæ€ä¹ˆè§£å†³çš„ï¼Œç°åœ¨èƒ½ç»ƒé¢˜äº†å°±è¡Œï¼Œå¤§æ¦‚ç‡æ˜¯ä¹‹å‰ç”µè„‘æœ‰ä¸Šä¸€ä¸ªhiveçš„ç¼“å­˜æ–‡ä»¶ï¼Œå¯¼è‡´æ‰¾çš„ä¸€ç›´æ˜¯æœåŠ¡å™¨ä¹‹å‰çš„hiveã€‚</p><h1 id="4æœˆä»»åŠ¡1ä»¥åŠå‡½æ•°æ¢³ç†">4æœˆä»»åŠ¡1ä»¥åŠå‡½æ•°æ¢³ç†</h1><h2 id="å­¦ä¹ æ—¥æœŸ-2-21-2-22">å­¦ä¹ æ—¥æœŸ: 2.21-2.22</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-3">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>4æœˆå››åˆé¢˜ç›®ä»»åŠ¡1çš„å®Œæˆ</p><h3 id="ä»£ç è®°å½•">ä»£ç è®°å½•</h3><h4 id="æ•°æ®æŠ½å–">æ•°æ®æŠ½å–</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> gz04.subject1</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">dataMath</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mysqlExtract</span></span>(sparkSession: <span class="type">SparkSession</span>, mysqlTableName: <span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">      <span class="keyword">val</span> url = <span class="string">&quot;jdbc:mysql://172.16.1.77/shtd_store?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver = <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user = <span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password = <span class="string">&quot;123456Admin@123&quot;</span></span><br><span class="line">      sparkSession.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>, url)</span><br><span class="line">        .option(<span class="string">&quot;driver&quot;</span>, driver)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>, user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>, password)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>, mysqlTableName).load().createTempView(<span class="string">&quot;mysql_&quot;</span> + mysqlTableName.toLowerCase)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>).appName(<span class="string">&quot;clear4&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;1000000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;1000000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |WITH t1 AS(</span></span><br><span class="line"><span class="string">        |SELECT</span></span><br><span class="line"><span class="string">        |dc.cust_key as customerkey,</span></span><br><span class="line"><span class="string">        |dn.nation_key as nationkey,</span></span><br><span class="line"><span class="string">        |dn.name as nationname,</span></span><br><span class="line"><span class="string">        |dr.region_key as regionkey,</span></span><br><span class="line"><span class="string">        |dr.name as regionname,</span></span><br><span class="line"><span class="string">        |date_format(order_date,&#x27;yyyy&#x27;) as year,</span></span><br><span class="line"><span class="string">        |date_format(order_date,&#x27;MM&#x27;) as month,</span></span><br><span class="line"><span class="string">        |fo.total_price</span></span><br><span class="line"><span class="string">        |FROM</span></span><br><span class="line"><span class="string">        |dwd.fact_orders AS fo</span></span><br><span class="line"><span class="string">        |LEFT JOIN dwd.dim_customer dc ON fo.cust_key = dc.cust_key</span></span><br><span class="line"><span class="string">        |LEFT JOIN dwd.dim_nation dn ON dc.nation_key = dn.nation_key</span></span><br><span class="line"><span class="string">        |LEFT JOIN dwd.dim_region dr ON dn.region_key = dr.region_key</span></span><br><span class="line"><span class="string">        |)</span></span><br><span class="line"><span class="string">        |SELECT</span></span><br><span class="line"><span class="string">        |nationkey,</span></span><br><span class="line"><span class="string">        |max(nationname),</span></span><br><span class="line"><span class="string">        |max(regionkey),</span></span><br><span class="line"><span class="string">        |max(regionname),</span></span><br><span class="line"><span class="string">        |sum(total_price),</span></span><br><span class="line"><span class="string">        |count(1) AS totalorder,</span></span><br><span class="line"><span class="string">        |year,</span></span><br><span class="line"><span class="string">        |month</span></span><br><span class="line"><span class="string">        |FROM</span></span><br><span class="line"><span class="string">        |t1</span></span><br><span class="line"><span class="string">        |GROUP BY</span></span><br><span class="line"><span class="string">        |nationkey,year,month</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).createTempView(<span class="string">&quot;math1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;nationeverymonth&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table mysql_nationeverymonth</span></span><br><span class="line"><span class="string">        |select * from math1</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    spark.conf.set(<span class="string">&quot;spark.sql.crossJoin.enabled&quot;</span>,<span class="string">&quot;true&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |with t1 as (</span></span><br><span class="line"><span class="string">        |select c.cust_key as custkey,</span></span><br><span class="line"><span class="string">        |n.nation_key as nationkey,</span></span><br><span class="line"><span class="string">        |n.name as nationname,</span></span><br><span class="line"><span class="string">        |total_price</span></span><br><span class="line"><span class="string">        |from dwd.fact_orders fo</span></span><br><span class="line"><span class="string">        |left join dwd.dim_customer c on fo.cust_key=c.cust_key</span></span><br><span class="line"><span class="string">        |left join dwd.dim_nation n on c.nation_key=n.nation_key),</span></span><br><span class="line"><span class="string">        |t2 as (</span></span><br><span class="line"><span class="string">        |select custkey,max(nationkey) as nationkey, max(nationname) as nationname,</span></span><br><span class="line"><span class="string">        |sum(total_price) as sumprice</span></span><br><span class="line"><span class="string">        |from t1</span></span><br><span class="line"><span class="string">        |group by t1.custkey),</span></span><br><span class="line"><span class="string">        |t3 as (</span></span><br><span class="line"><span class="string">        |select nationkey,</span></span><br><span class="line"><span class="string">        |max(nationname) as nationname,</span></span><br><span class="line"><span class="string">        |round(avg(sumprice),2) as avgprice</span></span><br><span class="line"><span class="string">        |from t2</span></span><br><span class="line"><span class="string">        |group by nationkey),</span></span><br><span class="line"><span class="string">        |t4 as (</span></span><br><span class="line"><span class="string">        |select round(avg(sumprice),2) as allavgprice from t2)</span></span><br><span class="line"><span class="string">        |select t3.*,t4.* from t3,t4</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> d: <span class="type">Double</span> = sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |select avg(allnationavgconsumption)</span></span><br><span class="line"><span class="string">        |from</span></span><br><span class="line"><span class="string">        |(</span></span><br><span class="line"><span class="string">        |SELECT</span></span><br><span class="line"><span class="string">        |sum(total_price) as allnationavgconsumption,</span></span><br><span class="line"><span class="string">        |count(1)</span></span><br><span class="line"><span class="string">        |FROM</span></span><br><span class="line"><span class="string">        |dwd.fact_orders fo</span></span><br><span class="line"><span class="string">        |group by</span></span><br><span class="line"><span class="string">        |fo.cust_key)</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).collect()(<span class="number">0</span>).getDouble(<span class="number">0</span>)</span><br><span class="line">    print(d)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |with t1 as (</span></span><br><span class="line"><span class="string">        |SELECT</span></span><br><span class="line"><span class="string">        |dn.nation_key AS nationkey,</span></span><br><span class="line"><span class="string">        |max(dn.name) AS nationname,</span></span><br><span class="line"><span class="string">        |sum(total_price)/count(distinct(fo.cust_key)) as nationavgconsumption</span></span><br><span class="line"><span class="string">        |FROM</span></span><br><span class="line"><span class="string">        |dwd.fact_orders fo</span></span><br><span class="line"><span class="string">        |LEFT JOIN dwd.dim_customer dc on fo.cust_key = dc.cust_key</span></span><br><span class="line"><span class="string">        |LEFT JOIN dwd.dim_nation dn on dc.nation_key = dn.nation_key</span></span><br><span class="line"><span class="string">        |group by dn.nation_key)</span></span><br><span class="line"><span class="string">        |select t1.*,$d as allnationavgconsumption from t1</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin).show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;nationavgcmp&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table mysql_nationavgcmp</span></span><br><span class="line"><span class="string">        |select h.*,</span></span><br><span class="line"><span class="string">        |(case</span></span><br><span class="line"><span class="string">        |when h.nationavgconsumption &gt; h.allnationavgconsumption then &#x27;é«˜&#x27;</span></span><br><span class="line"><span class="string">        |when h.nationavgconsumption = h.allnationavgconsumption then &#x27;ç›¸åŒ&#x27;</span></span><br><span class="line"><span class="string">        |when h.nationavgconsumption &lt; h.allnationavgconsumption then &#x27;ä½&#x27; end</span></span><br><span class="line"><span class="string">        |)</span></span><br><span class="line"><span class="string">        |from hive2 h</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |with t1 as (</span></span><br><span class="line"><span class="string">        |select cust_key,</span></span><br><span class="line"><span class="string">        |cast(date_format(order_date,&#x27;yyyyMM&#x27;) as int) as month,</span></span><br><span class="line"><span class="string">        |sum(total_price) as total_price,</span></span><br><span class="line"><span class="string">        |count(1) as total_order</span></span><br><span class="line"><span class="string">        |from dwd.fact_orders</span></span><br><span class="line"><span class="string">        |group by cust_key,cast(date_format(order_date,&#x27;yyyyMM&#x27;) as int)</span></span><br><span class="line"><span class="string">        |),</span></span><br><span class="line"><span class="string">        |t2 as (</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |a.cust_key,</span></span><br><span class="line"><span class="string">        |concat(a.month,&#x27;_&#x27;,b.month) as month,</span></span><br><span class="line"><span class="string">        |a.total_price + b.total_price as total_price,</span></span><br><span class="line"><span class="string">        |a.total_order + b.total_order as total_order</span></span><br><span class="line"><span class="string">        |from t1 a</span></span><br><span class="line"><span class="string">        |left join t1 b</span></span><br><span class="line"><span class="string">        | on --åˆ¤æ–­è¿ç»­ä¸¤ä¸ªæœˆå¢é•¿</span></span><br><span class="line"><span class="string">        |a.cust_key=b.cust_key</span></span><br><span class="line"><span class="string">        |where</span></span><br><span class="line"><span class="string">        |a.month + 1 = b.month</span></span><br><span class="line"><span class="string">        |and</span></span><br><span class="line"><span class="string">        |a.total_price &lt; b.total_price)</span></span><br><span class="line"><span class="string">        |select c.cust_key,c.name,month,total_price,total_order</span></span><br><span class="line"><span class="string">        |from t2</span></span><br><span class="line"><span class="string">        |left join dwd.dim_customer c on c.cust_key=t2.cust_key</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createTempView(<span class="string">&quot;hiveOrders&quot;</span>)</span><br><span class="line"></span><br><span class="line">    mysqlExtract(spark, <span class="string">&quot;usercontinueorder&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table mysql_usercontinueorder</span></span><br><span class="line"><span class="string">        |select * from hiveOrders</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ•°æ®æ¸…æ´—">æ•°æ®æ¸…æ´—</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> gz04.subject1</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">dataClear</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>).appName(<span class="string">&quot;clear4&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;1000000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;1000000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.dim_customer partition (etldate)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |custkey,</span></span><br><span class="line"><span class="string">        |name      ,</span></span><br><span class="line"><span class="string">        |address   ,</span></span><br><span class="line"><span class="string">        |nationkey ,</span></span><br><span class="line"><span class="string">        |phone     ,</span></span><br><span class="line"><span class="string">        |acctbal   ,</span></span><br><span class="line"><span class="string">        |mktsegment,</span></span><br><span class="line"><span class="string">        |comment   ,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,</span></span><br><span class="line"><span class="string">        |date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,</span></span><br><span class="line"><span class="string">        |date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |etldate</span></span><br><span class="line"><span class="string">        |from</span></span><br><span class="line"><span class="string">        |ods.customer</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.dim_part partition (etldate)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |partkey      ,</span></span><br><span class="line"><span class="string">        |name         ,</span></span><br><span class="line"><span class="string">        |mfgr         ,</span></span><br><span class="line"><span class="string">        |brand        ,</span></span><br><span class="line"><span class="string">        |type         ,</span></span><br><span class="line"><span class="string">        |size         ,</span></span><br><span class="line"><span class="string">        |container    ,</span></span><br><span class="line"><span class="string">        |retailprice  ,</span></span><br><span class="line"><span class="string">        |comment      ,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,</span></span><br><span class="line"><span class="string">        |date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,</span></span><br><span class="line"><span class="string">        |date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |etldate</span></span><br><span class="line"><span class="string">        |from ods.part</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.dim_nation partition (etldate)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |nationkey  ,</span></span><br><span class="line"><span class="string">        |name       ,</span></span><br><span class="line"><span class="string">        |regionkey  ,</span></span><br><span class="line"><span class="string">        |comment    ,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,</span></span><br><span class="line"><span class="string">        |date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,</span></span><br><span class="line"><span class="string">        |date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |etldate</span></span><br><span class="line"><span class="string">        |from</span></span><br><span class="line"><span class="string">        |ods.nation</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.dim_region partition (etldate)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |regionkey  ,</span></span><br><span class="line"><span class="string">        |name       ,</span></span><br><span class="line"><span class="string">        |comment    ,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,</span></span><br><span class="line"><span class="string">        |date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,</span></span><br><span class="line"><span class="string">        |date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |etldate</span></span><br><span class="line"><span class="string">        |from</span></span><br><span class="line"><span class="string">        |ods.region</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.fact_orders partition (etldate)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |orderkey      ,</span></span><br><span class="line"><span class="string">        |custkey       ,</span></span><br><span class="line"><span class="string">        |orderstatus   ,</span></span><br><span class="line"><span class="string">        |totalprice    ,</span></span><br><span class="line"><span class="string">        |orderdate     ,</span></span><br><span class="line"><span class="string">        |orderpriority ,</span></span><br><span class="line"><span class="string">        |clerk         ,</span></span><br><span class="line"><span class="string">        |shippriority  ,</span></span><br><span class="line"><span class="string">        |comment       ,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,</span></span><br><span class="line"><span class="string">        |date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,</span></span><br><span class="line"><span class="string">        |date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |etldate</span></span><br><span class="line"><span class="string">        |from</span></span><br><span class="line"><span class="string">        |ods.orders</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.fact_lineitem partition (etldate)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |orderkey       ,</span></span><br><span class="line"><span class="string">        |partkey        ,</span></span><br><span class="line"><span class="string">        |suppkey        ,</span></span><br><span class="line"><span class="string">        |linenumber     ,</span></span><br><span class="line"><span class="string">        |quantity       ,</span></span><br><span class="line"><span class="string">        |extendedprice  ,</span></span><br><span class="line"><span class="string">        |discount       ,</span></span><br><span class="line"><span class="string">        |tax            ,</span></span><br><span class="line"><span class="string">        |returnflag     ,</span></span><br><span class="line"><span class="string">        |linestatus     ,</span></span><br><span class="line"><span class="string">        |shipdate       ,</span></span><br><span class="line"><span class="string">        |commitdate     ,</span></span><br><span class="line"><span class="string">        |receiptdate    ,</span></span><br><span class="line"><span class="string">        |shipinstruct   ,</span></span><br><span class="line"><span class="string">        |shipmode       ,</span></span><br><span class="line"><span class="string">        |comment        ,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,</span></span><br><span class="line"><span class="string">        |date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,</span></span><br><span class="line"><span class="string">        |date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |etldate</span></span><br><span class="line"><span class="string">        |from</span></span><br><span class="line"><span class="string">        |ods.lineitem</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    print(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |</span></span><br><span class="line"><span class="string">        |â”Œâ”€â”€â”€â”   â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”</span></span><br><span class="line"><span class="string">        |â”‚Escâ”‚   â”‚ F1â”‚ F2â”‚ F3â”‚ F4â”‚ â”‚ F5â”‚ F6â”‚ F7â”‚ F8â”‚ â”‚ F9â”‚F10â”‚F11â”‚F12â”‚ â”‚P/Sâ”‚S Lâ”‚P/Bâ”‚  â”Œâ”    â”Œâ”    â”Œâ”</span></span><br><span class="line"><span class="string">        |â””â”€â”€â”€â”˜   â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜  â””â”˜    â””â”˜    â””â”˜</span></span><br><span class="line"><span class="string">        |â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”</span></span><br><span class="line"><span class="string">        |â”‚~ `â”‚! 1â”‚@ 2â”‚# 3â”‚$ 4â”‚% 5â”‚^ 6â”‚&amp; 7â”‚* 8â”‚( 9â”‚) 0â”‚_ -â”‚+ =â”‚ BacSp â”‚ â”‚Insâ”‚Homâ”‚PUpâ”‚ â”‚N Lâ”‚ / â”‚ * â”‚ - â”‚</span></span><br><span class="line"><span class="string">        |â”œâ”€â”€â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤</span></span><br><span class="line"><span class="string">        |â”‚ Tab â”‚ Q â”‚ W â”‚ E â”‚ R â”‚ T â”‚ Y â”‚ U â”‚ I â”‚ O â”‚ P â”‚&#123; [â”‚&#125; ]â”‚ | \ â”‚ â”‚Delâ”‚Endâ”‚PDnâ”‚ â”‚ 7 â”‚ 8 â”‚ 9 â”‚   â”‚</span></span><br><span class="line"><span class="string">        |â”œâ”€â”€â”€â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”¬â”€â”€â”´â”€â”€â”€â”€â”€â”¤ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤ + â”‚</span></span><br><span class="line"><span class="string">        |â”‚ Caps â”‚ A â”‚ S â”‚ D â”‚ F â”‚ G â”‚ H â”‚ J â”‚ K â”‚ L â”‚: ;â”‚&quot; &#x27;â”‚ Enter  â”‚               â”‚ 4 â”‚ 5 â”‚ 6 â”‚   â”‚</span></span><br><span class="line"><span class="string">        |â”œâ”€â”€â”€â”€â”€â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”¬â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”Œâ”€â”€â”€â”     â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤</span></span><br><span class="line"><span class="string">        |â”‚ Shift  â”‚ Z â”‚ X â”‚ C â”‚ V â”‚ B â”‚ N â”‚ M â”‚&lt; ,â”‚&gt; .â”‚? /â”‚  Shift   â”‚     â”‚ â†‘ â”‚     â”‚ 1 â”‚ 2 â”‚ 3 â”‚   â”‚</span></span><br><span class="line"><span class="string">        |â”œâ”€â”€â”€â”€â”€â”¬â”€â”€â”´â”€â”¬â”€â”´â”€â”€â”¬â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”¬â”´â”€â”€â”€â”¼â”€â”€â”€â”´â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¤ â”Œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â” â”œâ”€â”€â”€â”´â”€â”€â”€â”¼â”€â”€â”€â”¤ Eâ”‚â”‚</span></span><br><span class="line"><span class="string">        |â”‚ Ctrlâ”‚    â”‚Alt â”‚         Space         â”‚ Altâ”‚    â”‚    â”‚Ctrlâ”‚ â”‚ â† â”‚ â†“ â”‚ â†’ â”‚ â”‚   0   â”‚ . â”‚â†â”€â”˜â”‚</span></span><br><span class="line"><span class="string">        |â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜</span></span><br><span class="line"><span class="string">        |</span></span><br><span class="line"><span class="string">        |</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æŒ‡æ ‡è®¡ç®—">æŒ‡æ ‡è®¡ç®—</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> gz04.subject1</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">dataMath</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mysqlExtract</span></span>(sparkSession: <span class="type">SparkSession</span>, mysqlTableName: <span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">      <span class="keyword">val</span> url = <span class="string">&quot;jdbc:mysql://172.16.1.77/shtd_store?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver = <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user = <span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password = <span class="string">&quot;123456Admin@123&quot;</span></span><br><span class="line">      sparkSession.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>, url)</span><br><span class="line">        .option(<span class="string">&quot;driver&quot;</span>, driver)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>, user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>, password)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>, mysqlTableName).load().createTempView(<span class="string">&quot;mysql_&quot;</span> + mysqlTableName.toLowerCase)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>).appName(<span class="string">&quot;clear4&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;1000000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;1000000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |WITH t1 AS(</span></span><br><span class="line"><span class="string">        |SELECT</span></span><br><span class="line"><span class="string">        |dc.cust_key as customerkey,</span></span><br><span class="line"><span class="string">        |dn.nation_key as nationkey,</span></span><br><span class="line"><span class="string">        |dn.name as nationname,</span></span><br><span class="line"><span class="string">        |dr.region_key as regionkey,</span></span><br><span class="line"><span class="string">        |dr.name as regionname,</span></span><br><span class="line"><span class="string">        |date_format(order_date,&#x27;yyyy&#x27;) as year,</span></span><br><span class="line"><span class="string">        |date_format(order_date,&#x27;MM&#x27;) as month,</span></span><br><span class="line"><span class="string">        |fo.total_price</span></span><br><span class="line"><span class="string">        |FROM</span></span><br><span class="line"><span class="string">        |dwd.fact_orders AS fo</span></span><br><span class="line"><span class="string">        |LEFT JOIN dwd.dim_customer dc ON fo.cust_key = dc.cust_key</span></span><br><span class="line"><span class="string">        |LEFT JOIN dwd.dim_nation dn ON dc.nation_key = dn.nation_key</span></span><br><span class="line"><span class="string">        |LEFT JOIN dwd.dim_region dr ON dn.region_key = dr.region_key</span></span><br><span class="line"><span class="string">        |)</span></span><br><span class="line"><span class="string">        |SELECT</span></span><br><span class="line"><span class="string">        |nationkey,</span></span><br><span class="line"><span class="string">        |max(nationname),</span></span><br><span class="line"><span class="string">        |max(regionkey),</span></span><br><span class="line"><span class="string">        |max(regionname),</span></span><br><span class="line"><span class="string">        |sum(total_price),</span></span><br><span class="line"><span class="string">        |count(1) AS totalorder,</span></span><br><span class="line"><span class="string">        |year,</span></span><br><span class="line"><span class="string">        |month</span></span><br><span class="line"><span class="string">        |FROM</span></span><br><span class="line"><span class="string">        |t1</span></span><br><span class="line"><span class="string">        |GROUP BY</span></span><br><span class="line"><span class="string">        |nationkey,year,month</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).createTempView(<span class="string">&quot;math1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;nationeverymonth&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table mysql_nationeverymonth</span></span><br><span class="line"><span class="string">        |select * from math1</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    spark.conf.set(<span class="string">&quot;spark.sql.crossJoin.enabled&quot;</span>,<span class="string">&quot;true&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |with t1 as (</span></span><br><span class="line"><span class="string">        |select c.cust_key as custkey,</span></span><br><span class="line"><span class="string">        |n.nation_key as nationkey,</span></span><br><span class="line"><span class="string">        |n.name as nationname,</span></span><br><span class="line"><span class="string">        |total_price</span></span><br><span class="line"><span class="string">        |from dwd.fact_orders fo</span></span><br><span class="line"><span class="string">        |left join dwd.dim_customer c on fo.cust_key=c.cust_key</span></span><br><span class="line"><span class="string">        |left join dwd.dim_nation n on c.nation_key=n.nation_key),</span></span><br><span class="line"><span class="string">        |t2 as (</span></span><br><span class="line"><span class="string">        |select custkey,max(nationkey) as nationkey, max(nationname) as nationname,</span></span><br><span class="line"><span class="string">        |sum(total_price) as sumprice</span></span><br><span class="line"><span class="string">        |from t1</span></span><br><span class="line"><span class="string">        |group by t1.custkey),</span></span><br><span class="line"><span class="string">        |t3 as (</span></span><br><span class="line"><span class="string">        |select nationkey,</span></span><br><span class="line"><span class="string">        |max(nationname) as nationname,</span></span><br><span class="line"><span class="string">        |round(avg(sumprice),2) as avgprice</span></span><br><span class="line"><span class="string">        |from t2</span></span><br><span class="line"><span class="string">        |group by nationkey),</span></span><br><span class="line"><span class="string">        |t4 as (</span></span><br><span class="line"><span class="string">        |select round(avg(sumprice),2) as allavgprice from t2)</span></span><br><span class="line"><span class="string">        |select t3.*,t4.* from t3,t4</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> d: <span class="type">Double</span> = sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |select avg(allnationavgconsumption)</span></span><br><span class="line"><span class="string">        |from</span></span><br><span class="line"><span class="string">        |(</span></span><br><span class="line"><span class="string">        |SELECT</span></span><br><span class="line"><span class="string">        |sum(total_price) as allnationavgconsumption,</span></span><br><span class="line"><span class="string">        |count(1)</span></span><br><span class="line"><span class="string">        |FROM</span></span><br><span class="line"><span class="string">        |dwd.fact_orders fo</span></span><br><span class="line"><span class="string">        |group by</span></span><br><span class="line"><span class="string">        |fo.cust_key)</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).collect()(<span class="number">0</span>).getDouble(<span class="number">0</span>)</span><br><span class="line">    print(d)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |with t1 as (</span></span><br><span class="line"><span class="string">        |SELECT</span></span><br><span class="line"><span class="string">        |dn.nation_key AS nationkey,</span></span><br><span class="line"><span class="string">        |max(dn.name) AS nationname,</span></span><br><span class="line"><span class="string">        |sum(total_price)/count(distinct(fo.cust_key)) as nationavgconsumption</span></span><br><span class="line"><span class="string">        |FROM</span></span><br><span class="line"><span class="string">        |dwd.fact_orders fo</span></span><br><span class="line"><span class="string">        |LEFT JOIN dwd.dim_customer dc on fo.cust_key = dc.cust_key</span></span><br><span class="line"><span class="string">        |LEFT JOIN dwd.dim_nation dn on dc.nation_key = dn.nation_key</span></span><br><span class="line"><span class="string">        |group by dn.nation_key)</span></span><br><span class="line"><span class="string">        |select t1.*,$d as allnationavgconsumption from t1</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin).show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;nationavgcmp&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table mysql_nationavgcmp</span></span><br><span class="line"><span class="string">        |select h.*,</span></span><br><span class="line"><span class="string">        |(case</span></span><br><span class="line"><span class="string">        |when h.nationavgconsumption &gt; h.allnationavgconsumption then &#x27;é«˜&#x27;</span></span><br><span class="line"><span class="string">        |when h.nationavgconsumption = h.allnationavgconsumption then &#x27;ç›¸åŒ&#x27;</span></span><br><span class="line"><span class="string">        |when h.nationavgconsumption &lt; h.allnationavgconsumption then &#x27;ä½&#x27; end</span></span><br><span class="line"><span class="string">        |)</span></span><br><span class="line"><span class="string">        |from hive2 h</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |with t1 as (</span></span><br><span class="line"><span class="string">        |select cust_key,</span></span><br><span class="line"><span class="string">        |cast(date_format(order_date,&#x27;yyyyMM&#x27;) as int) as month,</span></span><br><span class="line"><span class="string">        |sum(total_price) as total_price,</span></span><br><span class="line"><span class="string">        |count(1) as total_order</span></span><br><span class="line"><span class="string">        |from dwd.fact_orders</span></span><br><span class="line"><span class="string">        |group by cust_key,cast(date_format(order_date,&#x27;yyyyMM&#x27;) as int)</span></span><br><span class="line"><span class="string">        |),</span></span><br><span class="line"><span class="string">        |t2 as (</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |a.cust_key,</span></span><br><span class="line"><span class="string">        |concat(a.month,&#x27;_&#x27;,b.month) as month,</span></span><br><span class="line"><span class="string">        |a.total_price + b.total_price as total_price,</span></span><br><span class="line"><span class="string">        |a.total_order + b.total_order as total_order</span></span><br><span class="line"><span class="string">        |from t1 a</span></span><br><span class="line"><span class="string">        |left join t1 b</span></span><br><span class="line"><span class="string">        | on --åˆ¤æ–­è¿ç»­ä¸¤ä¸ªæœˆå¢é•¿</span></span><br><span class="line"><span class="string">        |a.cust_key=b.cust_key</span></span><br><span class="line"><span class="string">        |where</span></span><br><span class="line"><span class="string">        |a.month + 1 = b.month</span></span><br><span class="line"><span class="string">        |and</span></span><br><span class="line"><span class="string">        |a.total_price &lt; b.total_price)</span></span><br><span class="line"><span class="string">        |select c.cust_key,c.name,month,total_price,total_order</span></span><br><span class="line"><span class="string">        |from t2</span></span><br><span class="line"><span class="string">        |left join dwd.dim_customer c on c.cust_key=t2.cust_key</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createTempView(<span class="string">&quot;hiveOrders&quot;</span>)</span><br><span class="line"></span><br><span class="line">    mysqlExtract(spark, <span class="string">&quot;usercontinueorder&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table mysql_usercontinueorder</span></span><br><span class="line"><span class="string">        |select * from hiveOrders</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="BUGç‚¹-3">BUGç‚¹</h2><p>æ¨¡å—Bçš„ç¬¬ä¸ƒé¢˜ï¼ŒæŸ¥è¯¢ods.ordersè¡¨çš„æ—¶å€™ï¼Œå‡ºç°äº†æŠ¥é”™ï¼Œä¸€å¯¹å‘ç°è‡ªå·±çš„hiveè¡¨åˆ†åŒºåå’Œä»»åŠ¡ä¹¦æ˜¯ä¸ä¸€æ ·çš„ï¼ŒæŒ‰ç…§è‡ªå·±çš„ä¸ºå‡†äº†ï¼Œå› ä¸ºå»å¹´å¤‡èµ›çš„æ—¶å€™å°±å‘ç°äº†è¿™ä¸ªé—®é¢˜ï¼Œæ¯”èµ›çš„æ—¶å€™æ²¡è¿™ç§é—®é¢˜ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/blognoteImg/image-20230222145255409.png" alt="image-20230222145255409"></p><h2 id="æ‰©å±•å­¦ä¹ -2">æ‰©å±•å­¦ä¹ </h2><h3 id="ä½¿ç”¨åˆ°çš„sqlå‡½æ•°">ä½¿ç”¨åˆ°çš„sqlå‡½æ•°</h3><h4 id="distinct">distinct</h4><p>distinctä¹Ÿå¯ä»¥ç”¨åšå»é‡ï¼Œä¸€åˆ—å°†é‡å¤çš„å»é‡ï¼Œç»“åˆcountä½¿ç”¨ï¼Œå¯ä»¥ç›´æ¥å°†è¯¥åˆ—ä¸é‡å¤çš„å­—æ®µï¼Œè®¡ç®—å‡ºå¤šå°‘è¡Œ</p><h4 id="greatest">greatest</h4><p>greatest(a,b,c,d) è¿”å›å‚æ•°ä¸­çš„æœ€å¤§å€¼</p><h4 id="coalesce">coalesce</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">coalesce</span>(success_cnt, <span class="number">1</span>) <span class="keyword">from</span> tableA</span><br></pre></td></tr></table></figure><p>å½“success_cnt ä¸º<strong>null</strong>å€¼çš„æ—¶å€™ï¼Œå°†è¿”å›1ï¼Œå¦åˆ™å°†è¿”å›success_cntçš„çœŸå®å€¼ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">coalesce</span>(success_cnt,<span class="keyword">period</span>,<span class="number">1</span>) <span class="keyword">from</span> tableA </span><br></pre></td></tr></table></figure><p>å½“success_cnt<strong>ä¸ä¸ºnull</strong>ï¼Œé‚£ä¹ˆæ— è®ºperiodæ˜¯å¦ä¸ºnullï¼Œéƒ½å°†è¿”å›success_cntçš„çœŸå®å€¼ï¼ˆå› ä¸ºsuccess_cntæ˜¯<strong>ç¬¬ä¸€ä¸ª</strong>å‚æ•°ï¼‰ï¼Œå½“success_cntä¸º<strong>null</strong>ï¼Œè€Œperiodä¸ä¸º<strong>nul</strong>lçš„æ—¶å€™ï¼Œè¿”å›periodçš„çœŸå®å€¼ã€‚åªæœ‰å½“success_cntå’Œperiod<strong>å‡ä¸ºnull</strong>çš„æ—¶å€™ï¼Œå°†è¿”å›1ã€‚</p><h4 id="regexp-replace">regexp_replace</h4><p>æ›¿æ¢å­—ç¬¦çš„,ä¸‰ä¸ªå‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--ä½¿ç”¨</span><br><span class="line">regexp_replace(orderdate,&quot;-&quot;,&quot;&quot;)</span><br><span class="line">å°†orderdateå­—æ®µä¸­çš„-å˜æˆç©º\</span><br></pre></td></tr></table></figure><h4 id="date-format">date_format</h4><p>æ—¥æœŸå‡½æ•°å°†æ—¥æœŸæ ¼å¼åŒ–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select date_format(&#x27;2019-12-12&#x27;,&#x27;yyyyMMdd&#x27;);</span><br><span class="line">--20191212 æ³¨æ„ç‚¹æ˜¯ç¬¬ä¸€ä¸ªå‚æ•° å¿…é¡»æ˜¯yyyy-MM-dd HH:mm:ssæ ¼å¼çš„</span><br></pre></td></tr></table></figure><h4 id="from-unixtime">from_unixtime</h4><p>è½¬æ¢<a href="https://so.csdn.net/so/search?q=%E6%97%B6%E9%97%B4%E6%88%B3&amp;spm=1001.2101.3001.7020">æ—¶é—´æˆ³</a>ä¸ºæŒ‡å®šæ ¼å¼çš„æ—¶é—´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select from_unixtime(cast(1567896035000 as int),&#x27;yyyy-MM-dd&#x27;);</span><br><span class="line">--2019-09-08</span><br><span class="line">é»˜è®¤æœ‰æ¯«ç§’</span><br></pre></td></tr></table></figure><h4 id="current-timestamp">current_timestamp</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">--è·å–å½“å‰çš„æ—¶é—´</span><br><span class="line">select current_timestamp;</span><br><span class="line">--2022-09-07 15:58:36.102</span><br><span class="line">--å¯ä»¥ç”¨date_formatè½¬æ¢æ ¼å¼</span><br><span class="line">select date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;);</span><br><span class="line">--2022-09-07 15:58:36</span><br></pre></td></tr></table></figure><h4 id="unix-timestamp">unix_timestamp</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">--ç©ºå‚ å¾—åˆ°å½“å‰çš„æ—¶é—´æˆ³</span><br><span class="line">--å¦‚æœå‚æ•°dateæ»¡è¶³yyyy-MM-dd HH:mm:sså½¢å¼ï¼Œåˆ™å¯ä»¥ç›´æ¥unix_timestamp(string date) å¾—åˆ°å‚æ•°å¯¹åº”çš„æ—¶é—´æˆ³ </span><br><span class="line">--å¦‚æœå‚æ•°dateä¸æ»¡è¶³yyyy-MM-dd HH:mm:sså½¢å¼ï¼Œåˆ™æˆ‘ä»¬éœ€è¦æŒ‡å®šdateçš„å½¢å¼ï¼Œåœ¨è¿›è¡Œè½¬æ¢</span><br><span class="line">select unix_timestamp(&#x27;2009-03-20&#x27;)   --1237507200</span><br><span class="line">select unix_timestamp(&#x27;2009-03-20 00:00:00&#x27;, &#x27;yyyy-MM-dd HH:mm:ss&#x27;) --1237507200</span><br><span class="line">select unix_timestamp(&#x27;2009-03-20 00:00:01&#x27;, &#x27;yyyy-MM-dd HH:mm:ss&#x27;) --1237507201</span><br></pre></td></tr></table></figure><h4 id="truncate-table">truncate table</h4><p>æ¸…é™¤è¡¨å†…çš„æ•°æ® ç»“æ„ä¿å­˜çš„ è‡ªå·±ç»ƒä¹ æœ€å¥½æ¯æ¬¡éƒ½åŠ ä¸Š é˜²æ­¢æ‰“çš„jaråŒ…æŠ¥é”™ ä½†æ˜¯ä¹‹å‰éƒ½å·²ç»å­˜åœ¨äº† æ•°æ®ä¼šé‡å¤</p><p>alter table ods.orders partition (etldate &lt; â€˜19980731â€™)</p><h2 id="æ—¥æ€»ç»“-3">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©æ‰ç®—æ˜¯æ­£å¼çš„åˆåšäº†ä¸€æ¬¡å›½èµ›ä»»åŠ¡ä¹¦ï¼Œå‘ç°å…¶å®æ¨¡å—Bå’ŒCå€’æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œåªè¦èƒ½ç†è§£é¢˜ç›®ï¼Œsqlè¯­å¥ä¸æ˜¯å¾ˆéš¾ï¼ŒæŒ‡æ ‡è®¡ç®—é‚£è¾¹å¤ªä¹…æ²¡æ•²äº†ï¼Œå…¶å®åšèµ·æ¥è¦è€—è´¹å¾ˆé•¿çš„æ—¶é—´ï¼Œæ‰å®Œæˆï¼Œè€Œä¸”å‡ºç°äº†å°é—®é¢˜ï¼Œæ²¡æœ‰å¯¹ç”¨æˆ·å»é‡ã€‚ä½†æ˜¯å­¦ä¼šäº†æ–°çš„æ–¹æ³•ï¼Œä¹‹å‰åªè¦ä¸€ä¸ªå­—æ®µæ”¾ä¸€åˆ—çš„æ—¶å€™ï¼Œéœ€è¦sparkå¼€å¯ç¬›å¡å°”ç§¯å¾ˆéº»çƒ¦ï¼Œç°åœ¨åªéœ€è¦ç”¨scalaå°†å­—æ®µå–å‡ºæˆvalå˜é‡å°±å¯ä»¥äº†ã€‚</p></blockquote><h1 id="Hive50ç»ƒä¹ é¢˜">Hive50ç»ƒä¹ é¢˜</h1><h2 id="å­¦ä¹ æ—¥æœŸ-2-23-2-24">å­¦ä¹ æ—¥æœŸ: 2.23-2.24</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-4">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br></pre></td><td class="code"><pre><span class="line">--1.æŸ¥è¯¢è¯¾ç¨‹ç¼–å·ä¸ºâ€œ01â€çš„è¯¾ç¨‹æ¯”â€œ02â€çš„è¯¾ç¨‹æˆç»©é«˜çš„æ‰€æœ‰å­¦ç”Ÿçš„å­¦å·ï¼ˆé‡ç‚¹ï¼‰ï¼š</span><br><span class="line">select student.*,s.s_score as score1,b.s_score as score2</span><br><span class="line">from student</span><br><span class="line">left join score s on student.s_id = s.s_id and s.c_id = &#x27;1&#x27;</span><br><span class="line">left join score b on student.s_id = b.s_id and b.c_id = &#x27;2&#x27;</span><br><span class="line">where b.s_score&lt;s.s_score;</span><br><span class="line"></span><br><span class="line">--2ã€æŸ¥è¯¢&quot;01&quot;è¯¾ç¨‹æ¯”&quot;02&quot;è¯¾ç¨‹æˆç»©ä½çš„å­¦ç”Ÿçš„ä¿¡æ¯åŠè¯¾ç¨‹åˆ†æ•°ï¼ˆé‡ç‚¹ï¼‰:</span><br><span class="line">select student.*,c.s_score as score2,s.s_score as score1</span><br><span class="line">from student</span><br><span class="line">left join score s on student.s_id = s.s_id and s.c_id = &#x27;1&#x27;</span><br><span class="line">left join score c on student.s_id = c.s_id and c.c_id = &#x27;2&#x27;</span><br><span class="line">where c.s_score &gt; s.s_score;</span><br><span class="line"></span><br><span class="line">--3ã€æŸ¥è¯¢å¹³å‡æˆç»©å¤§äºç­‰äº60åˆ†çš„åŒå­¦çš„å­¦ç”Ÿç¼–å·å’Œå­¦ç”Ÿå§“åå’Œå¹³å‡æˆç»©ï¼ˆé‡ç‚¹ï¼‰:</span><br><span class="line">select stu.s_id,stu.s_name,round(avg(s.s_score),1) as avgScore</span><br><span class="line">from student stu</span><br><span class="line">left join score s on stu.s_id = s.s_id</span><br><span class="line">group by stu.s_id,stu.s_name</span><br><span class="line">having avg(s.s_score) &gt;= 60;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">set hive.strict.checks.cartesian.product = true;</span><br><span class="line">set  hive.mapred.mode = nonstrict;</span><br><span class="line"></span><br><span class="line">--4ã€æŸ¥è¯¢å¹³å‡æˆç»©å°äº60åˆ†çš„åŒå­¦çš„å­¦ç”Ÿç¼–å·å’Œå­¦ç”Ÿå§“åå’Œå¹³å‡æˆç»©:</span><br><span class="line">select stu.s_id,stu.s_name,round(avg(s.s_score),1) as avgScore</span><br><span class="line">from student stu</span><br><span class="line">left join score s on stu.s_id = s.s_id</span><br><span class="line">group by stu.s_id, stu.s_name</span><br><span class="line">having round(avg(s.s_score),1) &lt; 60</span><br><span class="line">union all</span><br><span class="line">select stu2.s_id,stu2.s_name,0</span><br><span class="line">from student stu2</span><br><span class="line">where stu2.s_id not in</span><br><span class="line">(select sc.s_id from score sc);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--5ã€æŸ¥è¯¢æ‰€æœ‰åŒå­¦çš„å­¦ç”Ÿç¼–å·ã€å­¦ç”Ÿå§“åã€é€‰è¯¾æ€»æ•°ã€æ‰€æœ‰è¯¾ç¨‹çš„æ€»æˆç»©:</span><br><span class="line">select stu.s_id,stu.s_name,count(s.c_id),sum(s.s_score)</span><br><span class="line">from student stu</span><br><span class="line">left join score s on stu.s_id = s.s_id</span><br><span class="line">group by stu.s_id, stu.s_name;</span><br><span class="line"></span><br><span class="line">--6ã€æŸ¥è¯¢&quot;æ&quot;å§“è€å¸ˆçš„æ•°é‡:</span><br><span class="line">select t_name,count(1)</span><br><span class="line">from teacher</span><br><span class="line">where teacher.t_name like &#x27;æ%&#x27;</span><br><span class="line">group by t_name;</span><br><span class="line"></span><br><span class="line">--7ã€æŸ¥è¯¢å­¦è¿‡&quot;å¼ ä¸‰&quot;è€å¸ˆæˆè¯¾çš„åŒå­¦çš„ä¿¡æ¯(é‡ç‚¹):</span><br><span class="line">select stu.*</span><br><span class="line">from student stu</span><br><span class="line">left join score s on stu.s_id = s.s_id</span><br><span class="line">left join course c on s.c_id = c.c_id</span><br><span class="line">left join teacher t on c.t_id = t.t_id</span><br><span class="line">where t.t_name = &#x27;å¼ ä¸‰&#x27;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--8ã€æŸ¥è¯¢æ²¡å­¦è¿‡&quot;å¼ ä¸‰&quot;è€å¸ˆæˆè¯¾çš„åŒå­¦çš„ä¿¡æ¯ï¼ˆé‡ç‚¹ï¼‰:</span><br><span class="line">select student.*,tmp.s_id from student</span><br><span class="line">                          left join (select s_id from score</span><br><span class="line">                                    join  course on course.c_id=score.c_id</span><br><span class="line">                                    join  teacher on course.t_id=teacher.t_id and t_name=&#x27;å¼ ä¸‰&#x27;)tmp</span><br><span class="line">                                    on  student.s_id =tmp.s_id</span><br><span class="line">where tmp.s_id is null;</span><br><span class="line"></span><br><span class="line">--9ã€æŸ¥è¯¢å­¦è¿‡ç¼–å·ä¸º&quot;01&quot;å¹¶ä¸”ä¹Ÿå­¦è¿‡ç¼–å·ä¸º&quot;02&quot;çš„è¯¾ç¨‹çš„åŒå­¦çš„ä¿¡æ¯ï¼ˆé‡ç‚¹ï¼‰:</span><br><span class="line">select stu.*</span><br><span class="line">from student stu</span><br><span class="line">    join score s on stu.s_id = s.s_id and s.c_id=&#x27;2&#x27;</span><br><span class="line">    join score c on stu.s_id = c.s_id and c.c_id=&#x27;1&#x27;;</span><br><span class="line">--10ã€æŸ¥è¯¢å­¦è¿‡ç¼–å·ä¸º&quot;01&quot;ä½†æ˜¯æ²¡æœ‰å­¦è¿‡ç¼–å·ä¸º&quot;02&quot;çš„è¯¾ç¨‹çš„åŒå­¦çš„ä¿¡æ¯ï¼ˆé‡ç‚¹ï¼‰:</span><br><span class="line">set hive.strict.checks.cartesian.product = true;</span><br><span class="line">set  hive.mapred.mode = nonstrict;</span><br><span class="line">select stu.*</span><br><span class="line">from student stu</span><br><span class="line">    join score c on stu.s_id = c.s_id and c.c_id=&#x27;1&#x27;</span><br><span class="line">    left join score s on stu.s_id = s.s_id and s.c_id=&#x27;2&#x27;</span><br><span class="line">where s.s_id is null;</span><br><span class="line"></span><br><span class="line">--11ã€æŸ¥è¯¢æ²¡æœ‰å­¦å…¨æ‰€æœ‰è¯¾ç¨‹çš„åŒå­¦çš„ä¿¡æ¯ï¼ˆé‡ç‚¹ï¼‰:</span><br><span class="line">select student.*</span><br><span class="line">from student</span><br><span class="line">join (Select count(c_id) num1 from course) tmp1</span><br><span class="line">left join (select s_id,count(1) num2 from score group by s_id) tmp2</span><br><span class="line">on tmp1.num1 = tmp2.num2 and student.s_id=tmp2.s_id</span><br><span class="line">where tmp2.s_id is null;</span><br><span class="line"></span><br><span class="line">--12ã€æŸ¥è¯¢è‡³å°‘æœ‰ä¸€é—¨è¯¾ä¸å­¦å·ä¸º&quot;01&quot;çš„åŒå­¦æ‰€å­¦ç›¸åŒçš„åŒå­¦çš„ä¿¡æ¯ï¼ˆé‡ç‚¹ï¼‰:</span><br><span class="line">with t1 as (</span><br><span class="line">    select c_id</span><br><span class="line">    from</span><br><span class="line">        score</span><br><span class="line">    where s_id=&#x27;1&#x27;</span><br><span class="line">)</span><br><span class="line">select stu.*</span><br><span class="line">from student stu</span><br><span class="line">join score s on stu.s_id = s.s_id</span><br><span class="line">join t1 on t1.c_id = s.c_id</span><br><span class="line">where stu.s_id &lt;&gt; &#x27;1&#x27;</span><br><span class="line">group by stu.s_id,s_name,s_sex,s_birth;</span><br><span class="line"></span><br><span class="line">--13ã€æŸ¥è¯¢å’Œ&quot;01&quot;å·çš„åŒå­¦å­¦ä¹ çš„è¯¾ç¨‹å®Œå…¨ç›¸åŒçš„å…¶ä»–åŒå­¦çš„ä¿¡æ¯ï¼ˆé‡ç‚¹ï¼‰:</span><br><span class="line">with t1 as (</span><br><span class="line">    select c_id</span><br><span class="line">    from</span><br><span class="line">        score</span><br><span class="line">    where s_id=&#x27;1&#x27;</span><br><span class="line">)</span><br><span class="line">select stu.*,count(s.c_id)</span><br><span class="line">from student stu</span><br><span class="line">         join score s on stu.s_id = s.s_id</span><br><span class="line">         join t1 on t1.c_id = s.c_id</span><br><span class="line">where stu.s_id &lt;&gt; &#x27;1&#x27;</span><br><span class="line">group by stu.s_id,s_name,s_sex,s_birth;</span><br><span class="line"></span><br><span class="line">--14ã€æŸ¥è¯¢æ²¡å­¦è¿‡&quot;å¼ ä¸‰&quot;è€å¸ˆè®²æˆçš„ä»»ä¸€é—¨è¯¾ç¨‹çš„å­¦ç”Ÿå§“åï¼ˆé‡ç‚¹ï¼‰:</span><br><span class="line">select stu.s_name</span><br><span class="line">from</span><br><span class="line">student stu</span><br><span class="line">left join (select s.c_id,s_id from score s</span><br><span class="line">    join course c on s.c_id = c.c_id</span><br><span class="line">    join teacher t on c.t_id = t.t_id and t.t_name = &#x27;å¼ ä¸‰&#x27;</span><br><span class="line">    ) tmp on tmp.s_id = stu.s_id</span><br><span class="line">where tmp.s_id is null;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--15ã€æŸ¥è¯¢ä¸¤é—¨åŠå…¶ä»¥ä¸Šä¸åŠæ ¼è¯¾ç¨‹çš„åŒå­¦çš„å­¦å·ï¼Œå§“ååŠå…¶å¹³å‡æˆç»©ï¼ˆé‡ç‚¹ï¼‰:</span><br><span class="line">with t1 as (</span><br><span class="line">    select stu.s_id,stu.s_name,count(s.s_score) as countBadScore</span><br><span class="line">    from student stu</span><br><span class="line">             left join score s on stu.s_id =  s.s_id and s.s_score &lt; 60</span><br><span class="line">    group by stu.s_id, stu.s_name</span><br><span class="line">)</span><br><span class="line">select t1.s_id,t1.s_name,round(avg(s_score),1)</span><br><span class="line">from t1</span><br><span class="line">left join score s on s.s_id=t1.s_id</span><br><span class="line">where countBadScore &gt;= 2</span><br><span class="line">group by t1.s_id,t1.s_name;</span><br><span class="line"></span><br><span class="line">--16ã€æ£€ç´¢&quot;01&quot;è¯¾ç¨‹åˆ†æ•°å°äº60ï¼ŒæŒ‰åˆ†æ•°é™åºæ’åˆ—çš„å­¦ç”Ÿä¿¡æ¯</span><br><span class="line">select stu.*,tmp.scores FROM student stu</span><br><span class="line">join (select sid,scores from score where cid=1 and scores&lt;60)tmp</span><br><span class="line">on tmp.sid=stu.id</span><br><span class="line">order by tmp.scores;</span><br><span class="line"></span><br><span class="line">--17ã€æŒ‰å¹³å‡æˆç»©ä»é«˜åˆ°ä½æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿ</span><br><span class="line">çš„æ‰€æœ‰è¯¾ç¨‹çš„æˆç»©ä»¥åŠå¹³å‡æˆç»©</span><br><span class="line">select a.sid,tmp1.scores as c1,tmp2.scores as c2,tmp3.scores as c3,</span><br><span class="line">    round(avg (a.scores),2) as avgScore</span><br><span class="line">from score a</span><br><span class="line">left join (select sid,scores  from score s1 where  cid=&#x27;01&#x27;)tmp1 on  tmp1.sid=a.sid</span><br><span class="line">left join (select sid,scores  from score s2 where  cid=&#x27;02&#x27;)tmp2 on  tmp2.sid=a.sid</span><br><span class="line">left join (select sid,scores  from score s3 where  cid=&#x27;03&#x27;)tmp3 on  tmp3.sid=a.sid</span><br><span class="line">group by a.sid,tmp1.scores,tmp2.scores,tmp3.scores</span><br><span class="line">order by avgScore desc;</span><br><span class="line"></span><br><span class="line">--18.æŸ¥è¯¢å„ç§‘æˆç»©æœ€é«˜åˆ†ã€æœ€ä½åˆ†å’Œå¹³å‡åˆ†ï¼šä»¥å¦‚ä¸‹å½¢å¼æ˜¾ç¤ºï¼šè¯¾ç¨‹IDï¼Œè¯¾ç¨‹nameï¼Œæœ€é«˜åˆ†ï¼Œæœ€ä½åˆ†ï¼Œå¹³å‡åˆ†ï¼ŒåŠæ ¼ç‡ï¼Œä¸­ç­‰ç‡ï¼Œä¼˜è‰¯ç‡ï¼Œä¼˜ç§€ç‡</span><br><span class="line"></span><br><span class="line">select course.cid,course.cname,tmp.maxScore,tmp.minScore,tmp.avgScore,tmp.passRate,tmp.moderate,tmp.goodRate,tmp.excellentRates from course</span><br><span class="line">join(select </span><br><span class="line">    cid,</span><br><span class="line">    max(scores) as maxScore,</span><br><span class="line">    min(scores) as minScore,</span><br><span class="line">    round(avg(scores),2) avgScore,</span><br><span class="line">    round(sum(case when scores&gt;=60 then 1 else 0 end)/count(cid),2)passRate,</span><br><span class="line">    round(sum(case when scores&gt;=60 and scores&lt;70 then 1 else 0 end)/count(cid),2) moderate,</span><br><span class="line">    round(sum(case when scores&gt;=70 and scores&lt;80 then 1 else 0 end)/count(cid),2) goodRate,</span><br><span class="line">    round(sum(case when scores&gt;=80 and scores&lt;90 then 1 else 0 end)/count(cid),2) excellentRates</span><br><span class="line">from score group by cid) tmp on tmp.cid=course.cid;</span><br><span class="line"></span><br><span class="line">--19ã€æŒ‰å„ç§‘æˆç»©è¿›è¡Œæ’åºï¼Œå¹¶æ˜¾ç¤ºæ’å:</span><br><span class="line">â€“ row_number() over()åˆ†ç»„æ’åºåŠŸèƒ½(mysqlæ²¡æœ‰è¯¥æ–¹æ³•)</span><br><span class="line">select cou.cname,stu.name,scores,rank() </span><br><span class="line">over(partition by cou.cname order by scores desc) from score</span><br><span class="line">left join student stu on stu.id=score.sid</span><br><span class="line">left join course cou on cou.cid=score.cid;</span><br><span class="line"></span><br><span class="line">--20ã€æŸ¥è¯¢å­¦ç”Ÿçš„æ€»æˆç»©å¹¶è¿›è¡Œæ’å</span><br><span class="line">select stu.name,sum(scores) sum_sco,rank()</span><br><span class="line">over(order by sum(scores) desc) from score</span><br><span class="line">left join student stu on stu.id=score.sid</span><br><span class="line">group by stu.name;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--21ã€æŸ¥è¯¢ä¸åŒè€å¸ˆæ‰€æ•™ä¸åŒè¯¾ç¨‹å¹³å‡åˆ†ä»é«˜åˆ°ä½æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">select teacher.tname,course.cname,round(avg(scores),2) avg_scores</span><br><span class="line">from score </span><br><span class="line">join course on score.cid=course.cid</span><br><span class="line">join teacher on teacher.tid=course.tid</span><br><span class="line">group by course.cname,teacher.tname</span><br><span class="line">order by avg_scores desc;</span><br><span class="line"></span><br><span class="line">--22ã€æŸ¥è¯¢æ‰€æœ‰è¯¾ç¨‹çš„æˆç»©ç¬¬2ååˆ°ç¬¬3åçš„å­¦ç”Ÿä¿¡æ¯åŠè¯¥è¯¾ç¨‹æˆç»©</span><br><span class="line">select course.cname,stu.*,tmp.scores,tmp.cno from </span><br><span class="line">student stu join</span><br><span class="line">(select *,row_number() over (partition by cid order by scores desc)cno from score )tmp</span><br><span class="line">on stu.id=tmp.sid</span><br><span class="line">join course on course.cid=tmp.cid</span><br><span class="line">where tmp.cno between 2 and 3;</span><br><span class="line"></span><br><span class="line">--23ã€ç»Ÿè®¡å„ç§‘æˆç»©å„åˆ†æ•°æ®µäººæ•°ï¼šè¯¾ç¨‹ç¼–å·,è¯¾ç¨‹åç§°,[100-85],[85-70],[70-60],[0-60]åŠæ‰€å ç™¾åˆ†æ¯”</span><br><span class="line"></span><br><span class="line">select score.cid,course.cname,</span><br><span class="line">round(sum(case when score.scores&gt;=85 and score.scores&lt;=100 then 1 else 0 end)/count(score.scores),2) as 100and85,</span><br><span class="line">round(sum(case when score.scores&gt;=70 and score.scores&lt;85 then 1 else 0 end)/count(score.scores),2) as 85and70,</span><br><span class="line">round(sum(case when score.scores&gt;=60 and score.scores&lt;70 then 1 else 0 end)/count(score.scores),2) as 70and60,</span><br><span class="line">round(sum(case when score.scores&gt;=0 and score.scores&lt;60 then 1 else 0 end)/count(score.scores),2) as 60and0</span><br><span class="line">from score</span><br><span class="line">left join course on score.cid=course.cid</span><br><span class="line">group by score.cid,course.cname;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--24ã€æŸ¥è¯¢å­¦ç”Ÿå¹³å‡æˆç»©åŠå…¶åæ¬¡</span><br><span class="line">select student.name,nvl(round(avg(scores),2),0.0),rank() </span><br><span class="line">over(order by avg(scores) desc)</span><br><span class="line">from score right join student on student.id=score.sid</span><br><span class="line">group by sid,student.name;</span><br><span class="line"></span><br><span class="line">--25ã€æŸ¥è¯¢å„ç§‘æˆç»©å‰ä¸‰åçš„è®°å½•</span><br><span class="line"></span><br><span class="line">select course.cname,stu.*,tmp.scores,tmp.cno from student stu </span><br><span class="line">join(select cid,sid,scores,row_number() </span><br><span class="line">over(partition by cid order by scores desc) cno</span><br><span class="line">from score )tmp</span><br><span class="line">on stu.id=tmp.sid</span><br><span class="line">join course on course.cid=tmp.cid</span><br><span class="line">where cno&lt;=3;</span><br><span class="line"></span><br><span class="line">--26ã€æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹è¢«é€‰ä¿®çš„å­¦ç”Ÿæ•°</span><br><span class="line">select course.cname,count(sid) from score</span><br><span class="line">join course on course.cid=score.cid</span><br><span class="line">group by score.cid,course.cname;</span><br><span class="line"></span><br><span class="line">--27ã€æŸ¥è¯¢å‡ºåªæœ‰ä¸¤é—¨è¯¾ç¨‹çš„å…¨éƒ¨å­¦ç”Ÿçš„å­¦å·å’Œå§“å</span><br><span class="line">SELECT student.*,count(cid) from score</span><br><span class="line">join student on student.id=score.sid</span><br><span class="line">group by student.name,id,birthday,sex</span><br><span class="line">having count(cid)=2;</span><br><span class="line"></span><br><span class="line">--28ã€æŸ¥è¯¢ç”·ç”Ÿã€å¥³ç”Ÿäººæ•°</span><br><span class="line">SELECT sex,count(sex) from student</span><br><span class="line">group by sex;</span><br><span class="line"></span><br><span class="line">--29ã€æŸ¥è¯¢åå­—ä¸­å«æœ‰&quot;é£&quot;å­—çš„å­¦ç”Ÿä¿¡æ¯</span><br><span class="line">select * from student</span><br><span class="line">where name like(&quot;%é£%&quot;);</span><br><span class="line"></span><br><span class="line">--30ã€æŸ¥è¯¢åŒååŒæ€§å­¦ç”Ÿåå•ï¼Œå¹¶ç»Ÿè®¡åŒåäººæ•°</span><br><span class="line"></span><br><span class="line">select name,sex,count(name) from student</span><br><span class="line">group by name,sex;</span><br><span class="line"></span><br><span class="line">--31ã€æŸ¥è¯¢1990å¹´å‡ºç”Ÿçš„å­¦ç”Ÿåå•</span><br><span class="line">SELECT *,count(*) over() from student </span><br><span class="line">where substring(birthday,1,4) = &#x27;1990&#x27;</span><br><span class="line">group by student.id,name,sex,birthday;</span><br><span class="line"></span><br><span class="line">select * from student</span><br><span class="line">where birthday like(&quot;1990%&quot;);</span><br><span class="line"></span><br><span class="line">select * from student</span><br><span class="line">where year(birthday)=1990;</span><br><span class="line"></span><br><span class="line">--32ã€æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹çš„å¹³å‡æˆç»©ï¼Œç»“æœæŒ‰å¹³å‡æˆç»©é™åºæ’åˆ—ï¼Œå¹³å‡æˆç»©ç›¸åŒæ—¶ï¼ŒæŒ‰è¯¾ç¨‹ç¼–å·å‡åºæ’åˆ—</span><br><span class="line">select cid,round(avg(scores),2) as avgs,row_number()</span><br><span class="line">over(order by round(avg(scores),2) desc,cid)</span><br><span class="line">from score</span><br><span class="line">group by cid;</span><br><span class="line"> </span><br><span class="line">--33ã€æŸ¥è¯¢å¹³å‡æˆç»©å¤§äºç­‰äº85çš„æ‰€æœ‰å­¦ç”Ÿçš„å­¦å·ã€å§“åå’Œå¹³å‡æˆç»©</span><br><span class="line"> select id,name,tmp.cno from student</span><br><span class="line"> join (select sid,avg(scores) cno from score group by sid having avg(scores) &gt;=85) tmp </span><br><span class="line"> on tmp.sid=student.id;</span><br><span class="line"></span><br><span class="line">--34ã€æŸ¥è¯¢è¯¾ç¨‹åç§°ä¸º&quot;æ•°å­¦&quot;ï¼Œä¸”åˆ†æ•°ä½äº60çš„å­¦ç”Ÿå§“åå’Œåˆ†æ•°</span><br><span class="line">select stu.name,sco.scores</span><br><span class="line">from student stu</span><br><span class="line">join score sco </span><br><span class="line">join course cor</span><br><span class="line">on stu.id=sco.sid and sco.cid=cor.cid</span><br><span class="line">where cor.cname=&#x27;æ•°å­¦&#x27; and sco.scores&lt;60;</span><br><span class="line"></span><br><span class="line">--35ã€æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿçš„è¯¾ç¨‹åŠåˆ†æ•°æƒ…å†µ</span><br><span class="line">SELECT id,name,tmp.Chinese,tmp.English,tmp.Math from student left join(</span><br><span class="line">select sco.sid,</span><br><span class="line">sum(case cor.cname when &#x27;è¯­æ–‡&#x27; then sco.scores else 0 end) as Chinese,</span><br><span class="line">sum(case cor.cname when &#x27;è‹±è¯­&#x27; then sco.scores else 0 end) as English,</span><br><span class="line">sum(case cor.cname when &#x27;æ•°å­¦&#x27; then sco.scores else 0 end) as Math</span><br><span class="line">from score sco</span><br><span class="line">join course cor on cor.cid=sco.cid</span><br><span class="line">group by sco.sid) tmp </span><br><span class="line">on tmp.sid=student.id;</span><br><span class="line"></span><br><span class="line">--36ã€æŸ¥è¯¢ä»»ä½•ä¸€é—¨è¯¾ç¨‹æˆç»©åœ¨70åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿå§“åã€è¯¾ç¨‹åç§°å’Œåˆ†æ•°</span><br><span class="line">select student.name,course.cname,scores from score</span><br><span class="line">join student on student.id=score.sid</span><br><span class="line">join course on score.cid=course.cid</span><br><span class="line">where scores&gt;=70;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--37ã€æŸ¥è¯¢è¯¾ç¨‹ä¸åŠæ ¼çš„å­¦ç”Ÿ</span><br><span class="line">select student.name,course.cname,scores from score</span><br><span class="line">join student on student.id=score.sid</span><br><span class="line">join course on score.cid=course.cid</span><br><span class="line">where scores&lt;60;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--38ã€æŸ¥è¯¢è¯¾ç¨‹ç¼–å·ä¸º01ä¸”è¯¾ç¨‹æˆç»©åœ¨80åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿçš„å­¦å·å’Œå§“å</span><br><span class="line"></span><br><span class="line">select student.id,student.name,scores from score </span><br><span class="line">join student on student.id=score.sid</span><br><span class="line">where scores&gt;=80 and cid=1;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--39ã€æ±‚æ¯é—¨è¯¾ç¨‹çš„å­¦ç”Ÿäººæ•°</span><br><span class="line">select cid,count(sid) from score</span><br><span class="line">group by cid;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--40ã€æŸ¥è¯¢é€‰ä¿®&quot;å¼ ä¸‰&quot;è€å¸ˆæ‰€æˆè¯¾ç¨‹çš„å­¦ç”Ÿä¸­ï¼Œæˆç»©æœ€é«˜çš„å­¦ç”Ÿä¿¡æ¯åŠå…¶æˆç»©</span><br><span class="line"></span><br><span class="line">select student.*,scores ,RANK()</span><br><span class="line">over(order by scores desc) from score </span><br><span class="line">join student on student.id=score.sid</span><br><span class="line">join course on course.cid=score.cid</span><br><span class="line">join teacher on teacher.tid=course.tid</span><br><span class="line">where teacher.tname = &quot;å¼ ä¸‰&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--41ã€æŸ¥è¯¢ä¸åŒè¯¾ç¨‹æˆç»©ç›¸åŒçš„å­¦ç”Ÿçš„å­¦ç”Ÿç¼–å·ã€è¯¾ç¨‹ç¼–å·ã€å­¦ç”Ÿæˆç»©</span><br><span class="line">select s1.* from </span><br><span class="line">score s1,score s2</span><br><span class="line">where s1.cid&lt;&gt;s2.cid and s1.scores=s2.scores</span><br><span class="line">order by s1.sid; </span><br><span class="line">               </span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">--42ã€æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹æˆç»©æœ€å¥½çš„å‰ä¸‰å</span><br><span class="line">select tmp.cid,stu.*,tmp.scores,tmp.cno from</span><br><span class="line">student stu join</span><br><span class="line">(select cid,sid,scores,row_number() over(partition by cid order by scores desc) cno</span><br><span class="line">from score) tmp</span><br><span class="line">on stu.id=tmp.sid</span><br><span class="line">where tmp.cno&lt;=3;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--43ã€ç»Ÿè®¡æ¯é—¨è¯¾ç¨‹çš„å­¦ç”Ÿé€‰ä¿®äººæ•°ï¼ˆè¶…è¿‡5äººçš„è¯¾ç¨‹æ‰ç»Ÿè®¡ï¼‰:</span><br><span class="line">â€“è¦æ±‚è¾“å‡ºè¯¾ç¨‹å·å’Œé€‰ä¿®äººæ•°ï¼ŒæŸ¥è¯¢ç»“æœæŒ‰äººæ•°é™åºæ’åˆ—ï¼Œè‹¥äººæ•°ç›¸åŒï¼ŒæŒ‰è¯¾ç¨‹å·å‡åºæ’åˆ—</span><br><span class="line"></span><br><span class="line">select cid,count(sid) as cc</span><br><span class="line">from score</span><br><span class="line">group by cid</span><br><span class="line">having count(sid)&gt;=5</span><br><span class="line">order by cc desc ,cid asc;</span><br><span class="line">  </span><br><span class="line">--44ã€æ£€ç´¢è‡³å°‘é€‰ä¿®ä¸¤é—¨è¯¾ç¨‹çš„å­¦ç”Ÿå­¦å·</span><br><span class="line">select sid,count(cid) as cc</span><br><span class="line">from score</span><br><span class="line">group by sid </span><br><span class="line">having  cc &gt;= 2;</span><br><span class="line"></span><br><span class="line">--45ã€æŸ¥è¯¢é€‰ä¿®äº†å…¨éƒ¨è¯¾ç¨‹çš„å­¦ç”Ÿä¿¡æ¯</span><br><span class="line">select stu.* from score</span><br><span class="line">join student stu on stu.id=score.sid</span><br><span class="line">group by sid,stu.id,name,sex,birthday</span><br><span class="line">having count(cid)=3;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--46 æŸ¥è¯¢å„å­¦ç”Ÿçš„å¹´é¾„(å‘¨å²):æŒ‰ç…§å‡ºç”Ÿæ—¥æœŸæ¥ç®—ï¼Œå½“å‰æœˆæ—¥ &lt; å‡ºç”Ÿå¹´æœˆçš„æœˆæ—¥åˆ™ï¼Œå¹´é¾„å‡ä¸€ ?</span><br><span class="line"></span><br><span class="line">--sum åˆ†ç»„å®Œ å¿…é¡»èšåˆ å¦åˆ™è¯­æ³•ä¸å¯¹</span><br><span class="line">select name,</span><br><span class="line">sum(case month(student.birthday)&lt;month(current_date()) when true then tmp.tage-1 else tmp.tage end) s_age</span><br><span class="line">from student</span><br><span class="line">join (select id,year(current_date())-year(birthday) as tage from student) tmp on tmp.id = student.id</span><br><span class="line">group by student.name; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--47ã€æŸ¥è¯¢æœ¬å‘¨è¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ:</span><br><span class="line"></span><br><span class="line">select *</span><br><span class="line">from student </span><br><span class="line">where weekofyear(concat(year(current_date()),&#x27;-&#x27;,date_format(birthday,&#x27;MM-dd&#x27;)))= --æŠŠå­¦ç”Ÿçš„å¹´ä»½æ¢ä»Šå¹´ æœˆæ—¥ä¸å˜ æ±‚ç¬¬å‡ å‘¨</span><br><span class="line">      weekofyear(current_date())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">48ã€æŸ¥è¯¢ä¸‹å‘¨è¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ:</span><br><span class="line">select *</span><br><span class="line">from student </span><br><span class="line">where weekofyear(concat(year(current_date()),&#x27;-&#x27;,date_format(birthday,&#x27;MM-dd&#x27;)))=</span><br><span class="line">      weekofyear(current_date())+1;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">49ã€æŸ¥è¯¢æœ¬æœˆè¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ:</span><br><span class="line">select * from student</span><br><span class="line">where month(CURRENT_DATE())=month(birthday);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">50ã€æŸ¥è¯¢12æœˆä»½è¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ:</span><br><span class="line">select * from student</span><br><span class="line">where month(birthday)=&#x27;12&#x27;;</span><br></pre></td></tr></table></figure><h2 id="BUGç‚¹-4">BUGç‚¹</h2><p>hiveæ—¥å¿—æŠ¥é”™</p><p>çœ‹æŠ¥é”™ä¿¡æ¯ä¼¼ä¹æ˜¯è¦è®¾ç½®ä¸¤ä¸ªå‚æ•°,è®¾ç½®ã€‚æ˜¯å¼€å¯ç¬›å¡å°”ç§¯çš„å…è®¸</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set hive.strict.checks.cartesian.product = true;</span><br><span class="line">set  hive.mapred.mode = nonstrict;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/blognoteImg/image-20230223083040890.png" alt="image-20230223083040890"></p><h2 id="æ‰©å±•å­¦ä¹ -3">æ‰©å±•å­¦ä¹ </h2><p>è“æ¡¥æ¯å¤‡èµ›ï¼Œæ—¶é—´é—®é¢˜åªåšäº†è“æ¡¥æ¯å®˜æ–¹å‘çš„ä¸€é“çœŸé¢˜</p><p>æäº¤äº†å¥½å‡ æ¬¡éƒ½æ²¡æœ‰å…¨éƒ¨é€šè¿‡ï¼Œåˆçœ‹äº†çœ¼é¢˜ç›®ï¼Œå‘ç°a,b,nçš„èŒƒå›´æ˜¯10çš„18æ¬¡ä»¥å†…ï¼Œæ¨æµ‹åé¢æ²¡é€šè¿‡çš„éƒ¨åˆ†æ˜¯å› ä¸ºè¶…å‡ºäº†intçš„é•¿åº¦é™åˆ¶ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/blognoteImg/image-20230224135108347.png" alt="image-20230224135108347"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="comment">// 1:æ— éœ€package</span></span><br><span class="line"><span class="comment">// 2: ç±»åå¿…é¡»Main, ä¸å¯ä¿®æ”¹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scan</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="comment">//åœ¨æ­¤è¾“å…¥æ‚¨çš„ä»£ç ...</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">a</span> <span class="operator">=</span> scan.nextLong();</span><br><span class="line">        <span class="type">long</span> <span class="variable">b</span> <span class="operator">=</span> scan.nextLong();</span><br><span class="line">        <span class="type">long</span> <span class="variable">n</span> <span class="operator">=</span> scan.nextLong();</span><br><span class="line">        <span class="type">long</span> <span class="variable">weekNumber</span> <span class="operator">=</span> a *<span class="number">5</span> + b * <span class="number">2</span>;</span><br><span class="line">        <span class="type">long</span>  <span class="variable">week</span> <span class="operator">=</span> n / weekNumber; </span><br><span class="line">        <span class="type">int</span> <span class="variable">day</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(sum &lt; n - week * weekNumber)&#123;</span><br><span class="line">          day +=<span class="number">1</span>;</span><br><span class="line">          <span class="keyword">if</span>(day % <span class="number">7</span> == <span class="number">6</span> || day %<span class="number">7</span> == <span class="number">0</span>)&#123;</span><br><span class="line">            sum += b;</span><br><span class="line">          &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            sum += a;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(day+week*<span class="number">7</span>);</span><br><span class="line">        scan.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ—¥æ€»ç»“-4">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©æ˜¯è‡ªæˆ‘è®­ç»ƒï¼Œè‡ªå·±å®‰æ’äº†å½“æ—¶å»å¹´åšçœŸé¢˜ä¹‹å‰ï¼Œåšäº†ä¸€å¥—hiveçš„50é“é¢˜ç›®ï¼Œè¿˜æ˜¯æœ‰ç‚¹éš¾åº¦çš„ï¼Œå¦‚æœèƒ½å¾ˆæ¸…æ¥šçš„å®Œæˆhiveéœ€è¦çš„æŸ¥è¯¢æ¡ä»¶ï¼Œå¯¹äºåé¢æŒ‡æ ‡è®¡ç®—æ˜¯æ²¡æœ‰ä»€ä¹ˆé—®é¢˜çš„äº†ã€‚ä»Šå¤©åšäº†ä¸€ä¸‹ï¼Œæœ‰å‡ é“é¢˜ç›®è¿˜æ˜¯æœ‰ç‚¹é—®é¢˜ï¼Œå‡ºäº†ä¸ªå°BUGï¼Œä¹Ÿè§£å†³äº†ï¼Œä¸€å¤©åšäº†15é¢˜ä¹Ÿè¿˜ç®—æ»¡æ„ï¼Œå»å¹´ä¸€å¤©å°±åšå››äº”é¢˜ã€‚æœ‰äº›éš¾é¢˜è¿˜æ˜¯å‚è€ƒäº†åˆ«äººçš„æ€è·¯ï¼Œè‡ªå·±è¿˜æ˜¯è¦å¤šåŠ ç»ƒä¹ ï¼Œæ¸…æ¥šæ¯ä¸ªè¿æ¥ä»¥åè¡¨ä¼šæ€æ ·ã€‚æŠ½ç©ºåšäº†é“ç®—æ³•é¢˜ï¼Œæ„Ÿè§‰å¾ˆç®€å•ï¼ŒçœŸæ­£æ¯”èµ›çš„æ—¶å€™æ˜¯è¦æ¯”è¿™äº›éš¾åº¦å¤§å¾ˆå¤šçš„ã€‚</p></blockquote><h1 id="ä¸ƒæœˆä»»åŠ¡1">ä¸ƒæœˆä»»åŠ¡1</h1><h2 id="å­¦ä¹ æ—¥æœŸ-2-27">å­¦ä¹ æ—¥æœŸ: 2.27</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-5">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="æŠ½å–">æŠ½å–</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> gz07.subject1.<span class="type">GZ07</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">dataChouQu</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>).appName(<span class="string">&quot;dataChouQu&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line">    <span class="keyword">val</span> date = <span class="string">&quot;20230226&quot;</span></span><br><span class="line">    mysqlChouQu(spark,<span class="string">&quot;user_info&quot;</span>,<span class="string">&quot;mysql_user&quot;</span>)</span><br><span class="line">    mysqlChouQu(spark,<span class="string">&quot;sku_info&quot;</span>,<span class="string">&quot;mysql_sku&quot;</span>)</span><br><span class="line">    mysqlChouQu(spark,<span class="string">&quot;base_province&quot;</span>,<span class="string">&quot;mysql_province&quot;</span>)</span><br><span class="line">    mysqlChouQu(spark,<span class="string">&quot;base_region&quot;</span>,<span class="string">&quot;mysql_region&quot;</span>)</span><br><span class="line">    mysqlChouQu(spark,<span class="string">&quot;order_info&quot;</span>,<span class="string">&quot;mysql_order&quot;</span>)</span><br><span class="line">    mysqlChouQu(spark,<span class="string">&quot;order_detail&quot;</span>,<span class="string">&quot;mysql_detail&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |select * from user_info</span></span><br><span class="line"><span class="string">        |where crete_time =&#x27;2020-04-26 18:57:55&#x27; and (operate_time &lt;= &#x27;2020-04-06 18:57:55&#x27; or operate_time = null)</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert into table ods.user_info partition (etl_date=&#x27;$date&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_user limit 20</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert into table ods.user_info partition (etl_date=&#x27;$date&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_user m</span></span><br><span class="line"><span class="string">        |where</span></span><br><span class="line"><span class="string">        |greatest(coalesce(unix_timestamp(m.create_time),0),coalesce(unix_timestamp(m.operate_time),0)) &gt;=</span></span><br><span class="line"><span class="string">        |(select greatest(coalesce(max(unix_timestamp(create_time)),0),coalesce(max(unix_timestamp(operate_time)),0)) from ods.user_info)</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert into table ods.sku_info partition (etl_date=$date)</span></span><br><span class="line"><span class="string">        |select * from mysql_sku m</span></span><br><span class="line"><span class="string">        |where</span></span><br><span class="line"><span class="string">        |m.create_time not in</span></span><br><span class="line"><span class="string">        |(select create_time from ods.sku_info)</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert into table ods.base_province partition (etl_date=$date)</span></span><br><span class="line"><span class="string">        |select *,</span></span><br><span class="line"><span class="string">        |current_timestamp()</span></span><br><span class="line"><span class="string">        |from</span></span><br><span class="line"><span class="string">        |mysql_province m</span></span><br><span class="line"><span class="string">        |where</span></span><br><span class="line"><span class="string">        |m.id not in</span></span><br><span class="line"><span class="string">        |(select id from ods.base_province)</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert into table ods.base_region partition (etl_date=$date)</span></span><br><span class="line"><span class="string">        |select *,</span></span><br><span class="line"><span class="string">        |current_timestamp()</span></span><br><span class="line"><span class="string">        |from</span></span><br><span class="line"><span class="string">        |mysql_region m</span></span><br><span class="line"><span class="string">        |where</span></span><br><span class="line"><span class="string">        |m.id not in</span></span><br><span class="line"><span class="string">        |(select id from ods.base_region)</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert into table ods.order_info partition (etl_date=$date)</span></span><br><span class="line"><span class="string">        |select *</span></span><br><span class="line"><span class="string">        |from</span></span><br><span class="line"><span class="string">        |mysql_order m</span></span><br><span class="line"><span class="string">        |where</span></span><br><span class="line"><span class="string">        |greatest(coalesce(unix_timestamp(m.create_time),0),coalesce(unix_timestamp(m.operate_time),0)) &gt;=</span></span><br><span class="line"><span class="string">        |(select greatest(coalesce(max(unix_timestamp(create_time)),0),coalesce(max(unix_timestamp(operate_time)),0)) from ods.order_info)</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert into table ods.order_detail partition (etl_date=$date)</span></span><br><span class="line"><span class="string">        |select * from mysql_detail m</span></span><br><span class="line"><span class="string">        |where</span></span><br><span class="line"><span class="string">        |m.create_time not in</span></span><br><span class="line"><span class="string">        |(select create_time from ods.order_detail)</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    spark.stop()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mysqlChouQu</span></span>(sparkSession: <span class="type">SparkSession</span>,mysqlName:<span class="type">String</span>,tempName:<span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">      <span class="keyword">val</span> url = <span class="string">&quot;jdbc:mysql://172.16.1.77/shtd_store&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver = <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user = <span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password = <span class="string">&quot;123456Admin@123&quot;</span></span><br><span class="line">      sparkSession.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>,url)</span><br><span class="line">        .option(<span class="string">&quot;driver&quot;</span>,driver)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>,user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>,password)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>,mysqlName).load().createTempView(tempName)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¸…æ´—">æ¸…æ´—</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> gz07.subject1.<span class="type">GZ07</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">dataClear</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>).appName(<span class="string">&quot;dataClear&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert into table dwd.dim_user_info partition (etl_date)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |id,login_name,nick_name,passwd,name,phone_num,</span></span><br><span class="line"><span class="string">        |email,head_img,user_level,birthday,gender,</span></span><br><span class="line"><span class="string">        |date_format(create_time,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |coalesce(date_format(operate_time,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),date_format(create_time,&#x27;yyyy-MM-dd HH:mm:ss&#x27;)),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |etl_date</span></span><br><span class="line"><span class="string">        |from ods.user_info</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.dim_sku_info partition (etl_date)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |id,spu_id,price,sku_name,sku_desc,</span></span><br><span class="line"><span class="string">        |weight,tm_id,category3_id,sku_default_img,</span></span><br><span class="line"><span class="string">        |date_format(create_time,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),etl_date</span></span><br><span class="line"><span class="string">        |from ods.sku_info</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.dim_province partition (etl_date)</span></span><br><span class="line"><span class="string">        |select id,name,region_id,area_code,iso_code,create_time,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),etl_date</span></span><br><span class="line"><span class="string">        |from ods.base_province</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.dim_region partition (etl_date)</span></span><br><span class="line"><span class="string">        |select id,region_name,create_time,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),etl_date</span></span><br><span class="line"><span class="string">        |from ods.base_region</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.fact_order_info partition (etl_date)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |id,consignee,consignee_tel,final_total_amount,order_status,</span></span><br><span class="line"><span class="string">        |user_id,delivery_address,order_comment,out_trade_no,trade_body,</span></span><br><span class="line"><span class="string">        |date_format(create_time,&#x27;yyyyMMdd&#x27;),</span></span><br><span class="line"><span class="string">        |coalesce(operate_time,create_time),</span></span><br><span class="line"><span class="string">        |expire_time,tracking_no,parent_order_id,img_url,</span></span><br><span class="line"><span class="string">        |province_id,benefit_reduce_amount,original_total_amount,feight_fee,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),etl_date</span></span><br><span class="line"><span class="string">        |from ods.order_info</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.fact_order_detail partition (etl_date)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |id,order_id,sku_id,sku_name,img_url,order_price,sku_num,</span></span><br><span class="line"><span class="string">        |date_format(create_time,&#x27;yyyyMMdd&#x27;),</span></span><br><span class="line"><span class="string">        |source_type,source_id,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),etl_date</span></span><br><span class="line"><span class="string">        |from ods.order_detail</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="BUGç‚¹-5">BUGç‚¹</h2><p>æš‚æ—¶æ— BUG</p><h2 id="æ—¥æ€»ç»“-5">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©ä»»åŠ¡æ˜¯ä¸ƒæœˆçš„ä»»åŠ¡ä¹¦ï¼Œè¿˜æ˜¯å› ä¸ºhiveæ²¡æœ‰æ•°æ®ï¼Œå¯¼è‡´æ²¡å‘å¯¹ç­”æ¡ˆï¼Œæ˜å¤©å¾€hiveä¸­å­˜å…¥ä¸€äº›å‡æ•°æ®ã€‚å› ä¸ºå¯¹ä¸ƒæœˆä»½çš„è¡¨ç»“æ„ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼ŒæŒ‡æ ‡è®¡ç®—é‚£éƒ¨åˆ†åšçš„å¾ˆæ…¢ï¼Œæ¨¡ç³Šä¸æ¸…çš„é—®é¢˜ã€‚åªèƒ½è·Ÿåˆ«äººå¯¹å¯¹ç­”æ¡ˆäº†ï¼Œçœ‹æ€è·¯æ˜¯ä¸æ˜¯ä¸€ä¸€è‡´çš„ã€‚</p></blockquote><h1 id="7æœˆä»»åŠ¡ä¹¦-å‘hiveæ·»åŠ å‡æ•°æ®">7æœˆä»»åŠ¡ä¹¦ å‘hiveæ·»åŠ å‡æ•°æ®</h1><h2 id="å­¦ä¹ æ—¥æœŸ-2-28">å­¦ä¹ æ—¥æœŸ: 2.28</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-6">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><blockquote><p>ä½¿ç”¨insert into å…ˆä»mysqlåŠ ä¸€äº›æ•°æ®åˆ°hiveï¼Œå‘ç°hiveæ— æ³•å¯¼å‡ºsqlæ–‡ä»¶ï¼Œåªèƒ½å¯¼å‡ºtxtæˆ–è€…csvï¼Œåœ¨å­—æ®µåˆ—æ•°å¯¹åº”çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨load data local inpath â€˜/opt/order_info.txtâ€™(æ–‡ä»¶è·¯å¾„) into table ods.order_info(è¡¨å);å¯¼å…¥ï¼Œä½†æ˜¯å¦‚æœè¡¨éœ€è¦åˆ†åŒºçš„è¯å°±æ— æ³•å¯¼å…¥äº†ã€‚æ— æ³•æŠŠæœ€åä¸€åˆ—å½“æˆåˆ†åŒºå¯¼å…¥ï¼Œè§£å†³åŠæ³•å¦‚ä¸‹</p></blockquote><p>å»ºç«‹ä¸€ä¸ªä¸´æ—¶è¡¨æ”¶å–txtæ–‡ä»¶çš„æ•°æ®ï¼Œä½¿ç”¨insertè¯­å¥æŠŠä¸´æ—¶è¡¨å¯¼å…¥åˆ†åŒºè¡¨ï¼Œè®¾ç½®åˆ†åŒºä¸ºpartition(åˆ†åŒºåˆ—)ï¼Œè¿™æ ·åè€Œä¸å¦‚ç›´æ¥å»ºç«‹åˆ†åŒºè¡¨ç”¨mysqlå¯¼å…¥æ–¹ä¾¿äº†</p><h3 id="DSLé£æ ¼">DSLé£æ ¼</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> maxTime: <span class="type">Timestamp</span> = sql(<span class="string">&quot;select greatest(max(create_time),max(operate_time)) from ods.user_info&quot;</span>).first().getTimestamp(<span class="number">0</span>)</span><br><span class="line">mysqlExtract(spark,<span class="string">&quot;user_info&quot;</span>,<span class="string">&quot;mysql_info&quot;</span>)</span><br><span class="line">sql(</span><br><span class="line">  <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">    |select *,&quot;</span><span class="number">20230227</span><span class="string">&quot; as etl_date</span></span><br><span class="line"><span class="string">    |from mysql_info</span></span><br><span class="line"><span class="string">    |where operate_time &gt; &#x27;$maxTime&#x27; or create_time &gt; &#x27;$maxTime&#x27;</span></span><br><span class="line"><span class="string">    |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin).show()</span><br></pre></td></tr></table></figure><p>ä¸æ˜¯çº¯sqlå¯ä»¥ç»“åˆç€åšï¼Œç”¨dslç»“åˆsqlï¼Œæ³¨æ„ç‚¹åœ¨maxTimeé‚£è¾¹éœ€è¦åŠ â€™'ï¼Œæ—¶é—´è§„èŒƒæ€§ã€‚</p><h2 id="BUGç‚¹-6">BUGç‚¹</h2><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sql(</span><br><span class="line">  <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    |select * from mysql_order</span></span><br><span class="line"><span class="string">    |where (create_time &lt;= &#x27;2020-04-26 18:00:00&#x27; or create_time is null)</span></span><br><span class="line"><span class="string">    |and</span></span><br><span class="line"><span class="string">    |(operate_time &lt;= &#x27;2020-04-26 18:00:00&#x27; or operate_time is null)</span></span><br><span class="line"><span class="string">    |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line">  .withColumn(<span class="string">&quot;etl_date&quot;</span>,lit(<span class="string">&quot;20230212&quot;</span>))</span><br><span class="line">  .write.format(<span class="string">&quot;parquet&quot;</span>)</span><br><span class="line">  .partitionBy(<span class="string">&quot;etl_date&quot;</span>)</span><br><span class="line">  .saveAsTable(<span class="string">&quot;ods.order_info&quot;</span>)</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨dslé£æ ¼ä»£ç å¯¼å…¥ å¦‚æ­¤å¯¼å…¥æ•°æ®è¡¨ç»“æ„éƒ½æœ‰ é—®é¢˜åœ¨äºselect çš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œä¸Šé¢æ˜¯æŸ¥è¯¢æŠ¥é”™ï¼Œä¸‹é¢æ˜¯è‡ªåŠ¨å»ºç«‹çš„è¡¨ç»“æ„ã€‚</p><blockquote><p>å¤šæ¬¡æµ‹è¯•åå‘ç°æ˜¯å­—æ®µç±»å‹ï¼ŒæŸ¥è¯¢å…¶ä»–bigintå’Œstringå°±å¯ä»¥ï¼Œä½†æ˜¯ä¸€æŸ¥decimalç±»å‹çš„å°±ä¼šæŠ¥é”™ã€‚æ²¡æ‰¾åˆ°è§£å†³åŠæ³•ï¼Œæ‰“ç®—ä½¿ç”¨è‡ªå·±å»ºè¡¨çš„æ–¹æ³•æ¥æ·»åŠ æ•°æ®ï¼Œå°†æ·»åŠ å‡æ•°æ®çš„ä»£ç æ‰“æˆjaråŒ…ï¼Œåšé¢˜ç›®å‰å…ˆè¿è¡Œè¯¥class</p></blockquote><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/blognoteImg/image-20230329174341766.png" alt="image-20230329174341766"></p><h2 id="æ‰©å±•å­¦ä¹ -4">æ‰©å±•å­¦ä¹ </h2><p>åŠ›æ‰£2363</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">mergeSimilarItems</span><span class="params">(<span class="type">int</span>[][] items1, <span class="type">int</span>[][] items2)</span> &#123;</span><br><span class="line">        TreeMap&lt;Integer, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] item : items1) &#123;</span><br><span class="line">            map.put(item[<span class="number">0</span>], map.getOrDefault(item[<span class="number">0</span>], <span class="number">0</span>) + item[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] item : items2) &#123;</span><br><span class="line">            map.put(item[<span class="number">0</span>], map.getOrDefault(item[<span class="number">0</span>], <span class="number">0</span>) + item[<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;Integer, Integer&gt; entry : map.entrySet()) &#123;</span><br><span class="line">            ans.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(Arrays.asList(entry.getKey(), entry.getValue())));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ—¥æ€»ç»“-6">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©å¼¥è¡¥äº†ä¹‹å‰hiveæ²¡æœ‰æ•°æ®çš„æ¼æ´ï¼Œç”¨ä¸€ä¸ªscalaç±»è§£å†³äº†ï¼Œå»ºè¡¨è¯­å¥ä»¥åŠæŠ½å–mysqléƒ¨åˆ†æ•°æ®ã€‚å…¨éƒ¨å°è½¬åˆ°ç±»ä¸­å»äº†ï¼Œç„¶ååšäº†å››æœˆçš„ä»»åŠ¡ä¹¦1ï¼Œé—®é¢˜ä¸æ˜¯å¾ˆå¤§ï¼ŒæŒ‡æ ‡è®¡ç®—æœ‰äº›åœ°æ–¹è¿˜æ˜¯æƒ³çš„æœ‰ç‚¹ä¹…äº†ï¼Œå…¶å®æ¸…æ´—å’ŒæŠ½å–ï¼Œä¸€ä¸ªä»»åŠ¡ä¹¦ä¸¤ä¸‰å¤©ç»ƒä¸€æ¬¡å°±è¡Œäº†ï¼Œé‡ç‚¹å’Œéš¾ç‚¹è¿˜æ˜¯åœ¨è®¡ç®—ã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">Sparkå¤§æ•°æ®å¤ä¹ â€”â€”â€”â€”hiveSQL,å››æœˆä»»åŠ¡ä¹¦å¤ä¹ </summary>
    
    
    
    <category term="å¤§æ•°æ®è®­ç»ƒ" scheme="https://u7u7.top/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AE%AD%E7%BB%83/"/>
    
    
    <category term="æœˆç¬”è®°" scheme="https://u7u7.top/tags/%E6%9C%88%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Scala" scheme="https://u7u7.top/tags/Scala/"/>
    
    <category term="Spark" scheme="https://u7u7.top/tags/Spark/"/>
    
    <category term="Hive" scheme="https://u7u7.top/tags/Hive/"/>
    
    <category term="SQL" scheme="https://u7u7.top/tags/SQL/"/>
    
    <category term="å¤§æ•°æ®" scheme="https://u7u7.top/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>Vueç¬”è®°</title>
    <link href="https://u7u7.top/posts/adf5c49.html"/>
    <id>https://u7u7.top/posts/adf5c49.html</id>
    <published>2023-03-11T08:40:25.000Z</published>
    <updated>2023-03-21T08:40:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å†™åœ¨æœ€å‰">å†™åœ¨æœ€å‰</h1><blockquote><p>ã€å°šç¡…è°·Vue2.0+Vue3.0å…¨å¥—æ•™ç¨‹ä¸¨vuejsä»å…¥é—¨åˆ°ç²¾é€šã€‘ <a href="https://www.bilibili.com/video/BV1Zy4y1K7SH/?p=2&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Zy4y1K7SH/?p=2&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><p>è§†é¢‘å‡ºå¤„å¦‚ä¸Š ä¸‹é¢æ¯å¤©ç¬”è®°å°†ä¸å†™è§†é¢‘å‡ºå¤„ ä¸ºäº†å…¼å®¹åšå®¢ ä¸‹é¢ä¹Ÿä¸æ”¾æ•°å­—äº† åšå®¢OTCæ’ä»¶è‡ªå¸¦äº†</p></blockquote><h1 id="Vueå…¥é—¨">Vueå…¥é—¨</h1><h2 id="å­¦ä¹ æ—¥æœŸ-11-12">å­¦ä¹ æ—¥æœŸ: 11.12</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="Vueæ¦‚è¿°">Vueæ¦‚è¿°</h3><ul><li>åŠ¨æ€æ„å»ºç”¨æˆ·ç•Œé¢çš„<strong>æ¸è¿›å¼</strong> JavaScript æ¡†æ¶</li><li>å€Ÿé‰´ Angular çš„<strong>æ¨¡æ¿</strong>å’Œ<strong>æ•°æ®ç»‘å®š</strong>æŠ€æœ¯</li><li>å€Ÿé‰´ React çš„<strong>ç»„ä»¶åŒ–</strong>å’Œ<strong>è™šæ‹Ÿ DOM</strong> æŠ€æœ¯</li></ul><h4 id="Vueç‰¹ç‚¹">Vueç‰¹ç‚¹</h4><ul><li>éµå¾ªMVVMæ¨¡å¼</li><li>ç¼–ç ç®€æ´, ä½“ç§¯å°, è¿è¡Œæ•ˆç‡é«˜, é€‚åˆç§»åŠ¨/PC ç«¯å¼€å‘</li><li>å¯ä»¥å¼•å…¥ç¬¬ä¸‰æ–¹åº“å¼€å‘</li></ul><h3 id="æ­å»ºç¯å¢ƒ">æ­å»ºç¯å¢ƒ</h3><blockquote><p>æ¯”è¾ƒç®€å• æµè§ˆå™¨å°±è·Ÿä¹‹å‰å¯¼å…¥æ’ä»¶ä¸€æ ·ï¼Œæ‹–è¿›å»å°±è¡Œäº†                                                                                                       æ³¨æ„è¦æ‰“å¼€å…è®¸è®¿é—®æ–‡ä»¶ç½‘å€ ä¸ç„¶ä½¿ç”¨æ–‡ä»¶ç›´æ¥æ‰“å¼€ä¼šæŠ¥é”™ æé†’ä½ æ²¡è£…Vue</p><p>Vscodeä¸­åªè¦åœ¨åŒçº§ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªjsåŒ… æŠŠè¯¾ä»¶çš„vue.jså¯¼å…¥å°±è¡Œäº†</p></blockquote><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221110182752809.png" alt="image-20221110182752809"></p><h3 id="å°æ¡ˆä¾‹">å°æ¡ˆä¾‹</h3><p>è·Ÿç€è€å¸ˆæ•²çš„å°æ¡ˆä¾‹ï¼Œå’Œä¹‹å‰css html jså·®ä¸å¤šï¼Œå¡«å…¥äº†Vueçš„å¼•ç”¨ï¼Œä¹Ÿæ„Ÿè§‰åˆ°äº†æ–¹ä¾¿ï¼Œä½¿ç”¨Vueæ„Ÿè§‰å’Œåç«¯ä»£ç å°±æœ‰ç‚¹åƒäº†ï¼Œä¹Ÿå°±æ˜¯è€å¸ˆè¯´çš„å’Œå‘½ä»¤å¼ä»£ç çš„åŒºåˆ«ã€‚ æ³¨é‡Šæ˜¯ç›´æ¥å¤åˆ¶çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">        &lt;title&gt;åˆè¯†Vue&lt;/title&gt;</span><br><span class="line">        &lt;!-- å¼•å…¥vue --&gt;</span><br><span class="line">        &lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;!-- </span><br><span class="line">        åˆè¯†Vueï¼š</span><br><span class="line">            1.æƒ³è®©Vueå·¥ä½œï¼Œå°±å¿…é¡»åˆ›å»ºä¸€ä¸ªVueå®ä¾‹ï¼Œä¸”è¦ä¼ å…¥ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼›</span><br><span class="line">            2.rootå®¹å™¨é‡Œçš„ä»£ç ä¾ç„¶ç¬¦åˆhtmlè§„èŒƒï¼Œåªä¸è¿‡æ··å…¥äº†ä¸€äº›ç‰¹æ®Šçš„Vueè¯­æ³•ï¼›</span><br><span class="line">            3.rootå®¹å™¨é‡Œçš„ä»£ç è¢«ç§°ä¸ºã€Vueæ¨¡æ¿ã€‘ï¼›</span><br><span class="line">            4.Vueå®ä¾‹å’Œå®¹å™¨æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼›</span><br><span class="line">            5.çœŸå®å¼€å‘ä¸­åªæœ‰ä¸€ä¸ªVueå®ä¾‹ï¼Œå¹¶ä¸”ä¼šé…åˆç€ç»„ä»¶ä¸€èµ·ä½¿ç”¨ï¼›</span><br><span class="line">            6.&#123;&#123;xxx&#125;&#125;ä¸­çš„xxxè¦å†™jsè¡¨è¾¾å¼ï¼Œä¸”xxxå¯ä»¥è‡ªåŠ¨è¯»å–åˆ°dataä¸­çš„æ‰€æœ‰å±æ€§ï¼›</span><br><span class="line">            7.ä¸€æ—¦dataä¸­çš„æ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆé¡µé¢ä¸­ç”¨åˆ°è¯¥æ•°æ®çš„åœ°æ–¹ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ï¼›</span><br><span class="line"></span><br><span class="line">            æ³¨æ„åŒºåˆ†ï¼šjsè¡¨è¾¾å¼ å’Œ jsä»£ç (è¯­å¥)</span><br><span class="line">                    1.è¡¨è¾¾å¼ï¼šä¸€ä¸ªè¡¨è¾¾å¼ä¼šäº§ç”Ÿä¸€ä¸ªå€¼ï¼Œå¯ä»¥æ”¾åœ¨ä»»ä½•ä¸€ä¸ªéœ€è¦å€¼çš„åœ°æ–¹ï¼š</span><br><span class="line">                                (1). a</span><br><span class="line">                                (2). a+b</span><br><span class="line">                                (3). demo(1)</span><br><span class="line">                                (4). x === y ? &#x27;a&#x27; : &#x27;b&#x27;</span><br><span class="line"></span><br><span class="line">                    2.jsä»£ç (è¯­å¥)</span><br><span class="line">                                (1). if()&#123;&#125;</span><br><span class="line">                                (2). for()&#123;&#125;</span><br><span class="line">        --&gt;</span><br><span class="line">        &lt;!-- å‡†å¤‡å¥½å®¹å™¨ --&gt;</span><br><span class="line">        &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">            &lt;h1&gt;ä½ å¥½, &#123;&#123;name.toUpperCase()&#125;&#125;&lt;/h1&gt;</span><br><span class="line">            &lt;h1&gt;æˆ‘çš„å¹´é¾„æ˜¯ &#123;&#123;age&#125;&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">            Vue.config.productionTip = false //é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º</span><br><span class="line">            //åˆ›å»ºVueå®ä¾‹</span><br><span class="line">            new Vue(&#123;</span><br><span class="line">                el:&#x27;#root&#x27;, //elç”¨äºæŒ‡å®šå½“å‰Vueå®ä¾‹ä¸ºå“ªä¸ªå®¹å™¨æœåŠ¡ å€¼é€šå¸¸ä¸ºcssé€‰æ‹©å™¨å­—ç¬¦ä¸²</span><br><span class="line">                data:&#123; //dataä¸­ç”¨äºå­˜å‚¨æ•°æ® æ•°æ®ä¾›elæ‰€æŒ‡å®šçš„å®¹å™¨å»ä½¿ç”¨</span><br><span class="line">                    name:&#x27;u7Uu7&#x27;,</span><br><span class="line">                    age:&#x27;18&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="BUGç‚¹">BUGç‚¹</h2><p>ç›´æ¥æ‰“å¼€htmlæ–‡ä»¶ï¼ŒæŠ¥è¿™æ ·çš„é”™è¯¯ï¼Œçœ‹è‡ªå·±çš„åœ°å€å’Œè€å¸ˆçš„ä¸å¤ªä¸€æ ·ï¼Œæˆ‘æ˜¯file:///E:/study/Vue/åˆè¯†Vue/åˆè¯†Vue.htmlï¼Œä½†æ˜¯è€å¸ˆçš„æ˜¯127.0.0.1:5500/xxx.xxx.xxxï¼Œç„¶åçœ‹åˆ°å¼¹å¹•è¯´æ³¨æ„å…è®¸è®¿é—®æ–‡ä»¶ç½‘å€ï¼Œç„¶åè‡ªå·±è§‰å¾—æ˜¯æ’ä»¶è®¾ç½®é—®é¢˜ï¼Œæœç„¶çœ‹åˆ°äº†ï¼ŒæŠŠé€‰é¡¹æ‰“å¼€é—®é¢˜è§£å†³äº†ï¼Œåˆ°åé¢è£…äº†ä¸€ä¸ªLive Serverçš„æ’ä»¶ï¼Œè·‘èµ·æ¥çš„é“¾æ¥å’Œè€å¸ˆçš„å·®ä¸å¤šäº†ï¼Œè¿˜å¾ˆæ–¹ä¾¿ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221110183031172.png" alt="image-20221110183031172"></p><h2 id="æ‰©å±•å­¦ä¹ ">æ‰©å±•å­¦ä¹ </h2><h2 id="æ—¥æ€»ç»“">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©çš„å­¦ä¹ å†…å®¹æ¯”è¾ƒç®€å•ï¼Œç®€å•çš„è¿›å…¥äº† Vueçš„å­¦ä¹ ï¼Œæ¯”å¦‚å†™ç®€å•çš„å­—ä½“æ‰“åˆ°ç½‘é¡µï¼ŒVueæ˜¯åˆ©ç”¨å¯¹è±¡ä¸€æ ·çš„æ–¹å¼å®ç°çš„ï¼Œå¯ä»¥æ§åˆ¶å±æ€§ï¼Œå¯å˜æ€§ï¼Œè€¦åˆæ€§æ¯”è¾ƒå¥½ã€‚è™½ç„¶webå·²ç»æ˜¯å¾ˆä¹…ä¹‹å‰å­¦ä¹ çš„äº†ï¼Œä½†æ˜¯å‰ç«¯æ—¶é—´è‡ªå·±æåšå®¢ç”¨çš„éƒ½æ˜¯csså’Œjsä»£ç ï¼Œç°åœ¨å­¦Vueä¹Ÿç¨å¾®æœ‰ç‚¹è®°å¿†ï¼Œçœ‹çš„æ‡‚ï¼Œå¯èƒ½ä¸»è¦è¿˜æ˜¯ä»Šå¤©çš„å†…å®¹æ¯”è¾ƒå°‘å§ï¼Œåªæ˜¯ç®€å•çš„é¡µé¢ã€‚Vueç»™æˆ‘çš„æ„Ÿè§‰å°±è·Ÿï¼ŒSpringBootå’ŒSpringä¸€æ ·ï¼Œå‡çº§äº†jsï¼Œä½†æ˜¯ä¹‹å‰jsçš„ä¸œè¥¿éƒ½å¯ä»¥ä½¿ç”¨ã€‚æˆ‘æ€»ç»“Vueçš„å·¥ä½œå°±æ˜¯åˆ›å»ºVueå®ä¾‹ï¼Œç„¶åä¼ å…¥ä¸€ä¸ªé…ç½®å¯¹è±¡ï¼Œå°±åƒç¼–è¯‘æ€§è¯­è¨€äº†ã€‚</p></blockquote><h1 id="Vue-æ•°æ®ä»£ç†">Vue æ•°æ®ä»£ç†</h1><h2 id="å­¦ä¹ æ—¥æœŸ-11-13">å­¦ä¹ æ—¥æœŸ: 11.13</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-2">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="MVVMæ¨¡å‹">MVVMæ¨¡å‹</h3><blockquote><p>M:æ¨¡å‹ dataä¸­çš„æ•°æ®                                               V: è§†å›¾ æ¨¡ç‰ˆä»£ç VM: è§†å›¾æ¨¡å‹ Vueå®ä¾‹</p></blockquote><ul><li>å¼€å¯F12æ£€æŸ¥ä»¥å åœ¨æ§åˆ¶å°æ‰€çœ‹åˆ°çš„éƒ½æ˜¯VMä¸­å­˜åœ¨çš„ Vueå®ä¾‹ï¼Œæˆ‘ä»¬dataä¸­æ·»åŠ çš„ï¼Œä¹Ÿåªæ˜¯æ·»åŠ åˆ°VM VMæ˜¯è‡ªå¸¦ä¸€äº›æœ¬äº‹è‡ªå¸¦çš„å±æ€§ã€‚åœ¨Vueæ¨¡ç‰ˆéƒ½å¯ä»¥ç›´æ¥ä½¿ç”¨</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">        &lt;title&gt;åˆè¯†Vue&lt;/title&gt;</span><br><span class="line">        &lt;!-- å¼•å…¥vue --&gt;</span><br><span class="line">        &lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">            &lt;h1&gt;å­¦æ ¡åç§°:&#123;&#123;name&#125;&#125;&lt;/h1&gt;</span><br><span class="line">            &lt;h1&gt;å­¦æ ¡åœ°å€:&#123;&#123;address&#125;&#125;&lt;/h1&gt;</span><br><span class="line">            &lt;h1&gt;æµ‹è¯•1:&#123;&#123;$options&#125;&#125;&lt;/h1&gt;</span><br><span class="line">            &lt;h1&gt;æµ‹è¯•2:&#123;&#123;$createElement&#125;&#125;&lt;/h1&gt;</span><br><span class="line">            &lt;h1&gt;æµ‹è¯•3:&#123;&#123;_c&#125;&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">            Vue.config.productionTip = false //é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤º</span><br><span class="line">            //åˆ›å»ºVueå®ä¾‹</span><br><span class="line">            const vm = new Vue(&#123;</span><br><span class="line">              el:&#x27;#root&#x27;,</span><br><span class="line">              data()&#123;</span><br><span class="line">                  return&#123;</span><br><span class="line">                      name: &#x27;é‡‘åèŒä¸šæŠ€æœ¯å­¦é™¢&#x27;,</span><br><span class="line">                      address: &#x27;é‡‘å&#x27;</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            console.log(vm)</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221111143214821.png" alt="image-20221111143214821"></p><h3 id="æ•°æ®ä»£ç†">æ•°æ®ä»£ç†</h3><ul><li>Object.definePropertyå‚æ•° ç¬¬ä¸€ä¸ªæ˜¯å¯¹è±¡ ç¬¬äºŒä¸ªæ˜¯è¦ä»£ç†çš„å‚æ•°</li><li>æœ‰getå’Œsetæ–¹æ³•å¯ä»¥è¯»å–åˆ°ä»£ç†å‚æ•°çš„ä¿®æ”¹å’Œè·å–</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,</span><br><span class="line">    <span class="attr">sex</span>:<span class="string">&#x27;ç”·&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(person,<span class="string">&#x27;age&#x27;</span>,&#123;</span><br><span class="line">    <span class="comment">// value:18,</span></span><br><span class="line">    <span class="comment">// enumerable:true, //æ§åˆ¶å±æ€§æ˜¯å¦å¯ä»¥æšä¸¾ï¼Œé»˜è®¤å€¼æ˜¯false</span></span><br><span class="line">    <span class="comment">// writable:true, //æ§åˆ¶å±æ€§æ˜¯å¦å¯ä»¥è¢«ä¿®æ”¹ï¼Œé»˜è®¤å€¼æ˜¯false</span></span><br><span class="line">    <span class="comment">// configurable:true //æ§åˆ¶å±æ€§æ˜¯å¦å¯ä»¥è¢«åˆ é™¤ï¼Œé»˜è®¤å€¼æ˜¯false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å½“æœ‰äººè¯»å–personçš„ageå±æ€§æ—¶ï¼Œgetå‡½æ•°(getter)å°±ä¼šè¢«è°ƒç”¨ï¼Œä¸”è¿”å›å€¼å°±æ˜¯ageçš„å€¼</span></span><br><span class="line">    <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æœ‰äººè¯»å–ageå±æ€§äº†&#x27;</span>)</span><br><span class="line">        <span class="keyword">return</span> number</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//å½“æœ‰äººä¿®æ”¹personçš„ageå±æ€§æ—¶ï¼Œsetå‡½æ•°(setter)å°±ä¼šè¢«è°ƒç”¨ï¼Œä¸”ä¼šæ”¶åˆ°ä¿®æ”¹çš„å…·ä½“å€¼</span></span><br><span class="line">    <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æœ‰äººä¿®æ”¹äº†ageå±æ€§ï¼Œä¸”å€¼æ˜¯&#x27;</span>,value)</span><br><span class="line">        number = value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>è§£é‡Šä»€ä¹ˆæ˜¯æ•°æ®ä»£ç†  é€šè¿‡obj2æ§åˆ¶objçš„x</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- æ•°æ®ä»£ç†ï¼šé€šè¿‡ä¸€ä¸ªå¯¹è±¡ä»£ç†å¯¹å¦ä¸€ä¸ªå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œï¼ˆè¯»/å†™ï¼‰--&gt;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">x</span>:<span class="number">100</span>&#125;</span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;<span class="attr">y</span>:<span class="number">200</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(obj2,<span class="string">&#x27;x&#x27;</span>,&#123;</span><br><span class="line"><span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">return</span> obj.<span class="property">x</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line">obj.<span class="property">x</span> = value</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>å°æ€»ç»“ä¸€ä¸‹</p><ul><li><p>1.Vueä¸­çš„æ•°æ®ä»£ç†ï¼š</p><p>é€šè¿‡vmå¯¹è±¡æ¥ä»£ç†dataå¯¹è±¡ä¸­å±æ€§çš„æ“ä½œï¼ˆè¯»/å†™ï¼‰</p><p>2.Vueä¸­æ•°æ®ä»£ç†çš„å¥½å¤„ï¼š</p><p>æ›´åŠ æ–¹ä¾¿çš„æ“ä½œdataä¸­çš„æ•°æ®</p><p>3.åŸºæœ¬åŸç†ï¼š</p><p>é€šè¿‡Object.defineProperty()æŠŠdataå¯¹è±¡ä¸­æ‰€æœ‰å±æ€§æ·»åŠ åˆ°vmä¸Šã€‚</p><p>ä¸ºæ¯ä¸€ä¸ªæ·»åŠ åˆ°vmä¸Šçš„å±æ€§ï¼Œéƒ½æŒ‡å®šä¸€ä¸ªgetter/setterã€‚</p><p>åœ¨getter/setterå†…éƒ¨å»æ“ä½œï¼ˆè¯»/å†™ï¼‰dataä¸­å¯¹åº”çš„å±æ€§ã€‚</p></li></ul><h2 id="BUGç‚¹-2">BUGç‚¹</h2><h2 id="æ‰©å±•å­¦ä¹ -2">æ‰©å±•å­¦ä¹ </h2><h2 id="æ—¥æ€»ç»“-2">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©æ˜¯ç®—æ­£å¼å­¦ä¹ Vueçš„ç¬¬äºŒå¤©ï¼Œéš¾åº¦ä¸€èˆ¬ï¼Œæœ‰è®²åˆ°å¤ä¹ jsçš„éƒ¨åˆ†ã€‚é‚£éƒ¨åˆ†è‡ªå·±æ²¡å­¦è¿‡ï¼Œä½†ç†è§£æ˜¯ä»€ä¹ˆæ„æ€äº†ã€‚ä»Šå¤©çš„å­¦ä¹ çŠ¶æ€è¿˜ä¸é”™çš„ï¼Œå› ä¸ºæ²¡æœ‰æŒ‡å®šè®¡åˆ’çš„åŸå› ï¼Œå­¦åˆ°æ™šä¸Šæ‰å‘ç°ï¼Œè‡ªå·±çš„è¿›åº¦å…¶å®æ˜¯æœ‰ç‚¹æ…¢äº†çš„éƒ½ï¼Œè¦æŠ“ç´§æ—¶é—´äº†ï¼Œå‰ç«¯è‡ªå·±æ˜¯ä¸å¤ªæ‡‚çš„ï¼Œæ‰€ä»¥ä¼šè·Ÿç€è€å¸ˆå»æ•²ä»£ç ï¼Œå¬ä¸€äº›ç»†èŠ‚ï¼Œå¯¼è‡´è¿›åº¦ä¼šæ…¢å¾ˆå¤šï¼Œç­‰åˆ°åé¢åº”è¯¥ä¼šå¥½ä¸€ç‚¹ï¼Œä¹Ÿè¦æŠ“ç´§äº†ï¼ŒæŒ‰ç…§è‡ªå·±çš„è®¡åˆ’å»å­¦ï¼ŒåŒæ—¶è¿˜è¦å¤ä¹ javaçš„ï¼Œä¸èƒ½æ¾ä¸‹æ¥ã€‚</p></blockquote><h1 id="Vue-äº‹ä»¶-è®¡ç®—å±æ€§-ç›‘è§†">Vue äº‹ä»¶ è®¡ç®—å±æ€§ ç›‘è§†</h1><h2 id="å­¦ä¹ æ—¥æœŸ-11-14">å­¦ä¹ æ—¥æœŸ: 11.14</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-3">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="äº‹ä»¶å¤„ç†">äº‹ä»¶å¤„ç†</h3><p>ç®€å•çš„ç‚¹å‡»æ—¶é—´ç”¨<code>@click</code> ä¿®é¥°ç¬¦å’Œç›‘å¬ç¬”è®°éƒ½æ”¾åœ¨htmlä»£ç ä¸­å»äº†æ•ˆæœå¦‚ä¸‹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>äº‹ä»¶ä¿®é¥°ç¬¦<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å¼•å…¥Vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">*&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">margin-top</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.demo1</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.box1</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: skyblue;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.box2</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">padding</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: orange;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-class">.list</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css"><span class="attribute">background-color</span>: peru;</span></span><br><span class="line"><span class="language-css">                <span class="comment">/* æ»šåŠ¨æ¡ */</span></span></span><br><span class="line"><span class="language-css"><span class="attribute">overflow</span>: auto; </span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-tag">li</span>&#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">height</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">Vueä¸­çš„äº‹ä»¶ä¿®é¥°ç¬¦ï¼š</span></span><br><span class="line"><span class="comment">1.preventï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ˆå¸¸ç”¨ï¼‰ï¼›</span></span><br><span class="line"><span class="comment">2.stopï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¸¸ç”¨ï¼‰ï¼›</span></span><br><span class="line"><span class="comment">3.onceï¼šäº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼ˆå¸¸ç”¨ï¼‰ï¼›</span></span><br><span class="line"><span class="comment">4.captureï¼šä½¿ç”¨äº‹ä»¶çš„æ•è·æ¨¡å¼ï¼›</span></span><br><span class="line"><span class="comment">5.selfï¼šåªæœ‰event.targetæ˜¯å½“å‰æ“ä½œçš„å…ƒç´ æ—¶æ‰è§¦å‘äº‹ä»¶ï¼›</span></span><br><span class="line"><span class="comment">6.passiveï¼šäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•ï¼›</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å‡†å¤‡å¥½ä¸€ä¸ªå®¹å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>æ¬¢è¿æ¥åˆ°&#123;&#123;name&#125;&#125;å­¦ä¹ <span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é˜»æ­¢é»˜è®¤äº‹ä»¶ï¼ˆå¸¸ç”¨ï¼‰ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.atguigu.com&quot;</span> @<span class="attr">click.prevent</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¸¸ç”¨ï¼‰ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;demo1&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.stop</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ä¿®é¥°ç¬¦å¯ä»¥è¿ç»­å†™ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- &lt;a href=&quot;http://www.atguigu.com&quot; @click.prevent.stop=&quot;showInfo&quot;&gt;ç‚¹æˆ‘æç¤ºä¿¡æ¯&lt;/a&gt; --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- äº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼ˆå¸¸ç”¨ï¼‰ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click.once</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨äº‹ä»¶çš„æ•è·æ¨¡å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box1&quot;</span> @<span class="attr">click.capture</span>=<span class="string">&quot;showMsg(1)&quot;</span>&gt;</span></span><br><span class="line">div1</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box2&quot;</span> @<span class="attr">click</span>=<span class="string">&quot;showMsg(2)&quot;</span>&gt;</span></span><br><span class="line">div2</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åªæœ‰event.targetæ˜¯å½“å‰æ“ä½œçš„å…ƒç´ æ—¶æ‰è§¦å‘äº‹ä»¶ï¼› --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;demo1&quot;</span> @<span class="attr">click.self</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;showInfo&quot;</span>&gt;</span>ç‚¹æˆ‘æç¤ºä¿¡æ¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒæ‰§è¡Œå®Œæ¯•ï¼› --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> @<span class="attr">wheel.passive</span>=<span class="string">&quot;demo&quot;</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span> <span class="comment">//é˜»æ­¢ vue åœ¨å¯åŠ¨æ—¶ç”Ÿæˆç”Ÿäº§æç¤ºã€‚</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">el</span>:<span class="string">&#x27;#root&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">data</span>:&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="attr">name</span>:<span class="string">&#x27;å°šç¡…è°·&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="attr">methods</span>:&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">showInfo</span>(<span class="params">e</span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">alert</span>(<span class="string">&#x27;åŒå­¦ä½ å¥½ï¼&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"><span class="comment">// console.log(e.target)</span></span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">showMsg</span>(<span class="params">msg</span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(msg)</span></span><br><span class="line"><span class="language-javascript">&#125;,</span></span><br><span class="line"><span class="language-javascript"><span class="title function_">demo</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;#&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ç´¯åäº†&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221116091036100.png" alt="image-20221116091036100"></p><h3 id="è®¡ç®—å±æ€§">è®¡ç®—å±æ€§</h3><p>æ¡ˆä¾‹æ˜¯è¾“å…¥å§“å’Œå,è¾“å‡ºå§“-å,è‡ªå·±å°±å†™å‡ºæ¥äº†ï¼Œä½†æ˜¯æ²¡æœ‰ç”¨åˆ°è®¡ç®—å±æ€§computed</p><p>è®¡ç®—å±æ€§ç®€å†™çš„è¯å¤§æ¦‚å°±æ˜¯å¦‚æ­¤ï¼ŒfirstNameå’ŒlastNameæ˜¯é»˜è®¤å€¼ ç„¶åé€šè¿‡åŒå‘ç»‘å®šå®ç°åŠŸèƒ½</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">computed:&#123;</span><br><span class="line">fullName()&#123;</span><br><span class="line">    return this.firstName + &#x27;-&#x27; + this.lastName</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç›‘è§†">ç›‘è§†</h3><p>ç›‘è§†çš„æ–¹æ³•åæ˜¯watchï¼Œèƒ½ç›‘è§†æŸæ–¹æ³•ä½¿ç”¨æˆ–è€…å±æ€§è°ƒç”¨å‘ç”Ÿä¿®æ”¹æ—¶å€™ï¼Œè¿›è¡Œæ‰§è¡Œã€‚å¦‚æœè¦å¼€å¯æ·±åº¦ç›‘è§†çš„è¯ï¼Œå°±è¦æ·»åŠ å¦‚ä¸‹çš„å‚æ•°ï¼Œæ·±åº¦ç›‘è§†ï¼Œå°±å¥½æ¯”ä½ è¦çœ‹ä¸€ä¸ªæ•°ç»„ï¼Œä¸­çš„æŸä¸ªå±æ€§ã€‚</p><p>â€‹          deep:<strong>true</strong>, //å¼€å¯æ·±åº¦ç›‘è§†</p><blockquote><p>å¦‚æœä½¿ç”¨ç›‘è§†å’Œè®¡ç®—å±æ€§éƒ½ä½¿ç”¨ï¼Œåœ¨æ–¹æ³•ä¸­è¦ä½¿ç”¨å»¶æ—¶æ‰§è¡ŒsetTimeoutçš„è¯ï¼Œåªèƒ½åœ¨watchä¸­ä½¿ç”¨ï¼Œåœ¨computedä¼šæŠ¥é”™ï¼Œä½†æ˜¯å¦‚æœä¸åªæ˜¯ä¸¤ä¸ªå±æ€§æ‹¼æ¥ï¼Œå¤šä¸ªå±æ€§çš„è¯ï¼Œä½¿ç”¨ç›‘è§†å°±ä¼šå¾ˆéº»çƒ¦ï¼Œä½¿ç”¨æ—¶å€™æ˜¯è¦çœ‹ä½¿ç”¨åœºæ™¯çš„ã€‚</p></blockquote><h2 id="BUGç‚¹-3">BUGç‚¹</h2><ul><li>é‡‘å¸ˆé™„å°åœ¨å†™è°ƒç”¨æ¥å£çš„æ—¶å€™æŠ¥äº†å¾ˆå¤šé”™è¯¯ï¼Œéƒ½æ˜¯ä¸€æ¬¡ä¸€æ¬¡æ”¹è¿‡æ¥ï¼Œæ…¢æ…¢è§£å†³çš„ï¼Œä¸€èˆ¬é—®é¢˜æœ‰å¦‚ä¸‹å‡ ç‚¹ï¼Œåç«¯è¯·æ±‚å°‘äº†æˆ–è€…åœ¨apifoxä¸ä¸€æ ·ï¼Œè¿˜æœ‰æµ‹è¯•çš„æ—¶å€™æ•°æ®åº“çš„å†…å®¹ä¿®æ”¹äº†ï¼Œä½†æ˜¯apifoxä¸Šé¢å†™çš„æµ‹è¯•æ²¡æ”¹ï¼Œå°±è¦å»é—®åç«¯æ•°æ®åº“çš„æ•°æ®ï¼Œä¸ç„¶å†™å¥½æ¥å£æ²¡æ³•æµ‹è¯•ã€‚</li></ul><h2 id="æ‰©å±•å­¦ä¹ -3">æ‰©å±•å­¦ä¹ </h2><p>é‡‘å¸ˆé™„å°å†™äº†å‡ ä¸ªajaxè¯·æ±‚<br><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221114203302672.png" alt="image-20221114203302672"></p><h2 id="æ—¥æ€»ç»“-3">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©å­¦ä¹ çš„å†…å®¹è¿˜æ˜¯è›®å¤šçš„ï¼Œå­¦ä¹ çŠ¶æ€ä¹Ÿè¿˜ä¸é”™ï¼Œéš¾åº¦ä¹Ÿä¸€èˆ¬ï¼Œéš¾ç‚¹åœ¨å¯¹æ·±å±‚ç›‘è§†çš„æ—¶å€™ï¼Œéœ€è¦ç¼•æ¸…æ¥šé€»è¾‘ï¼Œæ‰çŸ¥é“è‡ªå·±æ‰€è¦ç›‘è§†çš„å†…å®¹å…·ä½“æ˜¯å“ªæ¡ã€‚Vueçš„è¯ï¼Œæ„Ÿè§‰åˆ©ç”¨å¯¹è±¡ä»¥åŠthisä»£æ›¿Vueå®ä¾‹ï¼Œå¾ˆåƒå‡½æ•°ï¼Œå­¦ä¹ èµ·æ¥è¿˜ç®—é¡ºç•…ï¼Œå°±æ˜¯è‡ªå·±çš„CSSå’ŒHTMLä¸å¤ªç†Ÿæ‚‰ï¼Œå…·ä½“æ•ˆæœè‡ªå·±ä¸€ä¸‹å­æä¸æ˜ç™½ã€‚</p></blockquote><h1 id="Vue-æ ·å¼-æ¸²æŸ“-åˆ—è¡¨">Vue æ ·å¼ æ¸²æŸ“ åˆ—è¡¨</h1><h2 id="å­¦ä¹ æ—¥æœŸ-11-16">å­¦ä¹ æ—¥æœŸ: 11.16</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-4">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="ç»‘å®šæ ·å¼">ç»‘å®šæ ·å¼</h3><ul><li><p>Styleç±»å‹æˆ‘åªåœ¨åšå®¢ä¸­ä½¿ç”¨è¿‡</p></li><li><p>åŸºæœ¬åˆ†ä¸ºClasså’ŒStyleä¸¤ç±» å¤§è‡´å†™æ³•å¦‚ä¸‹:</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- ç»‘å®šclassæ ·å¼--å­—ç¬¦ä¸²å†™æ³•ï¼Œé€‚ç”¨äºï¼šæ ·å¼çš„ç±»åä¸ç¡®å®šï¼Œéœ€è¦åŠ¨æ€æŒ‡å®š --&gt;</span><br><span class="line">&lt;div class=&quot;basic&quot; :class=&quot;mood&quot; @click=&quot;changeMood&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">&lt;!-- ç»‘å®šclassæ ·å¼--æ•°ç»„å†™æ³•ï¼Œé€‚ç”¨äºï¼šè¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ä¸ç¡®å®šã€åå­—ä¹Ÿä¸ç¡®å®š --&gt;</span><br><span class="line">&lt;div class=&quot;basic&quot; :class=&quot;classArr&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">&lt;!-- ç»‘å®šclassæ ·å¼--å¯¹è±¡å†™æ³•ï¼Œé€‚ç”¨äºï¼šè¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ç¡®å®šã€åå­—ä¹Ÿç¡®å®šï¼Œä½†è¦åŠ¨æ€å†³å®šç”¨ä¸ç”¨ --&gt;</span><br><span class="line">&lt;div class=&quot;basic&quot; :class=&quot;classObj&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">&lt;!-- ç»‘å®šstyleæ ·å¼--å¯¹è±¡å†™æ³• --&gt;</span><br><span class="line">&lt;div class=&quot;basic&quot; :style=&quot;styleObj&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">&lt;!-- ç»‘å®šstyleæ ·å¼--æ•°ç»„å†™æ³• --&gt;</span><br><span class="line">&lt;div class=&quot;basic&quot; :style=&quot;styleArr&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;&lt;br&gt;&lt;br&gt;</span><br></pre></td></tr></table></figure><h3 id="æ¡ä»¶æ¸²æŸ“">æ¡ä»¶æ¸²æŸ“</h3><ul><li><p>v-if v-else-if v-else <code>ï¼templateåªèƒ½é…åˆv-ifä½¿ç”¨</code> templateä¸å½±å“æ§åˆ¶å°æ—¶å€™çœ‹æºä»£ç çš„ç»“æ„ï¼ŒèŠ‚çœèµ„æº</p><p>è¯¥æ–¹æ³•å°±å’Œé€»è¾‘åˆ¤æ–­ä¸€æ ·ï¼Œå¦‚æœæˆç«‹æ˜¾ç¤ºï¼Œä¸æˆç«‹ç›´æ¥æ¶ˆå¤±ï¼Œæ¶ˆå¤±çš„æ—¶å€™F12éƒ½æ£€æŸ¥ä¸åˆ°</p></li><li><p>v-show è¿™ä¸ªå°±ä¸æˆç«‹çš„è¯ï¼Œé¡µé¢æ²¡å¯¹åº”çš„æ•ˆæœä½†æ˜¯F12å…¶å®æ˜¯åœ¨çš„ï¼Œé€‚åˆé¢‘ç¹çš„è°ƒç”¨ï¼Œä¸åƒifæ¯æ¬¡éƒ½è¦é‡æ–°è§£æã€‚</p></li></ul><h2 id="BUGç‚¹-4">BUGç‚¹</h2><ul><li>å¤„ç†å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œåˆšå¼€å§‹ä¸å¤ªæ¸…æ¥šVueä¸­forå¾ªç¯ä¸­ï¼Œå–å¾—çš„å‚æ•°ï¼Œåˆšå¼€å§‹ä»¥ä¸ºå’Œå¢å¼ºforå¾ªç¯ä¸€æ ·ï¼Œç›´æ¥å°±æ˜¯æ•°ç»„ä¸­çš„å…ƒç´ å‡ºæ¥ï¼Œä½†æ˜¯æ‰“å°å®Œæ—¥å¿—å‘ç°æ˜¯ä¸‹æ ‡ï¼Œç„¶ååœ¨è‡ªå·±ä»£ç ä¸Šä¿®æ”¹ä¸€ä¸‹å°±å¥½äº†ã€‚å¤§è‡´å°±æ˜¯forå¾ªç¯å‡ºæ¥æœ¬æ¥æ˜¯äººåï¼Œä½†æ˜¯æ˜¯0 1 2 3 4è¿™æ ·çš„ä¸‹æ ‡</li></ul><p><img src="https://docimg10.docs.qq.com/image/AgAABa0mN7l_Q5p0a8pGJ4D_tLuinyFF.png?w=1447&amp;h=901" alt="img"></p><h2 id="æ‰©å±•å­¦ä¹ -4">æ‰©å±•å­¦ä¹ </h2><blockquote><p>é‡‘å¸ˆé™„å°æ¸²æŸ“é¡µé¢ æ•°æ®å¤„ç†</p></blockquote><h2 id="æ—¥æ€»ç»“-4">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©å­¦ä¹ çŠ¶æ€ä¸é”™ï¼Œå†…å®¹è¾ƒéš¾ï¼ŒåˆšVueå­¦åˆ°æ¸²æŸ“é¡µé¢ï¼Œå°±è¦æŠŠæ˜¨å¤©è°ƒç”¨çš„æ¥å£ï¼Œä¸­è°ƒæ•°æ®ï¼ŒæŠŠåŸæ¥é¡µé¢çš„æ­»æ•°æ®ï¼Œæ¢æˆæ¥å£ä¸­è°ƒåˆ°çš„ã€‚åˆšå¼€å§‹è¿˜æ˜¯æœ‰éš¾åº¦çš„ï¼Œä½†æ˜¯ææ¸…æ¥šäº†éœ€æ±‚ä»¥åŠå¦‚ä½•ä½¿ç”¨ï¼Œä¸€åˆ‡éƒ½å¼•åˆƒè€Œè§£äº†ã€‚å…¶å®è°ƒç”¨æ¥å£å°±å‡ ç§æƒ…å†µï¼Œè°ƒç”¨å®Œæ¥å£ï¼Œå»F12çœ‹å‚æ•°è¿”å›çš„rowsï¼Œæå–å‡ºæ¥ç»™å‰ç«¯éœ€è¦æ¸²æŸ“çš„åœ°æ–¹ï¼Œä¸€äº›æ•°æ®æ˜¯éœ€è¦å¤„ç†çš„ï¼Œå°±è‡ªå·±å†™methodsæ–¹æ³•ï¼ŒæŠŠæ•°æ®å¤„ç†ä»¥åï¼Œä¼ å…¥éœ€è¦è°ƒç”¨å¯¹åº”æ•°æ®çš„é¡µé¢ï¼Œæ•°æ®å¤„ç†çš„æ—¶å€™ç¨å¾®æœ‰ç‚¹éš¾ã€‚æ€»å¾—æ¥è¯´æ­£å¼æ·±å…¥Vueä¹‹å‰ï¼Œç”¨é¡¹ç›®å…ˆé”»ç‚¼è‡ªå·±ï¼Œå‰é¢ç®€å•åŠŸèƒ½ï¼Œä»¥åå­¦ä¹ çš„è¯åº”è¯¥ä¼šå¿«å¾ˆå¤šã€‚</p></blockquote><h1 id="Vue-åˆ—è¡¨æ¸²æŸ“">Vue åˆ—è¡¨æ¸²æŸ“</h1><h2 id="å­¦ä¹ æ—¥æœŸ-11-17">å­¦ä¹ æ—¥æœŸ: 11.17</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-5">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="åˆ—è¡¨æ’åº">åˆ—è¡¨æ’åº</h3><p>ä¹Ÿå¯ä»¥è¯´æ˜¯æ•°ç»„æ’åºï¼Œæ•°ç»„ä¸­æ˜¯å¯¹è±¡ï¼Œæ ¹æ®å¯¹è±¡ï¼Œæœ‰è‡ªå¸¦çš„æ–¹æ³•æ’åº åé¢å‡å‰é¢æ˜¯é™åº å‰é¢å‡åé¢å‡åº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">arr.sort((p1,p2)=&gt;&#123;</span><br><span class="line">return this.sortType === 1 ? p2.age-p1.age : p1.age-p2.age </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡æ•°æ®æ›´æ–°">å¯¹è±¡æ•°æ®æ›´æ–°</h3><p>spliceæ–¹æ³•å…¶å®æ˜¯åˆ é™¤ä»¥ååœ¨æ–°å¢ï¼Œç›¸å½“äºæ›¿æ¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">this.persons.splice(0,1,&#123;id:&#x27;001&#x27;,name:&#x27;é©¬è€å¸ˆ&#x27;,age:50,sex:&#x27;ç”·&#x27;&#125;) </span><br><span class="line">//åˆ é™¤æ•°ç»„ä¸‹æ ‡ä¸º0çš„ æ·»åŠ 1ä¸ªæ•°æ® æœ€åä¸ºæ–°å¢çš„æ•°æ®</span><br></pre></td></tr></table></figure><h3 id="æ·»åŠ æ•°æ®">æ·»åŠ æ•°æ®</h3><blockquote><p>åœ¨éœ€è¦æ·»åŠ çš„æŒ‰é’®å…ˆåŠ @clickäº‹ä»¶ï¼Œè°ƒç”¨æ–¹æ³•ï¼Œç„¶ååœ¨æ˜¾ç¤ºæ˜¯h2ä¸­åŠ v-ifåˆ¤æ–­student.sexã€‚åº•å±‚é€»è¾‘æ˜¯                                          ç»™this.student æ·»åŠ ä¸€ä¸ªkeyä¸ºsex valueä¸ºç”·çš„å¯¹è±¡</p></blockquote><p>â€‹         <strong>this</strong>.$set(<strong>this</strong>.student,â€˜sexâ€™,â€˜ç”·â€™)</p><h2 id="BUGç‚¹-5">BUGç‚¹</h2><h2 id="æ‰©å±•å­¦ä¹ -5">æ‰©å±•å­¦ä¹ </h2><ul><li>æ¸²æŸ“äº†ä¸‰ä¸ªæ¥å£ ä¸€ä¸ªæ·»åŠ é‡å‘½åä»¥åŠæ–°å¢</li></ul><p>ä¸‹é¢æ˜¯v-forå¯¹keyçš„ä½œç”¨ ç›¸å½“äºkeyçš„å†…éƒ¨åŸç†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--1. è™šæ‹ŸDOMä¸­keyçš„ä½œç”¨ï¼š</span><br><span class="line">keyæ˜¯è™šæ‹ŸDOMå¯¹è±¡çš„æ ‡è¯†ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVueä¼šæ ¹æ®ã€æ–°æ•°æ®ã€‘ç”Ÿæˆã€æ–°çš„è™šæ‹ŸDOMã€‘, </span><br><span class="line">éšåVueè¿›è¡Œã€æ–°è™šæ‹ŸDOMã€‘ä¸ã€æ—§è™šæ‹ŸDOMã€‘çš„å·®å¼‚æ¯”è¾ƒï¼Œæ¯”è¾ƒè§„åˆ™å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line">2.å¯¹æ¯”è§„åˆ™ï¼š</span><br><span class="line">(1).æ—§è™šæ‹ŸDOMä¸­æ‰¾åˆ°äº†ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„keyï¼š</span><br><span class="line">â‘ .è‹¥è™šæ‹ŸDOMä¸­å†…å®¹æ²¡å˜, ç›´æ¥ä½¿ç”¨ä¹‹å‰çš„çœŸå®DOMï¼</span><br><span class="line">â‘¡.è‹¥è™šæ‹ŸDOMä¸­å†…å®¹å˜äº†, åˆ™ç”Ÿæˆæ–°çš„çœŸå®DOMï¼Œéšåæ›¿æ¢æ‰é¡µé¢ä¸­ä¹‹å‰çš„çœŸå®DOMã€‚</span><br><span class="line">(2).æ—§è™šæ‹ŸDOMä¸­æœªæ‰¾åˆ°ä¸æ–°è™šæ‹ŸDOMç›¸åŒçš„key</span><br><span class="line">åˆ›å»ºæ–°çš„çœŸå®DOMï¼Œéšåæ¸²æŸ“åˆ°åˆ°é¡µé¢ã€‚</span><br><span class="line"></span><br><span class="line">3. ç”¨indexä½œä¸ºkeyå¯èƒ½ä¼šå¼•å‘çš„é—®é¢˜ï¼š</span><br><span class="line">1. è‹¥å¯¹æ•°æ®è¿›è¡Œï¼šé€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œ:</span><br><span class="line">ä¼šäº§ç”Ÿæ²¡æœ‰å¿…è¦çš„çœŸå®DOMæ›´æ–° ==&gt; ç•Œé¢æ•ˆæœæ²¡é—®é¢˜, ä½†æ•ˆç‡ä½ã€‚</span><br><span class="line">2. å¦‚æœç»“æ„ä¸­è¿˜åŒ…å«è¾“å…¥ç±»çš„DOMï¼š</span><br><span class="line">ä¼šäº§ç”Ÿé”™è¯¯DOMæ›´æ–° ==&gt; ç•Œé¢æœ‰é—®é¢˜ã€‚</span><br><span class="line">4. å¼€å‘ä¸­å¦‚ä½•é€‰æ‹©key?:</span><br><span class="line">1.æœ€å¥½ä½¿ç”¨æ¯æ¡æ•°æ®çš„å”¯ä¸€æ ‡è¯†ä½œä¸ºkey, æ¯”å¦‚idã€æ‰‹æœºå·ã€èº«ä»½è¯å·ã€å­¦å·ç­‰å”¯ä¸€å€¼ã€‚</span><br><span class="line">2.å¦‚æœä¸å­˜åœ¨å¯¹æ•°æ®çš„é€†åºæ·»åŠ ã€é€†åºåˆ é™¤ç­‰ç ´åé¡ºåºæ“ä½œï¼Œä»…ç”¨äºæ¸²æŸ“åˆ—è¡¨ç”¨äºå±•ç¤ºï¼Œ</span><br><span class="line">ä½¿ç”¨indexä½œä¸ºkeyæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚--&gt;</span><br></pre></td></tr></table></figure><h3 id="v-forå’Œç›´æ¥forå¾ªç¯çš„åŒºåˆ«">v-forå’Œç›´æ¥forå¾ªç¯çš„åŒºåˆ«</h3><p>æ¯”å¦‚å¯¹ä¸€ä¸ªæ•°ç»„éå† ä½¿ç”¨v-forå–å‡ºçš„å€¼ï¼Œç›´æ¥å°±æ˜¯å…ƒç´ ï¼Œä½†æ˜¯åœ¨Vueä¸­ç›´æ¥ä½¿ç”¨forå¾ªç¯è¿”å›å€¼æ˜¯ä¸‹æ ‡</p><h2 id="æ—¥æ€»ç»“-5">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©å­¦ä¹ å†…å®¹è¾ƒéš¾ï¼Œéœ€è¦ç†è§£keyå’Œå¯¹è±¡ä»¥åŠVueå®ä¾‹ä¹‹é—´çš„å…³ç³»ï¼ŒåˆæŠŠå‡ ä¸ªæ¥å£èƒ½æ¸²æŸ“çš„éƒ½æ¸²æŸ“äº†ï¼Œå¸®å…¶ä»–åç«¯åŒå­¦æ¸²æŸ“äº†ä¸€äº›æ¥å£ï¼Œå­¦åˆ—è¡¨æ¸²æŸ“çš„æ—¶å€™ï¼Œæ¸…é™¤æ˜ç™½çš„æå¥½äº†æ•°ç»„å’Œå¯¹è±¡å¦‚ä½•è°ƒç”¨å±æ€§å’Œå…ƒç´ ã€‚è¿˜æœ‰ä¹‹å‰ä¸å¤ªæ¸…æ¥šçš„forå’Œv-forï¼Œforeachï¼Œifä¹‹ç±»çš„æ–¹æ³•å¤ä¹ äº†ä¸€éï¼Œæ€»çš„æ¥è¯´ä»Šå¤©çš„å­¦ä¹ çŠ¶æ€ï¼Œéƒ½æ˜¯è›®ä¸é”™çš„ã€‚</p></blockquote><h1 id="é‡‘å¸ˆé™„å°-Vueæ¸²æŸ“">é‡‘å¸ˆé™„å° Vueæ¸²æŸ“</h1><h2 id="å­¦ä¹ æ—¥æœŸ-11-19">å­¦ä¹ æ—¥æœŸ: 11.19</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-6">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><ul><li>æäº¤Execl</li></ul><blockquote><p>è‡ªå·±éœ€è¦åšä¸€ä¸ªæäº¤execlæ–‡ä»¶ï¼Œç„¶åä¸Šä¼ åˆ°æ•°æ®åº“ï¼Œèµ·åˆä»¥ä¸ºæ˜¯éœ€è¦è‡ªå·±æŠŠexeclå˜æˆjsonï¼Œç„¶åä¼ ç»™åç«¯æ¥å£çš„ï¼Œå› ä¸ºapifoxä¸­ä¹Ÿæ²¡æœ‰å†™éœ€è¦ä¼ ä»€ä¹ˆå‚æ•°ï¼Œè€Œä¸”åœ¨æˆ‘è‡ªå·±å†™æ¥å£çš„æ—¶å€™ï¼Œpostè¯·æ±‚ä¸€èˆ¬éƒ½æ˜¯æ¥å—ä¸€ä¸ªjsonï¼Œåé¢è‡ªå·±å†™å®Œexeclè½¬jsonï¼Œä¼ çš„æ—¶å€™å¤±è´¥ï¼Œç„¶åå‘Šè¯‰æˆ‘åç«¯æ¥å—çš„æ˜¯fileï¼Œæˆ‘å°±æŠŠè‡ªå·±ä»£ç ä¸­æœªè½¬æ¢æˆjsonçš„fileæ ¼å¼çš„ï¼Œåˆ©ç”¨æ¥å£æŒ‚è½½ç©¿è¿›å»è¿˜æ˜¯ä¸è¡Œã€‚é—®äº†å¾ˆå¤šäººï¼Œéƒ½è®¤ä¸ºæ˜¯å„å¼å„æ ·çš„é—®é¢˜ï¼Œåœ¨æ™šä¸Šè‡ªå·±ç¢ç£¨çš„æ—¶å€™ï¼Œå‘ç°ä¼ é€çš„æ—¶å€™ï¼Œå¡«çš„actionè·¯å¾„ï¼Œè¯·æ±‚å¤´ï¼Œæˆ‘å°±æ‰“å°å‡ºæ¥çœ‹äº†ä¸€ä¸‹ï¼Œå‘ç°å°‘äº†è§£å†³è·¨åŸŸé—®é¢˜çš„ç‚¹ï¼ŒåŠ ä¸Šå»ï¼Œé¡ºåˆ©è§£å†³äº†ï¼Œè¯·æ±‚å¤´ä¹Ÿä¸ä¼šå‡ºç°ä»€ä¹ˆAccpetjsonäº†</p></blockquote><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221121134240835.png" alt="image-20221121134240835"></p><h2 id="BUGç‚¹-6">BUGç‚¹</h2><p>æäº¤execlï¼Œ500é”™è¯¯ï¼Œæ–‡ä»¶ä¼ è¾“å¤±è´¥ï¼Œç±»å‹ä¸åŒ¹é…ï¼è§£å†³æ­¥éª¤å¦‚ä¸Š ä»£ç å¦‚ä¸‹</p><ul><li>å°±æ˜¯åˆ©ç”¨element UI å®ç°çš„ï¼Œä¹‹å‰ä¸çŸ¥é“ç»„ä»¶çš„å®ç°åŸç†ï¼Œè‡ªå·±å»æœç´¢æŸ¥è¯¢äº†èµ„æ–™ï¼Œå‘ç°actionåé¢åªè¦å¡«å†™ä½ ä¸Šä¼ çš„postè¯·æ±‚ï¼Œå°±èƒ½ç›´æ¥ä¼ ä¸Šfileç±»å‹çš„ï¼Œä½†æ˜¯å¦‚æœä½ åç«¯æ˜¯éœ€è¦jsonçš„ï¼Œå°±è¦åŠ ä¸€ä¸ªon-changeç»‘å®šä¸€ä¸ªé’©å­å‡½æ•°å¯¹æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œç„¶åå†å°†å¤„ç†çš„æ–‡ä»¶ç›´æ¥ä¸Šä¼ ã€‚on-changeä¼šè‡ªåŠ¨æ”¶åˆ°ä½ ä¸Šä¼ æ–‡ä»¶çš„å‚æ•°</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-upload class=&quot;upload-demo&quot; action=&quot;/dev-api/business/teacherManage/import&quot;&gt;</span><br><span class="line">    &lt;el-button size=&quot;mini&quot; type=&quot;primary&quot;&gt;å¯¼å…¥æ•™å¸ˆåå•&lt;/el-button&gt; </span><br><span class="line">&lt;/el-upload&gt;</span><br></pre></td></tr></table></figure><h2 id="æ‰©å±•å­¦ä¹ -6">æ‰©å±•å­¦ä¹ </h2><blockquote><p>é‡åˆ°é—®é¢˜:æ¯æ¬¡è¿è¡Œé‡‘å¸ˆé™„å°çš„é¡¹ç›®çš„æ—¶å€™ï¼Œå› ä¸ºè‡ªå·±nodejsæ˜¯19ç‰ˆæœ¬çš„ï¼Œï¼16ä»¥ä¸Šä¼šå¯¹å¾ˆå¤šä¸å…¼å®¹ï¼Œæ‰€ä»¥æ¯æ¬¡æˆ‘è¿è¡Œå‰éƒ½éœ€è¦æ‰§è¡Œ$env:NODE_OPTIONS=â€œâ€“openssl-legacy-providerâ€ è¿™æ ·å¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥æˆ‘å°±å»è§£å†³</p></blockquote><p>è§£å†³æ­¥éª¤:å®‰è£…NVMï¼Œnodejsçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå¯ä»¥éšæ„åˆ‡æ¢ç‰ˆæœ¬ã€‚å‡ºäº†ç‚¹é—®é¢˜æäº†ä¸¤ä¸ªå¤šå°æ—¶ï¼Œå› ä¸ºå¾ˆæ—©æˆ‘å°±å®‰è£…è¿‡nodejs19.0.0çš„è€Œä¸”è£…äº†å¾ˆå¤šæ’ä»¶ï¼Œhexo picgoå•¥çš„ï¼Œæˆ‘æ€•æ•´åäº†åšå®¢å°±æ²¡äº†ã€‚æå¥½ä»¥åå‘ç°ï¼Œæ¯æ¬¡è¾“å…¥å‘½ä»¤éƒ½è¯´æ‰¾ä¸åˆ°ï¼Œæˆ‘å°±è¦ä¸€æ¡ä¸€æ¡çš„é…ç½®ç¯å¢ƒå˜é‡ï¼Œè¿™æ ·å¤ªéº»çƒ¦äº†ï¼Œè€Œä¸”ä»¥åå¦‚æœnpmä¸‹ä¸œè¥¿ï¼Œéƒ½è¦å»é…ä¸ªå˜é‡å²‚ä¸æ˜¯å¾—ä¸å¿å¤±ã€‚å°±å»ç”¨æˆ·å’Œç³»ç»Ÿpathç”¨{}è®¾ç½®ä¸€ä¸ªCç›˜åˆ°æ­£å¼Dç›˜çš„é‡å®šå‘ï¼Œåœ¨åˆ‡æ¢ç‰ˆæœ¬çš„æ—¶å€™ï¼Œæ–‡ä»¶å¤¹ç›®å½•ä¹Ÿä¼šæ”¹å˜ï¼Œåœ¨æ¯ä¸€ä¸ªnodejsç‰ˆæœ¬ä¸­éƒ½åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œä¸€ä¸ªnode_globalå’Œnode_cacheã€‚é…ç½®ç³»ç»Ÿç¯å¢ƒä»¥åŠç”¨æˆ·ç¯å¢ƒï¼Œé—®é¢˜è§£å†³ï¼Œè¿™æ ·æˆ‘ç”¨åšå®¢åˆ‡æ¢æˆ19çš„ï¼Œç”¨Vueå’Œå…¶ä»–çš„å°±ç”¨16çš„å°±å¥½äº†ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221118122844486.png" alt="image-20221118122844486"></p><h2 id="æ—¥æ€»ç»“-6">æ—¥æ€»ç»“</h2><blockquote><p><strong>ä»Šå¤©è¿˜æ˜¯å¯¹é‡‘å¸ˆé™„å°é¡¹ç›®çš„æ¸²æŸ“ï¼Œä»¥åŠä¸€äº›åŠŸèƒ½å®ç°ï¼Œå‰ç«¯çš„å·¥ä½œï¼Œå­¦ä¹ çŠ¶æ€å…¶å®ä¸æ˜¯å¾ˆå¥½ï¼Œæä¸œè¥¿æäº†å¤ªä¹…ï¼Œå®ç°åŠŸèƒ½çš„ä»£ç å…¶å®åˆä¸å¤šï¼Œæœ‰ç‚¹ä»˜å‡ºå’Œå›æŠ¥ä¸æˆæ­£æ¯”çš„æ„Ÿè§‰ã€‚åšé¡¹ç›®çš„è¿‡ç¨‹ä¸­ï¼Œå’ŒåŒå­¦è®¨è®ºä¹Ÿå‘ç°äº†æˆ‘ä»¬å­¦é¡¹ç›®çš„ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚å‰ç«¯æ•´åˆä¸ç”¨gitï¼Œåç«¯æ¥å£è¯´æ˜æ²¡åœ¨apifoxæå†™æ˜ç™½ï¼Œæ¥å£å¯¹ä¸ä¸Šï¼ŒæŠ¥é”™ä¿¡æ¯æ²¡æœ‰è¯´æ¸…æ¥šæ˜¯ä»€ä¹ˆç±»å‹çš„æŠ¥é”™ä¹‹ç±»çš„é—®é¢˜ã€‚ä»Šå¤©çš„éš¾åº¦è¿˜æ˜¯æœ‰çš„ï¼Œèµ·åˆæ²¡æ²Ÿé€šå¥½ï¼Œå¯¼è‡´è‡ªå·±æŠ¥500ä¹Ÿä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼Œæ™šä¸Šçš„æ—¶å€™ï¼Œæ‰ææ¸…æ¥šåç«¯éœ€è¦çš„éœ€æ±‚ï¼Œç„¶åèµ¶äº†å‡ºæ¥ï¼Œå¦‚æœä¸€å¼€å§‹å°±ææ¸…æ¥šï¼Œç„¶åè‡ªå·±ç†è§£ä¸€äº›element uiçš„åŸç†ï¼Œåº”è¯¥å¾ˆå¿«å°±èƒ½è§£å†³äº†ã€‚</strong></p></blockquote><h1 id="Vue-æŒ‡ä»¤">Vue æŒ‡ä»¤</h1><h2 id="å­¦ä¹ æ—¥æœŸ-11-20">å­¦ä¹ æ—¥æœŸ: 11.20</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-7">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="æ”¶é›†è¡¨å•æ•°æ®">æ”¶é›†è¡¨å•æ•°æ®</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221123090944732.png" alt="image-20221123090944732"></p><ul><li><p>æ¯”è¾ƒé‡è¦çš„ç‚¹æˆ‘è§‰å¾—åœ¨å¤šé€‰æ¡†å’Œç‚¹æäº¤æ—¶å€™ï¼Œæ”¶é›†æ•°æ®åœ¨æ§åˆ¶å°é‚£è¾¹ï¼Œå…¶ä»–æ¯”è¾ƒæ™®é€šcsséƒ½å­¦è¿‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--userInfo.hobbyæ˜¯ä¸€ä¸ªæ•°ç»„--&gt;</span><br><span class="line">çˆ±å¥½ï¼š</span><br><span class="line">å­¦ä¹ &lt;input type=&quot;checkbox&quot; v-model=&quot;userInfo.hobby&quot; value=&quot;study&quot;&gt;</span><br><span class="line">æ‰“æ¸¸æˆ&lt;input type=&quot;checkbox&quot; v-model=&quot;userInfo.hobby&quot; value=&quot;game&quot;&gt;</span><br><span class="line">åƒé¥­&lt;input type=&quot;checkbox&quot; v-model=&quot;userInfo.hobby&quot; value=&quot;eat&quot;&gt;</span><br></pre></td></tr></table></figure></li><li><p>æ”¶é›†æ•°æ®</p><p>é€šè¿‡åœ¨formä¸­æ·»åŠ <code>&lt;form @submit.prevent=&quot;demo&quot;&gt;</code>è°ƒç”¨Vueå®ä¾‹ä¸­demoæ–¹æ³•ï¼Œç‚¹å‡»æäº¤æ‰§è¡Œã€‚ä¼šå°†dataä¸­çš„æ•°æ®æ”¶é›†<code>console.log(JSON.stringify(this.userInfo))</code>,ä¸»è¦æ˜¯é€šè¿‡JSON.stringifyæ‰€ä»¥å¦‚æœæˆ‘ä»¬éœ€è¦ç”¨æ•°æ®è¿›è¡Œå¤„ç†çš„è¯ï¼Œå°±å¯ä»¥åœ¨æ–¹æ³•ä¸­è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæ˜¯ä¸€ä¸ªJSONè¿”å›ã€‚</p></li></ul><h3 id="è¿‡æ»¤å™¨">è¿‡æ»¤å™¨</h3><p>å‰ç«¯çš„è¿‡æ»¤å™¨å…¶å®æ˜¯å¯¹æ•°æ®çš„å¤„ç†ï¼Œå’Œåç«¯è¿‡æ»¤è¯·æ±‚æ˜¯ä¸ä¸€æ ·çš„ã€‚æ¡ˆä¾‹å°±æ˜¯å¯¹æ—¶é—´æˆ³çš„æ—¶é—´æ ¼å¼çš„å¤„ç†ã€‚ä½¿ç”¨æ–¹æ³•æ˜¯åœ¨éœ€è¦å¤„ç†çš„å‚æ•°åé¢<br><code>&#123;&#123;time **|** timeFormater&#125;&#125;</code>ï¼Œä¹Ÿå¯ä»¥å¤šæ¬¡ä½¿ç”¨ã€‚ å…¨å±€è¿‡æ»¤å™¨éœ€è¦åœ¨Vueå®ä¾‹å¤–é¢ç”¨Vue.å°±èƒ½å®ç°äº†</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…¨å±€è¿‡æ»¤å™¨</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;mySlice&#x27;</span>,<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> value.<span class="title function_">slice</span>(<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="æŒ‡ä»¤">æŒ‡ä»¤</h3><p>åˆ†ä¸ºæ™®é€šçš„å†…ç½®æŒ‡ä»¤å’Œè‡ªå®šä¹‰æŒ‡ä»¤</p><h4 id="å†…ç½®æŒ‡ä»¤">å†…ç½®æŒ‡ä»¤</h4><p>v-textæŒ‡ä»¤</p><blockquote><p>1.ä½œç”¨ï¼šå‘å…¶æ‰€åœ¨çš„èŠ‚ç‚¹ä¸­æ¸²æŸ“æ–‡æœ¬å†…å®¹ã€‚                                                                                                                                                 2.ä¸æ’å€¼è¯­æ³•çš„åŒºåˆ«ï¼šv-textä¼šæ›¿æ¢æ‰èŠ‚ç‚¹ä¸­çš„å†…å®¹ï¼Œåˆ™ä¸ä¼šã€‚</p></blockquote><p>v-htmlæŒ‡ä»¤</p><blockquote><p>1.ä½œç”¨ï¼šå‘æŒ‡å®šèŠ‚ç‚¹ä¸­æ¸²æŸ“åŒ…å«htmlç»“æ„çš„å†…å®¹ã€‚<br>2.ä¸æ’å€¼è¯­æ³•çš„åŒºåˆ«ï¼š<br>(1).v-htmlä¼šæ›¿æ¢æ‰èŠ‚ç‚¹ä¸­æ‰€æœ‰çš„å†…å®¹ï¼Œåˆ™ä¸ä¼šã€‚<br>(2).v-htmlå¯ä»¥è¯†åˆ«htmlç»“æ„ã€‚</p></blockquote><p>v-cloakæŒ‡ä»¤</p><blockquote><p>1.æœ¬è´¨æ˜¯ä¸€ä¸ªç‰¹æ®Šå±æ€§ï¼ŒVueå®ä¾‹åˆ›å»ºå®Œæ¯•å¹¶æ¥ç®¡å®¹å™¨åï¼Œä¼šåˆ æ‰v-cloakå±æ€§<br>2.ä½¿ç”¨cssé…åˆv-cloakå¯ä»¥è§£å†³ç½‘é€Ÿæ…¢æ—¶é¡µé¢å±•ç¤ºå‡ºçš„é—®é¢˜ã€‚</p></blockquote><p>v-onceæŒ‡ä»¤(é¸¡è‚‹)</p><blockquote><p>1.v-onceæ‰€åœ¨èŠ‚ç‚¹åœ¨åˆæ¬¡åŠ¨æ€æ¸²æŸ“åï¼Œå°±è§†ä¸ºé™æ€å†…å®¹äº†ã€‚<br>2.ä»¥åæ•°æ®çš„æ”¹å˜ä¸ä¼šå¼•èµ·v-onceæ‰€åœ¨ç»“æ„çš„æ›´æ–°ï¼Œå¯ä»¥ç”¨äºä¼˜åŒ–æ€§èƒ½ã€‚</p></blockquote><p>v-preæŒ‡ä»¤</p><blockquote><p>1.è·³è¿‡å…¶æ‰€åœ¨èŠ‚ç‚¹çš„ç¼–è¯‘è¿‡ç¨‹ã€‚<br>2.å¯åˆ©ç”¨å®ƒè·³è¿‡ï¼šæ²¡æœ‰ä½¿ç”¨æŒ‡ä»¤è¯­æ³•ã€æ²¡æœ‰ä½¿ç”¨æ’å€¼è¯­æ³•çš„èŠ‚ç‚¹ï¼Œä¼šåŠ å¿«ç¼–è¯‘ã€‚</p></blockquote><h4 id="è‡ªå®šä¹‰æŒ‡ä»¤">è‡ªå®šä¹‰æŒ‡ä»¤</h4><p>åœ¨Vueå®ä¾‹ä¸­directiveså¯ä»¥è‡ªå®šä¹‰æŒ‡ä»¤åˆ†ä¸ºå‡½æ•°å¼å’Œå¯¹è±¡å¼</p><p>bigæ˜¯å‡½æ•°å¼ä¸‹é¢çš„fbindæ˜¯å¯¹è±¡å¼ï¼Œä¸€èˆ¬æœ‰ä¸‰ç§å¯¹è±¡å¼çš„å›è°ƒ</p><blockquote><p>(1).bindï¼šæŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶è°ƒç”¨ã€‚<br>(2).insertedï¼šæŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶è°ƒç”¨ã€‚<br>(3).updateï¼šæŒ‡ä»¤æ‰€åœ¨æ¨¡æ¿ç»“æ„è¢«é‡æ–°è§£ææ—¶è°ƒç”¨ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">directives</span>:&#123;</span><br><span class="line"><span class="title function_">big</span>(<span class="params">element,binding</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;big&#x27;</span>,<span class="variable language_">this</span>) <span class="comment">//æ³¨æ„æ­¤å¤„çš„thisæ˜¯window</span></span><br><span class="line"><span class="comment">// console.log(&#x27;big&#x27;)</span></span><br><span class="line">element.<span class="property">innerText</span> = binding.<span class="property">value</span> * <span class="number">10</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">fbind</span>:&#123;</span><br><span class="line"><span class="comment">//æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰</span></span><br><span class="line"><span class="title function_">bind</span>(<span class="params">element,binding</span>)&#123;</span><br><span class="line">element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶</span></span><br><span class="line"><span class="title function_">inserted</span>(<span class="params">element,binding</span>)&#123;</span><br><span class="line">element.<span class="title function_">focus</span>()</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶</span></span><br><span class="line"><span class="title function_">update</span>(<span class="params">element,binding</span>)&#123;</span><br><span class="line">element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="BUGç‚¹-7">BUGç‚¹</h2><p>æ— </p><h2 id="æ—¥æ€»ç»“-7">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©çš„å­¦ä¹ çŠ¶æ€ä¸é”™ï¼Œä¸€ä¸Šåˆå­¦ä¹ äº†æ”¶é›†è¡¨å•ä¿¡æ¯å’Œè¿‡æ»¤å™¨ä»¥åŠæŒ‡ä»¤ã€‚å­¦ä¹ éš¾åº¦ä¸€èˆ¬ï¼Œå­¦ä¹ å†…å®¹æ¯”è¾ƒå¤šçš„ï¼Œä¸‹åˆè€ƒäº†ç§‘äºŒï¼Œæ‰€ä»¥åªæœ‰ä¸Šåˆæ—¶é—´å­¦ä¹ äº†ï¼Œæ™šä¸Šå¯¹é‡‘å¸ˆé¡¹ç›®è¿›è¡Œäº†æµ‹è¯•ã€‚æœ€è¿‘æé¡¹ç›®è®©è‡ªå·±çš„ä¸€äº›è®¡åˆ’æœ‰ç‚¹è„±ç¦»è½¨é“äº†ï¼Œéœ€è¦å°½å¿«è°ƒæ•´ä¸€ä¸‹è‡ªå·±çš„çŠ¶æ€ã€‚</p></blockquote><h1 id="Vue-ç”Ÿå‘½å‘¨æœŸå’Œç»„ä»¶">Vue ç”Ÿå‘½å‘¨æœŸå’Œç»„ä»¶</h1><h2 id="å­¦ä¹ æ—¥æœŸ-11-23">å­¦ä¹ æ—¥æœŸ: 11.23</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-8">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="ç”Ÿå‘½å‘¨æœŸ">ç”Ÿå‘½å‘¨æœŸ</h3><ul><li>ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚</li></ul><p>ä½œç”¨</p><ul><li><p>Vueåœ¨å…³é”®æ—¶åˆ»å¸®æˆ‘ä»¬è°ƒç”¨çš„ä¸€äº›ç‰¹æ®Šåç§°çš„å‡½æ•°ã€‚</p></li><li><p>ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åå­—ä¸å¯æ›´æ”¹ï¼Œä½†å‡½æ•°çš„å…·ä½“å†…å®¹æ˜¯ç¨‹åºå‘˜æ ¹æ®éœ€æ±‚ç¼–å†™çš„ã€‚</p></li><li><p>ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­çš„thisæŒ‡å‘æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡ã€‚</p></li></ul><p>ç”Ÿå‘½å‘¨æœŸå…¶å®æ˜¯Vueå®ä¾‹çš„å‡½æ•°ï¼Œå¯ä»¥ç†è§£æˆä¸€ä¸ªå¯¹è±¡ä¸­å°è£…äº†çš„æ–¹æ³•ã€‚æ‰§è¡Œå®Œä¼šé”€æ¯ï¼Œé”€æ¯åã€‚ä¹‹å‰çš„è™šæ‹ŸDOMè½¬æ¢ä¸ºçœŸå®DOMçš„DOMä¼šä¿ç•™ã€‚</p><p><em><strong>å¸¸ç”¨é’©å­</strong></em></p><blockquote><p>1.mounted: å‘é€ajaxè¯·æ±‚ã€å¯åŠ¨å®šæ—¶å™¨ã€ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ã€è®¢é˜…æ¶ˆæ¯ç­‰ã€åˆå§‹åŒ–æ“ä½œã€‘ã€‚<br>2.beforeDestroy: æ¸…é™¤å®šæ—¶å™¨ã€è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ã€å–æ¶ˆè®¢é˜…æ¶ˆæ¯ç­‰ã€æ”¶å°¾å·¥ä½œã€‘ã€‚</p></blockquote><h3 id="éå•é¡¹ç»„ä»¶">éå•é¡¹ç»„ä»¶</h3><ul><li>Vueä½¿ç”¨ç»„ä»¶çš„ä¸‰å¤§æ­¥éª¤<ul><li>å®šä¹‰ç»„ä»¶(åˆ›å»ºç»„ä»¶)</li><li>æ³¨å†Œç»„ä»¶</li><li>ä½¿ç”¨ç»„ä»¶(å†™ç»„ä»¶æ ‡ç­¾)</li></ul></li></ul><h4 id="å®šä¹‰ç»„ä»¶">å®šä¹‰ç»„ä»¶</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºhelloç»„ä»¶</span></span><br><span class="line"><span class="keyword">const</span> hello = <span class="title class_">Vue</span>.<span class="title function_">extend</span>(&#123;</span><br><span class="line"><span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">&lt;div&gt;</span></span><br><span class="line"><span class="string">&lt;h2&gt;ä½ å¥½å•Šï¼ï¼&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">`</span>,</span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;Tom&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="æ³¨å†Œç»„ä»¶">æ³¨å†Œç»„ä»¶</h4><p>åœ¨new Vueä¸­å†™componentsæ–¹æ³•æ˜¯å±€éƒ¨ç»„ä»¶</p><p>Vue.component(â€˜helloâ€™,hello)æ˜¯å…¨å±€ç»„ä»¶</p><h4 id="å†™æ ‡ç­¾">å†™æ ‡ç­¾</h4><p>ä¹Ÿå°±æ˜¯è°ƒç”¨è‡ªå®šä¹‰ç»„ä»¶</p><p><code>&lt;school&gt;&lt;/school&gt;</code></p><p>æˆ–è€…</p><p><code>&lt;school/&gt;</code></p><h4 id="ç»„ä»¶åµŒå¥—">ç»„ä»¶åµŒå¥—</h4><p>åœ¨ç»„ä»¶ä¸­æ³¨å†Œå±€éƒ¨ç»„ä»¶componentï¼Œåœ¨ç»„ä»¶ä¸­æ³¨å†Œçš„ç»„ä»¶æ˜¯è¯¥ç»„ä»¶çš„å­ç±»ï¼Œä¹Ÿæ˜¯åµŒå¥—ã€‚</p><h2 id="æ‰©å±•å­¦ä¹ -7">æ‰©å±•å­¦ä¹ </h2><p>383.èµé‡‘ä¿¡</p><blockquote><p>ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼š<code>ransomNote</code> å’Œ <code>magazine</code> ï¼Œåˆ¤æ–­ <code>ransomNote</code> èƒ½ä¸èƒ½ç”± <code>magazine</code> é‡Œé¢çš„å­—ç¬¦æ„æˆã€‚<br>å¦‚æœå¯ä»¥ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™è¿”å› <code>false</code> ã€‚<br><code>magazine</code> ä¸­çš„æ¯ä¸ªå­—ç¬¦åªèƒ½åœ¨ <code>ransomNote</code> ä¸­ä½¿ç”¨ä¸€æ¬¡ã€‚</p></blockquote><p>è‡ªå·±åšå‡ºæ¥äº†æ„Ÿè§‰é¢˜ç›®ä¸æ˜¯å¾ˆéš¾ï¼Œä½†æ˜¯è‡ªå·±ç”¨äº†è¿™ä¹ˆå¤šè¡Œä»£ç æ‰å®ç°ï¼Œè€—æ—¶ä¹Ÿæœ‰ç‚¹é•¿äº†ï¼Œé€»è¾‘æ€§è¿˜æ˜¯å¾ˆæ¸…æ™°çš„ï¼Œå°±ä¼¼ä¹æœ‰ç‚¹å¤ªéº»çƒ¦äº†ï¼Œæ‰€ä»¥æˆ‘è‡ªå·±çš„æ–¹æ³•ä¸æ˜¯æœ€ä¼˜è§£ã€‚æ‰¾åˆ°ä¸€ä¸ªä¼˜è§£åœ¨ä¸‹é¢ã€‚åˆ©ç”¨26ä¸ªç©ºæ•°ç»„ï¼Œå’Œcharçš„æ•°å­—å½¢å¼ï¼Œå½“ä½œæ•°ç»„çš„ä¸‹æ ‡ï¼Œæ¯å­˜åœ¨ä¸€æ¬¡+1ï¼Œè°ƒç”¨ä¸€æ¬¡å‡1ï¼Œæœ€ååˆ¤æ–­æ˜¯å¦&lt;0äº†ï¼Œ&lt;0å°±ä¸ºfalseï¼Œå…¨éƒ¨éƒ½ä¸å°äº0å°±ä¸ºtrue</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">canConstruct</span><span class="params">(String ransomNote, String magazine)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (ransomNote.length() &gt; magazine.length())&#123; <span class="comment">//é•¿åº¦å°äºç›´æ¥è¿”å›</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(); <span class="comment">//ç»Ÿè®¡magazine æ¯ä¸ªå­—æ¯å’Œå‡ºç°æ¬¡æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (String i : magazine.split(<span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (map.get(i) == <span class="literal">null</span>)&#123;</span><br><span class="line">                map.put(i,count);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            map.computeIfPresent(i,(key, value) -&gt; value + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;String, Integer&gt; map1 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(); <span class="comment">//ransomNote æ¯ä¸ªå­—æ¯å’Œå‡ºç°æ¬¡æ•°</span></span><br><span class="line">        <span class="keyword">for</span> (String x : ransomNote.split(<span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line">            <span class="keyword">if</span> (map.get(x) == <span class="literal">null</span>)&#123; <span class="comment">//æœ‰å­—æ¯ä¸åœ¨magazineä¸­ç›´æ¥è¿”å›</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> <span class="variable">count1</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (map1.get(x) == <span class="literal">null</span>)&#123;</span><br><span class="line">                map1.put(x,count1);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            map1.computeIfPresent(x,(key, value) -&gt; value + <span class="number">1</span>); <span class="comment">//xå¯¹åº”çš„value + 1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (String y : map1.keySet())&#123; <span class="comment">//éå†key æ¬¡æ•°å¤§äºè¿”å›false å…¨éƒ¨é€šè¿‡æ‰è¿”å›true</span></span><br><span class="line">            <span class="keyword">if</span> ( map1.get(y) &gt; map.get(y))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>ä¼˜è§£</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">canConstruct</span><span class="params">(String ransomNote, String magazine)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(ransomNote.length() &gt; magazine.length()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] cnt = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">char</span> c : magazine.toCharArray()) &#123;</span><br><span class="line">        cnt[c - <span class="string">&#x27;a&#x27;</span>] ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">char</span> c : ransomNote.toCharArray()) &#123;</span><br><span class="line">        cnt[c - <span class="string">&#x27;a&#x27;</span>] --;</span><br><span class="line">        <span class="keyword">if</span>(cnt[c - <span class="string">&#x27;a&#x27;</span>] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ—¥æ€»ç»“-8">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©çš„å­¦ä¹ çŠ¶æ€ä¸€èˆ¬çš„ï¼Œå¯èƒ½æ˜¯å› ä¸ºä»Šå¤©çš„å­¦ä¹ éš¾åº¦æä¸Šå»äº†ï¼Œæ˜¯å¯¹äºç»„ä»¶çš„å„ç§ç†è§£ã€‚å¼€å§‹æ˜¯å¯¹Vueçš„å£°æ˜å‘¨æœŸçš„ç†è§£ï¼Œæ¥å—èµ·æ¥è¿˜æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œå’Œå¤§éƒ¨åˆ†çš„ç¼–ç¨‹è¯­è¨€çš„ç”Ÿå‘½å‘¨æœŸéƒ½å·®ä¸å¤šã€‚åˆ°äº†éå•ç»„ä»¶éƒ¨åˆ†å°±æœ‰ç‚¹éš¾äº†ï¼Œå¼•å‡ºäº†ä¸€ä¸ªæ–°çš„æ¦‚å¿µVCï¼Œçœ‹å¼¹å¹•å’Œåšå®¢ï¼Œæˆ‘ç†è§£çš„è¯ï¼Œæœ‰ç‚¹ç±»ä¼¼äºå­ç±»çˆ¶ç±»ï¼ŒVue(Vm)æ˜¯VCçš„çˆ¶ç±»ï¼Œæ‰€ä»¥VCå¯ä»¥ç”¨Vmçš„å„ç§ä¸œè¥¿ï¼Œå¦‚æœVCä¸­æ²¡æœ‰è®¾ç½®çš„å±æ€§ï¼Œå®ƒä¼šå¾€ä¸Šé¢æ‰¾ï¼Œä¼šæ‰¾åˆ°Vmï¼Œæœ€ä¸Šçº§çš„æ˜¯Objectã€‚ä»Šå¤©å…¨æ˜¯ç†è§£ä¸Šé¢çš„æƒ…å†µï¼Œå¬èµ·æ¥ä¹Ÿéå¸¸å›°ï¼Œçœ‹åšå®¢åˆä¸æ˜¯å¾ˆæ˜ç™½ã€‚</p></blockquote><h1 id="Vueå•ç»„ä»¶åˆ†æ">Vueå•ç»„ä»¶åˆ†æ</h1><h2 id="å­¦ä¹ æ—¥æœŸ-11-26">å­¦ä¹ æ—¥æœŸ: 11.26</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-9">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="å•ç»„ä»¶">å•ç»„ä»¶</h3><p>æœ€å¸¸ç”¨çš„é»˜è®¤ å¼€å‘å°±æ˜¯è¿™ä¸ªæ ·å­ éœ€è¦ä¸‹è½½Vueè„šæ‰‹æ¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"> export default &#123;</span><br><span class="line">name:&#x27;School&#x27;,</span><br><span class="line">data()&#123;</span><br><span class="line">return &#123;</span><br><span class="line">name:&#x27;å°šç¡…è°·&#x27;,</span><br><span class="line">address:&#x27;åŒ—äº¬æ˜Œå¹³&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">showName()&#123;</span><br><span class="line">alert(this.name)</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="è„šæ‰‹æ¶ç»“æ„">è„šæ‰‹æ¶ç»“æ„</h3><p>ä¸ªäººç†è§£:</p><ul><li>åˆ›å»ºå®Œvueç›®å½•å¦‚ä¸‹</li><li><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221202093053971.png" alt="image-20221202093053971"></li></ul><p><em><strong>æ‰§è¡Œæ­¥éª¤</strong></em></p><ol><li>é¡¹ç›®å…¥å£æ–‡ä»¶åœ¨main.jsä¸­ï¼Œé€šè¿‡å¼•å…¥vueå’ŒApp(æœ€é«˜çº§çš„vueæ–‡ä»¶)</li><li>åœ¨APPä¸­å·²ç»å¼•å…¥å…¶ä»–çš„ç»„ä»¶</li><li>å…¶ä»–ç»„ä»¶ä¸­æŒ‰ç…§vueè¯­æ³•å†™é¡µé¢ä»¥åŠåŠŸèƒ½</li><li>ç»ˆç«¯è¾“å…¥npm run sever è·‘èµ·æ¥</li></ol><h3 id="å¯¹main-jsç†è§£">å¯¹main.jsç†è§£</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">é¡¹ç›®å…¥å£æ–‡ä»¶</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//å¼•å…¥VUe</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥App</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="comment">//å…³é—­vueæç¤º</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å¼•ç”¨çš„vueæ˜¯vue.runtime.xxx.js</span></span><br><span class="line"><span class="comment">å’Œå®Œæ•´ç‰ˆçš„vueçš„åŒºåˆ«</span></span><br><span class="line"><span class="comment">vue.jsæ˜¯å®Œæ•´ç‰ˆçš„ï¼ŒåŒ…å«æ ¸å¿ƒåŠŸèƒ½å’Œæ¨¡æ¿è§£æå™¨</span></span><br><span class="line"><span class="comment">vue.runtime.xxx.jsæ˜¯è¿è¡Œæ—¶å€™çš„vue åªæœ‰æ ¸å¿ƒåŠŸèƒ½æ²¡æœ‰æ¨¡ç‰ˆè§£æå™¨</span></span><br><span class="line"><span class="comment">éœ€è¦é€šè¿‡renderå‡½æ•°,æ”¶åˆ°createElementå‡½æ•°æŒ‡å®šå†…å®¹ï¼Œæˆ‘ä¸‹é¢å†™çš„å°±æ˜¯åˆ›å»ºå…ƒç´ ä¸ºAppçš„è€ŒAppåœ¨ä¸Šé¢æˆ‘å·²ç»å¼•å…¥ä»–ä¼šè‡ªåŠ¨æ‰¾åˆ°Appï¼Œç„¶åé€šè¿‡Appå¼•å…¥çš„ç»„ä»¶ï¼Œåˆ›å»ºé¡µé¢</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">&#125;)<span class="comment">//el:&#x27;#app&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="BUGç‚¹-8">BUGç‚¹</h2><p>åˆšå¼€å§‹ä¸çŸ¥é“å•¥åŸå› ï¼Œä¹‹å‰æŠ¥çš„é”™è¯¯æ›´å¤šï¼Œç„¶åæŠŠæ–‡ä»¶åå’Œå±æ€§åéƒ½æ”¹æˆäº†å¤§é©¼å³°å‘½ä»¤è§„åˆ™ï¼Œå°‘äº†ä¸€ä¸ªé”™è¯¯ï¼Œè¿™é‡ŒåˆæŠ¥é”™ï¼ŒCSDNæœç´¢è¯´æ˜¯ä»£ç ä¸è§„èŒƒï¼Œç”¨vscodeè‡ªå¸¦çš„shift+alt+fæ ¼å¼åŒ–ä»£ç ä»¥åï¼Œç„¶ååˆæŠ¥é”™ï¼Œå†æœå‘ç°æ˜¯æœ‰ä¸ªåœ°æ–¹ç¼©è¿›æœ‰é—®é¢˜ã€‚å‘½åå¿…é¡»åŒé©¼å³°ä¸çŸ¥é“ä¸ºä»€ä¹ˆâ€¦</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221201170606432.png" alt="image-20221201170606432"></p><h2 id="æ‰©å±•å­¦ä¹ -8">æ‰©å±•å­¦ä¹ </h2><h3 id="åŠ›æ‰£ç®—æ³•é¢˜">åŠ›æ‰£ç®—æ³•é¢˜</h3><ul><li><p>é“¾è¡¨ï¼Œjavaä¸­ä¼¼ä¹æ˜¯æ²¡æœ‰éœ€è¦è‡ªå·±åˆ›å»ºä¸€ä¸ªé“¾è¡¨ç±»</p></li><li><p>é¢˜ç›®ä¸éš¾ï¼Œä½†æ˜¯ä½¿ç”¨é“¾è¡¨çš„è¯ï¼Œé€»è¾‘å°±è¦ä¸ä¸€æ ·äº†ï¼Œéœ€è¦ä¸€ä¸ªæ…¢æŒ‡é’ˆå’Œä¸€ä¸ªå¿«æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆèµ°çš„é€Ÿåº¦æ˜¯æ…¢æŒ‡é’ˆçš„ä¸¤å€(ä¸€ä¸ªnextå’Œä¸¤ä¸ªnext)ã€‚å½“å¿«æŒ‡é’ˆåˆ°nullæˆ–è€…å¿«æŒ‡é’ˆä¸‹ä¸€ä¸ªæ˜¯nullï¼Œå½“å‰çš„æ…¢æŒ‡é’ˆæ‰€æŒ‡çš„ä½ç½®å°±æ˜¯ä¸­é—´ç»“ç‚¹ã€‚</p></li></ul><blockquote><p>ç»™å®šä¸€ä¸ªå¤´ç»“ç‚¹ä¸º <code>head</code> çš„éç©ºå•é“¾è¡¨ï¼Œè¿”å›é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ã€‚<br>å¦‚æœæœ‰ä¸¤ä¸ªä¸­é—´ç»“ç‚¹ï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªä¸­é—´ç»“ç‚¹ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode() &#123;&#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span></span><br><span class="line"><span class="comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> ListNode <span class="title function_">middleNode</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="literal">null</span> &amp;&amp; fast.next != <span class="literal">null</span>)&#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ—¥æ€»ç»“-9">æ—¥æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ çŠ¶æ€è¿˜ä¸é”™ï¼Œå­¦ä¹ å†…å®¹éš¾åº¦ä¸€èˆ¬ã€‚åœ¨å­¦vueè®²åŸç†æ€§çš„æ—¶å€™ä¹Ÿå¬åˆ°æŒºæ˜ç™½çš„ï¼Œåˆ†æäº†è„šæ‰‹æ¶çš„åŸç†ï¼Œä»å“ªé‡Œå¼€å§‹æ‰¾åˆ°å“ªé‡Œçš„ç»„ä»¶ï¼Œè°ƒç”¨ï¼Œè‡ªå·±éƒ½é¡ºäº†ä¸€éï¼Œåšäº†ä¸€é¢˜åŠ›æ‰£ç®—æ³•é¢˜ï¼Œä¸æ˜¯å¾ˆéš¾ï¼Œä½†æ˜¯å› ä¸ºæ²¡ç³»ç»Ÿå­¦è¿‡æ•°æ®ç»“æ„ï¼Œä¸å¤ªæ˜ç™½é“¾è¡¨æ˜¯ä»€ä¹ˆï¼Œè§£å†³æ–¹æ³•æ˜¯æ¨¡ä»¿Cä¸­çš„pæŒ‡é’ˆçš„ã€‚</p><h1 id="Vueå…³é”®å­—">Vueå…³é”®å­—</h1><h2 id="å­¦ä¹ æ—¥æœŸ-11-29">å­¦ä¹ æ—¥æœŸ: 11.29</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-10">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="refçš„ä½¿ç”¨">refçš„ä½¿ç”¨</h3><ul><li>refä¹‹å‰åœ¨é¡¹ç›®ä¸­ç»å¸¸é‡åˆ°éƒ½ä¸çŸ¥é“æ˜¯å¹²å˜›çš„ï¼Œä»Šå¤©çŸ¥é“äº†ï¼Œä»–å¯ä»¥è°ƒç”¨çœŸå®DOMï¼Œåœ¨ç»„ä»¶ä¸­å†™å…¥refå±æ€§</li></ul><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221205083116622.png" alt="image-20221205083116622"></p><p>æˆ‘ç”¨ä¸‰æ¡æ§åˆ¶å°æ‰“å°çœ‹ç»“æœ å¦‚æœæ˜¯è‡ªå®šä¹‰ç»„ä»¶çš„ref è°ƒç”¨çš„æ—¶å€™å°±æ˜¯å®ä¾‹å¯¹è±¡VC</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">title</span>); <span class="comment">//çœŸå®DOM</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">btn</span>); <span class="comment">//çœŸå®DOM</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">sch</span>); <span class="comment">//Schoolç»„ä»¶çš„å®ä¾‹å¯¹è±¡ VC</span></span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221205083212800.png" alt="image-20221205083212800"></p><h3 id="propsé…ç½®">propsé…ç½®</h3><ul><li><p>æ¥å—æ•°æ®å¹¶å£°æ˜</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221205084125196.png" alt="image-20221205084125196"></p></li><li><p>æ¥æ”¶çš„æ–¹æ³•å¤§è‡´æœ‰ä¸‰ç§ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„è¿˜æ˜¯æœ€ç®€å•çš„é‚£ç§,å› ä¸ºç±»å‹ä¹‹ç±»çš„ä¸€èˆ¬éƒ½å›ºå®šå¥½äº†ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç®€å•å£°æ˜æ¥æ”¶</span></span><br><span class="line"><span class="attr">props</span>: [<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;sex&#x27;</span>,<span class="string">&#x27;age&#x27;</span>],</span><br><span class="line"><span class="comment">//æ¥æ”¶çš„åŒæ—¶å¯¹æ•°æ®è¿›è¡Œç±»å‹é™åˆ¶</span></span><br><span class="line"><span class="attr">props</span>:&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="title class_">String</span>,</span><br><span class="line"><span class="attr">sex</span>:<span class="title class_">String</span>,</span><br><span class="line"><span class="attr">age</span>:<span class="title class_">Number</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">props</span>:&#123;</span><br><span class="line"><span class="attr">name</span>:&#123;</span><br><span class="line"><span class="attr">type</span>:<span class="title class_">String</span>,</span><br><span class="line"><span class="attr">required</span>:<span class="literal">true</span> <span class="comment">//true ä¸ºå¿…å¡«</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">age</span>:&#123;</span><br><span class="line"><span class="attr">type</span>:<span class="title class_">Number</span>,</span><br><span class="line"><span class="attr">default</span>:<span class="number">99</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="attr">sex</span>:&#123;</span><br><span class="line"><span class="attr">type</span>:<span class="title class_">String</span>,</span><br><span class="line"><span class="attr">default</span>:<span class="string">&quot;ç”·&quot;</span>, <span class="comment">//é»˜è®¤å€¼</span></span><br><span class="line"><span class="attr">required</span>:<span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="mixinæ··åˆ">mixinæ··åˆ</h3><ul><li>åˆ©ç”¨mixinæ··åˆå°±æ˜¯å¤ç”¨é…ç½® å¯ä»¥æŠŠå¤šä¸ªç»„ä»¶å…±ç”¨çš„é…ç½®æå–æˆä¸€ä¸ªæ··å…¥å¯¹è±¡</li><li>æˆ‘è§‰å¾—åœ¨ç»„ä»¶éœ€è¦å¤§é‡å¤ç”¨é…ç½®çš„æ—¶å€™ï¼Œæ¯”è¾ƒå¥½ç”¨</li><li>æ··åˆçš„æ—¶å€™ï¼Œå¦‚æœé…ç½®ä¹‹é—´æœ‰å†²çªï¼Œä»¥è‡ªå®šä¹‰ç»„ä»¶çš„ä¸ºä¸»</li></ul><ol><li><p>å®šä¹‰æ··åˆmixin åˆ›å»ºjsæ–‡ä»¶</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> hunhe = &#123;</span><br><span class="line"><span class="attr">methods</span>: &#123;</span><br><span class="line"><span class="title function_">showName</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ä½ å¥½å•Šï¼&#x27;</span>)</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> hunhe2 = &#123;</span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"><span class="attr">x</span>:<span class="number">100</span>,</span><br><span class="line"><span class="attr">y</span>:<span class="number">200</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨æ··å…¥ï¼šéœ€è¦å¯¼å…¥æ··åˆçš„js<br>å…¨å±€æ··å…¥ï¼š<code>Vue.mixin(xxx)</code> åœ¨main.jsä¸­ä½¿ç”¨</p></li><li><p>å±€éƒ¨æ··å…¥ï¼š<code>mixins:['hunhe','hunhe2']</code></p></li></ol><h3 id="æ’ä»¶">æ’ä»¶</h3><ul><li>è¿™ä¸ªåŠŸèƒ½å¾ˆnb,ä¹Ÿè¶…çº§ä½¿ç”¨ï¼Œå¯¼å…¥æ’ä»¶å¹¶ä½¿ç”¨çš„è¯ï¼Œä¸€äº›åŠŸèƒ½å¯ä»¥éšå¿ƒæ‰€æ¬²çš„ä½¿ç”¨</li></ul><ol><li><p>åŠŸèƒ½:å¢å¼ºVue ç›¸å½“äºåˆç†çš„å¤–æŒ‚</p></li><li><p>æœ¬è´¨:åŒ…å«installæ–¹æ³•çš„ä¸€ä¸ªå¯¹è±¡ï¼Œinstallçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Vueï¼Œç¬¬äºŒä¸ªä»¥åçš„å‚æ•°æ˜¯æ’ä»¶ä½¿ç”¨è€…ä¼ é€’çš„æ•°æ®ã€‚</p></li><li><p>å®šä¹‰æ’ä»¶ å…¶å®å°±æ˜¯å†™ä¸€ä¸ªjsæ–‡ä»¶ ç„¶åå†™ä¸€ä¸ªinstallæ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line"><span class="title function_">install</span>(<span class="params">Vue,x,y,z</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x,y,z)</span><br><span class="line"><span class="comment">//å…¨å±€è¿‡æ»¤å™¨</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">filter</span>(<span class="string">&#x27;mySlice&#x27;</span>,<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> value.<span class="title function_">slice</span>(<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//å®šä¹‰å…¨å±€æŒ‡ä»¤</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&#x27;fbind&#x27;</span>,&#123;</span><br><span class="line"><span class="comment">//æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰</span></span><br><span class="line"><span class="title function_">bind</span>(<span class="params">element,binding</span>)&#123;</span><br><span class="line">element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//æŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶</span></span><br><span class="line"><span class="title function_">inserted</span>(<span class="params">element,binding</span>)&#123;</span><br><span class="line">element.<span class="title function_">focus</span>()</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡æ¿è¢«é‡æ–°è§£ææ—¶</span></span><br><span class="line"><span class="title function_">update</span>(<span class="params">element,binding</span>)&#123;</span><br><span class="line">element.<span class="property">value</span> = binding.<span class="property">value</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//å®šä¹‰æ··å…¥</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">mixin</span>(&#123;</span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"><span class="attr">x</span>:<span class="number">100</span>,</span><br><span class="line"><span class="attr">y</span>:<span class="number">200</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//ç»™VueåŸå‹ä¸Šæ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼ˆvmå’Œvcå°±éƒ½èƒ½ç”¨äº†ï¼‰</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">hello</span> = <span class="function">()=&gt;</span>&#123;<span class="title function_">alert</span>(<span class="string">&#x27;ä½ å¥½å•Š&#x27;</span>)&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨åœ¨main.jsä¸­ å…ˆå¼•å…¥æ’ä»¶åŒ… ç„¶å<code>Vue.use(å¼•å…¥çš„åå­—,éœ€è¦ä¼ é€’çš„æ•°æ®)</code></p></li></ol><h3 id="scopedæ ·å¼">scopedæ ·å¼</h3><ul><li>è§£å†³styleé—®é¢˜çš„</li><li>styleå¦‚æœè‡ªå·±å®šä¹‰å¥½åå­—äº†ï¼Œåœ¨App.vueä¸­å¯¼å…¥ï¼Œå¦‚æœvueæ–‡ä»¶åŒæ—¶è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå°±ä¼šå‡ºç°è°åå¯¼å…¥ç”¨è°çš„é£æ ¼ï¼Œæ¯”å¦‚student.vueå’Œschool.vueä¸­styleéƒ½æœ‰.demoæ–¹æ³•ï¼Œåœ¨App.vueå¯¼å…¥ä¸¤ä¸ªvueï¼Œè°åå¯¼å…¥åº”ç”¨è°çš„demoæ–¹æ³•ã€‚</li><li>ä½†æ˜¯å¦‚æœæœ‰scopedé¢è¯•å±€éƒ¨åº”ç”¨ï¼Œåœ¨è°é¡µé¢å°±ç”¨è°çš„styleæ ·å¼ <code>&lt;style scoped&gt;</code></li></ul><h2 id="æ‰©å±•å­¦ä¹ -9">æ‰©å±•å­¦ä¹ </h2><p>ä»Šå¤©å¼€å§‹æ¯å¤©ä¸‰-å››é“sqlé¢˜ç›® åŠ›æ‰£ç»ƒæ‰‹</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221205150658629.png" alt="image-20221205150658629"></p><h2 id="æ—¥æ€»ç»“-10">æ—¥æ€»ç»“</h2><p>ä»Šå¤©çš„å­¦ä¹ å†…å®¹éš¾åº¦ä¸€èˆ¬ï¼Œå­¦ä¹ çŠ¶æ€ä¸é”™ï¼Œå‘ç°è‡ªå·±åˆ·å®Œsqlæˆ–è€…ç®—æ³•é¢˜ï¼Œå†å»çœ‹è§†é¢‘ï¼ŒçŠ¶æ€ä¼šå¥½ä¸Šä¸å°‘ã€‚æœ€è¿‘åšçš„é¢˜ç›®ï¼Œä¸»è¦æ˜¯è®©è‡ªå·±å…ˆä¸è¦å¿˜è®°ï¼Œç»ƒæ‰‹ï¼Œè¿‡æ®µæ—¶é—´å°±è¦å»ç»™è‡ªå·±æå‡ä¸€ä¸‹éš¾åº¦äº†ï¼ŒæŠ½ç©ºå»å­¦ä¹ ä¸€ä¸‹æ•°æ®ç»“æ„ã€‚ç¨å¾®ä¸å¤ªç†è§£çš„ç‚¹åœ¨refä¸­ï¼ŒåªçŸ¥é“ä¼šè°ƒç”¨DOMã€‚è¿˜ä¸æ¸…æ¥šæ‹¿åˆ°çœŸå®DOMåï¼Œèƒ½è¿›è¡Œä»€ä¹ˆæ“ä½œã€‚</p><h1 id="Vue-TodoListæ¡ˆä¾‹">Vue TodoListæ¡ˆä¾‹</h1><h2 id="å­¦ä¹ æ—¥æœŸ-11-30">å­¦ä¹ æ—¥æœŸ: 11.30</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-11">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="TodoListæ¡ˆä¾‹">TodoListæ¡ˆä¾‹</h3><ol><li><p>ç»„ä»¶åŒ–ç¼–ç æµç¨‹ï¼š</p><p>â€‹(1).æ‹†åˆ†é™æ€ç»„ä»¶ï¼šç»„ä»¶è¦æŒ‰ç…§åŠŸèƒ½ç‚¹æ‹†åˆ†ï¼Œå‘½åä¸è¦ä¸htmlå…ƒç´ å†²çªã€‚</p><p>â€‹(2).å®ç°åŠ¨æ€ç»„ä»¶ï¼šè€ƒè™‘å¥½æ•°æ®çš„å­˜æ”¾ä½ç½®ï¼Œæ•°æ®æ˜¯ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼Œè¿˜æ˜¯ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼š</p><p>â€‹1).ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ç»„ä»¶è‡ªèº«å³å¯ã€‚</p><p>â€‹2). ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼šæ”¾åœ¨ä»–ä»¬å…±åŒçš„çˆ¶ç»„ä»¶ä¸Šï¼ˆ<span style="color:red">çŠ¶æ€æå‡</span>ï¼‰ã€‚ <strong>æˆ‘åœ¨App.vueä¸­è®¾ç½®çš„todosæ•°ç»„å°±æ˜¯ä¸€ä¸ªçŠ¶æ€æå‡</strong></p><p>â€‹(3).å®ç°äº¤äº’ï¼šä»ç»‘å®šäº‹ä»¶å¼€å§‹ã€‚</p></li><li><p>propsé€‚ç”¨äºï¼š</p><p>propsæˆ‘è§‰å¾—æ˜¯è¯¥æ¡ˆä¾‹æ¯”è¾ƒé‡è¦çš„ç‚¹ ä¸åŒçš„vueå¯ä»¥ç›¸äº’ä¼ æ•°æ® åœ¨ä¹‹å‰å¸®å‰ç«¯åšé¡¹ç›®çš„æ—¶å€™ï¼Œé‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜ï¼Œä½†æ˜¯å½“æ—¶æˆ‘ä»¬éƒ½ä¸ä¼šï¼Œç”¨äº†å…¶ä»–æ–¹å¼å®ç°ï¼Œè¿™ä¸ªå¾ˆæ–¹ä¾¿</p><p>â€‹(1).çˆ¶ç»„ä»¶ ==&gt; å­ç»„ä»¶ é€šä¿¡ <code>å­ç»„ä»¶ç›´æ¥ç”¨çˆ¶ç»„ä»¶ä¼ propsçš„ä¸œè¥¿</code></p><p>â€‹(2).å­ç»„ä»¶ ==&gt; çˆ¶ç»„ä»¶ é€šä¿¡ï¼ˆè¦æ±‚çˆ¶å…ˆç»™å­ä¸€ä¸ªå‡½æ•°ï¼‰<code>çˆ¶ç»„ä»¶è¦ç”¨å­ç»„ä»¶çš„æ•°æ®éœ€è¦å†™ä¸€ä¸ªå‡½æ•°æ¥æ”¶</code></p></li><li><p>ä½¿ç”¨v-modelæ—¶ï¼šv-modelç»‘å®šçš„å€¼ä¸èƒ½æ˜¯propsä¼ è¿‡æ¥çš„å€¼</p><ul><li><p>å¦‚æœåŒæ—¶è¦getå’Œä¿®æ”¹Propsæ•°æ®ï¼Œè¦ç»‘å®šä¸€ä¸ªcomputedè®¡ç®—æ–¹æ³•,å†™getå’Œset</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">isAll</span>:&#123;</span><br><span class="line">  <span class="title function_">get</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">doneTotal</span> === <span class="variable language_">this</span>.<span class="property">countTodo</span> &amp;&amp; <span class="variable language_">this</span>.<span class="property">countTodo</span> &gt; <span class="number">0</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">set</span>(<span class="params">value</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">todos</span>.<span class="title function_">forEach</span>(<span class="function"><span class="params">todo</span> =&gt;</span> &#123;</span><br><span class="line">      todo.<span class="property">done</span> = value</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li></ul></li></ol><h2 id="æ‰©å±•å­¦ä¹ -10">æ‰©å±•å­¦ä¹ </h2><p>ä»Šå¤©åšäº†ä¸‰é¢˜sqlé¢˜ç›®ï¼Œä¸æ˜¯å•çº¯çš„æŸ¥æ‰¾äº†ï¼Œæœ‰ä¿®æ”¹å’Œä¸€ä¸ªåˆ é™¤çš„ï¼Œé¢˜ç›®å¾ˆç®€å•çš„ï¼Œä½†æ˜¯ä¹‹å‰å­¦æ•°æ®æ¸…æ´—çš„æ—¶å€™æ²¡æœ‰åšupdateå’Œdeleteçš„æ“ä½œï¼Œæ‰€ä»¥ä¸å¤ªç†Ÿæ‚‰</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># åˆ é™¤personè¡¨ä¸­emailç›¸åŒçš„ idå¤§çš„é‚£ä¸ª</span><br><span class="line"><span class="keyword">DELETE</span> p1.<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> </span><br><span class="line">Person p1,</span><br><span class="line">Person p2</span><br><span class="line"><span class="keyword">where</span> </span><br><span class="line">p1.email <span class="operator">=</span> p2.email</span><br><span class="line"><span class="keyword">and</span> </span><br><span class="line">p1.Id <span class="operator">&gt;</span> p2.Id</span><br></pre></td></tr></table></figure><h2 id="æ—¥æ€»ç»“-11">æ—¥æ€»ç»“</h2><p>ä»Šå¤©åšäº†ä¸€ä¸ªç»å…¸çš„TodoListæ¡ˆä¾‹ï¼Œåœ¨ä¹‹å‰javawebâ€™çš„æ—¶å€™ä¹Ÿå†™è¿‡ï¼ŒæŒºç®€å•çš„ï¼Œä½†æ˜¯åœ¨è¿™Vueä¸­æ‰€å­¦åˆ°çš„çŸ¥è¯†ï¼ŒåŸºæœ¬éƒ½åœ¨æ¡ˆä¾‹ä¸­æœ‰æ‰€ä½“ç°ï¼Œä¹‹å‰ä¸çŸ¥é“å¦‚ä½•æ¸¸åˆƒæœ‰ä½™ä½¿ç”¨çš„computed,propsç­‰é€šè¿‡è¿™ä¸ªæ¡ˆä¾‹ä¹Ÿéƒ½èä¼šè´¯é€šäº†ï¼Œæ ¹æ®éœ€æ±‚è‡ªå·±ä¹Ÿéƒ½èƒ½å®ç°è¯¥é¡¹ç›®äº†ã€‚éš¾åº¦ä¸€èˆ¬å§ï¼Œå¸Œæœ›å‰é¢å°åŸºç¡€å­¦å®Œåé¢çš„èƒ½å­¦ä¹ é¡ºåˆ©ä¸‹å»ã€‚</p><h1 id="webStorage">webStorage</h1><h2 id="å­¦ä¹ æ—¥æœŸ-12-05">å­¦ä¹ æ—¥æœŸ: 12.05</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-12">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>å­¦ä¹ æœ¬åœ°å­˜å‚¨ï¼Œè‡ªå·±åº”ç”¨åˆ°ä¹‹å‰åšçš„TodoListæ¡ˆä¾‹å½“ä¸­å»ã€‚</p><h3 id="æœ¬åœ°å­˜å‚¨">æœ¬åœ°å­˜å‚¨</h3><p>å­˜å‚¨åœ¨æµè§ˆå™¨ï¼Œåˆ†ä¸¤ç§ã€‚ä¸ºlocalStorage,sessionStorageã€‚åªæ˜¯æ–¹æ³•åä¸ä¸€æ ·ï¼Œå­˜å‚¨ä½ç½®ä¹Ÿä¸ä¸€æ ·ã€‚å¯¹è±¡åä¸ä¸€æ ·æ–¹æ³•åæ˜¯ä¸€æ ·çš„ã€‚éƒ½åœ¨å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œå”¯ä¸€ä¸åŒçš„ç‚¹æ˜¯ localStorageé‡å¯ä»¥åæ•°æ®è¿˜åœ¨ã€‚ä½†æ˜¯sessionStorageé‡å¯åï¼Œæ•°æ®å°±æ¸…ç©ºäº†ã€‚ä¸¤ä¸ªå­˜å‚¨ç‚¹éƒ½åªèƒ½å­˜æ”¾5Mçš„æ•°æ®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span> &gt;</span><br><span class="line"><span class="keyword">let</span> p = &#123;<span class="attr">name</span>:<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="attr">age</span>:<span class="number">18</span>&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">saveData</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg&#x27;</span>,<span class="string">&#x27;hello!!!&#x27;</span>)</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;msg2&#x27;</span>,<span class="number">666</span>)</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;person&#x27;</span>,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(p))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">readData</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg&#x27;</span>))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;msg2&#x27;</span>))</span><br><span class="line"><span class="keyword">const</span> result = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;person&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(result))</span><br><span class="line"><span class="comment">// console.log(localStorage.getItem(&#x27;msg3&#x27;))</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deleteData</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;msg2&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">deleteAllData</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">clear</span>()</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>åº”ç”¨åˆ°TodoListå°±æ˜¯è¿™æ ·çš„çŠ¶æ€ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œéœ€è¦åŠ ä¸€ä¸ªwatchç›‘æ§ï¼Œå¹¶ä¸”æ·±åº¦ç›‘æ§ï¼Œæ‰èƒ½ç›‘æ§åˆ°æ•°ç»„ä¸­å¯¹è±¡çš„å˜åŒ–ã€‚è¿˜æœ‰ä¸€ä¸ªåœ°æ–¹æ˜¯JSON.stringify,å¯ä»¥æŠŠå¯¹è±¡(JSONè¯­æ³•)è¿˜åŸæˆåŸæœ¬çš„æ ·å­ï¼Œè¿™æ ·æ‰èƒ½æ·»åŠ åˆ°webå­˜å‚¨ç©ºé—´ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">watch</span>:&#123;</span><br><span class="line">  <span class="attr">todos</span>:&#123;</span><br><span class="line">    <span class="attr">deep</span>:<span class="literal">true</span>,</span><br><span class="line">    <span class="title function_">handler</span>(<span class="params">value</span>)&#123;</span><br><span class="line">      <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;todos&#x27;</span>,<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(value))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221208193001540.png" alt="image-20221208193001540"></p><h2 id="BUGç‚¹-9">BUGç‚¹</h2><p>åœ¨åšå‘å³è½®è½¬çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨æŠ¥é”™äº†ï¼Œåˆšå¼€å§‹æ²¡æƒ³åˆ°åªè¦å¯¹æ¯ä¸ªä¸‹æ ‡ è¿›è¡Œ å–ä½™å°±è¡Œ è‡ªå·±æƒ³åˆ°çš„æ˜¯ä¸€ç›´å‡å»æ•°ç»„é•¿åº¦ï¼Œç›´åˆ°ä¸‹æ ‡å€¼æ˜¯æœ€æ¥è¿‘0çš„æ­£æ•°ï¼Œå› ä¸ºç©ºé—´å¤æ‚åº¦ä¸º2äº†å¯¼è‡´è¿è¡Œæ—¶é—´ä¼šå¾ˆé•¿ï¼Œè¶…æ—¶äº†ï¼Œä»£ç ä¿®æ”¹å®Œå°±æ²¡é—®é¢˜äº†ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221209152507954.png" alt="image-20221209152507954"></p><h2 id="æ‰©å±•å­¦ä¹ -11">æ‰©å±•å­¦ä¹ </h2><p>ä»Šå¤©åšäº†ä¸¤é“ç®—æ³•é¢˜ï¼Œéƒ½è¿˜æ˜¯æœ‰éš¾åº¦çš„ï¼Œè§£é¢˜æ€è·¯å¾ˆå¤šï¼Œè‡ªå·±ä¸¤ä¸ªéƒ½æ˜¯å…ˆç”¨æš´åŠ›åšå‡ºæ¥ï¼Œç„¶åå†å»æƒ³ç€å¦‚ä½•ä¼˜åŒ–ã€‚ç¬¬ä¸€é¢˜è‡ªå·±ä¼˜åŒ–å‡ºæ¥äº†ï¼Œåé¢é‚£é¢˜ç¨å¾®éš¾ä¸€ç‚¹ï¼Œé¢˜è§£ä¸¤ç§ä¼˜åŒ–æ–¹å¼è‡ªå·±åªä¼šç¬¬äºŒç§ï¼Œç¬¬ä¸€ç§æœ‰ç‚¹å¤ªå·§å¦™äº†ã€‚è‡ªå·±é¢˜è§£å†™åœ¨ä»£ç ä¸­</p><blockquote><p>//è¾“å…¥ä¸€ä¸ªå‡åºçš„æ•°ç»„ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ•°æ®å„ä½ç½®å¹³æ–¹ï¼Œä¹Ÿæ˜¯å‡åº</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] sortedSquares(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">    <span class="comment">//ç¬¬ä¸€ç§ è‡ªå·±å°±æ˜¯ç›´æ¥æ¯ä½å¹³æ–¹å†é‡æ–°æ’åº æ‰§è¡Œæ—¶é—´5ms</span></span><br><span class="line">    <span class="comment">//for (int i = 0; i &lt; nums.length; i++) &#123;</span></span><br><span class="line">    <span class="comment">//    nums[i] = nums[i]*nums[i];</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="comment">//Arrays.parallelSort(nums);</span></span><br><span class="line">    <span class="comment">//return nums;</span></span><br><span class="line">    <span class="comment">//ä¸‹é¢æ˜¯åŒæŒ‡é’ˆ</span></span><br><span class="line">    <span class="comment">//æ€è·¯ å› ä¸ºæ˜¯å‡åºï¼Œæ‰€ä»¥æ•°çš„å¹³æ–¹çš„æœ€å¤§å€¼ä¸€å®šæ˜¯ä¸¤è¾¹,æŠŠè¿™ä¸ªå¤§çš„æ•° æ”¾æ–°æ•°ç»„å³è¾¹ ç„¶åä¸¤ç•Œé™å¾€å†…å¤¹</span></span><br><span class="line">    <span class="type">int</span>[] result  = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">    <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> result.length-<span class="number">1</span>; <span class="comment">//ç»™resultå€’ç€æ’å…¥çš„ä¸‹æ ‡</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> result.length-<span class="number">1</span>; <span class="comment">//å³ç•Œé™</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">//å·¦ç•Œé™</span></span><br><span class="line">    <span class="keyword">while</span>(left &lt;= right)&#123; <span class="comment">//å½“å·¦è¾¹ç­‰äºå³è¾¹ åœæ­¢</span></span><br><span class="line">        <span class="keyword">if</span> (nums[left]*nums[left] &lt; nums[right]*nums[right])&#123; <span class="comment">//ä¸¤è¾¹åˆ¤æ–­å¤§å° å³è¾¹å¤§</span></span><br><span class="line">            result[k--] = nums[right]*nums[right]; <span class="comment">//å¤§çš„æ’å…¥æœ€æ–°æ•°ç»„å³è¾¹ å³è¾¹ä¸‹æ ‡-1</span></span><br><span class="line">            right--; <span class="comment">//å³ç•Œé™å¾€å†…ç§»1</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123; <span class="comment">//å·¦è¾¹å¤§</span></span><br><span class="line">            result[k--] = nums[left]*nums[left]; <span class="comment">//å¤§çš„æ’å…¥æœ€æ–°æ•°ç»„å³è¾¹ å·¦è¾¹ä¸‹æ ‡-1</span></span><br><span class="line">            left++; <span class="comment">//å·¦ç•Œé™å¾€å†…ç§»1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ—¥æ€»ç»“-12">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©çš„ä»»åŠ¡ä¸æ˜¯å¾ˆé‡ï¼Œå­¦ä¹ éš¾åº¦ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå¦‚æœä¹‹å‰è‡ªå·±ä¼šçš„è¯ï¼Œä¹‹å‰åšå‰ç«¯é¡¹ç›®çš„æ—¶å€™ï¼Œå°±å¯ä»¥æŠŠå›¾ç‰‡çš„åœ°å€å­˜è¿›sessionStorageä¸­å»ï¼Œè¿™æ ·ä¸ç”¨æ¯æ¬¡åˆ‡æ¢é¡µé¢çš„æ—¶å€™éƒ½éœ€è¦å‘é€è¯·æ±‚ç»™åç«¯ï¼Œä»æ•°æ®åº“ä¸­æ‹¿è·¯å¾„äº†ï¼Œlistçš„æ—¶å€™å°±ä¸ç”¨ä¸€ç›´æŒ‚è½½äº†ï¼Œåªè¦æŒ‚è½½onceå°±å¥½äº†ã€‚å…¶ä»–çš„æ—¶å€™ç›´æ¥ä»æœ¬åœ°ä¸­è¯»å–ã€‚åšç®—æ³•çš„æ—¶å€™æ€»æ˜¯ä¼šéœ€è¦è¶…æ—¶é—®é¢˜ï¼Œå› ä¸ºè‡ªå·±æ€è·¯éƒ½æ˜¯åˆ†æè¦æ±‚ï¼Œå®ç°è¦æ±‚ï¼Œä»è„‘å­å¸¸ç†åˆ¤æ–­ï¼Œç„¶åå†å»å®ç°ï¼Œè¿™æ ·ä¸ç®—æ˜¯å®ç°ç®—æ³•çš„é€»è¾‘ï¼Œè¿˜æ˜¯éœ€è¦å¤šåšé¢˜ï¼ŒåŸ¹å…»é€»è¾‘ï¼Œè™½ç„¶è‡ªå·±èƒ½æŠŠé—®é¢˜è§£å†³ï¼Œä½†æ˜¯è¿è¡Œæ—¶é•¿å’Œå†…å­˜éƒ½ä¸æ˜¯ä¼˜è§£ã€‚å°¤å…¶æ˜¯è¦è€ƒè™‘å¥½ç©ºé—´å¤æ‚åº¦çš„é—®é¢˜ï¼Œç”¨è‡ªå¸¦çš„æ–¹æ³•ï¼Œä¹Ÿä¼šæœ‰å‘(å¯èƒ½åº•å±‚é€»è¾‘ä¹Ÿæ˜¯å¾ªç¯)ã€‚</p></blockquote><h1 id="Vue-ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶">Vue ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶</h1><h2 id="å­¦ä¹ æ—¥æœŸ-12-06">å­¦ä¹ æ—¥æœŸ: 12.06</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-13">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="è‡ªå®šä¹‰ç»„ä»¶">è‡ªå®šä¹‰ç»„ä»¶</h3><ol><li><p>ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºï¼š<strong style="color:red">å­ç»„ä»¶ ===&gt; çˆ¶ç»„ä»¶</strong></p></li><li><p>ä½¿ç”¨åœºæ™¯ï¼šAæ˜¯çˆ¶ç»„ä»¶ï¼ŒBæ˜¯å­ç»„ä»¶ï¼ŒBæƒ³ç»™Aä¼ æ•°æ®ï¼Œé‚£ä¹ˆå°±è¦åœ¨Aä¸­ç»™Bç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼ˆ<span style="color:red">äº‹ä»¶çš„å›è°ƒåœ¨Aä¸­</span>ï¼‰ã€‚</p></li><li><p>ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼š</p><ol><li><p>ç¬¬ä¸€ç§æ–¹å¼ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼š<code>&lt;Demo @atguigu=&quot;test&quot;/&gt;</code>  æˆ– <code>&lt;Demo v-on:atguigu=&quot;test&quot;/&gt;</code></p></li><li><p>ç¬¬äºŒç§æ–¹å¼ï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="title class_">Demo</span> ref=<span class="string">&quot;demo&quot;</span>/&gt;</span><br><span class="line">......</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">xxx</span>.$on(<span class="string">&#x27;atguigu&#x27;</span>,<span class="variable language_">this</span>.<span class="property">test</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è‹¥æƒ³è®©è‡ªå®šä¹‰äº‹ä»¶åªèƒ½è§¦å‘ä¸€æ¬¡ï¼Œå¯ä»¥ä½¿ç”¨<code>once</code>ä¿®é¥°ç¬¦ï¼Œæˆ–<code>$once</code>æ–¹æ³•ã€‚</p></li></ol></li><li><p>è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼š<code>this.$emit('atguigu',æ•°æ®)</code></p></li><li><p>è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶<code>this.$off('atguigu')</code></p></li><li><p>ç»„ä»¶ä¸Šä¹Ÿå¯ä»¥ç»‘å®šåŸç”ŸDOMäº‹ä»¶ï¼Œéœ€è¦ä½¿ç”¨<code>native</code>ä¿®é¥°ç¬¦ã€‚</p></li><li><p>æ³¨æ„ï¼šé€šè¿‡<code>this.$refs.xxx.$on('atguigu',å›è°ƒ)</code>ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶æ—¶ï¼Œå›è°ƒ<span style="color:red">è¦ä¹ˆé…ç½®åœ¨methodsä¸­</span>ï¼Œ<span style="color:red">è¦ä¹ˆç”¨ç®­å¤´å‡½æ•°</span>ï¼Œå¦åˆ™thisæŒ‡å‘ä¼šå‡ºé—®é¢˜ï¼</p></li></ol><h3 id="åº”ç”¨TodoList">åº”ç”¨TodoList</h3><p>åœ¨Headerå’ŒFooterä¸­æŠŠå­ç»™çˆ¶ä¼ æ•°æ®ä¸­ï¼Œåº”ç”¨è‡ªå®šä¹‰ç»„ä»¶çš„æ–¹æ³•ã€‚å·®ä¸å¤šå°±ä¸¤ä¸ª è‡ªå·±æœ‰ä¸€ä¸ªåˆ é™¤çš„ è‡ªå·±ç›´æ¥å†™åˆ°Footeré‡Œé¢äº†ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221212194306954.png" alt="image-20221212194306954"></p><p>å€¼å¾—æ³¨æ„çš„æ˜¯åœ¨è§¦å‘è‡ªå®šä¹‰äº‹ä»¶çš„æ—¶å€™éœ€è¦ä¼ å…¥æ•°æ®.æŠŠtodoObjä¼ è¿›å»</p><p><code>    this.$emit('addTodo1',todoObj)</code></p><h2 id="æ‰©å±•å­¦ä¹ -12">æ‰©å±•å­¦ä¹ </h2><blockquote><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³è½®è½¬ <code>k</code> ä¸ªä½ç½®ï¼Œå…¶ä¸­ <code>k</code> æ˜¯éè´Ÿæ•°ã€‚</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: nums = <span class="string">[1,2,3,4,5,6,7]</span>, k = <span class="number">3</span></span><br><span class="line">è¾“å‡º: <span class="string">[5,6,7,1,2,3,4]</span></span><br></pre></td></tr></table></figure></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rotate</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="comment">//int count = nums.length;</span></span><br><span class="line">    <span class="comment">//int newNums[] = new int[count];</span></span><br><span class="line">    <span class="comment">//for (int i = 0; i &lt; count; i++) &#123;</span></span><br><span class="line">    <span class="comment">//    newNums[(i+k) % count] = nums[i];</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="comment">//System.arraycopy(newNums, 0, nums, 0, count); //æ‰“å°</span></span><br><span class="line">    <span class="comment">//å…ˆå…¨éƒ¨åè½¬ å†å°†ä¸‹æ ‡ä¸ºk-1åˆ†å‰²çº¿ ä¸¤è¾¹åè½¬</span></span><br><span class="line">    reversal(nums,<span class="number">0</span>,nums.length-<span class="number">1</span>);</span><br><span class="line">    reversal(nums,<span class="number">0</span>,k-<span class="number">1</span>);</span><br><span class="line">    reversal(nums,k,nums.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="comment">//åè½¬ ä¸‹æ ‡ä¸ºstart å’Œ end é—´çš„åè½¬</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] reversal(<span class="type">int</span>[] nums,<span class="type">int</span> start,<span class="type">int</span> end)&#123;</span><br><span class="line">    <span class="keyword">while</span> (start&lt;end)&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[start];</span><br><span class="line">        nums[start] = nums[end];</span><br><span class="line">        nums[end] = temp;</span><br><span class="line">        start++;</span><br><span class="line">        end--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nums;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ—¥æ€»ç»“-13">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©çš„å­¦ä¹ ä»»åŠ¡ä¸æ˜¯å¾ˆé‡ï¼Œéš¾åº¦ä¸€èˆ¬ã€‚å­¦ä¹ äº†è‡ªå®šä¹‰ç»„ä»¶ï¼Œåœ¨å­ä¼ çˆ¶æ•°æ®çš„æ—¶å€™ä½¿ç”¨ï¼Œåˆ›å»ºè§£ç»‘å’Œè§¦å‘ï¼Œå…¶å®å°±æ˜¯åŠ å®Œ@ï¼Œç„¶åå†å»ç»„ä»¶ä¸­è§¦å‘äº‹ä»¶ï¼Œéœ€è¦ä¼ æ•°æ®çš„æ—¶å€™ï¼Œä¼ å…¥æ•°æ®ï¼Œç„¶åå°±æ˜¯è‡ªå·±å¯¹æ˜¯å¯¹TodoListæ¡ˆä¾‹çš„æ”¹é€ ã€‚ä»Šå¤©åšçš„åŠ›æ‰£ç®—æ³•é¢˜éš¾åº¦ä¸€èˆ¬ï¼Œæ€»çš„æ¥è¯´ä»Šå¤©çš„çŠ¶æ€è¿˜ä¸é”™äº†ã€‚</p></blockquote><h1 id="Vue-TodoListæ¡ˆä¾‹å®Œå–„">Vue TodoListæ¡ˆä¾‹å®Œå–„</h1><h2 id="å­¦ä¹ æ—¥æœŸ-12-27">å­¦ä¹ æ—¥æœŸ: 12.27</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-14">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="å…¨å±€äº‹ä»¶æ€»çº¿ï¼ˆGlobalEventBusï¼‰">å…¨å±€äº‹ä»¶æ€»çº¿ï¼ˆGlobalEventBusï¼‰</h3><ol><li><p>ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äº<span style="color:red">ä»»æ„ç»„ä»¶é—´é€šä¿¡</span>ã€‚</p></li><li><p>å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">......</span><br><span class="line"><span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span> <span class="comment">//å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œ$buså°±æ˜¯å½“å‰åº”ç”¨çš„vm</span></span><br><span class="line">&#125;,</span><br><span class="line">    ......</span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨äº‹ä»¶æ€»çº¿ï¼š</p><ol><li><p>æ¥æ”¶æ•°æ®ï¼šAç»„ä»¶æƒ³æ¥æ”¶æ•°æ®ï¼Œåˆ™åœ¨Aç»„ä»¶ä¸­ç»™$busç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ï¼Œäº‹ä»¶çš„<span style="color:red">å›è°ƒç•™åœ¨Aç»„ä»¶è‡ªèº«ã€‚</span></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">demo</span>(<span class="params">data</span>)&#123;......&#125;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$bus</span>.$on(<span class="string">&#x27;xxxx&#x27;</span>,<span class="variable language_">this</span>.<span class="property">demo</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æä¾›æ•°æ®ï¼š<code>this.$bus.$emit('xxxx',æ•°æ®)</code></p></li></ol></li><li><p>æœ€å¥½åœ¨beforeDestroyé’©å­ä¸­ï¼Œç”¨$offå»è§£ç»‘<span style="color:red">å½“å‰ç»„ä»¶æ‰€ç”¨åˆ°çš„</span>äº‹ä»¶ã€‚</p></li></ol><h3 id="æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆpubsubï¼‰">æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒï¼ˆpubsubï¼‰</h3><ol><li><p>ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äº<span style="color:red">ä»»æ„ç»„ä»¶é—´é€šä¿¡</span>ã€‚</p></li><li><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li><p>å®‰è£…pubsubï¼š<code>npm i pubsub-js</code></p></li><li><p>å¼•å…¥: <code>import pubsub from 'pubsub-js'</code></p></li><li><p>æ¥æ”¶æ•°æ®ï¼šAç»„ä»¶æƒ³æ¥æ”¶æ•°æ®ï¼Œåˆ™åœ¨Aç»„ä»¶ä¸­è®¢é˜…æ¶ˆæ¯ï¼Œè®¢é˜…çš„<span style="color:red">å›è°ƒç•™åœ¨Aç»„ä»¶è‡ªèº«ã€‚</span></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">methods</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">demo</span>(<span class="params">data</span>)&#123;......&#125;</span><br><span class="line">&#125;</span><br><span class="line">......</span><br><span class="line"><span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">pid</span> = pubsub.<span class="title function_">subscribe</span>(<span class="string">&#x27;xxx&#x27;</span>,<span class="variable language_">this</span>.<span class="property">demo</span>) <span class="comment">//è®¢é˜…æ¶ˆæ¯</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æä¾›æ•°æ®ï¼š<code>pubsub.publish('xxx',æ•°æ®)</code></p></li><li><p>æœ€å¥½åœ¨beforeDestroyé’©å­ä¸­ï¼Œç”¨<code>PubSub.unsubscribe(pid)</code>å»<span style="color:red">å–æ¶ˆè®¢é˜…ã€‚</span></p></li></ol></li></ol><h3 id="nextTick">nextTick</h3><ol><li>è¯­æ³•ï¼š<code>this.$nextTick(å›è°ƒå‡½æ•°)</code></li><li>ä½œç”¨ï¼šåœ¨ä¸‹ä¸€æ¬¡ DOM æ›´æ–°ç»“æŸåæ‰§è¡Œå…¶æŒ‡å®šçš„å›è°ƒã€‚</li><li>ä»€ä¹ˆæ—¶å€™ç”¨ï¼šå½“æ”¹å˜æ•°æ®åï¼Œè¦åŸºäºæ›´æ–°åçš„æ–°DOMè¿›è¡ŒæŸäº›æ“ä½œæ—¶ï¼Œè¦åœ¨nextTickæ‰€æŒ‡å®šçš„å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œã€‚</li></ol><h2 id="æ‰©å±•å­¦ä¹ -13">æ‰©å±•å­¦ä¹ </h2><p>åŠ›æ‰£ç®—æ³•ç»ƒä¹  ä¸¤ä¸ªä¸€èˆ¬éš¾åº¦ æš´åŠ›åšçš„å‡ºæ¥ ç®—æ³•ä¼˜è§£ç†è§£äº†å¾ˆä¹… ä¸¤é¢˜åšäº†ä¸€ä¸‹åˆ</p><h2 id="æ—¥æ€»ç»“-14">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šæ—¥æ˜¯å¯’å‡å­¦ä¹ ä¸€æ¥ç¬¬ä¸€å¤©å¼€å§‹è®°ç¬”è®°ï¼Œä¹‹å‰å­¦ä¹ çš„ä¸œè¥¿ä»¥åŠç®—æ³•é¢˜ç›®å•¥çš„éƒ½æ²¡æœ‰è®°ï¼Œè§‰å¾—è¿™æ ·è‡ªå·±å­¦ä¹ çš„ä¸œè¥¿ä¼šå¾ˆå¿«å¿˜è®°æ‰ï¼Œæ‰€ä»¥æ‰“ç®—å¯’å‡å­¦ä¹ æœ‰æ—¶é—´è¿˜æ˜¯è¦æŠŠè‡ªå·±æ‰€å­¦çš„ä¸œè¥¿è®°ä¸‹æ¥ï¼Œè¿™æ ·æ•ˆç‡ä¹Ÿä¼šé«˜ä¸å°‘ï¼Œä»Šå¤©çš„å­¦ä¹ å†…å®¹ä¸æ˜¯å¾ˆéš¾ï¼Œè¿˜æ˜¯å¯¹æ¡ˆä¾‹çš„ä¼˜åŒ–ã€‚é‡ç‚¹åœ¨å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œå®ƒå’Œæ¶ˆæ¯è®¢é˜…æ‰€å®ç°çš„åŠŸèƒ½å·®ä¸å¤šçš„ï¼Œä½†æ˜¯è¿˜æ˜¯å…¨å±€äº‹ä»¶æ¯”è¾ƒæ–¹ä¾¿è€Œä¸”ä¸ä¾é ç¬¬ä¸‰æ–¹æ’ä»¶ã€‚ç„¶åæ˜¯å¯¹æ–‡æœ¬æ¡†ç‚¹å‡»ç¼–è¾‘æŒ‰é’®åï¼Œå¯¹æ–‡æœ¬æ¡†çš„èšç„¦ï¼Œä¼šå‘ç°æ˜¯å®ç°åŠŸèƒ½ä¸Šå…ˆåé€»è¾‘é¡ºåºçš„é—®é¢˜å¯¼è‡´æ— æ³•å®ç°çš„ï¼Œæˆ‘æƒ³åˆ°çš„æ˜¯ç”¨ä¸€ä¸ªsetTimeoutå‡½æ•°å»¶æ—¶æ‰§è¡Œï¼Œä¹Ÿèƒ½å®ç°ï¼Œä½†æ˜¯åŠŸèƒ½å®ç”¨æ€§ä¸å¼ºå°±æ˜¯äº†ï¼ŒnextTickå°±èƒ½å¾ˆå¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨ä¸‹ä¸€æ¬¡DOMæ›´æ–°ç»“æŸåæ‰§è¡Œï¼Œå­¦ä¹ çŠ¶æ€è¿˜ä¸é”™ã€‚</p></blockquote><h1 id="Vue-åŠ¨ç”»">Vue åŠ¨ç”»</h1><h2 id="å­¦ä¹ æ—¥æœŸ-12-28">å­¦ä¹ æ—¥æœŸ: 12.28</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-15">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="cssçš„åŠ¨ç”»åŸºç¡€">cssçš„åŠ¨ç”»åŸºç¡€</h3><p>ç¦»åœºå’Œè¿›åœºçš„æ—¶é—´</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.hello-enter-active&#123;</span><br><span class="line"><span class="attribute">animation</span>: atguigu <span class="number">0.5s</span> linear;</span><br><span class="line">&#125;</span><br><span class="line">.hello-leave-active&#123;</span><br><span class="line"><span class="attribute">animation</span>: atguigu <span class="number">0.5s</span> linear reverse;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> atguigu &#123;</span><br><span class="line">from&#123;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">100%</span>);</span><br><span class="line">&#125;</span><br><span class="line">to&#123;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">0px</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>éœ€è¦åœ¨vueä¸­è°ƒç”¨çš„æ—¶å€™è¦ç”¨<code>transition</code>æ ‡ç­¾ç»™åŒ…è£¹èµ·æ¥ï¼Œå¯ä»¥è‡ªå·±è®¾ç½®åå­—åå­—ä¸º<code>.hello-leave-active</code>çš„ç¬¬ä¸€ä½è‡ªå·±éšæ„è®¾ç½®</li><li>æ·»åŠ <code>apper</code>å±æ€§å¼€å§‹åˆ·æ–°å°±ä¼šæœ‰åŠ¨ç”»</li></ul><h3 id="Vueçš„è¿‡åº¦æ•ˆæœ">Vueçš„è¿‡åº¦æ•ˆæœ</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è®¾ç½®åˆ·æ–°å°±å®ç°åŠ¨ç”»æ•ˆæœ*/</span></span><br><span class="line">h1&#123;</span><br><span class="line"><span class="attribute">background-color</span>: orange;</span><br><span class="line"><span class="attribute">transition</span>: <span class="number">0.5s</span> linear;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* è¿›å…¥çš„èµ·ç‚¹ ,ç¦»å¼€çš„ç»ˆç‚¹*/</span></span><br><span class="line"><span class="selector-class">.hello-enter</span>,.hello-leave-to&#123;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">100%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* ç¦»å¼€çš„èµ·ç‚¹ ,å¼€å§‹çš„ç»ˆç‚¹*/</span></span><br><span class="line"><span class="selector-class">.hello-enter-to</span>,.hello-leave&#123;</span><br><span class="line"><span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç”¨ç¬¬ä¸‰æ–¹åŠ¨ç”»animate">ç”¨ç¬¬ä¸‰æ–¹åŠ¨ç”»animate</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install animate.css <span class="comment">#å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—</span></span><br></pre></td></tr></table></figure><p>åœ¨App.vueä¸­å¯¼å…¥</p><p>ä½¿ç”¨å¦‚ä¸‹ ç¦»å¼€å’Œè¿›å…¥çš„åŠ¨ç”»æ˜¯å¯é€‰çš„ åœ¨animate.styleå®˜æ–¹å¯è§ä½¿ç”¨å’Œç”¨æ³•</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20221228201357552.png" alt="image-20221228201357552"></p><h2 id="æ—¥æ€»ç»“-15">æ—¥æ€»ç»“</h2><p>ä»Šå¤©å­¦äº†åŠ¨ç”»çš„æ•ˆæœï¼Œæ„Ÿè§‰è¿˜æ˜¯ä¸é”™çš„ï¼Œç¬¬ä¸‰æ–¹çš„åŠ¨ç”»åº“é‡Œé¢æœ‰ä¸°å¯Œçš„åŠ¨ç”»ï¼Œè¿›å…¥æˆ–è€…é€€å‡ºçš„æ—¶å€™ä½¿ç”¨ã€‚è‡ªå·±åšçš„æ•ˆæœä¹Ÿè¿˜å¯ä»¥ï¼Œæ²¡ä»€ä¹ˆå¤§çš„é—®é¢˜ï¼Œå­¦ä¹ æ•ˆç‡ä¸€èˆ¬ï¼Œåªå­¦äº†æ—©ä¸Šå’Œæ™šä¸Šçš„æ—¶é—´ã€‚ç­‰è¿‡ä¸¤å¤©èº«ä½“å¥½äº†ï¼ŒåŠ å¿«ä¸€ä¸‹å­¦ä¹ é€Ÿåº¦ï¼Œåœ¨å¯’å‡ç»“æŸä¹‹å‰æŠŠVueå’Œæ•°æ®ç»“æ„å’Œç®—æ³•å­¦å…‰ã€‚</p><h1 id="Vueé…ç½®ä»£ç†-è§£å†³è·¨åŸŸé—®é¢˜">Vueé…ç½®ä»£ç† --è§£å†³è·¨åŸŸé—®é¢˜</h1><h2 id="æ–¹æ³•ä¸€">æ–¹æ³•ä¸€</h2><p>åœ¨vue.config.jsä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">devServer</span>:&#123;</span><br><span class="line">  <span class="attr">proxy</span>:<span class="string">&quot;http://localhost:5000&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ol><li>ä¼˜ç‚¹ï¼šé…ç½®ç®€å•ï¼Œè¯·æ±‚èµ„æºæ—¶ç›´æ¥å‘ç»™å‰ç«¯ï¼ˆ8080ï¼‰å³å¯ã€‚</li><li>ç¼ºç‚¹ï¼šä¸èƒ½é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸èƒ½çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚</li><li>å·¥ä½œæ–¹å¼ï¼šè‹¥æŒ‰ç…§ä¸Šè¿°é…ç½®ä»£ç†ï¼Œå½“è¯·æ±‚äº†å‰ç«¯ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œé‚£ä¹ˆè¯¥è¯·æ±‚ä¼šè½¬å‘ç»™æœåŠ¡å™¨ ï¼ˆä¼˜å…ˆåŒ¹é…å‰ç«¯èµ„æºï¼‰</li></ol><h2 id="æ–¹æ³•äºŒ">æ–¹æ³•äºŒ</h2><p>ç¼–å†™vue.config.jsé…ç½®å…·ä½“ä»£ç†è§„åˆ™ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">      <span class="attr">proxy</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;/api1&#x27;</span>: &#123;<span class="comment">// åŒ¹é…æ‰€æœ‰ä»¥ &#x27;/api1&#x27;å¼€å¤´çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5000&#x27;</span>,<span class="comment">// ä»£ç†ç›®æ ‡çš„åŸºç¡€è·¯å¾„</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api1&#x27;</span>: <span class="string">&#x27;&#x27;</span>&#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="string">&#x27;/api2&#x27;</span>: &#123;<span class="comment">// åŒ¹é…æ‰€æœ‰ä»¥ &#x27;/api2&#x27;å¼€å¤´çš„è¯·æ±‚è·¯å¾„</span></span><br><span class="line">        <span class="attr">target</span>: <span class="string">&#x27;http://localhost:5001&#x27;</span>,<span class="comment">// ä»£ç†ç›®æ ‡çš„åŸºç¡€è·¯å¾„</span></span><br><span class="line">        <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">pathRewrite</span>: &#123;<span class="string">&#x27;^/api2&#x27;</span>: <span class="string">&#x27;&#x27;</span>&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">   changeOriginè®¾ç½®ä¸ºtrueæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:5000</span></span><br><span class="line"><span class="comment">   changeOriginè®¾ç½®ä¸ºfalseæ—¶ï¼ŒæœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚å¤´ä¸­çš„hostä¸ºï¼šlocalhost:8080</span></span><br><span class="line"><span class="comment">   changeOriginé»˜è®¤å€¼ä¸ºtrue</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼š</p><ol><li>ä¼˜ç‚¹ï¼šå¯ä»¥é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸”å¯ä»¥çµæ´»çš„æ§åˆ¶è¯·æ±‚æ˜¯å¦èµ°ä»£ç†ã€‚</li><li>ç¼ºç‚¹ï¼šé…ç½®ç•¥å¾®ç¹çï¼Œè¯·æ±‚èµ„æºæ—¶å¿…é¡»åŠ å‰ç¼€ã€‚</li></ol><h1 id="VUE-githubæ¡ˆä¾‹">VUE githubæ¡ˆä¾‹</h1><blockquote><p>æ¡ˆä¾‹ç›®æ ‡ è¾“å…¥githubè‡ªå¸¦çš„apiåœ°å€ è¯·æ±‚è¯¥åœ°å€è·å–è¿”å›å€¼ å¹¶è¿›è¡Œå¤„ç†å±•ç¤ºåœ¨åˆ—è¡¨ä¸­</p></blockquote><p>ç½‘é¡µåˆ†ä¸¤éƒ¨åˆ† ä¸Šé¢æ˜¯Searchç»„ä»¶ å‘è¯·æ±‚ä»¥åŠæ”¶é›†è¯·æ±‚æ•°æ® ä¸‹é¢ä¸ºåˆ—è¡¨å±•ç¤ºéƒ¨åˆ† å°†æ”¶é›†åˆ°çš„è¯·æ±‚å­˜å…¥Listä¸­ ç”¨åˆ°äº†å…¨å±€äº‹ä»¶æ€»çº¿$bus</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20230208185854818.png" alt="image-20230208185854818"></p><p>å…·ä½“å®ç°ä»£ç å¦‚ä¸‹</p><p>å› ä¸ºè¦å®ç°å…¨å±€äº‹ä»¶æ€»çº¿æ‰€ä»¥è¦åœ¨main.jsä¸­åŠ å…¥é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="property">config</span>.<span class="property">productionTip</span> = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  <span class="attr">render</span>:<span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  <span class="title function_">beforeCreate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span> <span class="comment">//å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œ$buså°±æ˜¯å½“å‰åº”ç”¨çš„vm</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="Search-Vue">Search.Vue</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class=&quot;jumbotron&quot;&gt;</span><br><span class="line">    &lt;h3 class=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; placeholder=&quot;enter the name you search&quot; v-model=&quot;keyword&quot;/&gt;&amp;nbsp;</span><br><span class="line">      &lt;button @click=&quot;searchUsers&quot;&gt;Search&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import axios from &#x27;axios&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name: &quot;Search&quot;,</span><br><span class="line">    data () &#123;</span><br><span class="line">      return &#123;</span><br><span class="line">        keyword:&#x27;&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      searchUsers()&#123;</span><br><span class="line">        // ä¼ å…¥ç¬¬ä¸€æ¬¡è¯·æ±‚æ•°æ® </span><br><span class="line">        this.$bus.$emit(&#x27;updateListData&#x27;,&#123;isFirst:false,isLoading:true,errorMsg:&#x27;&#x27;,usersList:[]&#125;)</span><br><span class="line">        axios.get(`https://api.github.com/search/users?q=$&#123;this.keyWord&#125;`).then(</span><br><span class="line">          response =&gt; &#123;</span><br><span class="line">            console.log(&#x27;è¯·æ±‚æˆåŠŸ&#x27;,response.data.items)</span><br><span class="line">            // å¦‚æœè¯·æ±‚æˆåŠŸ å°†è¿”å›çš„å€¼ä¼ ç»™List</span><br><span class="line">            this.$bus.$emit(&#x27;updateListData&#x27;,&#123;isLoading:false,errorMsg:&#x27;&#x27;,usersList:response.data.items&#125;)</span><br><span class="line">          &#125;,</span><br><span class="line">          error =&gt; &#123;</span><br><span class="line">            console.log(&#x27;è¯·æ±‚å¤±è´¥&#x27;,error.message)</span><br><span class="line">            // è¯·æ±‚å¤±è´¥ è¿”å›å€¼ä¸ºæŠ¥é”™ä¿¡æ¯</span><br><span class="line">            this.$bus.$emit(&#x27;updateListData&#x27;,&#123;errorMsg:error.message,usersList:[]&#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="List-vue">List.vue</h2><p>æ”¶é›†æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div class=&quot;row&quot;&gt;</span><br><span class="line">&lt;!-- è¿˜æ²¡ç‚¹å‡»è¿‡æœç´¢ä¸æ˜¾ç¤º ç”¨v-for ç»“åˆåŠ¨æ€å±æ€§ --&gt;</span><br><span class="line">&lt;div v-show=&quot;info.usersList.length&quot; class=&quot;card&quot; v-for=&quot;(user) in info.usersList&quot; :key=&quot;user.id&quot;&gt;</span><br><span class="line">&lt;a :href=&quot;user.html_url&quot; target=&quot;_blank&quot;&gt;</span><br><span class="line">&lt;img :src=&quot;user.avatar_url&quot; style=&#x27;width:100px&#x27;/&gt;</span><br><span class="line">&lt;/a&gt;</span><br><span class="line">&lt;p class=&quot;card-text&quot;&gt;&#123;&#123;user.login&#125;&#125;&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;!-- ç¬¬ä¸€æ¬¡ç™»é™† --&gt;</span><br><span class="line">&lt;h1 v-show=&quot;info.isFirst&quot;&gt;æ¬¢è¿ä½¿ç”¨&lt;/h1&gt;</span><br><span class="line">&lt;!-- åŠ è½½ä¸­ --&gt;</span><br><span class="line">&lt;h1 v-show=&quot;info.isLoading&quot;&gt;åŠ è½½ä¸­........&lt;/h1&gt;</span><br><span class="line">&lt;!-- æŠ¥é”™ --&gt;</span><br><span class="line">&lt;h1 v-show=info.errorMsg&gt;æŠ¥é”™å•¦:  &#123;&#123;info.errorMsg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name: &quot;List&quot;,</span><br><span class="line">data () &#123;</span><br><span class="line">return &#123;</span><br><span class="line">//è¿”å›å€¼å°è£…æˆé›†åˆ</span><br><span class="line">info:&#123;</span><br><span class="line">isFirst:true,</span><br><span class="line">isLoading:false,</span><br><span class="line">errorMsg:&#x27;&#x27;,</span><br><span class="line">usersList:[]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">mounted()&#123;</span><br><span class="line">this.$bus.$on(&#x27;updateListData&#x27;,(dataObject) =&gt; &#123;</span><br><span class="line">console.log(&#x27;æˆ‘æ˜¯Listç»„ä»¶æˆ‘æ”¶åˆ°äº†æ•°æ®&#x27;,dataObject)</span><br><span class="line">// this.info = dataObject</span><br><span class="line">//es6è¯­æ³• å¦‚æœå‰é¢çš„...this.info æœ‰çš„ åé¢dataObjectä¹Ÿæœ‰ å°±æ›¿æ¢ dataObjectæ²¡æœ‰çš„ å°±ç”¨å‰é¢çš„ä¸ºæ•°æ®</span><br><span class="line">//å› ä¸ºåé¢æˆ‘ä¼ å…¥dataObjectçš„æ—¶å€™ä¸¢æ‰äº†isFirst ä½†æ˜¯ç¬¬ä¸€æ¬¡è¿˜æ²¡ä¼ å‚çš„æ—¶å€™æ˜¯æœ‰çš„ ä¸ºé˜²æ­¢ä¸¢å¤± ä½¿ç”¨äº†è¿™æ ·çš„æ–¹æ³•</span><br><span class="line">this.info = &#123;...this.info,...dataObject&#125;</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">  .album &#123;</span><br><span class="line">    min-height: 50rem; /* Can be removed; just added for demo purposes */</span><br><span class="line">    padding-top: 3rem;</span><br><span class="line">    padding-bottom: 3rem;</span><br><span class="line">    background-color: #f7f7f7;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .card &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    width: 33.333%;</span><br><span class="line">    padding: .75rem;</span><br><span class="line">    margin-bottom: 2rem;</span><br><span class="line">    border: 1px solid #efefef;</span><br><span class="line">    text-align: center;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .card &gt; img &#123;</span><br><span class="line">    margin-bottom: .75rem;</span><br><span class="line">    border-radius: 100px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .card-text &#123;</span><br><span class="line">    font-size: 85%;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h1 id="Vueæ’æ§½">Vueæ’æ§½</h1><h2 id="å­¦ä¹ æ—¥æœŸ-2-14">å­¦ä¹ æ—¥æœŸ: 2.14</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-16">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="Vueæ’æ§½çš„æ“ä½œ">Vueæ’æ§½çš„æ“ä½œ</h3><blockquote><p>åˆ†ä¸ºä¸‰å— åˆ†åˆ«æ˜¯é»˜è®¤æ’æ§½  å…·åæ’æ§½ ä½œç”¨åŸŸæ’æ§½</p></blockquote><h4 id="é»˜è®¤æ’æ§½">é»˜è®¤æ’æ§½</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶</span><br><span class="line">&lt;Category&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            htmlç»“æ„</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">å­ç»„ä»¶</span><br><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">            &lt;slot&gt;æ’æ§½é»˜è®¤å†…å®¹&lt;/slot&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h4 id="å…·åæ’æ§½">å…·åæ’æ§½</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä¸­ï¼š</span><br><span class="line">          &lt;Category&gt;</span><br><span class="line">              &lt;template slot=&quot;center&quot;&gt;</span><br><span class="line">                &lt;div&gt;htmlç»“æ„1&lt;/div&gt;</span><br><span class="line">              &lt;/template&gt;</span><br><span class="line">  </span><br><span class="line">              &lt;template v-slot:footer&gt;</span><br><span class="line">                 &lt;div&gt;htmlç»“æ„2&lt;/div&gt;</span><br><span class="line">              &lt;/template&gt;</span><br><span class="line">          &lt;/Category&gt;</span><br><span class="line">å­ç»„ä»¶ä¸­ï¼š</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;category&quot;&gt;</span><br><span class="line">    &lt;h3&gt;&#123;&#123;this.title&#125;&#125;åˆ†ç±»&lt;/h3&gt;</span><br><span class="line">    &lt;slot name=&quot;center&quot;&gt;é»˜è®¤å€¼1&lt;/slot&gt;</span><br><span class="line">    &lt;slot name=&quot;footer&quot;&gt;é»˜è®¤å€¼2&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h4 id="ä½œç”¨åŸŸæ’æ§½">ä½œç”¨åŸŸæ’æ§½</h4><pre><code>1. æ•°æ®åœ¨ç»„ä»¶çš„è‡ªèº«ï¼Œä½†æ ¹æ®æ•°æ®ç”Ÿæˆçš„ç»“æ„éœ€è¦ç»„ä»¶çš„ä½¿ç”¨è€…æ¥å†³å®šã€‚ï¼ˆgamesæ•°æ®åœ¨Categoryç»„ä»¶ä¸­ï¼Œä½†ä½¿ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”±Appç»„ä»¶å†³å®šï¼‰2. å…·ä½“ç¼–ç ï¼š</code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶ä¸­ï¼š</span><br><span class="line">      &lt;Category&gt;</span><br><span class="line">         &lt;template scope=&quot;scopeData&quot;&gt;</span><br><span class="line">            &lt;!-- ç”Ÿæˆçš„æ˜¯ulåˆ—è¡¨ --&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">               &lt;li v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">         &lt;/template&gt;</span><br><span class="line">      &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">      &lt;Category&gt;</span><br><span class="line">         &lt;template slot-scope=&quot;scopeData&quot;&gt;</span><br><span class="line">            &lt;!-- ç”Ÿæˆçš„æ˜¯h4æ ‡é¢˜ --&gt;</span><br><span class="line">            &lt;h4 v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/h4&gt;</span><br><span class="line">         &lt;/template&gt;</span><br><span class="line">      &lt;/Category&gt;</span><br><span class="line">å­ç»„ä»¶ä¸­ï¼š</span><br><span class="line">        &lt;template&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;slot :games=&quot;games&quot;&gt;&lt;/slot&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">      </span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            export default &#123;</span><br><span class="line">                name:&#x27;Category&#x27;,</span><br><span class="line">                props:[&#x27;title&#x27;],</span><br><span class="line">                //æ•°æ®åœ¨å­ç»„ä»¶è‡ªèº«</span><br><span class="line">                data() &#123;</span><br><span class="line">                    return &#123;</span><br><span class="line">                        games:[&#x27;çº¢è‰²è­¦æˆ’&#x27;,&#x27;ç©¿è¶Šç«çº¿&#x27;,&#x27;åŠ²èˆå›¢&#x27;,&#x27;è¶…çº§ç›ä¸½&#x27;]</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="æ‰©å±•å­¦ä¹ -14">æ‰©å±•å­¦ä¹ </h2><blockquote><p>è“æ¡¥æ¯2022çœŸé¢˜ ç»Ÿè®¡å•è¯æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°å–æœ€å¤šçš„ æ‰“å°å­—æ¯å’Œå‡ºç°çš„æ¬¡æ•°  ä½¿ç”¨äº†Asciiç </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="comment">// 1:æ— éœ€package</span></span><br><span class="line"><span class="comment">// 2: ç±»åå¿…é¡»Main, ä¸å¯ä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scan</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="comment">//åœ¨æ­¤è¾“å…¥æ‚¨çš„ä»£ç ...</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">word</span> <span class="operator">=</span> scan.next();</span><br><span class="line">        <span class="type">int</span>[] count = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;word.length();++i)&#123;</span><br><span class="line">          <span class="type">char</span> <span class="variable">num</span> <span class="operator">=</span> word.charAt(i);</span><br><span class="line">          count[num-<span class="number">97</span>] += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxNum</span> <span class="operator">=</span> count[<span class="number">0</span>];</span><br><span class="line">        <span class="type">char</span> <span class="variable">maxWord</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x=<span class="number">0</span>;x&lt;<span class="number">26</span>;x++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(maxNum &lt; count[x])&#123;</span><br><span class="line">                maxNum = count[x];</span><br><span class="line">                maxWord = (<span class="type">char</span>) (x+<span class="number">97</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(maxWord);</span><br><span class="line">        System.out.println(maxNum);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        scan.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ—¥æ€»ç»“-16">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©çš„å­¦ä¹ å†…å®¹ä¸æ˜¯å¾ˆå¤šï¼Œåˆšå¼€å­¦è¿˜æ²¡è°ƒæ•´å¥½çŠ¶æ€ï¼Œå…ˆå¯¹å¯’å‡çš„å­¦ä¹ å†…å®¹çœ‹äº†ä¸€ç‚¹ï¼Œç„¶ååˆ¶è®¢äº†ä¸€ä¸‹å¤§æ•°æ®ä»¥åŠåé¢Javaè¿›é˜¶çš„è®¡åˆ’ã€‚å¹¶æŠŠè¿‘ä¸€å¹´çš„Javaå­¦ä¹ ï¼Œæ‰“ç®—ç”¨xmindåšä¸€ä¸ªæ€ç»´å¯¼å›¾çš„æ€»ç»“ï¼Œä¹Ÿå½“åšå›é¡¾ä¸€ä¸‹Java SEçš„åŸºç¡€çŸ¥è¯†ï¼Œçœ‹å“ªäº›éš¾ç‚¹è‡ªå·±å¿˜è®°äº†ï¼Œå†å»å·©å›ºä¸€ä¸‹ã€‚åé¢çš„Javaå­¦ä¹ è®¡åˆ’æ‰“ç®—ç­‰å¤§æ•°æ®æå®Œï¼Œå†é‡æ–°è°ƒæ•´åˆ¶å®šä¸€ä¸‹ã€‚æ€»å¾—æ¥è¯´ï¼Œä»Šå¤©å­¦ä¹ çš„æ–°çŸ¥è¯†ä¸æ˜¯å¾ˆå¤šï¼Œä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼Œä¸»è¦æ˜¯å¤ä¹ ï¼ŒçŠ¶æ€è¿˜ä¸é”™ã€‚ï¼ï¼ï¼</p></blockquote><h1 id="Vuex-é‡ç‚¹">Vuex(é‡ç‚¹)</h1><h2 id="å­¦ä¹ æ—¥æœŸ-3-21">å­¦ä¹ æ—¥æœŸ: 3.21</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-17">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="1-æ¦‚å¿µ">1.æ¦‚å¿µ</h3><p>â€‹     åœ¨Vueä¸­å®ç°é›†ä¸­å¼çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ç®¡ç†çš„ä¸€ä¸ªVueæ’ä»¶ï¼Œå¯¹vueåº”ç”¨ä¸­å¤šä¸ªç»„ä»¶çš„å…±äº«çŠ¶æ€è¿›è¡Œé›†ä¸­å¼çš„ç®¡ç†ï¼ˆè¯»/å†™ï¼‰ï¼Œä¹Ÿæ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œä¸”é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡ã€‚</p><h3 id="2-ä½¿ç”¨æƒ…å†µ">2.ä½¿ç”¨æƒ…å†µ</h3><p>â€‹     å¤šä¸ªç»„ä»¶éœ€è¦å…±äº«æ•°æ®æ—¶</p><h3 id="3-æ­å»ºvuexç¯å¢ƒ">3.æ­å»ºvuexç¯å¢ƒ</h3><ol><li><p>åˆ›å»ºæ–‡ä»¶ï¼š<code>src/store/index.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼•å…¥Vueæ ¸å¿ƒåº“</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//åº”ç”¨Vuexæ’ä»¶</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‡†å¤‡actionså¯¹è±¡â€”â€”å“åº”ç»„ä»¶ä¸­ç”¨æˆ·çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="keyword">const</span> actions = &#123;&#125;</span><br><span class="line"><span class="comment">//å‡†å¤‡mutationså¯¹è±¡â€”â€”ä¿®æ”¹stateä¸­çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;&#125;</span><br><span class="line"><span class="comment">//å‡†å¤‡stateå¯¹è±¡â€”â€”ä¿å­˜å…·ä½“çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå¹¶æš´éœ²store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">   actions,</span><br><span class="line">   mutations,</span><br><span class="line">   state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>åœ¨<code>main.js</code>ä¸­åˆ›å»ºvmæ—¶ä¼ å…¥<code>store</code>é…ç½®é¡¹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line"><span class="comment">//å¼•å…¥store</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./store&#x27;</span></span><br><span class="line">......</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºvm</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">   <span class="attr">el</span>:<span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">   <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">   store</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-åŸºæœ¬ä½¿ç”¨">4.åŸºæœ¬ä½¿ç”¨</h3><ol><li><p>åˆå§‹åŒ–æ•°æ®ã€é…ç½®<code>actions</code>ã€é…ç½®<code>mutations</code>ï¼Œæ“ä½œæ–‡ä»¶<code>store.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼•å…¥Vueæ ¸å¿ƒåº“</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥Vuex</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">//å¼•ç”¨Vuex</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> actions = &#123;</span><br><span class="line">    <span class="comment">//å“åº”ç»„ä»¶ä¸­åŠ çš„åŠ¨ä½œ</span></span><br><span class="line">   <span class="title function_">jia</span>(<span class="params">context,value</span>)&#123;</span><br><span class="line">      <span class="comment">// console.log(&#x27;actionsä¸­çš„jiaè¢«è°ƒç”¨äº†&#x27;,miniStore,value)</span></span><br><span class="line">      context.<span class="title function_">commit</span>(<span class="string">&#x27;JIA&#x27;</span>,value)</span><br><span class="line">   &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    <span class="comment">//æ‰§è¡ŒåŠ </span></span><br><span class="line">   <span class="title function_">JIA</span>(<span class="params">state,value</span>)&#123;</span><br><span class="line">      <span class="comment">// console.log(&#x27;mutationsä¸­çš„JIAè¢«è°ƒç”¨äº†&#x27;,state,value)</span></span><br><span class="line">      state.<span class="property">sum</span> += value</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–æ•°æ®</span></span><br><span class="line"><span class="keyword">const</span> state = &#123;</span><br><span class="line">   <span class="attr">sum</span>:<span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå¹¶æš´éœ²store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">   actions,</span><br><span class="line">   mutations,</span><br><span class="line">   state,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸­è¯»å–vuexä¸­çš„æ•°æ®ï¼š<code>$store.state.sum</code></p></li><li><p>ç»„ä»¶ä¸­ä¿®æ”¹vuexä¸­çš„æ•°æ®ï¼š<code>$store.dispatch('actionä¸­çš„æ–¹æ³•å',æ•°æ®)</code> æˆ– <code>$store.commit('mutationsä¸­çš„æ–¹æ³•å',æ•°æ®)</code></p><blockquote><p>å¤‡æ³¨ï¼šè‹¥æ²¡æœ‰ç½‘ç»œè¯·æ±‚æˆ–å…¶ä»–ä¸šåŠ¡é€»è¾‘ï¼Œç»„ä»¶ä¸­ä¹Ÿå¯ä»¥è¶Šè¿‡actionsï¼Œå³ä¸å†™<code>dispatch</code>ï¼Œç›´æ¥ç¼–å†™<code>commit</code></p></blockquote></li></ol><h3 id="5-gettersçš„ä½¿ç”¨">5.gettersçš„ä½¿ç”¨</h3><ol><li><p>æ¦‚å¿µï¼šå½“stateä¸­çš„æ•°æ®éœ€è¦ç»è¿‡åŠ å·¥åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨gettersåŠ å·¥ã€‚</p></li><li><p>åœ¨<code>store.js</code>ä¸­è¿½åŠ <code>getters</code>é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">   <span class="title function_">bigSum</span>(<span class="params">state</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">sum</span> * <span class="number">10</span></span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºå¹¶æš´éœ²store</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">   ......</span><br><span class="line">   getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶ä¸­è¯»å–æ•°æ®ï¼š<code>$store.getters.bigSum</code></p></li></ol><h3 id="6-å››ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨">6.å››ä¸ªmapæ–¹æ³•çš„ä½¿ç”¨</h3><ol><li><p><strong>mapStateæ–¹æ³•ï¼š</strong>ç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„<code>state</code>ä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼šsumã€schoolã€subjectï¼ˆå¯¹è±¡å†™æ³•ï¼‰</span></span><br><span class="line">     ...<span class="title function_">mapState</span>(&#123;<span class="attr">sum</span>:<span class="string">&#x27;sum&#x27;</span>,<span class="attr">school</span>:<span class="string">&#x27;school&#x27;</span>,<span class="attr">subject</span>:<span class="string">&#x27;subject&#x27;</span>&#125;),</span><br><span class="line">         </span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼šsumã€schoolã€subjectï¼ˆæ•°ç»„å†™æ³•ï¼‰</span></span><br><span class="line">    ...<span class="title function_">mapState</span>([<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>]),</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p><strong>mapGettersæ–¹æ³•ï¼š</strong>ç”¨äºå¸®åŠ©æˆ‘ä»¬æ˜ å°„<code>getters</code>ä¸­çš„æ•°æ®ä¸ºè®¡ç®—å±æ€§</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼šbigSumï¼ˆå¯¹è±¡å†™æ³•ï¼‰</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>(&#123;<span class="attr">bigSum</span>:<span class="string">&#x27;bigSum&#x27;</span>&#125;),</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å€ŸåŠ©mapGettersç”Ÿæˆè®¡ç®—å±æ€§ï¼šbigSumï¼ˆæ•°ç»„å†™æ³•ï¼‰</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>([<span class="string">&#x27;bigSum&#x27;</span>])</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li><li><p><strong>mapActionsæ–¹æ³•ï¼š</strong>ç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸<code>actions</code>å¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«<code>$store.dispatch(xxx)</code>çš„å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="comment">//é mapActionsç”Ÿæˆï¼šincrementOddã€incrementWaitï¼ˆå¯¹è±¡å½¢å¼ï¼‰</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>(&#123;<span class="attr">incrementOdd</span>:<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="attr">incrementWait</span>:<span class="string">&#x27;jiaWait&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é mapActionsç”Ÿæˆï¼šincrementOddã€incrementWaitï¼ˆæ•°ç»„å½¢å¼ï¼‰</span></span><br><span class="line">    ...<span class="title function_">mapActions</span>([<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="string">&#x27;jiaWait&#x27;</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>mapMutationsæ–¹æ³•ï¼š</strong>ç”¨äºå¸®åŠ©æˆ‘ä»¬ç”Ÿæˆä¸<code>mutations</code>å¯¹è¯çš„æ–¹æ³•ï¼Œå³ï¼šåŒ…å«<code>$store.commit(xxx)</code>çš„å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="comment">//é mapActionsç”Ÿæˆï¼šincrementã€decrementï¼ˆå¯¹è±¡å½¢å¼ï¼‰</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>(&#123;<span class="attr">increment</span>:<span class="string">&#x27;JIA&#x27;</span>,<span class="attr">decrement</span>:<span class="string">&#x27;JIAN&#x27;</span>&#125;),</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//é mapMutationsç”Ÿæˆï¼šJIAã€JIANï¼ˆå¯¹è±¡å½¢å¼ï¼‰</span></span><br><span class="line">    ...<span class="title function_">mapMutations</span>([<span class="string">&#x27;JIA&#x27;</span>,<span class="string">&#x27;JIAN&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>å¤‡æ³¨ï¼šmapActionsä¸mapMutationsä½¿ç”¨æ—¶ï¼Œè‹¥éœ€è¦ä¼ é€’å‚æ•°éœ€è¦ï¼šåœ¨æ¨¡æ¿ä¸­ç»‘å®šäº‹ä»¶æ—¶ä¼ é€’å¥½å‚æ•°ï¼Œå¦åˆ™å‚æ•°æ˜¯äº‹ä»¶å¯¹è±¡ã€‚</p></blockquote><h2 id="æ‰©å±•å­¦ä¹ -15">æ‰©å±•å­¦ä¹ </h2><h3 id="æ¨¡å—åŒ–-å‘½åç©ºé—´">æ¨¡å—åŒ–+å‘½åç©ºé—´</h3><ol><li><p>ç›®çš„ï¼šè®©ä»£ç æ›´å¥½ç»´æŠ¤ï¼Œè®©å¤šç§æ•°æ®åˆ†ç±»æ›´åŠ æ˜ç¡®ã€‚</p></li><li><p>ä¿®æ”¹<code>store.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> countAbout = &#123;</span><br><span class="line">  <span class="attr">namespaced</span>:<span class="literal">true</span>,<span class="comment">//å¼€å¯å‘½åç©ºé—´</span></span><br><span class="line">  <span class="attr">state</span>:&#123;<span class="attr">x</span>:<span class="number">1</span>&#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">getters</span>: &#123;</span><br><span class="line">    <span class="title function_">bigSum</span>(<span class="params">state</span>)&#123;</span><br><span class="line">       <span class="keyword">return</span> state.<span class="property">sum</span> * <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> personAbout = &#123;</span><br><span class="line">  <span class="attr">namespaced</span>:<span class="literal">true</span>,<span class="comment">//å¼€å¯å‘½åç©ºé—´</span></span><br><span class="line">  <span class="attr">state</span>:&#123; ... &#125;,</span><br><span class="line">  <span class="attr">mutations</span>: &#123; ... &#125;,</span><br><span class="line">  <span class="attr">actions</span>: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">  <span class="attr">modules</span>: &#123;</span><br><span class="line">    countAbout,</span><br><span class="line">    personAbout</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å–stateæ•°æ®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å–</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">personAbout</span>.<span class="property">list</span></span><br><span class="line"><span class="comment">//æ–¹å¼äºŒï¼šå€ŸåŠ©mapStateè¯»å–ï¼š</span></span><br><span class="line">...<span class="title function_">mapState</span>(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;sum&#x27;</span>,<span class="string">&#x27;school&#x27;</span>,<span class="string">&#x27;subject&#x27;</span>]),</span><br></pre></td></tr></table></figure></li><li><p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è¯»å–gettersæ•°æ®ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å–</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>[<span class="string">&#x27;personAbout/firstPersonName&#x27;</span>]</span><br><span class="line"><span class="comment">//æ–¹å¼äºŒï¼šå€ŸåŠ©mapGettersè¯»å–ï¼š</span></span><br><span class="line">...<span class="title function_">mapGetters</span>(<span class="string">&#x27;countAbout&#x27;</span>,[<span class="string">&#x27;bigSum&#x27;</span>])</span><br></pre></td></tr></table></figure></li><li><p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨dispatch</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥dispatch</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&#x27;personAbout/addPersonWang&#x27;</span>,person)</span><br><span class="line"><span class="comment">//æ–¹å¼äºŒï¼šå€ŸåŠ©mapActionsï¼š</span></span><br><span class="line">...<span class="title function_">mapActions</span>(<span class="string">&#x27;countAbout&#x27;</span>,&#123;<span class="attr">incrementOdd</span>:<span class="string">&#x27;jiaOdd&#x27;</span>,<span class="attr">incrementWait</span>:<span class="string">&#x27;jiaWait&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure></li><li><p>å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨commit</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥commit</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">commit</span>(<span class="string">&#x27;personAbout/ADD_PERSON&#x27;</span>,person)</span><br><span class="line"><span class="comment">//æ–¹å¼äºŒï¼šå€ŸåŠ©mapMutationsï¼š</span></span><br><span class="line">...<span class="title function_">mapMutations</span>(<span class="string">&#x27;countAbout&#x27;</span>,&#123;<span class="attr">increment</span>:<span class="string">&#x27;JIA&#x27;</span>,<span class="attr">decrement</span>:<span class="string">&#x27;JIAN&#x27;</span>&#125;),</span><br></pre></td></tr></table></figure></li></ol><h2 id="æ—¥æ€»ç»“-17">æ—¥æ€»ç»“</h2><blockquote><p>ä»Šå¤©çš„å­¦ä¹ å†…å®¹æ˜¯vuexï¼Œæ„Ÿè§‰å®ƒçš„åŠŸèƒ½å°±æ˜¯åƒæ˜¯ä¸€ä¸ªJavaä¸­çš„staticï¼Œè®¾ç½®å…¨å±€å˜é‡æˆ–è€…å…¨å±€æ–¹æ³•ï¼Œæ¯”ä¹‹å‰çš„ç»„ä»¶é—´é€šè®¯éƒ½å¥½ç”¨ï¼Œæµç¨‹æ¢³ç†æ˜ç™½æŒæ¡èµ·æ¥ä¹Ÿä¸éš¾ï¼Œæœ‰å¤æ‚è®¡ç®—é€»è¾‘çš„éœ€è¦æ”¾Mutationsä¸­ï¼Œæ™®é€šçš„å°±æ”¾actionsä¸­å°±è¡Œï¼Œæ‰€æœ‰å¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§çš„ï¼Œéƒ½å¯ä»¥ç”¨mapstateï¼Œæ¨¡å—åŒ–æ˜¯ç®—æ‰©å±•äº†ï¼Œä¹Ÿä¸ç®—å¾ˆéš¾ï¼Œä»¥åä¸ºäº†è§„èŒƒæ€§ä»¥åŠä»£ç å¯è¯»æ€§ï¼Œä¼°è®¡è¿˜æ˜¯ä½¿ç”¨vuexæ¨¡å—åŒ–çš„æ¯”è¾ƒå¤šã€‚</p></blockquote><h1 id="Vueè·¯ç”±-é‡ç‚¹">Vueè·¯ç”±(é‡ç‚¹)</h1><h2 id="å­¦ä¹ æ—¥æœŸï¼š3-26-3-27">å­¦ä¹ æ—¥æœŸï¼š3.26-3.27</h2><h2 id="æ‰€å­¦å†…å®¹æ¦‚è¿°-18">æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><ol><li>ç†è§£ï¼š ä¸€ä¸ªè·¯ç”±ï¼ˆrouteï¼‰å°±æ˜¯ä¸€ç»„æ˜ å°„å…³ç³»ï¼ˆkey - valueï¼‰ï¼Œå¤šä¸ªè·¯ç”±éœ€è¦è·¯ç”±å™¨ï¼ˆrouterï¼‰è¿›è¡Œç®¡ç†ã€‚</li><li>å‰ç«¯è·¯ç”±ï¼škeyæ˜¯è·¯å¾„ï¼Œvalueæ˜¯ç»„ä»¶ã€‚</li></ol><h3 id="1-åŸºæœ¬ä½¿ç”¨">1.åŸºæœ¬ä½¿ç”¨</h3><ol><li><p>å®‰è£…vue-routerï¼Œå‘½ä»¤ï¼š<code>npm i vue-router</code></p></li><li><p>åº”ç”¨æ’ä»¶ï¼š<code>Vue.use(VueRouter)</code></p></li><li><p>ç¼–å†™routeré…ç½®é¡¹:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼•å…¥VueRouter</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">//å¼•å…¥Luyou ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">About</span> <span class="keyword">from</span> <span class="string">&#x27;../components/About&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;../components/Home&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºrouterå®ä¾‹å¯¹è±¡ï¼Œå»ç®¡ç†ä¸€ç»„ä¸€ç»„çš„è·¯ç”±è§„åˆ™</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line"><span class="attr">routes</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">About</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Home</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//æš´éœ²router</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router</span><br></pre></td></tr></table></figure></li><li><p>å®ç°åˆ‡æ¢ï¼ˆactive-classå¯é…ç½®é«˜äº®æ ·å¼ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li><li><p>æŒ‡å®šå±•ç¤ºä½ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-view&gt;&lt;/router-view&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="2-å‡ ä¸ªæ³¨æ„ç‚¹">2.å‡ ä¸ªæ³¨æ„ç‚¹</h3><ol><li>è·¯ç”±ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>pages</code>æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬ç»„ä»¶é€šå¸¸å­˜æ”¾åœ¨<code>components</code>æ–‡ä»¶å¤¹ã€‚</li><li>é€šè¿‡åˆ‡æ¢ï¼Œâ€œéšè—â€äº†çš„è·¯ç”±ç»„ä»¶ï¼Œé»˜è®¤æ˜¯è¢«é”€æ¯æ‰çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»æŒ‚è½½ã€‚</li><li>æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„<code>$route</code>å±æ€§ï¼Œé‡Œé¢å­˜å‚¨ç€è‡ªå·±çš„è·¯ç”±ä¿¡æ¯ã€‚</li><li>æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ªrouterï¼Œå¯ä»¥é€šè¿‡ç»„ä»¶çš„<code>$router</code>å±æ€§è·å–åˆ°ã€‚</li></ol><h3 id="3-å¤šçº§è·¯ç”±ï¼ˆå¤šçº§è·¯ç”±ï¼‰">3.å¤šçº§è·¯ç”±ï¼ˆå¤šçº§è·¯ç”±ï¼‰</h3><ol><li><p>é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨childrené…ç½®é¡¹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">routes</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/about&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">About</span>,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Home</span>,</span><br><span class="line"><span class="attr">children</span>:[ <span class="comment">//é€šè¿‡childrené…ç½®å­çº§è·¯ç”±</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;news&#x27;</span>, <span class="comment">//æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼š/news</span></span><br><span class="line"><span class="attr">component</span>:<span class="title class_">News</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;message&#x27;</span>,<span class="comment">//æ­¤å¤„ä¸€å®šä¸è¦å†™ï¼š/message</span></span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Message</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li><li><p>è·³è½¬ï¼ˆè¦å†™å®Œæ•´è·¯å¾„ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;router-link to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="4-è·¯ç”±çš„queryå‚æ•°">4.è·¯ç”±çš„queryå‚æ•°</h3><ol><li><p>ä¼ é€’å‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;</span><br><span class="line">&lt;router-link :to=&quot;/home/message/detail?id=666&amp;title=ä½ å¥½&quot;&gt;è·³è½¬&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- è·³è½¬å¹¶æºå¸¦queryå‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³• --&gt;</span><br><span class="line">&lt;router-link </span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">query:&#123;</span><br><span class="line">   id:666,</span><br><span class="line">            title:&#x27;ä½ å¥½&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;&quot;</span><br><span class="line">&gt;è·³è½¬&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li><li><p>æ¥æ”¶å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">query</span>.<span class="property">id</span></span><br><span class="line">$route.<span class="property">query</span>.<span class="property">title</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="5-å‘½åè·¯ç”±">5.å‘½åè·¯ç”±</h3><ol><li><p>ä½œç”¨ï¼šå¯ä»¥ç®€åŒ–è·¯ç”±çš„è·³è½¬ã€‚</p></li><li><p>å¦‚ä½•ä½¿ç”¨</p><ol><li><p>ç»™è·¯ç”±å‘½åï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/demo&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Demo</span>,</span><br><span class="line"><span class="attr">children</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;test&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Test</span>,</span><br><span class="line"><span class="attr">children</span>:[</span><br><span class="line">&#123;</span><br><span class="line">                      <span class="attr">name</span>:<span class="string">&#x27;hello&#x27;</span> <span class="comment">//ç»™è·¯ç”±å‘½å</span></span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;welcome&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Hello</span>,</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç®€åŒ–è·³è½¬ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--ç®€åŒ–å‰ï¼Œéœ€è¦å†™å®Œæ•´çš„è·¯å¾„ --&gt;</span><br><span class="line">&lt;router-link to=&quot;/demo/test/welcome&quot;&gt;è·³è½¬&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--ç®€åŒ–åï¼Œç›´æ¥é€šè¿‡åå­—è·³è½¬ --&gt;</span><br><span class="line">&lt;router-link :to=&quot;&#123;name:&#x27;hello&#x27;&#125;&quot;&gt;è·³è½¬&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!--ç®€åŒ–å†™æ³•é…åˆä¼ é€’å‚æ•° --&gt;</span><br><span class="line">&lt;router-link </span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">name:&#x27;hello&#x27;,</span><br><span class="line">query:&#123;</span><br><span class="line">   id:666,</span><br><span class="line">            title:&#x27;ä½ å¥½&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;&quot;</span><br><span class="line">&gt;è·³è½¬&lt;/router-link&gt;</span><br></pre></td></tr></table></figure></li></ol></li></ol><h3 id="6-è·¯ç”±çš„paramså‚æ•°">6.è·¯ç”±çš„paramså‚æ•°</h3><ol><li><p>é…ç½®è·¯ç”±ï¼Œå£°æ˜æ¥æ”¶paramså‚æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;/home&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Home</span>,</span><br><span class="line"><span class="attr">children</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;news&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">News</span></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Message</span>,</span><br><span class="line"><span class="attr">children</span>:[</span><br><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;detail/:id/:title&#x27;</span>, <span class="comment">//ä½¿ç”¨å ä½ç¬¦å£°æ˜æ¥æ”¶paramså‚æ•°</span></span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Detail</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¼ é€’å‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼Œtoçš„å­—ç¬¦ä¸²å†™æ³• --&gt;</span><br><span class="line">&lt;router-link :to=&quot;/home/message/detail/666/ä½ å¥½&quot;&gt;è·³è½¬&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- è·³è½¬å¹¶æºå¸¦paramså‚æ•°ï¼Œtoçš„å¯¹è±¡å†™æ³• --&gt;</span><br><span class="line">&lt;router-link </span><br><span class="line">:to=&quot;&#123;</span><br><span class="line">name:&#x27;xiangqing&#x27;,</span><br><span class="line">params:&#123;</span><br><span class="line">   id:666,</span><br><span class="line">            title:&#x27;ä½ å¥½&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&#125;&quot;</span><br><span class="line">&gt;è·³è½¬&lt;/router-link&gt;</span><br></pre></td></tr></table></figure><blockquote><p>ç‰¹åˆ«æ³¨æ„ï¼šè·¯ç”±æºå¸¦paramså‚æ•°æ—¶ï¼Œè‹¥ä½¿ç”¨toçš„å¯¹è±¡å†™æ³•ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨pathé…ç½®é¡¹ï¼Œå¿…é¡»ä½¿ç”¨nameé…ç½®ï¼</p></blockquote></li><li><p>æ¥æ”¶å‚æ•°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$route.<span class="property">params</span>.<span class="property">id</span></span><br><span class="line">$route.<span class="property">params</span>.<span class="property">title</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="7-è·¯ç”±çš„propsé…ç½®">7.è·¯ç”±çš„propsé…ç½®</h3><p>â€‹ä½œç”¨ï¼šè®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°å‚æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">path</span>:<span class="string">&#x27;detail/:id&#x27;</span>,</span><br><span class="line"><span class="attr">component</span>:<span class="title class_">Detail</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸€ç§å†™æ³•ï¼špropså€¼ä¸ºå¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­æ‰€æœ‰çš„key-valueçš„ç»„åˆæœ€ç»ˆéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶</span></span><br><span class="line"><span class="comment">// props:&#123;a:900&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒç§å†™æ³•ï¼špropså€¼ä¸ºå¸ƒå°”å€¼ï¼Œå¸ƒå°”å€¼ä¸ºtrueï¼Œåˆ™æŠŠè·¯ç”±æ”¶åˆ°çš„æ‰€æœ‰paramså‚æ•°é€šè¿‡propsä¼ ç»™Detailç»„ä»¶</span></span><br><span class="line"><span class="comment">// props:true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸‰ç§å†™æ³•ï¼špropså€¼ä¸ºå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›çš„å¯¹è±¡ä¸­æ¯ä¸€ç»„key-valueéƒ½ä¼šé€šè¿‡propsä¼ ç»™Detailç»„ä»¶</span></span><br><span class="line"><span class="title function_">props</span>(<span class="params">route</span>)&#123;</span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line"><span class="attr">id</span>:route.<span class="property">query</span>.<span class="property">id</span>,</span><br><span class="line"><span class="attr">title</span>:route.<span class="property">query</span>.<span class="property">title</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-router-link-çš„replaceå±æ€§">8.<code>&lt;router-link&gt;</code>çš„replaceå±æ€§</h3><ol><li>ä½œç”¨ï¼šæ§åˆ¶è·¯ç”±è·³è½¬æ—¶æ“ä½œæµè§ˆå™¨å†å²è®°å½•çš„æ¨¡å¼</li><li>æµè§ˆå™¨çš„å†å²è®°å½•æœ‰ä¸¤ç§å†™å…¥æ–¹å¼ï¼šåˆ†åˆ«ä¸º<code>push</code>å’Œ<code>replace</code>ï¼Œ<code>push</code>æ˜¯è¿½åŠ å†å²è®°å½•ï¼Œ<code>replace</code>æ˜¯æ›¿æ¢å½“å‰è®°å½•ã€‚è·¯ç”±è·³è½¬æ—¶å€™é»˜è®¤ä¸º<code>push</code></li><li>å¦‚ä½•å¼€å¯<code>replace</code>æ¨¡å¼ï¼š<code>&lt;router-link replace .......&gt;News&lt;/router-link&gt;</code></li></ol><h3 id="9-ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª">9.ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª</h3><ol><li><p>ä½œç”¨ï¼šä¸å€ŸåŠ©<code>&lt;router-link&gt; </code>å®ç°è·¯ç”±è·³è½¬ï¼Œè®©è·¯ç”±è·³è½¬æ›´åŠ çµæ´»</p></li><li><p>å…·ä½“ç¼–ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//$routerçš„ä¸¤ä¸ªAPI</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">params</span>:&#123;</span><br><span class="line"><span class="attr">id</span>:xxx,</span><br><span class="line"><span class="attr">title</span>:xxx</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(&#123;</span><br><span class="line"><span class="attr">name</span>:<span class="string">&#x27;xiangqing&#x27;</span>,</span><br><span class="line"><span class="attr">params</span>:&#123;</span><br><span class="line"><span class="attr">id</span>:xxx,</span><br><span class="line"><span class="attr">title</span>:xxx</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">forward</span>() <span class="comment">//å‰è¿›</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">back</span>() <span class="comment">//åé€€</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">go</span>() <span class="comment">//å¯å‰è¿›ä¹Ÿå¯åé€€</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="10-ç¼“å­˜è·¯ç”±ç»„ä»¶">10.ç¼“å­˜è·¯ç”±ç»„ä»¶</h3><ol><li><p>ä½œç”¨ï¼šè®©ä¸å±•ç¤ºçš„è·¯ç”±ç»„ä»¶ä¿æŒæŒ‚è½½ï¼Œä¸è¢«é”€æ¯ã€‚</p></li><li><p>å…·ä½“ç¼–ç ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br></pre></td></tr></table></figure></li></ol><h3 id="11-ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­">11.ä¸¤ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸé’©å­</h3><ol><li>ä½œç”¨ï¼šè·¯ç”±ç»„ä»¶æ‰€ç‹¬æœ‰çš„ä¸¤ä¸ªé’©å­ï¼Œç”¨äºæ•è·è·¯ç”±ç»„ä»¶çš„æ¿€æ´»çŠ¶æ€ã€‚</li><li>å…·ä½“åå­—ï¼š<ol><li><code>activated</code>è·¯ç”±ç»„ä»¶è¢«æ¿€æ´»æ—¶è§¦å‘ã€‚</li><li><code>deactivated</code>è·¯ç”±ç»„ä»¶å¤±æ´»æ—¶è§¦å‘ã€‚</li></ol></li></ol><h3 id="12-è·¯ç”±å®ˆå«">12.è·¯ç”±å®ˆå«</h3><ol><li><p>ä½œç”¨ï¼šå¯¹è·¯ç”±è¿›è¡Œæƒé™æ§åˆ¶</p></li><li><p>åˆ†ç±»ï¼šå…¨å±€å®ˆå«ã€ç‹¬äº«å®ˆå«ã€ç»„ä»¶å†…å®ˆå«</p></li><li><p>å…¨å±€å®ˆå«:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å…¨å±€å‰ç½®å®ˆå«ï¼šåˆå§‹åŒ–æ—¶æ‰§è¡Œã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢å‰æ‰§è¡Œ</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeEach&#x27;</span>,to,<span class="keyword">from</span>)</span><br><span class="line"><span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>)&#123; <span class="comment">//åˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦éœ€è¦è¿›è¡Œæƒé™æ§åˆ¶</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;atguigu&#x27;</span>)&#123; <span class="comment">//æƒé™æ§åˆ¶çš„å…·ä½“è§„åˆ™</span></span><br><span class="line"><span class="title function_">next</span>() <span class="comment">//æ”¾è¡Œ</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;æš‚æ— æƒé™æŸ¥çœ‹&#x27;</span>)</span><br><span class="line"><span class="comment">// next(&#123;name:&#x27;guanyu&#x27;&#125;)</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">next</span>() <span class="comment">//æ”¾è¡Œ</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å…¨å±€åç½®å®ˆå«ï¼šåˆå§‹åŒ–æ—¶æ‰§è¡Œã€æ¯æ¬¡è·¯ç”±åˆ‡æ¢åæ‰§è¡Œ</span></span><br><span class="line">router.<span class="title function_">afterEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span></span>)=&gt;</span>&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;afterEach&#x27;</span>,to,<span class="keyword">from</span>)</span><br><span class="line"><span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">title</span>)&#123; </span><br><span class="line"><span class="variable language_">document</span>.<span class="property">title</span> = to.<span class="property">meta</span>.<span class="property">title</span> <span class="comment">//ä¿®æ”¹ç½‘é¡µçš„title</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;vue_test&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç‹¬äº«å®ˆå«:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">beforeEnter</span>(<span class="params">to,<span class="keyword">from</span>,next</span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;beforeEnter&#x27;</span>,to,<span class="keyword">from</span>)</span><br><span class="line"><span class="keyword">if</span>(to.<span class="property">meta</span>.<span class="property">isAuth</span>)&#123; <span class="comment">//åˆ¤æ–­å½“å‰è·¯ç”±æ˜¯å¦éœ€è¦è¿›è¡Œæƒé™æ§åˆ¶</span></span><br><span class="line"><span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;school&#x27;</span>) === <span class="string">&#x27;atguigu&#x27;</span>)&#123;</span><br><span class="line"><span class="title function_">next</span>()</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&#x27;æš‚æ— æƒé™æŸ¥çœ‹&#x27;</span>)</span><br><span class="line"><span class="comment">// next(&#123;name:&#x27;guanyu&#x27;&#125;)</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="title function_">next</span>()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶å†…å®ˆå«ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿›å…¥å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œè¿›å…¥è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨</span></span><br><span class="line">beforeRouteEnter (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">//ç¦»å¼€å®ˆå«ï¼šé€šè¿‡è·¯ç”±è§„åˆ™ï¼Œç¦»å¼€è¯¥ç»„ä»¶æ—¶è¢«è°ƒç”¨</span></span><br><span class="line">beforeRouteLeave (to, <span class="keyword">from</span>, next) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="13-è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼">13.è·¯ç”±å™¨çš„ä¸¤ç§å·¥ä½œæ¨¡å¼</h3><ol><li>å¯¹äºä¸€ä¸ªurlæ¥è¯´ï¼Œä»€ä¹ˆæ˜¯hashå€¼ï¼Ÿâ€”â€” #åŠå…¶åé¢çš„å†…å®¹å°±æ˜¯hashå€¼ã€‚</li><li>hashå€¼ä¸ä¼šåŒ…å«åœ¨ HTTP è¯·æ±‚ä¸­ï¼Œå³ï¼šhashå€¼ä¸ä¼šå¸¦ç»™æœåŠ¡å™¨ã€‚</li><li>hashæ¨¡å¼ï¼š<ol><li>åœ°å€ä¸­æ°¸è¿œå¸¦ç€#å·ï¼Œä¸ç¾è§‚ ã€‚</li><li>è‹¥ä»¥åå°†åœ°å€é€šè¿‡ç¬¬ä¸‰æ–¹æ‰‹æœºappåˆ†äº«ï¼Œè‹¥appæ ¡éªŒä¸¥æ ¼ï¼Œåˆ™åœ°å€ä¼šè¢«æ ‡è®°ä¸ºä¸åˆæ³•ã€‚</li><li>å…¼å®¹æ€§è¾ƒå¥½ã€‚</li></ol></li><li>historyæ¨¡å¼ï¼š<ol><li>åœ°å€å¹²å‡€ï¼Œç¾è§‚ ã€‚</li><li>å…¼å®¹æ€§å’Œhashæ¨¡å¼ç›¸æ¯”ç•¥å·®ã€‚</li><li>åº”ç”¨éƒ¨ç½²ä¸Šçº¿æ—¶éœ€è¦åç«¯äººå‘˜æ”¯æŒï¼Œè§£å†³åˆ·æ–°é¡µé¢æœåŠ¡ç«¯404çš„é—®é¢˜ã€‚</li></ol></li></ol><h2 id="æ€»ç»“">æ€»ç»“</h2><blockquote><p>è¿™ä¸¤å¤©æŠŠVueçš„é‡ä¸­ä¹‹é‡çš„è·¯ç”±å­¦å®Œäº†ï¼ŒåŸºæœ¬éƒ½æ˜¯æŒæ¡äº†ï¼Œå†…å®¹è¿˜æ˜¯æŒºå¤šçš„ï¼Œä½†æ˜¯æˆ‘è§‰å¾—ä¸æ˜¯å¾ˆéš¾ï¼Œä¹‹å‰ç»™é‡‘å¸ˆé™„å°æ¸²æŸ“çš„æ—¶å€™ï¼Œä¸»è¦æ¥è§¦çš„å°±æ˜¯è·¯ç”±ï¼Œæ‰€ä»¥æŒæ¡å°±æ²¡ä»€ä¹ˆéš¾åº¦ï¼Œæˆ‘çš„ç†è§£å°±æ˜¯é€šè¿‡è·¯ç”±å®ç°è·³è½¬ä¸åŒçš„ç»„ä»¶ï¼Œä¸ç”¨åˆ·æ–°é¡µé¢ï¼Œç„¶åå°±æ˜¯ç¼“å­˜ä»¥åŠå®ˆå«ï¼Œä¹Ÿæ˜¯æ¯”è¾ƒç®€å•ï¼Œå°±å‡ ä¸ªæ–¹æ³•å‡ ä¸ªå‚æ•°ï¼Œ</p></blockquote>]]></content>
    
    
    <summary type="html">Vueå‰ç«¯å­¦ä¹ ç¬”è®°</summary>
    
    
    
    <category term="å‰åç«¯é¡¹ç›®" scheme="https://u7u7.top/categories/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="Vue" scheme="https://u7u7.top/tags/Vue/"/>
    
    <category term="é¡¹ç›®" scheme="https://u7u7.top/tags/%E9%A1%B9%E7%9B%AE/"/>
    
  </entry>
  
  <entry>
    <title>10æœˆæ€»ç»“</title>
    <link href="https://u7u7.top/posts/22conclusion10.html"/>
    <id>https://u7u7.top/posts/22conclusion10.html</id>
    <published>2023-03-11T08:30:25.000Z</published>
    <updated>2023-03-11T08:30:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="22å¹´æ€»ç»“10æœˆæ€»ç»“">22å¹´æ€»ç»“10æœˆæ€»ç»“</h1><h2 id="ä¸€ã€çŸ¥è¯†ç‚¹æ±‡æ€»">ä¸€ã€çŸ¥è¯†ç‚¹æ±‡æ€»</h2><h3 id="ç¬¬ä¸€å‘¨10-8-10-14">ç¬¬ä¸€å‘¨10.8-10.14</h3><ul><li><p><strong>è¿™å‘¨çš„å­¦ä¹ å†…å®¹</strong> ï¼š Mavené«˜çº§,Gitå…¥é—¨,SSMæ¡†æ¶,Springäº‹åŠ¡</p><p>â€‹                                    SpringMVC ,SSMæ•´åˆ,æ‹¦æˆªå™¨</p></li><li><p><strong>éš¾ç‚¹</strong>ï¼š gitä¸Šä¼ è¿œç¨‹  Springæ³¨è§£å¼€å‘  AOPäº‹åŠ¡ SSMæ•´åˆ</p></li></ul><p>â€‹<strong>ä¸ªäººç†è§£</strong>:</p><ul><li>gitä¸Šä¼ è¿œç¨‹åŸºæœ¬åˆ†6æ­¥ï¼Œå¦‚æœä¸å»ºç«‹åˆ†æ”¯çš„è¯ã€‚æˆ‘åˆ—å‡ºæ¥ï¼Œåœ¨æ–‡ä»¶å¤¹åˆå§‹åŒ–ï¼Œç„¶åadd.ï¼Œå¾…æäº¤ï¼Œç„¶åæ‰§è¡Œgit commitåˆ°æœ¬åœ°,é€‰æ‹©è‡ªå·±è¦ä¸Šäº¤çš„åˆ†æ”¯,ä¸»åˆ†æ”¯é»˜è®¤æ˜¯main,git branchï¼Œç›´æ¥ä¸Šä¼ åˆ°ä¸»åˆ†æ”¯çš„è¯ï¼Œå®¹æ˜“å‡ºç°å†²çªé—®é¢˜ï¼Œéœ€è¦å…ˆpull,æŠŠè¿œç¨‹åº“ä¸‹å‘ä¸‹æ¥ï¼Œç„¶åå†pushæäº¤ï¼Œä¸ç„¶ä¼šæœ‰åˆ†æ”¯çš„å†²çªé—®é¢˜ã€‚å¦‚æœä¸Šä¼ åˆ°åˆ†æ”¯ï¼Œå†åˆ‡æ¢æˆè¯¥åˆ†æ”¯ï¼Œåœ¨è¯¥åˆ†æ”¯ä¸Šé¢å·¥ä½œæ˜¯æ¯”è¾ƒå¥½çš„ä¸€ç§æ–¹æ³•ï¼Œåœ¨åˆ†æ”¯ä¸Šé¢éªŒè¯æ–‡ä»¶å’Œä»£ç æ²¡æœ‰é—®é¢˜çš„è¯ï¼Œå†åˆå¹¶åˆ°ä¸»åˆ†æ”¯ã€‚</li><li>Springæ³¨è§£å¼€å‘,æˆ‘ç†è§£çº¯æ³¨è§£å¼€å‘ï¼Œä¹‹å‰çš„æ³¨è§£å¼€å‘å®šä¹‰beanï¼Œå¤§æŠµæ˜¯ä»¥åç”¨ä¸åˆ°ï¼Œéƒ½æ˜¯çº¯æ³¨è§£å¼€å‘ï¼Œç®€å•è®²å°±æ˜¯ç”¨é…ç½®ç±»+æ³¨è§£çš„æ–¹å¼ä»£æ›¿xmlå¼€å‘ï¼Œxmlå¼€å‘æ•ˆç‡å¤ªä½äº†ã€‚æ ¸å¿ƒæ€æƒ³å…¶å®å°±æ˜¯å®¹å™¨ç®¡ç†å¯¹è±¡ï¼Œç„¶åä¾èµ–æ³¨å…¥æ¥ç»‘å®šå¯¹è±¡å…³ç³»ï¼Œæˆ–è€…åƒ@Valueä¸€æ ·ä¼ é€’æ•°æ®ã€‚</li><li>AOPæ˜¯é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œå…¶å®ä¸€ç§ç¼–ç¨‹æ¨¡å¼å’Œé¢å‘å¯¹è±¡ä¸€æ ·éƒ½æ˜¯ä¸€ç§ç¼–ç¨‹çš„æ€æƒ³ã€‚ä»–çš„ä½œç”¨å°±æ˜¯åœ¨ä¸æƒŠåŠ¨åŸå§‹è®¾è®¡çš„åŸºç¡€ä¸Šä¸ºå…¶è¿›è¡ŒåŠŸèƒ½å¢å¼ºï¼Œå’Œä¹‹å‰å­¦è¿‡çš„ä»£ç†æ¨¡å¼å¾ˆåƒã€‚å®ç°æ­¥éª¤ä¹Ÿå¾ˆç®€å•å°±æ˜¯å¯¼å…¥ä¾èµ–ï¼Œç„¶ååœ¨éœ€è¦ä½¿ç”¨AOPäº‹åŠ¡çš„åœ°æ–¹æ³¨å…¥æ³¨è§£ã€‚</li><li>SpringSSMæ•´åˆï¼Œæ˜¯Spring,Spring MVCå’ŒMybatisæ•´åˆï¼Œè¿™æ ·ç®—æ˜¯æ­£å¸¸é¡¹ç›®å¼€å‘çš„æ¨¡å¼äº†ï¼Œä½†æ˜¯ç°åœ¨å¼€å‘åŸºæœ¬æ˜¯ç”¨MP+Mybatisï¼Œä¹Ÿç§°ä¹‹ä¸ºSSMPæ•´åˆï¼Œé¡¹ç›®åŒ…æœ‰ç€ä¸€å®šçš„å°è§„èŒƒï¼Œä¹Ÿæœ‰ä¸€å¥—å»ºè®®çš„å¼€å‘æµç¨‹ã€‚</li></ul><h4 id="è‡ªæˆ‘å‘¨æ€»ç»“ï¼š">è‡ªæˆ‘å‘¨æ€»ç»“ï¼š</h4><ul><li>è¿™å‘¨å­¦ä¹ çš„å†…å®¹å…¶å®æ˜¯æ¯”è¾ƒå¤šï¼Œè€Œä¸”æ¯”è¾ƒéš¾çš„ï¼Œè¿›åº¦ä¹Ÿæ¯”è¾ƒå¿«ï¼Œä»å¤§æ•°æ®åˆå›åˆ°javaå¼€å‘ï¼Œåˆšå¼€å§‹è¿˜æœ‰ç‚¹ä¸å¤ªç†Ÿæ‚‰ï¼Œå¾ˆå¤šæ–°å­¦çš„çŸ¥è¯†ç‚¹ï¼Œä½¿ç”¨èµ·æ¥ä¸æ¸¸åˆƒæœ‰ä½™ï¼Œè€Œä¸”è¯´å®è¯ï¼Œä¸€å‘¨å­¦è¿™ä¹ˆå¤šä¸œè¥¿ï¼Œä¸€æ—¶åŠä¼šè¿˜æ¶ˆåŒ–ä¸è¿‡æ¥ï¼Œåº”è¯¥è¦ç­‰åé¢åšé¡¹ç›®çš„æ—¶å€™ï¼Œé¡ºä¾¿æ¶ˆåŒ–ä¸€ä¸‹ã€‚å­¦Springï¼Œå¤§æ¦‚æœ‰ç‚¹èƒ½æ‘¸æ¸…é¡¹ç›®çœŸæ­£å¼€å‘æ—¶å€™çš„æ ·å­äº†ï¼Œä¹ŸæŠŠä¹‹å‰å­¦ä¹ çš„å„ç§çŸ¥è¯†éƒ½åˆ©ç”¨åˆ°äº†ï¼Œæ•´åˆåœ¨ä¸€èµ·ã€‚è‡ªå·±åœ¨è¿™å‘¨è¿˜æ˜¯ç®—é¡¶ä½å‹åŠ›äº†ï¼Œä¸ºäº†è¿½èµ¶ä¸Šå…¶ä»–åç«¯åŒå­¦çš„è¿›åº¦ï¼Œå¸Œæœ›èƒ½è¿›å…¥é¡¹ç›®ä¸­å»ï¼Œæ‰€ä»¥ä¹Ÿç®—ç»™è‡ªå·±å¢å‹äº†ã€‚</li></ul><h3 id="ç¬¬äºŒå‘¨10-17-10-23">ç¬¬äºŒå‘¨10.17-10.23</h3><p><strong>è¿™å‘¨çš„å­¦ä¹ å†…å®¹</strong> ï¼šSpringBoot SSMPæ•´åˆ SpringBootè¿ç»´ çƒ­éƒ¨ç½² é…ç½®é«˜çº§</p><p>â€‹<strong>éš¾ç‚¹ï¼š</strong> SpringBoot å¼€å‘ç¯‡(é‡ç‚¹)</p><p><strong>ä¸ªäººç†è§£</strong>ï¼š</p><ul><li>SpringBootå°±æ˜¯ç›´æ¥æŠŠæ³¨è§£å¼€å‘åˆ©ç”¨åˆ°äº†æè‡´äº†ï¼Œä¹‹å‰Springçš„ä»£ç ï¼Œéœ€è¦é…ç½®æ–‡ä»¶å’Œä¸€äº›æ³¨å…¥ï¼Œä½†æ˜¯SpringBootä¸€ä¸ªRestControllerå°±æå®šäº†ï¼Œè€Œä¸”æ˜¯Restçš„å¼€å‘æ¨¡å¼ã€‚SpringBootæŠŠä¹‹å‰è¦å†™Beanéƒ½å¸®ä½ æ•´ç†å¥½äº†ï¼Œè¿™æ ·ä½ åªè¦è¾“å…¥controllerã€‚ç›´æ¥ä½¿ç”¨Rest+ymlçš„æ¨¡å¼å†™ä»£ç ï¼Œé«˜æ•ˆåˆä¾¿æ·ã€‚</li><li>å¼€å‘ç¯‡æ˜¯è¿™SpringBoot2çš„é‡ç‚¹éƒ¨åˆ†äº†ï¼Œå‰é¢å­¦Springçš„æ—¶å€™éƒ½æ˜¯æ²¡è®²çš„ï¼Œå¼€å‘ç¯‡æ•°æ®æºå’ŒæŒä¹…åŒ–è¿˜æ˜¯å¾ˆæœ‰æ„æ€çš„ï¼Œåˆ©ç”¨JdbcTemplateæŒä¹…åŒ–ï¼Œå®Œæˆæ¯”è¾ƒå¤æ‚çš„sqlè¯­å¥ï¼Œä¹ŸéªŒè¯äº†æˆ‘ä¹‹å‰è§‰å¾—MPè™½ç„¶æ™ºèƒ½ï¼Œä½†æ˜¯åœ¨å¤æ‚çš„ä¼ä¸šé¡¹ç›®ä¸­ï¼Œä¼šç”¨åˆ°å¤æ‚çš„SQLè¯­å¥ï¼Œè‚¯å®šæ˜¯æœ‰äº›è¦è‡ªå·±æ‰‹æ•²sqlçš„ï¼Œå­¦ä¸€æš‘å‡çš„MYSQLæ²¡ç™½å­¦ã€‚è¿˜æœ‰æ•´åˆç¬¬ä¸‰æ–¹ä¹Ÿæ˜¯æ¯”è¾ƒé‡è¦çš„ï¼Œå°¤å…¶æ˜¯æ•´åˆRedisç¼“å­˜ï¼Œåé¢æŠŠç‘å‰å¤–å–éƒ¨ç½²åˆ°h3cçš„æ—¶å€™èŠ±äº†ä¸å°‘åŠŸå¤«ã€‚</li></ul><h4 id="è‡ªæˆ‘å‘¨æ€»ç»“ï¼š-2">è‡ªæˆ‘å‘¨æ€»ç»“ï¼š</h4><ul><li>è¿™å‘¨æ˜¯å¯¹SpringBootçš„ç»“å°¾äº†ï¼Œç”¨äº†ä¸¤ä¸ªå¤šæ˜ŸæœŸä¹Ÿæ˜¯ç›´æ¥èµ¶åˆ°äº†è¿›åº¦ã€‚å› ä¸ºSpringå‰ç½®çŸ¥è¯†ï¼Œè‡ªå·±åŸºæœ¬éƒ½å­¦è¿‡äº†ï¼Œå°±çœ‹æ–‡æ¡£ä¸€ä¸¤å¤©å°±åˆ’è¿‡å»äº†ï¼Œä¸»è¦å­¦ä¹ é›†ä¸­åœ¨Springå’Œæ¡†æ¶çš„éƒ¨åˆ†ï¼Œæƒ³å­¦å¿«ç‚¹ï¼Œå¯ä»¥å»åšé¡¹ç›®ï¼Œæ‰€ä»¥åŠ å¿«äº†è‡ªå·±çš„å­¦ä¹ è¿›åº¦ï¼ŒåŸºæœ¬å“ªä¸€å—çš„åŠŸèƒ½ï¼Œæ¡†æ¶ä½œç”¨å’Œå¦‚ä½•ä½¿ç”¨ä¹Ÿéƒ½æ˜¯ææ‡‚äº†ï¼Œåœ¨å‰é¢è€å¸ˆè¯´é‡ç‚¹çš„é‡ç‚¹åœ¨å¼€å‘ç¯‡ï¼Œè‡ªå·±ä¹ŸæŠŠé‡å¿ƒæ”¾åˆ°äº†å¼€å‘ç¯‡çš„è§†é¢‘ï¼Œæœ‰äº›éœ€è¦å®‰è£…çš„NOSQLï¼Œé—®äº†å·¥ä½œå®¤çš„å…¶ä»–äººè¯´åé¢åšé¡¹ç›®å’Œç‘å‰éƒ½ç”¨ä¸åˆ°ï¼Œå°±æ²¡æœ‰å®‰è£…ï¼Œçœ‹æ‡‚äº†å¦‚ä½•ä½¿ç”¨å’Œä½œç”¨è¿‡æ‰äº†ã€‚åŸç†ç¯‡é—®å·¥ä½œå®¤ä»–ä»¬å­¦è¿‡çš„ï¼Œä¹ŸåŸºæœ¬éƒ½æ²¡çœ‹ï¼Œæˆ‘å°±æ‰“ç®—è·³äº†ï¼Œåœ¨ä¸‹å‘¨å¯ä»¥èŠ±ä¸€å‘¨æŠŠé¡¹ç›®åšæ‰ã€‚</li></ul><h3 id="ç¬¬ä¸‰å‘¨10-24-11-4">ç¬¬ä¸‰å‘¨10.24-11.4</h3><p><strong>è¿™å‘¨çš„å­¦ä¹ å†…å®¹</strong> ï¼šç‘å‰å¤–å– ï¼Œç‘å‰å¤–å–éƒ¨ç½²ï¼Œä¸ªäººåšå®¢æ­å»º</p><p><strong>éš¾ç‚¹ï¼š</strong> ä¸ªäººåšå®¢æ­å»º <a href="https://u7u7.top">https://u7u7.top</a></p><p><strong>ä¸ªäººç†è§£ï¼š</strong></p><p>â€‹æœ¬æœˆåšå®¢æ€»ç»“</p><ul><li>åšè¿™ä¸ªåšå®¢ï¼ŒèŠ±è´¹äº†è‡ªå·±ä¸å°‘çš„è¯¾ä½™æ—¶é—´ï¼ŒåŸºæœ¬æ™šè‡ªä¹ æ—¶é—´ï¼Œå†™å®Œç¬”è®°å°±éƒ½åœ¨æè¿™ä¸ªåšå®¢ï¼Œç¬¬ä¸€æ¬¡æ¥è§¦æ˜¯åœ¨åšç‘å‰å¤–å–çš„æ—¶å€™ï¼Œå‘ç°è¯„è®ºæœ‰å­¦ä¹ çš„æœ‹å‹ï¼Œåˆ†äº«è‡ªå·±çš„ç¬”è®°ï¼Œè¿›å»ä»–çš„é¡µé¢å‘ç°å¾ˆå¥½çœ‹ï¼Œç¬”è®°è®°å¾—ä¹Ÿå¾ˆå¥½ï¼Œèµ·åˆä»¥ä¸ºæ˜¯ä»€ä¹ˆç½‘ç«™ç±»ä¼¼äºè¯­é›€ä¸€æ ·ï¼Œä½†æ˜¯æ²¡æ‰¾åˆ°ä»»ä½•ç½‘ç«™çš„æ¶ˆæ¯ï¼Œæ„Ÿè§‰æ˜¯è‡ªå·±DIYçš„(ç‰›)ï¼Œå»åŠ äº†è¿™ä¸ªåšå®¢æ­å»ºçš„å…„å¼Ÿï¼Œè¯¢é—®ä¸€äº›åšæ³•ï¼Œä»–å‘äº†ä¸€äº›æ•™ç¨‹ç»™æˆ‘ï¼Œæˆ‘æœ‰äº†æƒ³è‡ªå·±ä¹Ÿåšå‡ºæ¥çš„æƒ³æ³•ã€‚è¿‡ç¨‹è¿˜æ˜¯å¾ˆåå·çš„ï¼Œåœ¨æ­å»ºçš„è¿‡ç¨‹ä¸­ï¼Œå­¦äº†å¾ˆå¤šä¸œè¥¿çš„ä½¿ç”¨ï¼Œä¹Ÿæ˜¯ä»¥åä¼šç”¨åˆ°çš„ï¼Œæ¯”å¦‚nodejsï¼Œé‡‘å¸ˆé™„å°å°±æœ‰ç”¨åˆ°ï¼Œåœ¨å­¦java çš„è·¯ä¸Šå…¶å®æ˜¯æ²¡æœ‰è§†é¢‘äº¤è¿‡çš„ï¼Œä½†æ˜¯åˆæ˜¯ç¨‹åºå‘˜å¿…å¤‡çš„ï¼Œæˆ‘è§‰å¾—è¿™å°±å¾ˆå¥½ã€‚ è¯´ä¸‹è¿‡ç¨‹ä¸­ä½¿ç”¨åˆ°çš„ä¸œè¥¿å§ï¼Œæœ€åŸºæœ¬çš„gitå’Œgithubï¼Œè´Ÿè´£å°†è‡ªå·±åšå®¢æœ¬åœ°ä»“åº“ä¸Šä¼ åˆ°è¿œç¨‹çš„githubï¼Œéœ€è¦è‡ªå·±åˆ›å»ºä»“åº“ï¼Œè¿˜éœ€è¦gitç»‘å®šã€‚ç„¶åæ˜¯æœ€é‡è¦çš„nodejså’Œhexoï¼Œè¿™åšå®¢æ˜¯åŸºäºhexoçš„ã€‚ä¸‹è½½hexoä¹‹å‰éœ€è¦æœ‰nodejsï¼Œè‡ªå·±ä¸‹hexoçš„æ—¶å€™å‡ºç°äº†å¾ˆå¤šé—®é¢˜å…¶å®ï¼ŒæŠ¥é”™ä»€ä¹ˆï¼Œç¯å¢ƒé…ä¸ä¸Šä¹‹ç±»çš„ï¼Œè¿˜éœ€è¦ç‰ˆæœ¬ç›¸åŒ¹é…ï¼ŒèŠ±äº†å¾ˆé•¿æ—¶é—´ï¼Œhexoä¸‹å®Œä»¥åï¼Œåé¢é¡ºåˆ©äº†ä¸å°‘ã€‚åŸºæœ¬åšå®¢æ¡†æ¶æå¥½ä»¥åï¼Œè¦ç»‘å®šåŸŸåï¼Œgithubä¼šåˆ†é…ä¸€ä¸ªåŸŸåç»™ä½ çš„ï¼Œæ˜¯github.ioç»“å°¾çš„ï¼Œä¹‹å‰è‡ªå·±åšå®¢çš„ç½‘å€æ˜¯https://u7-u7.github.ioï¼Œä½†æ˜¯å…¶å®æœ‰æ—¶å€™ç½‘ä¸å¥½çš„æ—¶å€™è¿›ä¸å»ï¼Œæ¯”å¦‚æ ¡å›­ç½‘ï¼Œ210çš„è¯è¿›å»è¿˜æ˜¯æŒºå¿«çš„ ï¼Œåœ¨11æœˆä¸ƒå…«å·çš„æ—¶å€™ï¼Œè‡ªå·±ä¹°äº†ä¸€ä¸ªåŸŸå <a href="https://u7u7.top">https://u7u7.top</a>ï¼Œç”¨vercelç»™ç»‘å®šä¸Šäº†ï¼Œè¿˜æ·»åŠ äº†ä¸€ä¸ªäºŒçº§åŸŸå <a href="https://cc.u7u7.xn--top-3h9do1qntu972ejwmura">https://cc.u7u7.topå¹¶è¿›è¡Œäº†åŠ é€Ÿ</a>ï¼Œä½†æ˜¯æ²¡æœ‰å¤‡æ¡ˆï¼Œå¤‡æ¡ˆè¦æœåŠ¡å™¨ï¼Œåªæ˜¯æ­å»ºåšå®¢çš„è¯ï¼Œæœ‰ç‚¹å¤šæ­¤ä¸€ä¸¾äº†ã€‚å¯¹åšå®¢è¿›è¡Œç¾åŒ–çš„æ—¶å€™ï¼Œå› ä¸ºéƒ½æ˜¯å‰ç«¯ä»£ç ï¼Œè€Œä¸”ä»–ç«Ÿç„¶æ˜¯ç”¨ymlé…ç½®æ¥æ“ä½œå‰ç«¯csså’Œjsä¸€äº›é…ç½®çš„ï¼Œä¸æ˜¯å¾ˆèƒ½ç†è§£ï¼Œå› ä¸ºä¹‹å‰æˆ‘å­¦webçš„æ—¶å€™éƒ½æ˜¯ç”¨htmlï¼Œä½†æ˜¯å®ƒè¿™ä¸ªæºä»£ç å…¨æ˜¯jså’Œcss è¿˜æœ‰ä¸€äº›è‡ªå·±ä¸å¤ªæ¸…æ¥šçš„æ ¼å¼stylå•¥çš„ï¼Œæˆ‘åªè¦å¯¹ymlæ–‡ä»¶è¿›è¡Œä¿®æ”¹ï¼Œå¦‚æœä»–å‰ç«¯æ˜¯å†™å¥½ä»£ç çš„ï¼Œæˆ‘ç¨å¾®æ”¹ä¸€ä¸‹å°±èƒ½å®ç°å¯¹åº”çš„æ•ˆæœï¼Œä¸€äº›ç»„ä»¶æ˜¯éœ€è¦é¢å¤–ä¸‹æ’ä»¶çš„ ï¼Œç”¨nodejs çš„ä¸‹è½½å‘½ä»¤npmã€‚ç¾åŒ–è¿‡ç¨‹ä¸­ï¼Œæœ¬åœ°åšå®¢å´©äº†ä¸¤æ¬¡ï¼Œæºä»£ç è¢«è‡ªå·±æ”¹åäº†(è‡ªå·±æ¢ç‰ˆæœ¬ï¼Œå¯¼è‡´ç‰ˆæœ¬ä¸åŒçš„å†²çª)ï¼Œgithubè‡ªå·±æ”¾ä¸Šå»çš„ä¸€ä»½å¤‡ä»½æ‹‰ä¸‹æ¥ï¼Œè¿˜æ˜¯å¯¹æ”¹æºç çš„æ—¶å€™æœ‰äº›é—®é¢˜ï¼Œå°±ç›´æ¥é‡æ–°å¼€å§‹äº†ï¼Œä¹‹å‰ä¸‹hexoåšå®¢ä¸»é¢˜çš„æ—¶å€™æ˜¯ç”¨æ¯”è¾ƒç®€å•çš„npmå‘½ä»¤ï¼Œç›´æ¥ä¸‹åœ¨äº†node_modulesä»“åº“ï¼Œé—®å¤§ä½¬ï¼Œè¯´éœ€è¦é­”æ”¹(ä¿®æ”¹æºç )æœ€å¥½ç”¨gitä¸‹è½½ï¼Œåˆé‡æ–°ç”¨gitä¸‹ï¼Œè¿™æ¬¡ä¸æ•¢ä¹±æ¢ç‰ˆæœ¬äº†ï¼Œåˆé‡æ–°æŒ‰ç…§è‡ªå·±çš„è®¾ç½®æ€è·¯ï¼Œç°åœ¨åšå®¢çš„æ ·å­åœ¨ç½‘ç«™ä¸­ä¹Ÿèƒ½çœ‹ï¼Œåšå®¢å†…å®¹æ˜¯è‡ªåŠ¨ç”¨mdæ ¼å¼çš„ï¼Œæ°å¥½è‡ªå·±åœ¨å·¥ä½œå®¤çš„ç¬”è®°å’Œæ€»ç»“ä»€ä¹ˆçš„éƒ½æ˜¯mdæ ¼å¼çš„ï¼Œç›´æ¥æ”¾è¿›å»å°±èƒ½ç”Ÿæˆæ–‡ç« ï¼Œé™¤äº†å›¾ç‰‡ä¸è¡Œï¼Œæ‰€ä»¥è‡ªå·±èŠ±å°é’±ï¼Œä¹°äº†é˜¿é‡Œäº‘çš„osså­˜å‚¨ï¼Œç”¨picgoå›¾åºŠè½¯ä»¶ï¼ŒæŠŠå›¾ç‰‡æ”¾åˆ°é˜¿é‡Œäº‘ossä¸­ï¼Œç›¸å½“äºæŠŠæœ¬åœ°å›¾ç‰‡ä¸Šåˆ°ç½‘ä¸Šï¼Œè¿™æ ·åªè¦æœ‰ç½‘ç»œï¼Œå°±èƒ½çœ‹åˆ°æˆ‘å›¾ç‰‡çš„åœ°å€ï¼Œå¥½æ¯”æˆ‘åŸæœ¬åœ¨Typoraä¸­å›¾ç‰‡çš„è·¯å¾„æ˜¯./assores/xxxx.jpsï¼Œä¸Šä¼ åˆ°ç½‘ä¸Šè·¯å¾„å°±ä¼šå˜æˆhttps://u7img.oss-cn-hangzhou.aliyuncs.com/202211071929439.pngï¼Œæµè§ˆå™¨æ‰“å¼€å°±ä¼šæœ‰å›¾ç‰‡ï¼Œè¿™æ ·æˆ‘å‘åˆ«äººè‡ªå·±çš„mdæ–‡ä»¶ï¼Œä¹Ÿä¸éœ€è¦å‘å‹ç¼©åŒ…æ‰èƒ½çœ‹åˆ°å›¾ç‰‡äº†,åˆšå¥½è‡ªå·±åšå®¢çš„èƒŒæ™¯ä»€ä¹ˆä¹Ÿå¯ä»¥æ”¾åˆ°å›¾åºŠä¸­å»ï¼Œè¿™æ ·ä¸Šä¼ åˆ°ç½‘ç»œä¸Šï¼Œå°±ä¼šå¿«å¾ˆå¤šï¼Œå› ä¸ºä¸éœ€è¦æŠŠå›¾ç‰‡ä¸Šä¼ äº†(ä¸€æ•´ä¸ªåšå®¢æ–‡ä»¶å¤¹ä¹Ÿå°±60MBï¼Œæ”¾å›¾ç‰‡ä¼šå˜å¾ˆå¤§ï¼Œä¸Šä¼ å¾ˆæ…¢è¿˜å®¹æ˜“ä¸Šä¼ å¤±è´¥)ã€‚mdæ–‡ä»¶ä¸Šæ¬¡åˆ°åšå®¢ï¼Œåªè¦å¯¹ä¸€äº›æ ‡ç­¾å¤–æŒ‚(ä¸Šä¸‹ä¸‰æ¡â€”æ·»åŠ æ ‡ç­¾å¤–æŒ‚)çš„é…ç½®ç•¥å¾®ä¿®æ”¹ä¸€ä¸‹å°±å¥½äº†ï¼Œæœ‰ç©ºæŠŠè‡ªå·±ä¹‹å‰çš„ç¬”è®°å’Œæ€»ç»“å…¨éƒ¨æ”¾åˆ°åšå®¢å½“ä¸­å»ã€‚</li></ul><h4 id="è‡ªæˆ‘å‘¨æ€»ç»“ï¼š-3">è‡ªæˆ‘å‘¨æ€»ç»“ï¼š</h4><ul><li>è¿™å‘¨çš„çŠ¶æ€è¿˜ä¸é”™ï¼Œä½†æ˜¯è¢«ç»ƒè½¦ æœ‰ç‚¹å½±å“äº†ã€‚èŠ±ä¸€å‘¨å¤šæŠŠç‘å‰å¤–å–160å¤šé›†ï¼Œåˆ¶ä½œå®Œæˆäº†ï¼Œå› ä¸ºè¿™å‘¨è€ƒç§‘äºŒåŸºæœ¬å¤©å¤©ç»ƒè½¦ï¼Œå¯¼è‡´è¿›åº¦å…¶å®æ¯”è®¡åˆ’çš„æ‹‰æ…¢äº†å¾ˆå¤šï¼Œå‰é¢çš„100é›†å…¶å®å°±å·²ç»èƒ½æŠŠæœ¬åœ°çš„ç‘å‰å¤–å–å‰åç«¯å¼€å‘ç»“æŸï¼Œå¹¶è¿è¡Œäº†ï¼Œè‡ªå·±èŠ±äº†4å¤©åšå®Œäº†ï¼Œä½†æ˜¯åšå®Œä»¥åå‘ç°å¾ˆå¤šåŠŸèƒ½è€å¸ˆæ˜¯ç•™ç™½çš„ã€‚ç„¶åè‡ªå·±å»å®ç°äº†ä¸€ä¸‹ï¼Œè™½ç„¶ä¸æ˜¯å¾ˆéš¾ï¼Œå…¨éƒ¨è€ƒè‡ªå·±çš„è¯è¿˜æ˜¯èŠ±äº†2å¤©çš„æ—¶é—´ï¼Œå®ç°äº†ç•™ç™½çš„åŠŸèƒ½ã€‚ä¸€å¤©æŠŠéƒ¨ç½²ä¼˜åŒ–å‰çš„éœ€è¦ç”¨åˆ°çš„çŸ¥è¯†å»å­¦ä¹ äº†ä¸€ä¸‹ä½¿ç”¨ï¼Œä¸»è¦æ˜¯Redisç¼“å­˜æ¯”è¾ƒé‡è¦ï¼Œå› ä¸ºéƒ¨ç½²æ˜¯éœ€è¦ç”¨åˆ°ä¸‰å°å…‹éš†æœºçš„ï¼Œè‡ªå·±ç”µè„‘æ€•åƒä¸æ¶ˆè€Œä¸”å å†…å­˜å’Œå‚¨å­˜ï¼Œè®©é˜¿è´µç”¨æœåŠ¡å™¨å¼€äº†ä¸‰å°ï¼Œéƒ¨ç½²åˆ°ä¸Šé¢å»äº†ã€‚åé¢ä¼˜åŒ–åŠ éƒ¨ç½²å·®ä¸å¤šä¸€å¤©æå¥½äº†ï¼Œè§£å†³äº†ä¸€äº›è‡ªå·±å†™çš„ä»£ç çš„BUGçš„ä¸œè¥¿ã€‚ç°åœ¨è¿h3cï¼Œè¾“172.16.1.77ç½‘å€ï¼Œè¿›å»å°±ç›´æ¥èƒ½çœ‹åˆ°è‡ªå·±çš„é¡¹ç›®äº†ã€‚å…³äºéƒ¨ç½²å’Œä¼˜åŒ–ä¸€äº›å®ç°è¿‡ç¨‹éƒ½å†™åœ¨åšå®¢ä¸­ç‘å‰å¤–å–ä¼˜åŒ–ä¸­å»äº†ã€‚æ²¡ä»€ä¹ˆæ¯”è¾ƒéš¾çš„ç‚¹å…¶å®ï¼Œææ‡‚æ‰€ä½¿ç”¨çš„æ’ä»¶å’Œä½œç”¨ï¼ŒæŒ‰ç…§æ•™ç¨‹éƒ¨ç½²è¿›å»å°±å¥½äº†ï¼Œç¼“å­˜ä¼˜åŒ–ä¹Ÿè›®ç®€å•çš„ï¼ŒSpringcacheä¹Ÿéƒ½æœ‰å¯¹åº”çš„æ–¹æ¡ˆå’Œæ–¹æ³•ã€‚æµªè´¹æ—¶é—´çš„ç‚¹ï¼Œåè€Œæ˜¯åˆå§‹åŒ–å…‹éš†æœºæ—¶å€™çš„ï¼Œè½¯ä»¶ç‰ˆæœ¬å†²çªå’Œuuidçš„BUGï¼Œè‡ªå·±ä¹Ÿæ˜¯æ‰¾äº†å¾ˆä¹…çš„è§£å†³æ–¹æ¡ˆï¼Œæ‰æå¥½ã€‚ä¸ç”±çš„å‘ç°ï¼Œè‡ªå·±æ²¡ælinuxæ‰ä¸¤ä¸ªæ˜ŸæœŸï¼Œè§£å†³è¿™äº›é—®é¢˜çš„èƒ½åŠ›åˆä¸‹é™äº†ï¼Œæœ‰ç©ºè¿˜æ˜¯å¾—æ‰“å¼€è‡ªå·±è£…ubuntuçš„é‚£å°ä¸»æœºå¤šå»ææï¼Œæ¯•ç«Ÿlinuxæ˜¯ç¨‹åºå‘˜å¿…ä¿®è¯¾ã€‚</li></ul><h2 id="äºŒã€è‡ªæˆ‘æ€»ç»“">äºŒã€è‡ªæˆ‘æ€»ç»“</h2><ul><li>è¿™ä¸ªæœˆå­¦ä¹ çš„å­¦ä¹ çŠ¶æ€å¤§æ¦‚æ˜¯æ¥å·¥ä½œå®¤è¿™ä¹ˆé•¿æ—¶é—´ï¼Œæœ€å¥½çš„ä¸€ä¸ªæœˆäº†ï¼Œå°±æ˜¯å¾ˆæœ‰å­¦ä¹ åŠ²å¤´ï¼Œå¯èƒ½æ˜¯èƒ½çœ‹åˆ°æœªæ¥å’Œç›®æ ‡æ€§å§ï¼Œå­¦å®ŒBootsï¼Œä¸€èˆ¬çš„é¡¹ç›®å°±èƒ½å®ç°äº†ï¼Œè€Œä¸”å¬å­¦Javaå¥½å‡ å¹´çš„æœ‹å‹ï¼Œè¯´å°å…¬å¸åŸºæœ¬æŒæ¡Bootså°±èƒ½å‚ä¸é¡¹ç›®çš„å¼€å‘äº†ã€‚è€Œä¸”æƒ³åŠ å…¥é‡‘å¸ˆé™„å°çš„é¡¹ç›®ä¸­ï¼Œå°±åŠ å¿«äº†å­¦ä¹ è¿›åº¦ï¼Œä½†æ˜¯ä¹Ÿæ²¡æœ‰å›«å›µåæ£ï¼Œåœ¨åšç‘å‰å¤–å–é¡¹ç›®çš„æ—¶å€™å…¶å®æ˜¯æ”¾æ…¢è¿›åº¦äº†ï¼Œåšåšå®¢çš„æ—¶å€™ï¼Œä¹Ÿç®—é‡æ–°å¤ä¹ äº†å‰é¢çš„çŸ¥è¯†ï¼Œé¡¹ç›®å¾ˆå¤šåŠŸèƒ½éƒ½æ˜¯è‡ªå·±å®Œå–„äº†ï¼Œé¡¹ç›®åšå®Œï¼Œä»–ä»¬è¯´é‡‘å¸ˆé™„å°çš„æ¥å£å·®ä¸å¤šéƒ½å†™å®Œäº†ï¼Œå°±æ”¾æ…¢è¿›åº¦å¾€åé¢å­¦éƒ¨ç½²å’ŒVueäº†ã€‚è¿™æœˆæœ€å¤§çš„æ”¶è·å°±æ˜¯åšäº†ä¸ªäººåšå®¢ï¼Œä½†æ˜¯è‡ªå·±è¿˜æ˜¯æœ‰ç‚¹ç²—å¿ƒï¼Œå¯¼è‡´è‡ªå·±çš„åšå®¢æœ‰ä¸¤æ¬¡å´©æ‰ï¼Œå¤‡ä»½å·¥ä½œä¹Ÿæ²¡æœ‰åšå¥½ï¼Œåº”è¯¥åœ¨æ”¹è¿›è¿‡ä»¥åå°±è¦ç«‹é©¬å¤‡ä»½ï¼Œè¿™æ ·å´©äº†ä¹Ÿä¸ç”¨è¦é‡æ–°å†™å¾ˆå¤šä¸œè¥¿ï¼Œåœ¨åšåšå®¢çš„æ—¶å€™ï¼Œä¹Ÿç®—æ˜¯å¯¹csså’Œjså­¦ä¹ äº†ï¼Œæ‰“ç®—å…ˆå»å­¦ä¸‹Vueå†å»çœ‹SpringCloudï¼ŒCloudæ„Ÿè§‰ç›®å‰è‡ªå·±æ˜¯ä½¿ç”¨ä¸åˆ°ï¼Œåœ¨è¿™å­¦æœŸç»“æŸä¹‹å‰æŠŠVueå’ŒCloudçœ‹å®Œï¼Œå†å»æ‰¾ä¸€ä¸ªé¡¹ç›®è‡ªå·±å…¨ç¨‹çš„å»åšä¸€ä¸‹ã€‚</li></ul>]]></content>
    
    
    <summary type="html">åˆ›æ–°å·¥ä½œå®¤10æœˆæ€»ç»“</summary>
    
    
    
    <category term="å·¥ä½œå®¤æœˆæ€»ç»“" scheme="https://u7u7.top/categories/%E5%B7%A5%E4%BD%9C%E5%AE%A4%E6%9C%88%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="æ€»ç»“" scheme="https://u7u7.top/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>10æœˆç¬”è®°</title>
    <link href="https://u7u7.top/posts/22biji10.html"/>
    <id>https://u7u7.top/posts/22biji10.html</id>
    <published>2023-03-11T08:30:25.000Z</published>
    <updated>2023-03-11T08:30:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="10-8-mavené«˜çº§-Gitå…¥é—¨">10.8 mavené«˜çº§ Gitå…¥é—¨</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="Mavenä¾èµ–ç®¡ç†">Mavenä¾èµ–ç®¡ç†</h3><h3 id="ç”Ÿå‘½å‘¨æœŸå’Œæ’ä»¶">ç”Ÿå‘½å‘¨æœŸå’Œæ’ä»¶</h3><h3 id="åˆ†æ¨¡å—å¼€å‘">åˆ†æ¨¡å—å¼€å‘</h3><h3 id="GitåŸºæœ¬å‘½ä»¤">GitåŸºæœ¬å‘½ä»¤</h3><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="Mavenä¾èµ–ç®¡ç†-2">Mavenä¾èµ–ç®¡ç†</h3><h4 id="ä¾èµ–é…ç½®å’Œä¾èµ–ä¼ é€’">ä¾èµ–é…ç½®å’Œä¾èµ–ä¼ é€’</h4><p>ä¸€ä¸ªé¡¹ç›®å¯ä»¥è®¾ç½®å¤šä¸ªä¾èµ–</p><p>ä¾èµ–å°±æ˜¯å¹³å¸¸è¯´çš„jaråŒ….</p><p><img src="https://pic1.imgdb.cn/item/635d3b1616f2c2beb1ef39bb.png" alt="image-20221008102200401"></p><p><em>ä¾èµ–ä¼ é€’</em></p><p>ä¾èµ–æ˜¯æœ‰ä¼ é€’æ€§çš„ åˆ†ä¸ºç›´æ¥ä¾èµ–å’Œé—´æ¥ä¾èµ–</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">ç›´æ¥ä¾èµ–:åœ¨å½“å‰é¡¹ç›®ä¸­é€šè¿‡ä¾èµ–é…ç½®å»ºç«‹çš„ä¾èµ–å…³ç³»</span></span><br><span class="line"><span class="section">é—´æ¥ä¾èµ–:è¢«èµ„æºçš„èµ„æºå¦‚æœä¾èµ–å…¶ä»–èµ„æº å½“å‰é¡¹ç›®é—´æ¥ä¾èµ–å…¶ä»–èµ„æº</span></span><br></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/635d3b1c16f2c2beb1ef5735.png" alt="image-20221008102436352"></p><h4 id="ä¾èµ–èŒƒå›´">ä¾èµ–èŒƒå›´</h4><p>ä¸‹é¢è¿™ä¸ªè¡¨æ¯”è¾ƒé‡è¦</p><p><scope>æ ‡ç­¾å››ç§çš„ä½œç”¨ èƒ½è§£èŠ‚çº¦èµ„æº</p><p><img src="https://pic1.imgdb.cn/item/635d3e1b16f2c2beb1fb15f9.png" alt="image-20221008102506179"></p><p><em>ä¾èµ–èŒƒå›´</em></p><p>ä¼ é€’çš„æ—¶å€™<scope>çš„å½±å“</p><p><img src="https://pic1.imgdb.cn/item/635d3e1f16f2c2beb1fb2513.png" alt="image-20221008102618339"></p><h3 id="ç”Ÿå‘½å‘¨æœŸå’Œæ’ä»¶-2">ç”Ÿå‘½å‘¨æœŸå’Œæ’ä»¶</h3><h4 id="ç”Ÿå‘½å‘¨æœŸ">ç”Ÿå‘½å‘¨æœŸ</h4><p>Mavenæ„å»ºç”Ÿå‘½å‘¨æœŸæè¿°çš„æ˜¯ä¸€æ¬¡æ„å»ºè¿‡ç¨‹ç»å†äº†å¤šå°‘çš„äº‹ä»¶</p><p>compile test-compile test package install ç±»ä¼¼äºè¿™äº›å¯¹ é¡¹ç›®å¤„ç†çš„åŠŸèƒ½éƒ½æ˜¯äº‹ä»¶</p><p><strong>é¡¹ç›®æ„å»ºçš„ç”Ÿå‘½å‘¨æœŸåˆ†ä¸‰å¥—</strong></p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">clean æ¸…æ´—å·¥ä½œ</span><br><span class="line"><span class="keyword">default</span> æ ¸å¿ƒå·¥ä½œ ç¼–è¯‘ æµ‹è¯• æ‰“åŒ… éƒ¨ç½²</span><br><span class="line">site äº§ç”ŸæŠ¥å‘Š å‘å¸ƒç«™ç‚¹</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">default</span>ç”Ÿå‘½å‘¨æœŸæ¯”è¾ƒé‡è¦ åŠ #éƒ½æ˜¯é‡è¦ç‚¹</span><br><span class="line">åˆ—å‡º</span><br><span class="line">validateï¼ˆæ ¡éªŒï¼‰ æ ¡éªŒé¡¹ç›®æ˜¯å¦æ­£ç¡®å¹¶ä¸”æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯å¯ä»¥å®Œæˆé¡¹ç›®çš„æ„å»ºè¿‡ç¨‹ã€‚</span><br><span class="line">initializeï¼ˆåˆå§‹åŒ–ï¼‰ åˆå§‹åŒ–æ„å»ºçŠ¶æ€ï¼Œæ¯”å¦‚è®¾ç½®å±æ€§å€¼ã€‚</span><br><span class="line">generate<span class="operator">-</span>sourcesï¼ˆç”Ÿæˆæºä»£ç ï¼‰ ç”ŸæˆåŒ…å«åœ¨ç¼–è¯‘é˜¶æ®µä¸­çš„ä»»ä½•æºä»£ç ã€‚</span><br><span class="line">process<span class="operator">-</span>sourcesï¼ˆå¤„ç†æºä»£ç ï¼‰ å¤„ç†æºä»£ç ï¼Œæ¯”å¦‚è¯´ï¼Œè¿‡æ»¤ä»»æ„å€¼ã€‚</span><br><span class="line">generate<span class="operator">-</span>resourcesï¼ˆç”Ÿæˆèµ„æºæ–‡ä»¶ï¼‰ ç”Ÿæˆå°†ä¼šåŒ…å«åœ¨é¡¹ç›®åŒ…ä¸­çš„èµ„æºæ–‡ä»¶ã€‚</span><br><span class="line">process<span class="operator">-</span>resources ï¼ˆå¤„ç†èµ„æºæ–‡ä»¶ï¼‰ å¤åˆ¶å’Œå¤„ç†èµ„æºåˆ°ç›®æ ‡ç›®å½•ï¼Œä¸ºæ‰“åŒ…é˜¶æ®µæœ€å¥½å‡†å¤‡ã€‚</span><br><span class="line">#compileï¼ˆç¼–è¯‘ï¼‰ ç¼–è¯‘é¡¹ç›®çš„æºä»£ç ã€‚</span><br><span class="line">process<span class="operator">-</span>classesï¼ˆå¤„ç†ç±»æ–‡ä»¶ï¼‰ å¤„ç†ç¼–è¯‘ç”Ÿæˆçš„æ–‡ä»¶ï¼Œæ¯”å¦‚è¯´å¯¹Java classæ–‡ä»¶åšå­—èŠ‚ç æ”¹å–„ä¼˜åŒ–ã€‚</span><br><span class="line">generate<span class="operator">-</span>test<span class="operator">-</span>sourcesï¼ˆç”Ÿæˆæµ‹è¯•æºä»£ç ï¼‰ ç”ŸæˆåŒ…å«åœ¨ç¼–è¯‘é˜¶æ®µä¸­çš„ä»»ä½•æµ‹è¯•æºä»£ç ã€‚</span><br><span class="line">process<span class="operator">-</span>test<span class="operator">-</span>sourcesï¼ˆå¤„ç†æµ‹è¯•æºä»£ç ï¼‰ å¤„ç†æµ‹è¯•æºä»£ç ï¼Œæ¯”å¦‚è¯´ï¼Œè¿‡æ»¤ä»»æ„å€¼ã€‚generate<span class="operator">-</span>test<span class="operator">-</span>resourcesï¼ˆç”Ÿæˆæµ‹è¯•èµ„æºæ–‡ä»¶ï¼‰ ä¸ºæµ‹è¯•åˆ›å»ºèµ„æºæ–‡ä»¶ã€‚</span><br><span class="line">process<span class="operator">-</span>test<span class="operator">-</span>resourcesï¼ˆå¤„ç†æµ‹è¯•èµ„æºæ–‡ä»¶ï¼‰ å¤åˆ¶å’Œå¤„ç†æµ‹è¯•èµ„æºåˆ°ç›®æ ‡ç›®å½•ã€‚</span><br><span class="line">#test<span class="operator">-</span>compileï¼ˆç¼–è¯‘æµ‹è¯•æºç ï¼‰ ç¼–è¯‘æµ‹è¯•æºä»£ç åˆ°æµ‹è¯•ç›®æ ‡ç›®å½•. </span><br><span class="line">process<span class="operator">-</span>test<span class="operator">-</span>classesï¼ˆå¤„ç†æµ‹è¯•ç±»æ–‡ä»¶ï¼‰ å¤„ç†æµ‹è¯•æºç ç¼–è¯‘ç”Ÿæˆçš„æ–‡ä»¶ã€‚</span><br><span class="line">#testï¼ˆæµ‹è¯•ï¼‰ ä½¿ç”¨åˆé€‚çš„å•å…ƒæµ‹è¯•æ¡†æ¶è¿è¡Œæµ‹è¯•ï¼ˆJuintæ˜¯å…¶ä¸­ä¹‹ä¸€ï¼‰ã€‚</span><br><span class="line"><span class="keyword">prepare</span><span class="operator">-</span>packageï¼ˆå‡†å¤‡æ‰“åŒ…ï¼‰ åœ¨å®é™…æ‰“åŒ…ä¹‹å‰ï¼Œæ‰§è¡Œä»»ä½•çš„å¿…è¦çš„æ“ä½œä¸ºæ‰“åŒ…åšå‡†å¤‡ã€‚</span><br><span class="line">#packageï¼ˆæ‰“åŒ…ï¼‰ å°†ç¼–è¯‘åçš„ä»£ç æ‰“åŒ…æˆå¯åˆ†å‘æ ¼å¼çš„æ–‡ä»¶ï¼Œæ¯”å¦‚JARã€WARæˆ–è€…EARæ–‡ä»¶ã€‚</span><br><span class="line">pre<span class="operator">-</span>integration<span class="operator">-</span>testï¼ˆé›†æˆæµ‹è¯•å‰ï¼‰ åœ¨æ‰§è¡Œé›†æˆæµ‹è¯•å‰è¿›è¡Œå¿…è¦çš„åŠ¨ä½œã€‚æ¯”å¦‚è¯´ï¼Œæ­å»ºéœ€è¦çš„ç¯å¢ƒã€‚</span><br><span class="line">integration<span class="operator">-</span>testï¼ˆé›†æˆæµ‹è¯•ï¼‰ å¤„ç†å’Œéƒ¨ç½²é¡¹ç›®åˆ°å¯ä»¥è¿è¡Œé›†æˆæµ‹è¯•ç¯å¢ƒä¸­ã€‚</span><br><span class="line">post<span class="operator">-</span>integration<span class="operator">-</span>testï¼ˆé›†æˆæµ‹è¯•åï¼‰ åœ¨æ‰§è¡Œé›†æˆæµ‹è¯•å®Œæˆåè¿›è¡Œå¿…è¦çš„åŠ¨ä½œã€‚æ¯”å¦‚è¯´ï¼Œæ¸…ç†é›†æˆæµ‹è¯•ç¯å¢ƒã€‚</span><br><span class="line">verify ï¼ˆéªŒè¯ï¼‰ è¿è¡Œä»»æ„çš„æ£€æŸ¥æ¥éªŒè¯é¡¹ç›®åŒ…æœ‰æ•ˆä¸”è¾¾åˆ°è´¨é‡æ ‡å‡†ã€‚</span><br><span class="line">#installï¼ˆå®‰è£…ï¼‰ å®‰è£…é¡¹ç›®åŒ…åˆ°æœ¬åœ°ä»“åº“ï¼Œè¿™æ ·é¡¹ç›®åŒ…å¯ä»¥ç”¨ä½œå…¶ä»–æœ¬åœ°é¡¹ç›®çš„ä¾èµ–ã€‚</span><br><span class="line">deployï¼ˆéƒ¨ç½²ï¼‰ å°†æœ€ç»ˆçš„é¡¹ç›®åŒ…å¤åˆ¶åˆ°è¿œç¨‹ä»“åº“ä¸­ä¸å…¶ä»–å¼€å‘è€…å’Œé¡¹ç›®å…±äº«ã€‚</span><br></pre></td></tr></table></figure><h4 id="æ’ä»¶">æ’ä»¶</h4><p>æ’ä»¶å°±æ˜¯è¯¥ç”Ÿå‘½å‘¨æœŸæ‰€èƒ½æ”¯æŒçš„äº‹ä»¶</p><p>å¤šä¸ªæ’ä»¶ç»„æˆä¸€ä¸ªç”Ÿå‘½å‘¨æœŸ</p><h3 id="åˆ†æ¨¡å—å¼€å‘-2">åˆ†æ¨¡å—å¼€å‘</h3><p>èšåˆ å¤šä¸ªå·¥ç¨‹çš„åŠŸèƒ½é›†äºä¸€ä¸ªå·¥ç¨‹</p><p>ç»§æ‰¿ çˆ¶å·¥ç¨‹çš„åæ ‡ä»¥åŠæ’ä»¶å¯ä»¥ç»™å­å·¥ç¨‹ä½¿ç”¨</p><p><img src="https://pic1.imgdb.cn/item/635d3e7b16f2c2beb1fcebf0.png" alt="image-20221008140717415"></p><h3 id="å±æ€§">å±æ€§</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å®šä¹‰è‡ªå®šä¹‰å±æ€§--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>5.1.9.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">junit.version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">junit.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯è‡ªå®šä¹‰</p><p>è°ƒç”¨æ–¹æ³•å¦‚ä¸‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.itheima<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_service<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Gitå‘½ä»¤">Gitå‘½ä»¤</h3><p><strong>Gitçš„å·¥ä½œåŸç†</strong></p><p>åˆ†ä¸‰ä¸ªåŒº å·¥ä½œåŒº æš‚å­˜åŒº æœ¬åœ°åº“</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å·¥ä½œåŒºï¼šå†™ä»£ç çš„</span><br><span class="line">æš‚å­˜åŒºï¼šç¼“å†²ç‚¹ ä¸´æ—¶å­˜å‚¨</span><br><span class="line">æœ¬åœ°åº“ï¼šå†å²ç‰ˆæœ¬ å¯æŸ¥å¯åˆ‡æ¢</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨å‘½ä»¤å¦‚ä¸‹ï¼š</p><p>é»‘è‰²åªç”¨è®¾ç½®ä¸€æ¬¡</p><p><img src="https://pic1.imgdb.cn/item/635d3e8716f2c2beb1fd18e2.png" alt="image-20221008164523139"></p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">åˆå§‹åŒ–çš„æ•ˆæœ ä¼šç”Ÿæˆä¸€ä¸ªéšè—çš„.gitæ–‡ä»¶</span><br><span class="line">statusæŸ¥çœ‹æœ¬åœ°åº“æ–‡ä»¶çš„çŠ¶æ€ ï¼š æ–‡ä»¶åœ¨ä»€ä¹ˆåŒº</span><br><span class="line">git <span class="keyword">add</span> å°†æ–‡ä»¶æäº¤åˆ°ç¼“å­˜åŒº</span><br><span class="line">git <span class="keyword">commit</span> -m &quot;æ—¥å¿—ä¿¡æ¯&quot; æ–‡ä»¶å æäº¤åˆ°æœ¬åœ°åº“</span><br><span class="line">git reflog æŸ¥çœ‹å†å²è®°å½•</span><br><span class="line">git <span class="keyword">reset</span> <span class="comment">--hard ç‰ˆæœ¬å· ç‰ˆæœ¬ç©¿æ¢­ å°±æ˜¯åˆ‡æ¢åˆ°ä¹‹å‰ä¿å­˜åˆ°æœ¬åœ°åº“çš„ æ—¶é—´åº“çš„çŠ¶æ€ </span></span><br></pre></td></tr></table></figure><h2 id="4-BUGç‚¹">4. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>å½“æ—¶mavençš„puginå…¨éƒ¨æŠ¥é”™ ä¹‹å‰é‡åˆ°è¿‡æ‰¾è‡ªå·±çš„setting.xmlæ–‡ä»¶å¹¶æ²¡æœ‰é—®é¢˜</p><p>åé¢ å‘ç°é»˜è®¤çš„Cä¸­.m2çš„ä»“åº“å°±å¯ä»¥ è§‰å¾—æ˜¯ä»“åº“çš„é—®é¢˜ è‡ªå·±çš„ä»“åº“æœ‰é—®é¢˜ï¼Œå°±æŠŠè€å¸ˆèµ„æ–™ä¸­çš„ä»“åº“ç›´æ¥è¦†ç›–è‡ªå·± é—®é¢˜è§£å†³äº†</p><p><img src="https://pic1.imgdb.cn/item/635d3e9716f2c2beb1fd554d.png" alt="image-20221008223738434"></p><h2 id="5-æ€»ç»“">5.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©å­¦ä¹ ç‚¹æ˜¯gitå’Œmavenä¸¤å¤§ä»¥åå›¢é˜Ÿåä½œåšé¡¹ç›®å¾ˆæœ‰ç”¨çš„æ“ä½œï¼Œä¹‹å‰éƒ½ç•¥æœ‰æ¥è§¦è¿‡ï¼Œmavenéƒ½ç”¨è¿‡å¾ˆä¹…äº†ï¼Œé«˜çº§éƒ¨åˆ†å¤šçœ‹äº†ä¸€ä¸‹ï¼ŒåŸºç¡€æ–‡æ¡£è¿‡äº†ä¸€çœ¼ã€‚gitçš„å‘½ä»¤æœ‰ç‚¹åƒlinuxï¼Œgitå°±æ˜¯è§£å†³å›¢é˜Ÿåä½œæ—¶å€™ï¼Œå¯¹æœåŠ¡å™¨æ›´æ”¹çš„å„ç§é—®é¢˜ã€‚ä»Šå¤©å¤§éƒ¨åˆ†éƒ½æ˜¯çœ‹æ–‡æ¡£ï¼Œå®‰è£…çš„æ—¶å€™æ˜¯è·Ÿç€è§†é¢‘çš„ï¼Œå› ä¸ºå“ªé‡Œæ²¡é…ç½®å¥½ä¼šå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥å­¦ä¹ è¿›åº¦ä¹Ÿå¾ˆå¿«ã€‚æœ‰è¿‡æ¥è§¦ï¼ŒæŒæ¡èµ·æ¥ä¹Ÿä¸éš¾ã€‚</p><h1 id="10-9-Gitåˆ†æ”¯-SSMæ¡†æ¶Bean">10.9 Gitåˆ†æ”¯ SSMæ¡†æ¶Bean</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-2">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-2">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="Gitåˆ†æ”¯">Gitåˆ†æ”¯</h3><h3 id="Springå…¥é—¨">Springå…¥é—¨</h3><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-2">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="Gitåˆ†æ”¯-2">Gitåˆ†æ”¯</h3><p>åˆ†æ”¯æŒ‰æˆ‘è‡ªå·±çš„ç†è§£å°±åƒæ”¯çº¿(å½±åˆ†èº«)ï¼Œå„ä¸ªäººè´Ÿè´£è‡ªå·±çš„æ”¯çº¿ï¼Œç„¶ååšå®Œäº†ä»¥åï¼Œå°†ä»»åŠ¡æäº¤åˆ°ä¸»çº¿ä¸­å»ï¼Œèƒ½å¤§å¤§æé«˜å¼€å‘çš„æ•ˆç‡ï¼Œè€Œä¸”å¼€å‘å¤±è´¥å¯¹ä¸»çº¿å½±å“ä¸å¤§ï¼Œ</p><h4 id="åˆ†æ”¯çš„æ“ä½œ">åˆ†æ”¯çš„æ“ä½œ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git branch åˆ†æ”¯å åˆ›å»ºåˆ†æ”¯</span><br><span class="line">git branch -v æŸ¥çœ‹åˆ†æ”¯</span><br><span class="line">git checkout åˆ†æ”¯å åˆ‡æ¢åˆ†æ”¯</span><br><span class="line">git checkout -b åˆ†æ”¯å åˆ‡æ¢åˆ†æ”¯ åˆ†æ”¯ä¸å­˜åœ¨å°±åˆ›å»º</span><br><span class="line">git merge åˆ†æ”¯å æŠŠæŒ‡å®šçš„åˆ†æ”¯åˆå¹¶åˆ°å½“å‰çš„åˆ†æ”¯ ä¸€èˆ¬å½“å‰åˆ†æ”¯éœ€è¦æ˜¯ä¸»åˆ†æ”¯</span><br></pre></td></tr></table></figure><p><em><strong>æ³¨æ„ç‚¹</strong></em></p><p>å†²çªé—®é¢˜</p><p>åˆå¹¶çš„æ—¶å€™ï¼Œå¦‚æœä¸»çº¿å’Œåˆ†æ”¯çš„åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€ä¸ªä½ç½®æœ‰ä¸¤å¥—ä¸åŒçš„ ä¿®æ”¹ Git å°±æ— æ³•ä¸ºæˆ‘ä»¬å†³å®šå“ªä¸€ä¸ª å°±éœ€è¦äººä¸º çš„é€‰æ‹©</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç¼–è¾‘æœ‰å†²çªçš„æ–‡ä»¶ï¼Œåˆ é™¤ç‰¹æ®Šç¬¦å·ï¼Œå†³å®šè¦ä½¿ç”¨çš„å†…å®¹</span><br><span class="line">ç‰¹æ®Šç¬¦å·ï¼š&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD å½“å‰åˆ†æ”¯çš„ä»£ç  <span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span><span class="operator">=</span> åˆå¹¶è¿‡æ¥çš„ä»£ç  &gt;&gt;&gt;&gt;&gt;&gt;&gt; hot-fix</span><br></pre></td></tr></table></figure><p>åˆ é™¤ä»¥å æ·»åŠ æš‚å­˜åŒºç„¶åæäº¤</p><h3 id="Springç›¸å…³æ¦‚å¿µ">Springç›¸å…³æ¦‚å¿µ</h3><p>Springæ¡†æ¶ä¸»è¦çš„ä¼˜åŠ¿æ˜¯åœ¨<code>ç®€åŒ–å¼€å‘</code>å’Œ<code>æ¡†æ¶æ•´åˆ</code></p><p>æˆ‘ä»¬å¹³å¸¸å†™çš„ä»£ç ä¸­è€¦åˆåº¦åé«˜ éƒ½çŸ¥é“ä½è€¦åˆåº¦æ¯”è¾ƒå¥½</p><p>å› ä¸ºæ¯æ¬¡ä¸šåŠ¡å±‚è°ƒç”¨æ•°æ®å±‚çš„æ–¹æ³•ï¼Œéœ€è¦åœ¨ä¸šåŠ¡å±‚newæ•°æ®å±‚çš„å¯¹è±¡ ï¼Œå¦‚æœæ•°æ®å±‚çš„å®ç°ç±»å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆä¸šåŠ¡å±‚çš„ä»£ç ä¹Ÿéœ€è¦è·Ÿç€æ”¹å˜ï¼Œå‘ç”Ÿå˜æ›´åï¼Œéƒ½éœ€è¦è¿›è¡Œç¼–è¯‘æ‰“åŒ…å’Œé‡éƒ¨ç½²</p><p>ä½¿ç”¨å¯¹è±¡æ—¶ï¼Œåœ¨ç¨‹åºä¸­ä¸è¦ä¸»åŠ¨ä½¿ç”¨newäº§ç”Ÿå¯¹è±¡ï¼Œè½¬æ¢ä¸ºç”±==å¤–éƒ¨==æä¾›å¯¹è±¡</p><h3 id="Springä¸­å…³äºbeançš„ä½¿ç”¨">Springä¸­å…³äºbeançš„ä½¿ç”¨</h3><p>ä½¿ç”¨spring éœ€è¦å¯¼å…¥ä¾èµ– å¦‚ä¸‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="beanåŸºç¡€è®¾ç½®">beanåŸºç¡€è®¾ç½®</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/635d3ea016f2c2beb1fd73cb.png" alt="image-20221009164824083"></p><h4 id="beançš„nameå±æ€§">beançš„nameå±æ€§</h4><p>ç¯å¢ƒå‡†å¤‡å¥½åï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥åœ¨è¿™ä¸ªç¯å¢ƒçš„åŸºç¡€ä¸Šè¿›è¡Œbeançš„åˆ«åé…ç½®ï¼Œ</p><p><img src="https://pic1.imgdb.cn/item/6368dd8716f2c2beb126b041.png" alt="image-20210729183558051"></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookService&quot;</span> <span class="attr">name</span>=<span class="string">&quot;u7Service bookEbi&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.service.impl.BookServiceImpl&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--        beanåˆ«åå¯ä»¥å®šä¹‰å¤šä¸ª ä½¿ç”¨é€—å· åˆ†å· ç©ºæ ¼ åˆ†éš”--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;bookDao&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="beanä½œç”¨èŒƒå›´scopeé…ç½®">beanä½œç”¨èŒƒå›´scopeé…ç½®</h4><p>å…³äºbeançš„ä½œç”¨èŒƒå›´æ˜¯beanå±æ€§é…ç½®çš„ä¸€ä¸ª==é‡ç‚¹==å†…å®¹ã€‚</p><p><code>prototypeå¯ä»¥éå•ä¾‹</code></p><p>é»˜è®¤æ˜¯singletonæ˜¯å•ä¾‹æ¨¡å¼</p><p>ä¸€èˆ¬éƒ½æ˜¯è®¾ç½®ä¸ºå•ä¾‹ æé«˜æ•ˆç‡</p><p><img src="https://pic1.imgdb.cn/item/635d3ea216f2c2beb1fd7b02.png" alt="image-20210729183628138"></p><p><bean>å°æ€»ç»“</p><p><img src="https://pic1.imgdb.cn/item/635d3ea516f2c2beb1fd8767.png" alt="image-20221009181933493"></p><h3 id="ç”Ÿå‘½å‘¨æœŸ-2">ç”Ÿå‘½å‘¨æœŸ</h3><p>å…³äºSpringä¸­å¯¹beanç”Ÿå‘½å‘¨æœŸæ§åˆ¶æä¾›äº†ä¸¤ç§æ–¹å¼:</p><ul><li>åœ¨é…ç½®æ–‡ä»¶ä¸­çš„beanæ ‡ç­¾ä¸­æ·»åŠ åˆå§‹åŒ–<code>init-method</code>å’Œé”€æ¯<code>destroy-method</code>å±æ€§</li><li>ç±»å®ç°<code>InitializingBean</code>ä¸<code>DisposableBean</code>æ¥å£</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span> <span class="attr">init-method</span>=<span class="string">&quot;init&quot;</span> <span class="attr">destroy-method</span>=<span class="string">&quot;destory&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><h4 id="closeå…³é—­å®¹å™¨">closeå…³é—­å®¹å™¨</h4><ul><li><p>ApplicationContextä¸­æ²¡æœ‰closeæ–¹æ³•</p></li><li><p>éœ€è¦å°†ApplicationContextæ›´æ¢æˆClassPathXmlApplicationContext</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ClassPathXmlApplicationContext</span> <span class="variable">ctx</span> <span class="operator">=</span> <span class="keyword">new</span> </span><br><span class="line">    <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;applicationContext.xml&quot;</span>);</span><br></pre></td></tr></table></figure></li><li><p>è°ƒç”¨ctxçš„close()æ–¹æ³•</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.close()<span class="comment">;</span></span><br></pre></td></tr></table></figure><h4 id="æ³¨å†Œé’©å­å…³é—­å®¹å™¨">æ³¨å†Œé’©å­å…³é—­å®¹å™¨</h4><ul><li><p>åœ¨å®¹å™¨æœªå…³é—­ä¹‹å‰ï¼Œæå‰è®¾ç½®å¥½å›è°ƒå‡½æ•°ï¼Œè®©JVMåœ¨é€€å‡ºä¹‹å‰å›è°ƒæ­¤å‡½æ•°æ¥å…³é—­å®¹å™¨</p></li><li><p>è°ƒç”¨ctxçš„registerShutdownHook()æ–¹æ³•</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.registerShutdownHook()<span class="comment">;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><p>ä¸Šé¢ä¸¤ç§éƒ½å¯ä»¥å…³é—­å®¹å™¨  è°ƒç”¨xmlæ–‡ä»¶ä¸­çš„destroy-methodçš„æ–¹æ³•</p><h2 id="4-BUGç‚¹-2">4. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>UserDaoFactory çš„æ–‡ä»¶å¤¹å‘½åé—®é¢˜ å¯¼è‡´æ‰¾ä¸åˆ° è¯¥ç±»</p><p><img src="https://pic1.imgdb.cn/item/635d3eb216f2c2beb1fdb27e.png" alt="image-20221009153349981"></p><h2 id="6-æ€»ç»“">6.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©å­¦ä¹ äº†gitåŸºæœ¬æ“ä½œæœ€åä¸€ç‚¹çš„åˆ†æ”¯å’ŒSSMæ¡†æ¶å‰é¢Springçš„åŸºç¡€éƒ¨åˆ†ï¼Œæ€»ä½“æ¥è¯´éš¾åº¦ä¸æ˜¯å¾ˆå¤§ï¼Œspringæ–‡æ¡£å‰é¢æ¦‚å¿µæ€§çš„è‡ªå·±ç†è§£èµ·æ¥èŠ±è´¹äº†ä¸€äº›æ—¶é—´ï¼Œç»“åˆæ–‡æ¡£ç»™çš„æ¡ˆä¾‹ï¼Œæ•²ä»£ç å¸®åŠ©è‡ªå·±ç†è§£èµ·æ¥å¿«å¾ˆå¤šï¼Œxmlè°ƒç”¨æ¥å£çš„æ—¶å€™å‡ºç°äº†ç‚¹é—®é¢˜ï¼Œè§£å†³èµ·æ¥ä¹Ÿè›®å¿«çš„ï¼Œä¸€ä¸ªä¸€ä¸ªç‚¹è¿›å»æ‰¾å°±è¡Œäº†ã€‚æ–‡æ¡£ç»“åˆè§†é¢‘åŠ ä¸Šè‡ªå·±æ•²ï¼Œç†è§£èµ·æ¥å¾ˆé€šé€ï¼Œè¿™æ ·å­¦ä¹ æ˜¯å¾ˆä¸é”™çš„ã€‚</p><h1 id="10-10-Spring">10.10 Spring</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-3">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-3">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="ä¾èµ–æ³¨å…¥">ä¾èµ–æ³¨å…¥</h3><h3 id="æ ¸å¿ƒå®¹å™¨">æ ¸å¿ƒå®¹å™¨</h3><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-3">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="ä¾èµ–æ³¨å…¥-2">ä¾èµ–æ³¨å…¥</h3><h4 id="setteræ³¨å…¥">setteræ³¨å…¥</h4><p>åœ¨BookDaoImplç±»ä¸­å£°æ˜å¯¹åº”çš„ç®€å•æ•°æ®ç±»å‹çš„å±æ€§,å¹¶æä¾›å¯¹åº”çš„setteræ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String databaseName;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> connectionNum;</span><br><span class="line"><span class="comment">//åŸºæœ¬ç±»å‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setConnectionNum</span><span class="params">(<span class="type">int</span> connectionNum)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.connectionNum = connectionNum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDatabaseName</span><span class="params">(String databaseName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.databaseName = databaseName;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//å¼•ç”¨ç±»å‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao save ...&quot;</span>+databaseName+<span class="string">&quot;,&quot;</span>+connectionNum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®ä¸­ä½¿ç”¨==property==æ ‡ç­¾==ref==å±æ€§æ³¨å…¥å¼•ç”¨ç±»å‹å¯¹è±¡</p><p>é…ç½®ä¸­ä½¿ç”¨==property==æ ‡ç­¾==value==å±æ€§æ³¨å…¥åŸºæœ¬ç±»å‹å¯¹è±¡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.UserDaoImpl&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.service.impl.BookServiceImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;bookDao&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDao&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ„é€ å™¨æ³¨å…¥">æ„é€ å™¨æ³¨å…¥</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    æ„é€ å™¨æ³¨å…¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        å½¢å‚åé«˜è€¦åˆ--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;constructor-arg name=&quot;connectionNum&quot; value=&quot;109&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;constructor-arg name=&quot;databaseName&quot; value=&quot;mysql&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        å½¢å‚åä¸è€¦åˆä½†æ˜¯å¤šä¸ªç±»å‹ä¸€æ ·çš„ä¼šå‡ºé—®é¢˜--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;constructor-arg type=&quot;int&quot; value=&quot;100&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;mysql&quot;/&gt;--&gt;</span></span><br><span class="line"><span class="comment">&lt;!--ä½¿ç”¨ä½ç½®è§£å†³å‚æ•°åŒ¹é…--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">value</span>=<span class="string">&quot;mysql&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1001&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.UserDaoImpl&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.service.impl.BookServiceImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;bookDao&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDao&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Serviceä½¿ç”¨æ„é€ å™¨ ä¼ å‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itheima.dao.BookDao;</span><br><span class="line"><span class="keyword">import</span> com.itheima.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.itheima.service.BookService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">BookService</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> BookDao bookDao;</span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BookServiceImpl</span><span class="params">(BookDao bookDao, UserDao userDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.bookDao = bookDao;</span><br><span class="line">        <span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book service save ...&quot;</span>);</span><br><span class="line">        bookDao.save();</span><br><span class="line">        userDao.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¾èµ–æ–¹å¼çš„é€‰æ‹©</p><p><img src="https://pic1.imgdb.cn/item/635d3eb616f2c2beb1fdc1c9.png" alt="image-20221010085335820"></p><h3 id="è‡ªåŠ¨æ³¨å…¥">è‡ªåŠ¨æ³¨å…¥</h3><p>å‰é¢javaæ–‡ä»¶ä¸å˜ è‡ªåŠ¨è°ƒç”¨setæ–¹æ³•</p><p>ä¿®æ”¹é…ç½®æ–‡ä»¶å³å¯</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--autowireå±æ€§ï¼šå¼€å¯è‡ªåŠ¨è£…é…ï¼Œé€šå¸¸ä½¿ç”¨æŒ‰ç±»å‹è£…é…--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.service.impl.BookServiceImpl&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="é›†åˆæ³¨å…¥">é›†åˆæ³¨å…¥</h3><p>ä¸€èˆ¬é›†åˆæ³¨å…¥éƒ½æ˜¯æ³¨å…¥å¸¸é‡ å¦‚æœéœ€è¦æ³¨å…¥å¼•ç”¨ç±»å‹ åŠ <ref>æ ‡ç­¾</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">BookDao</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] array;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; list;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Set&lt;String&gt; set;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String,String&gt; map;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Properties properties;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book dao save ...&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;éå†æ•°ç»„:&quot;</span> + Arrays.toString(array));</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;éå†List&quot;</span> + list);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;éå†Set&quot;</span> + set);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;éå†Map&quot;</span> + map);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;éå†Properties&quot;</span> + properties);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//setter....æ–¹æ³•çœç•¥ï¼Œè‡ªå·±ä½¿ç”¨å·¥å…·ç”Ÿæˆ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶å¦‚ä¸‹</p><p>æŒ‰ç…§é›†åˆåå­—èµ‹å€¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;bookDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.itheima.dao.impl.BookDaoImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ•°ç»„æ³¨å…¥--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;array&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>100<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>200<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>300<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--listé›†åˆæ³¨å…¥--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>itcast<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>itheima<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>boxuegu<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>chuanzhihui<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--seté›†åˆæ³¨å…¥--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;set&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>itcast<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>itheima<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>boxuegu<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span>boxuegu<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mapé›†åˆæ³¨å…¥--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;country&quot;</span> <span class="attr">value</span>=<span class="string">&quot;china&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;province&quot;</span> <span class="attr">value</span>=<span class="string">&quot;henan&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;city&quot;</span> <span class="attr">value</span>=<span class="string">&quot;kaifeng&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--Propertiesæ³¨å…¥--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;properties&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;country&quot;</span>&gt;</span>china<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;province&quot;</span>&gt;</span>henan<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;city&quot;</span>&gt;</span>kaifeng<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ ¸å¿ƒå®¹å™¨-2">æ ¸å¿ƒå®¹å™¨</h3><p>å› ä¸ºæ˜¯ä¹‹å‰çš„æºä»£ç äº†è§£</p><p>å°ç»“ä¸€ä¸‹</p><h4 id="å®¹å™¨ç›¸å…³">å®¹å™¨ç›¸å…³</h4><ul><li>BeanFactoryæ˜¯IoCå®¹å™¨çš„é¡¶å±‚æ¥å£ï¼Œåˆå§‹åŒ–BeanFactoryå¯¹è±¡æ—¶ï¼ŒåŠ è½½çš„beanå»¶è¿ŸåŠ è½½</li><li>ApplicationContextæ¥å£æ˜¯Springå®¹å™¨çš„æ ¸å¿ƒæ¥å£ï¼Œåˆå§‹åŒ–æ—¶beanç«‹å³åŠ è½½</li><li>ApplicationContextæ¥å£æä¾›åŸºç¡€çš„beanæ“ä½œç›¸å…³æ–¹æ³•ï¼Œé€šè¿‡å…¶ä»–æ¥å£æ‰©å±•å…¶åŠŸèƒ½</li><li>ApplicationContextæ¥å£å¸¸ç”¨åˆå§‹åŒ–ç±»<ul><li><strong>==ClassPathXmlApplicationContext(å¸¸ç”¨)==</strong></li><li>FileSystemXmlApplicationContext</li></ul></li></ul><h4 id="beanç›¸å…³">beanç›¸å…³</h4><p><img src="https://pic1.imgdb.cn/item/635d3ebe16f2c2beb1fde06a.png" alt="1629986510487"></p><p>å…¶å®æ•´ä¸ªé…ç½®ä¸­æœ€å¸¸ç”¨çš„å°±ä¸¤ä¸ªå±æ€§==id==å’Œ==class==ã€‚</p><h4 id="ä¾èµ–æ³¨å…¥ç›¸å…³">ä¾èµ–æ³¨å…¥ç›¸å…³</h4><p><img src="https://pic1.imgdb.cn/item/635d3ec116f2c2beb1fde944.png" alt="1629986848563"></p><h3 id="æ³¨è§£å¼€å‘åŸºç¡€">æ³¨è§£å¼€å‘åŸºç¡€</h3><p>æ³¨è§£å¼€å‘åˆ†ä¸¤å—å†…å®¹<code>æ³¨è§£å¼€å‘å®šä¹‰bean</code>å’Œ<code>çº¯æ³¨è§£å¼€å‘</code>ã€‚</p><p>æ³¨è§£å¼€å‘å®šä¹‰beanç”¨çš„æ˜¯2.5ç‰ˆæä¾›çš„æ³¨è§£ï¼Œçº¯æ³¨è§£å¼€å‘ç”¨çš„æ˜¯3.0ç‰ˆæä¾›çš„æ³¨è§£ã€‚</p><p>ç¬”è®°æˆ‘ä¸»è¦è®°çº¯æ³¨è§£å¼€å‘</p><p>å‡ ä¸ªå¸¸ç”¨çš„æ³¨è§£æˆ‘éƒ½åˆ—ä¸¾å‡ºæ¥</p><h4 id="Componentç­‰">@Componentç­‰</h4><table><thead><tr><th>åç§°</th><th>@Component/@Controller/@Service/@Repository</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>ç±»æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®è¯¥ç±»ä¸ºspringç®¡ç†çš„bean</td></tr><tr><td>å±æ€§</td><td>valueï¼ˆé»˜è®¤ï¼‰ï¼šå®šä¹‰beançš„id</td></tr></tbody></table><h4 id="çŸ¥è¯†ç‚¹1ï¼š-Configuration">çŸ¥è¯†ç‚¹1ï¼š@Configuration</h4><table><thead><tr><th>åç§°</th><th>@Configuration</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>ç±»æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®è¯¥ç±»ä¸ºspringé…ç½®ç±»</td></tr><tr><td>å±æ€§</td><td>valueï¼ˆé»˜è®¤ï¼‰ï¼šå®šä¹‰beançš„id</td></tr></tbody></table><h4 id="çŸ¥è¯†ç‚¹2ï¼š-ComponentScan">çŸ¥è¯†ç‚¹2ï¼š@ComponentScan</h4><table><thead><tr><th>åç§°</th><th>@ComponentScan</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>ç±»æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®springé…ç½®ç±»æ‰«æè·¯å¾„ï¼Œç”¨äºåŠ è½½ä½¿ç”¨æ³¨è§£æ ¼å¼å®šä¹‰çš„bean</td></tr><tr><td>å±æ€§</td><td>valueï¼ˆé»˜è®¤ï¼‰ï¼šæ‰«æè·¯å¾„ï¼Œæ­¤è·¯å¾„å¯ä»¥é€å±‚å‘ä¸‹æ‰«æ</td></tr></tbody></table><h5 id="çŸ¥è¯†ç‚¹1ï¼š-Scope">çŸ¥è¯†ç‚¹1ï¼š@Scope</h5><table><thead><tr><th>åç§°</th><th>@Scope</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>ç±»æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®è¯¥ç±»åˆ›å»ºå¯¹è±¡çš„ä½œç”¨èŒƒå›´<br/>å¯ç”¨äºè®¾ç½®åˆ›å»ºå‡ºçš„beanæ˜¯å¦ä¸ºå•ä¾‹å¯¹è±¡</td></tr><tr><td>å±æ€§</td><td>valueï¼ˆé»˜è®¤ï¼‰ï¼šå®šä¹‰beanä½œç”¨èŒƒå›´ï¼Œ<br/>==é»˜è®¤å€¼singletonï¼ˆå•ä¾‹ï¼‰ï¼Œå¯é€‰å€¼prototypeï¼ˆéå•ä¾‹ï¼‰==</td></tr></tbody></table><h5 id="çŸ¥è¯†ç‚¹1ï¼š-PostConstruct">çŸ¥è¯†ç‚¹1ï¼š@PostConstruct</h5><table><thead><tr><th>åç§°</th><th>@PostConstruct</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>æ–¹æ³•æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>æ–¹æ³•ä¸Š</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®è¯¥æ–¹æ³•ä¸ºåˆå§‹åŒ–æ–¹æ³•</td></tr><tr><td>å±æ€§</td><td>æ— </td></tr></tbody></table><h5 id="çŸ¥è¯†ç‚¹2ï¼š-PreDestroy">çŸ¥è¯†ç‚¹2ï¼š@PreDestroy</h5><table><thead><tr><th>åç§°</th><th>@PreDestroy</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>æ–¹æ³•æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>æ–¹æ³•ä¸Š</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®è¯¥æ–¹æ³•ä¸ºé”€æ¯æ–¹æ³•</td></tr><tr><td>å±æ€§</td><td>æ— </td></tr></tbody></table><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å…¶å®å°±æ˜¯æŠŠ<span class="built_in">xml</span>æ–‡ä»¶ä¸­beanæ ‡ç­¾éœ€è¦åˆ°çš„å±æ€§ åˆ©ç”¨æ³¨è§£æ”¾åˆ°javaä¸­ å°±ä¸éœ€è¦ä½¿ç”¨<span class="built_in">xml</span>é…ç½®äº†</span><br></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/635d3ec816f2c2beb1fe031a.png" alt="image-20221010154508693"></p><h3 id="æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥">æ³¨è§£å¼€å‘ä¾èµ–æ³¨å…¥</h3><h4 id="çŸ¥è¯†ç‚¹1ï¼š-Autowired">çŸ¥è¯†ç‚¹1ï¼š@Autowired</h4><table><thead><tr><th>åç§°</th><th>@Autowired</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>å±æ€§æ³¨è§£  æˆ–  æ–¹æ³•æ³¨è§£ï¼ˆäº†è§£ï¼‰  æˆ–  æ–¹æ³•å½¢å‚æ³¨è§£ï¼ˆäº†è§£ï¼‰</td></tr><tr><td>ä½ç½®</td><td>å±æ€§å®šä¹‰ä¸Šæ–¹  æˆ–  æ ‡å‡†setæ–¹æ³•ä¸Šæ–¹  æˆ–  ç±»setæ–¹æ³•ä¸Šæ–¹  æˆ–  æ–¹æ³•å½¢å‚å‰é¢</td></tr><tr><td>ä½œç”¨</td><td>ä¸ºå¼•ç”¨ç±»å‹å±æ€§è®¾ç½®å€¼</td></tr><tr><td>å±æ€§</td><td>requiredï¼štrue/falseï¼Œå®šä¹‰è¯¥å±æ€§æ˜¯å¦å…è®¸ä¸ºnull</td></tr></tbody></table><h4 id="çŸ¥è¯†ç‚¹2ï¼š-Qualifier">çŸ¥è¯†ç‚¹2ï¼š@Qualifier</h4><table><thead><tr><th>åç§°</th><th>@Qualifier</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>å±æ€§æ³¨è§£  æˆ–  æ–¹æ³•æ³¨è§£ï¼ˆäº†è§£ï¼‰</td></tr><tr><td>ä½ç½®</td><td>å±æ€§å®šä¹‰ä¸Šæ–¹  æˆ–  æ ‡å‡†setæ–¹æ³•ä¸Šæ–¹  æˆ–  ç±»setæ–¹æ³•ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>ä¸ºå¼•ç”¨ç±»å‹å±æ€§æŒ‡å®šæ³¨å…¥çš„beanId</td></tr><tr><td>å±æ€§</td><td>valueï¼ˆé»˜è®¤ï¼‰ï¼šè®¾ç½®æ³¨å…¥çš„beanId</td></tr></tbody></table><h4 id="çŸ¥è¯†ç‚¹3ï¼š-Value">çŸ¥è¯†ç‚¹3ï¼š@Value</h4><table><thead><tr><th>åç§°</th><th>@Value</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>å±æ€§æ³¨è§£  æˆ–  æ–¹æ³•æ³¨è§£ï¼ˆäº†è§£ï¼‰</td></tr><tr><td>ä½ç½®</td><td>å±æ€§å®šä¹‰ä¸Šæ–¹  æˆ–  æ ‡å‡†setæ–¹æ³•ä¸Šæ–¹  æˆ–  ç±»setæ–¹æ³•ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>ä¸º  åŸºæœ¬æ•°æ®ç±»å‹  æˆ–  å­—ç¬¦ä¸²ç±»å‹  å±æ€§è®¾ç½®å€¼</td></tr><tr><td>å±æ€§</td><td>valueï¼ˆé»˜è®¤ï¼‰ï¼šè¦æ³¨å…¥çš„å±æ€§å€¼</td></tr></tbody></table><h4 id="çŸ¥è¯†ç‚¹4ï¼š-PropertySource">çŸ¥è¯†ç‚¹4ï¼š@PropertySource</h4><table><thead><tr><th>åç§°</th><th>@PropertySource</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>ç±»æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>åŠ è½½propertiesæ–‡ä»¶ä¸­çš„å±æ€§å€¼</td></tr><tr><td>å±æ€§</td><td>valueï¼ˆé»˜è®¤ï¼‰ï¼šè®¾ç½®åŠ è½½çš„propertiesæ–‡ä»¶å¯¹åº”çš„æ–‡ä»¶åæˆ–æ–‡ä»¶åç»„æˆçš„æ•°ç»„</td></tr></tbody></table><h3 id="æ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean">æ³¨è§£å¼€å‘ç®¡ç†ç¬¬ä¸‰æ–¹bean</h3><p>å‰é¢å®šä¹‰beançš„æ—¶å€™éƒ½æ˜¯åœ¨è‡ªå·±å¼€å‘çš„ç±»ä¸Šé¢å†™ä¸ªæ³¨è§£å°±å®Œæˆäº† ç¬¬ä¸‰æ–¹æ˜¯éœ€è¦å¯¼å…¥jaråŒ…çš„</p><p>å¦‚æœéœ€è¦ç®¡ç†æ˜¯è¦ä¸€ä¸ªæ–°çš„æ³¨è§£==@Bean==</p><p>å…¶å®å°±æ˜¯å»ºç«‹ä¸€ä¸ªJavaç±» retrunè¿”å›ä¸€ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JdbcConfig</span> &#123;</span><br><span class="line">    <span class="comment">//1.å®šä¹‰ä¸€ä¸ªæ–¹æ³•è·å¾—è¦ç®¡ç†çš„å¯¹è±¡</span></span><br><span class="line">    <span class="meta">@Value(&quot;com.mysql.jdbc.Driver&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String driver;</span><br><span class="line">    <span class="meta">@Value(&quot;jdbc:mysql://localhost:3306/spring_db&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line">    <span class="meta">@Value(&quot;root&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="meta">@Value(&quot;root&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="comment">//2.æ·»åŠ @Beanï¼Œè¡¨ç¤ºå½“å‰æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªbean</span></span><br><span class="line">    <span class="comment">//@Beanä¿®é¥°çš„æ–¹æ³•ï¼Œå½¢å‚æ ¹æ®ç±»å‹è‡ªåŠ¨è£…é…</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">(BookDao bookDao)</span>&#123;</span><br><span class="line">        System.out.println(bookDao);</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        ds.setDriverClassName(driver);</span><br><span class="line">        ds.setUrl(url);</span><br><span class="line">        ds.setUsername(userName);</span><br><span class="line">        ds.setPassword(password);</span><br><span class="line">        <span class="keyword">return</span> ds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨springè¿æ¥çš„javaç±»ä¸­æ”¾å…¥æ³¨è§£å³å¯ è¿™æ—¶å€™éœ€è¦componentScanå¯¼å…¥åŒ…åæ‰«æ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="comment">//@Import:å¯¼å…¥é…ç½®ä¿¡æ¯</span></span><br><span class="line"><span class="meta">@Import(&#123;JdbcConfig.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ³¨è§£å¼€å‘å°æ€»ç»“">æ³¨è§£å¼€å‘å°æ€»ç»“</h3><p>å›¾ç‰‡æ€»ç»“ çº¢è‰²çš„æ˜¯ä»¥åå¸¸ç”¨çš„</p><p><img src="https://pic1.imgdb.cn/item/635d3ecc16f2c2beb1fe120f.png" alt="image-20221010161237920"></p><h2 id="4-BUGç‚¹-3">4. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>Translationçš„é—®é¢˜ IDEAä¸­è°·æ­Œæ’ä»¶ æŠ¥é”™ CSDNæœç´¢è§£å†³æ–¹æ³•</p><p>C:\Windows\System32\drivers\etc ä¸­çš„hosts è¿›è¡Œä¿®æ”¹ æ·»åŠ </p><p>è¦è·å–ipè·å–ï¼šå‘½ä»¤è¡Œ ping <a href="http://translate.google.cn">translate.google.cn</a> ä¼šè¿”å›å¯¹åº”çš„ipï¼Œ<a href="http://xn--translate-pb6nr71bq9dlw9j.googleapis.com">ç„¶ååŠ ä¸Štranslate.googleapis.com</a></p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Hosts</span>æ˜¯ä¸€ä¸ªæ²¡æœ‰æ‰©å±•åçš„ç³»ç»Ÿæ–‡ä»¶ï¼Œå¯ä»¥ç”¨è®°äº‹æœ¬ç­‰å·¥å…·æ‰“å¼€ï¼Œå…¶ä½œç”¨å°±æ˜¯å°†ä¸€äº›å¸¸ç”¨çš„ç½‘å€åŸŸåä¸å…¶å¯¹åº”çš„<span class="built_in">IP</span>åœ°å€å»ºç«‹ä¸€ä¸ªå…³è”â€œæ•°æ®åº“â€</span><br></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/635d3ecf16f2c2beb1fe1926.png" alt="image-20221010153637331"></p><p>å‘½ä»¤å¦‚ä¸‹</p><p><img src="https://i0.hdslb.com/bfs/album/15409526704f1eb0a942056d0e429ca1b7653899.png" alt="image-20221010153807876"></p><h2 id="6-æ€»ç»“-2">6.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©å­¦ä¹ çš„å†…å®¹æ¯”è¾ƒå¤šçš„ï¼Œä»ä¾èµ–æ³¨å…¥åˆ°å®¹å™¨åˆ°é‡ç‚¹çš„æ³¨è§£å¼€å‘ï¼Œæ³¨è§£å¼€å‘æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼Œå‰é¢çš„æ³¨å…¥å’Œå®¹å™¨ä»€ä¹ˆçš„ï¼Œéƒ½å¯ä»¥é€šè¿‡æ³¨è§£å¼€å‘å®Œæˆï¼Œå°±ä¸éœ€è¦å†™xmlæ–‡ä»¶äº†ï¼Œè¿™æ ·å¾ˆæ–¹ä¾¿ã€‚è¿‡ç¨‹ä¸­æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯æ³¨è§£é‚£è¾¹éœ€è¦è®°å¾ˆå¤šä¸œè¥¿ï¼Œä¸ç„¶ä¼°è®¡ä¸å¤ªå¥½æ‰“ã€‚ä¹‹å‰javaå­¦æ³¨è§£çš„æ—¶å€™ï¼Œæ²¡æ€ä¹ˆå­¦ï¼Œç°åœ¨ ç®—æ˜¯åˆçœ‹äº†ä¸€éï¼Œä¹Ÿæ˜¯ç†è§£æ³¨è§£çš„ä½œç”¨äº†ã€‚ä»Šå¤©åŸºæœ¬éƒ½æŒæ¡åˆ°äº†ï¼Œä»£ç é‡æ¯”è¾ƒå¤šï¼Œå­¦ä¹ çŠ¶æ€ä¹Ÿå¾ˆä¸é”™çš„ã€‚</p><h1 id="10-11-AOP-Springäº‹åŠ¡">10.11 AOP Springäº‹åŠ¡</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-4">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-4">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="AOPç®€ä»‹">AOPç®€ä»‹</h3><h3 id="AOPå®ç°æ­¥éª¤">AOPå®ç°æ­¥éª¤</h3><h3 id="AOPé…ç½®ç®¡ç†">AOPé…ç½®ç®¡ç†</h3><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-4">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="AOPç®€ä»‹-2">AOPç®€ä»‹</h3><p>AOP(Aspect Oriented Programming)é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼ŒæŒ‡å¯¼å¼€å‘è€…å¦‚ä½•ç»„ç»‡ç¨‹åºç»“æ„ã€‚</p><p>å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸€æ ·éƒ½æ˜¯ä¸€ç§ç¼–ç¨‹çš„æ€æƒ³</p><h4 id="AOPä½œç”¨">AOPä½œç”¨</h4><p>åœ¨ä¸æƒŠåŠ¨åŸå§‹è®¾è®¡çš„åŸºç¡€ä¸Šä¸ºå…¶è¿›è¡ŒåŠŸèƒ½å¢å¼ºï¼Œå’Œä¹‹å‰å­¦è¿‡çš„ä»£ç†æ¨¡å¼å¾ˆåƒã€‚</p><p>å¦‚å›¾æ‰€å®ç°çš„åŠŸèƒ½è°ƒç”¨updateå’Œdeleteæ–¹æ³•æ—¶å€™ ä¼šè®¡ç®—ç¨‹åºæ‰§è¡Œæ—¶é—´ ä½†æ˜¯è°ƒç”¨selectå°±ä¸ä¼šæ‰§è¡Œ</p><p>springå®ç°æ–¹å¼å°±æ˜¯ ä¸‰ä¸ªæ–¹æ³•ä¸ºä¸‰ä¸ªè¿æ¥ç‚¹ï¼Œéœ€è¦å®ç°åŠŸèƒ½å¢å¼º(é€šçŸ¥)çš„æ–¹æ³• è®¾ç½®åˆ‡å…¥ç‚¹</p><p><img src="https://pic1.imgdb.cn/item/635d3ed216f2c2beb1fe2522.png" alt="image-20221011151249847"></p><h4 id="AOPæ ¸å¿ƒæ¦‚å¿µ">AOPæ ¸å¿ƒæ¦‚å¿µ</h4><p>æ€»ç»“ä¸‹:</p><ul><li>è¿æ¥ç‚¹(JoinPoint)ï¼šç¨‹åºæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä»»æ„ä½ç½®ï¼Œç²’åº¦ä¸ºæ‰§è¡Œæ–¹æ³•ã€æŠ›å‡ºå¼‚å¸¸ã€è®¾ç½®å˜é‡ç­‰<ul><li>åœ¨SpringAOPä¸­ï¼Œç†è§£ä¸ºæ–¹æ³•çš„æ‰§è¡Œ</li></ul></li><li>åˆ‡å…¥ç‚¹(Pointcut):åŒ¹é…è¿æ¥ç‚¹çš„å¼å­<ul><li>åœ¨SpringAOPä¸­ï¼Œä¸€ä¸ªåˆ‡å…¥ç‚¹å¯ä»¥æè¿°ä¸€ä¸ªå…·ä½“æ–¹æ³•ï¼Œä¹Ÿå¯ä¹ŸåŒ¹é…å¤šä¸ªæ–¹æ³•<ul><li>ä¸€ä¸ªå…·ä½“çš„æ–¹æ³•:å¦‚com.itheima.daoåŒ…ä¸‹çš„BookDaoæ¥å£ä¸­çš„æ— å½¢å‚æ— è¿”å›å€¼çš„saveæ–¹æ³•</li><li>åŒ¹é…å¤šä¸ªæ–¹æ³•:æ‰€æœ‰çš„saveæ–¹æ³•ï¼Œæ‰€æœ‰çš„getå¼€å¤´çš„æ–¹æ³•ï¼Œæ‰€æœ‰ä»¥Daoç»“å°¾çš„æ¥å£ä¸­çš„ä»»æ„æ–¹æ³•ï¼Œæ‰€æœ‰å¸¦æœ‰ä¸€ä¸ªå‚æ•°çš„æ–¹æ³•</li></ul></li><li>è¿æ¥ç‚¹èŒƒå›´è¦æ¯”åˆ‡å…¥ç‚¹èŒƒå›´å¤§ï¼Œæ˜¯åˆ‡å…¥ç‚¹çš„æ–¹æ³•ä¹Ÿä¸€å®šæ˜¯è¿æ¥ç‚¹ï¼Œä½†æ˜¯æ˜¯è¿æ¥ç‚¹çš„æ–¹æ³•å°±ä¸ä¸€å®šè¦è¢«å¢å¼ºï¼Œæ‰€ä»¥å¯èƒ½ä¸æ˜¯åˆ‡å…¥ç‚¹ã€‚</li></ul></li><li>é€šçŸ¥(Advice):åœ¨åˆ‡å…¥ç‚¹å¤„æ‰§è¡Œçš„æ“ä½œï¼Œä¹Ÿå°±æ˜¯å…±æ€§åŠŸèƒ½<ul><li>åœ¨SpringAOPä¸­ï¼ŒåŠŸèƒ½æœ€ç»ˆä»¥æ–¹æ³•çš„å½¢å¼å‘ˆç°</li></ul></li><li>é€šçŸ¥ç±»ï¼šå®šä¹‰é€šçŸ¥çš„ç±»</li><li>åˆ‡é¢(Aspect):æè¿°é€šçŸ¥ä¸åˆ‡å…¥ç‚¹çš„å¯¹åº”å…³ç³»ã€‚</li></ul><h3 id="AOPå®ç°æ­¥éª¤-2">AOPå®ç°æ­¥éª¤</h3><p>æ·»åŠ springä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®ç°javaç±»</p><p>ä»£ç å’Œæ³¨è§£ å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.aop;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Aspect;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Before;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.Pointcut;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="comment">//é€šçŸ¥ç±»å¿…é¡»é…ç½®æˆSpringç®¡ç†çš„bean</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="comment">//è®¾ç½®å½“å‰ç±»ä¸ºåˆ‡é¢ç±»ç±»</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAdvice</span> &#123;</span><br><span class="line">    <span class="comment">//è®¾ç½®åˆ‡å…¥ç‚¹ï¼Œè¦æ±‚é…ç½®åœ¨æ–¹æ³•ä¸Šæ–¹</span></span><br><span class="line">    <span class="comment">//å¦‚æ­¤å®ç° updateè°ƒç”¨ methodæ–¹æ³• å…¶ä»–çš„ä¸è°ƒç”¨</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(void com.itheima.dao.BookDao.update())&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">pt</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¾ç½®åœ¨åˆ‡å…¥ç‚¹pt()çš„å‰é¢è¿è¡Œå½“å‰æ“ä½œï¼ˆå‰ç½®é€šçŸ¥ï¼‰</span></span><br><span class="line">     <span class="meta">@Before(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æ˜¯åˆ‡å…¥ç‚¹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¼€å¯æ³¨è§£æ ¼å¼AOPåŠŸèƒ½">å¼€å¯æ³¨è§£æ ¼å¼AOPåŠŸèƒ½</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima&quot;)</span></span><br><span class="line"><span class="comment">//å¼€å¯AOPæ”¯æŒ</span></span><br><span class="line"><span class="meta">@EnableAspectJAutoProxy</span> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ‰€ç”¨æ–°æ³¨è§£">æ‰€ç”¨æ–°æ³¨è§£</h4><h5 id="çŸ¥è¯†ç‚¹1ï¼š-EnableAspectJAutoProxy">çŸ¥è¯†ç‚¹1ï¼š@EnableAspectJAutoProxy</h5><table><thead><tr><th>åç§°</th><th>@EnableAspectJAutoProxy</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>é…ç½®ç±»æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>é…ç½®ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>å¼€å¯æ³¨è§£æ ¼å¼AOPåŠŸèƒ½</td></tr></tbody></table><h5 id="çŸ¥è¯†ç‚¹2ï¼š-Aspect">çŸ¥è¯†ç‚¹2ï¼š@Aspect</h5><table><thead><tr><th>åç§°</th><th>@Aspect</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>ç±»æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>åˆ‡é¢ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®å½“å‰ç±»ä¸ºAOPåˆ‡é¢ç±»</td></tr></tbody></table><h5 id="çŸ¥è¯†ç‚¹3ï¼š-Pointcut">çŸ¥è¯†ç‚¹3ï¼š@Pointcut</h5><table><thead><tr><th>åç§°</th><th>@Pointcut</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>æ–¹æ³•æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>åˆ‡å…¥ç‚¹æ–¹æ³•å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®åˆ‡å…¥ç‚¹æ–¹æ³•</td></tr><tr><td>å±æ€§</td><td>valueï¼ˆé»˜è®¤ï¼‰ï¼šåˆ‡å…¥ç‚¹è¡¨è¾¾å¼</td></tr></tbody></table><h5 id="çŸ¥è¯†ç‚¹4ï¼š-Before">çŸ¥è¯†ç‚¹4ï¼š@Before</h5><table><thead><tr><th>åç§°</th><th>@Before</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>æ–¹æ³•æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>é€šçŸ¥æ–¹æ³•å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®å½“å‰é€šçŸ¥æ–¹æ³•ä¸åˆ‡å…¥ç‚¹ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œå½“å‰é€šçŸ¥æ–¹æ³•åœ¨åŸå§‹åˆ‡å…¥ç‚¹æ–¹æ³•å‰è¿è¡Œ</td></tr></tbody></table><h3 id="è¯­æ³•æ ¼å¼">è¯­æ³•æ ¼å¼</h3><p>å„ä¸ªå…³é”®å­—è§£é‡Š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution(<span class="keyword">public</span> User com.itheima.service.UserService.findById(<span class="type">int</span>))</span><br></pre></td></tr></table></figure><ul><li>executionï¼šåŠ¨ä½œå…³é”®å­—ï¼Œæè¿°åˆ‡å…¥ç‚¹çš„è¡Œä¸ºåŠ¨ä½œï¼Œä¾‹å¦‚executionè¡¨ç¤ºæ‰§è¡Œåˆ°æŒ‡å®šåˆ‡å…¥ç‚¹</li><li>public:è®¿é—®ä¿®é¥°ç¬¦,è¿˜å¯ä»¥æ˜¯publicï¼Œprivateç­‰ï¼Œå¯ä»¥çœç•¥</li><li>Userï¼šè¿”å›å€¼ï¼Œå†™è¿”å›å€¼ç±»å‹</li><li>com.itheima.serviceï¼šåŒ…åï¼Œå¤šçº§åŒ…ä½¿ç”¨ç‚¹è¿æ¥</li><li>UserService:ç±»/æ¥å£åç§°</li><li>findByIdï¼šæ–¹æ³•å</li><li>int:å‚æ•°ï¼Œç›´æ¥å†™å‚æ•°çš„ç±»å‹ï¼Œå¤šä¸ªç±»å‹ç”¨é€—å·éš”å¼€</li><li>å¼‚å¸¸åï¼šæ–¹æ³•å®šä¹‰ä¸­æŠ›å‡ºæŒ‡å®šå¼‚å¸¸ï¼Œå¯ä»¥çœç•¥</li></ul><h4 id="é€šé…ç¬¦">é€šé…ç¬¦</h4><p>è¿™æ ·ä½¿ç”¨çš„è¯æ¯”è¾ƒå•ä¸€ è‚¯å®šæ˜¯æœ‰é€šé…ç¬¦çš„ å’Œjavaä¸­ sqlä¸­ä¸€æ · å¯ä»¥ç®€åŒ–é…ç½®</p><ul><li><p><code>*</code>:å•ä¸ªç‹¬ç«‹çš„ä»»æ„ç¬¦å·ï¼Œå¯ä»¥ç‹¬ç«‹å‡ºç°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‰ç¼€æˆ–è€…åç¼€çš„åŒ¹é…ç¬¦å‡ºç°</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">executionï¼ˆ<span class="keyword">public</span> * com.itheima.*.UserService.find*(*))</span><br></pre></td></tr></table></figure><p>åŒ¹é…com.itheimaåŒ…ä¸‹çš„ä»»æ„åŒ…ä¸­çš„UserServiceç±»æˆ–æ¥å£ä¸­æ‰€æœ‰findå¼€å¤´çš„å¸¦æœ‰ä¸€ä¸ªå‚æ•°çš„æ–¹æ³•</p></li><li><p><code>..</code>ï¼šå¤šä¸ªè¿ç»­çš„ä»»æ„ç¬¦å·ï¼Œå¯ä»¥ç‹¬ç«‹å‡ºç°ï¼Œå¸¸ç”¨äºç®€åŒ–åŒ…åä¸å‚æ•°çš„ä¹¦å†™</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">executionï¼ˆpublic <span class="keyword">User</span> <span class="title">com</span>..UserService.findById(..))</span><br></pre></td></tr></table></figure><p>åŒ¹é…comåŒ…ä¸‹çš„ä»»æ„åŒ…ä¸­çš„UserServiceç±»æˆ–æ¥å£ä¸­æ‰€æœ‰åç§°ä¸ºfindByIdçš„æ–¹æ³•</p></li></ul><h3 id="é€šçŸ¥ç±»å‹">é€šçŸ¥ç±»å‹</h3><ul><li><p>å‰ç½®é€šçŸ¥</p></li><li><p>åç½®é€šçŸ¥</p></li><li><p>ç¯ç»•é€šçŸ¥ï¼ˆé‡ç‚¹ï¼‰</p><ul><li>ç¯ç»•é€šçŸ¥ä¾èµ–å½¢å‚ProceedingJoinPointæ‰èƒ½å®ç°å¯¹åŸå§‹æ–¹æ³•çš„è°ƒç”¨</li><li>ç¯ç»•é€šçŸ¥å¯ä»¥éš”ç¦»åŸå§‹æ–¹æ³•çš„è°ƒç”¨æ‰§è¡Œ</li><li>ç¯ç»•é€šçŸ¥è¿”å›å€¼è®¾ç½®ä¸ºObjectç±»å‹</li><li>ç¯ç»•é€šçŸ¥ä¸­å¯ä»¥å¯¹åŸå§‹æ–¹æ³•è°ƒç”¨è¿‡ç¨‹ä¸­å‡ºç°çš„å¼‚å¸¸è¿›è¡Œå¤„ç†</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAdvice</span> &#123;</span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(void com.itheima.dao.BookDao.update())&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">pt</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"> <span class="comment">//ç¯ç»•é€šçŸ¥   </span></span><br><span class="line">    <span class="meta">@Around(&quot;pt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">around</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;around before advice ...&quot;</span>);</span><br><span class="line">        <span class="comment">//è¡¨ç¤ºå¯¹åŸå§‹æ“ä½œçš„è°ƒç”¨</span></span><br><span class="line">        pjp.proceed();</span><br><span class="line">        System.out.println(<span class="string">&quot;around after advice ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>è¿”å›åé€šçŸ¥</p></li><li><p>æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥</p></li></ul><h4 id="é€šçŸ¥ä¸­è·å–å‚æ•°">é€šçŸ¥ä¸­è·å–å‚æ•°</h4><ul><li>è·å–åˆ‡å…¥ç‚¹æ–¹æ³•çš„å‚æ•°ï¼Œæ‰€æœ‰çš„é€šçŸ¥ç±»å‹éƒ½å¯ä»¥è·å–å‚æ•°<ul><li>JoinPointï¼šé€‚ç”¨äºå‰ç½®ã€åç½®ã€è¿”å›åã€æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥</li><li>ProceedingJoinPointï¼šé€‚ç”¨äºç¯ç»•é€šçŸ¥</li></ul></li></ul><h2 id="5-æ‰©å±•å­¦ä¹ éƒ¨åˆ†">5.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="é€šé…ç¬¦ä½¿ç”¨ç»ƒä¹ ">é€šé…ç¬¦ä½¿ç”¨ç»ƒä¹ </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">u7</span><br><span class="line"><span class="title function_">execution</span><span class="params">(<span class="keyword">void</span> com.itheima.dao.BookDao.update()</span>)</span><br><span class="line">åŒ¹é…æ¥å£ï¼Œèƒ½åŒ¹é…åˆ°</span><br><span class="line">execution(<span class="keyword">void</span> com.itheima.dao.impl.BookDaoImpl.update())</span><br><span class="line">åŒ¹é…å®ç°ç±»ï¼Œèƒ½åŒ¹é…åˆ°</span><br><span class="line">execution(* com.itheima.dao.impl.BookDaoImpl.update())</span><br><span class="line">è¿”å›å€¼ä»»æ„ï¼Œèƒ½åŒ¹é…åˆ°</span><br><span class="line">execution(* com.itheima.dao.impl.BookDaoImpl.update(*))</span><br><span class="line">è¿”å›å€¼ä»»æ„ï¼Œä½†æ˜¯updateæ–¹æ³•å¿…é¡»è¦æœ‰ä¸€ä¸ªå‚æ•°ï¼Œæ— æ³•åŒ¹é…ï¼Œè¦æƒ³åŒ¹é…éœ€è¦åœ¨updateæ¥å£å’Œå®ç°ç±»æ·»åŠ å‚æ•°</span><br><span class="line">execution(<span class="keyword">void</span> com.*.*.*.*.update())</span><br><span class="line">è¿”å›å€¼ä¸º<span class="keyword">void</span>,comåŒ…ä¸‹çš„ä»»æ„åŒ…ä¸‰å±‚åŒ…ä¸‹çš„ä»»æ„ç±»çš„updateæ–¹æ³•ï¼ŒåŒ¹é…åˆ°çš„æ˜¯å®ç°ç±»ï¼Œèƒ½åŒ¹é…</span><br><span class="line">execution(<span class="keyword">void</span> com.*.*.*.update())</span><br><span class="line">è¿”å›å€¼ä¸º<span class="keyword">void</span>,comåŒ…ä¸‹çš„ä»»æ„ä¸¤å±‚åŒ…ä¸‹çš„ä»»æ„ç±»çš„updateæ–¹æ³•ï¼ŒåŒ¹é…åˆ°çš„æ˜¯æ¥å£ï¼Œèƒ½åŒ¹é…</span><br><span class="line">execution(<span class="keyword">void</span> *..update())</span><br><span class="line">è¿”å›å€¼ä¸º<span class="keyword">void</span>ï¼Œæ–¹æ³•åæ˜¯updateçš„ä»»æ„åŒ…ä¸‹çš„ä»»æ„ç±»ï¼Œèƒ½åŒ¹é…</span><br><span class="line">execution(* *..*(..))</span><br><span class="line">åŒ¹é…é¡¹ç›®ä¸­ä»»æ„ç±»çš„ä»»æ„æ–¹æ³•ï¼Œèƒ½åŒ¹é…ï¼Œä½†æ˜¯ä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œå½±å“èŒƒå›´å¹¿</span><br><span class="line">execution(* *..u*(..))</span><br><span class="line">åŒ¹é…é¡¹ç›®ä¸­ä»»æ„åŒ…ä»»æ„ç±»ä¸‹åªè¦ä»¥uå¼€å¤´çš„æ–¹æ³•ï¼Œupdateæ–¹æ³•èƒ½æ»¡è¶³ï¼Œèƒ½åŒ¹é…</span><br><span class="line">execution(* *..*e(..))</span><br><span class="line">åŒ¹é…é¡¹ç›®ä¸­ä»»æ„åŒ…ä»»æ„ç±»ä¸‹åªè¦ä»¥eç»“å°¾çš„æ–¹æ³•ï¼Œupdateå’Œsaveæ–¹æ³•èƒ½æ»¡è¶³ï¼Œèƒ½åŒ¹é…</span><br><span class="line">execution(<span class="keyword">void</span> com..*())</span><br><span class="line">è¿”å›å€¼ä¸º<span class="keyword">void</span>ï¼ŒcomåŒ…ä¸‹çš„ä»»æ„åŒ…ä»»æ„ç±»ä»»æ„æ–¹æ³•ï¼Œèƒ½åŒ¹é…ï¼Œ*ä»£è¡¨çš„æ˜¯æ–¹æ³•</span><br><span class="line">execution(* com.itheima.*.*Service.find*(..))</span><br><span class="line">å°†é¡¹ç›®ä¸­æ‰€æœ‰ä¸šåŠ¡å±‚æ–¹æ³•çš„ä»¥findå¼€å¤´çš„æ–¹æ³•åŒ¹é…</span><br><span class="line">execution(* com.itheima.*.*Service.save*(..))</span><br><span class="line">å°†é¡¹ç›®ä¸­æ‰€æœ‰ä¸šåŠ¡å±‚æ–¹æ³•çš„ä»¥saveå¼€å¤´çš„æ–¹æ³•åŒ¹é…</span><br></pre></td></tr></table></figure><h3 id="ç™¾åº¦ç½‘ç›˜å¯†ç æ•°æ®å…¼å®¹å¤„ç†">ç™¾åº¦ç½‘ç›˜å¯†ç æ•°æ®å…¼å®¹å¤„ç†</h3><p>å¯†ç è¾“å…¥æœ€åä¸€ä¸ªä¼šæ˜¯ç©ºæ ¼çš„é—®é¢˜ æ¯”å¦‚æˆ‘å¯†ç æ˜¯ root ä½†æ˜¯æˆ‘æ‰“æˆäº†root(ç©ºæ ¼) è¿™ç§æƒ…å†µ å°±å¯ä»¥ä½¿ç”¨ç¯ç»•é€šçŸ¥è§£å†³</p><p>ä»£ç å¦‚ä¸‹ getArgsè·å–ä¸€ä¸ªå¯¹è±¡æ•°ç»„ ä¸€èˆ¬æƒ…å†µå…¶å®æ˜¯string ä½†æ˜¯ä¸ä¸¥è°¨ æ‰€ä»¥è¦å¾ªç¯æ‰¾å‡ºstringç±»å‹çš„ å†è°ƒç”¨trim()å¤„ç†æ‰ç©ºæ ¼æœ€åå°†æ”¹argsè¿”å›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DataAdvice</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(boolean com.itheima.service.*Service.*(*,*))&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">servicePt</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Around(&quot;DataAdvice.servicePt()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">trimStr</span><span class="params">(ProceedingJoinPoint pjp)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        Object[] args = pjp.getArgs();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line">            <span class="comment">//åˆ¤æ–­å‚æ•°æ˜¯ä¸æ˜¯å­—ç¬¦ä¸²</span></span><br><span class="line">            <span class="keyword">if</span> (args[i].getClass().equals(String.class)) &#123;</span><br><span class="line">                args[i] = args[i].toString().trim();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> pjp.proceed(args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://pic1.imgdb.cn/item/635d3ed916f2c2beb1fe3ed7.png" alt="image-20221011154849906"></p><p>æ‰§è¡Œç»“æœå¦‚ä¸Š 4æ˜¯å®é™…è¯»å–å¯†ç çš„ä½æ•°</p><h2 id="6-æ€»ç»“-3">6.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©æ˜¯å­¦ä¹ çš„å†…å®¹æ˜¯springä¸­çš„AOPå’Œç®€å•çš„äº‹åŠ¡ç®¡ç†ï¼Œå……åˆ†åˆ©ç”¨å¥½æ³¨è§£æ¥å®Œæˆspringé¡¹ç›® ï¼Œæ¯”ä¹‹å‰çš„xmlæ–¹ä¾¿å¾ˆå¤šï¼Œä»Šå¤©çš„å­¦ä¹ ä»»åŠ¡è¿˜æ˜¯å¾ˆé‡çš„ï¼Œæ•´ä¸ªçš„AOPï¼Œæœ‰å¾ˆå¤šçš„ä»£ç è¦æ•²ï¼ŒAOPä»ç®€ä»‹åˆ°æ€»ç»“ï¼Œç„¶åæ˜¯å’Œjavaå·®ä¸å¤šçš„è½¬è´¦çš„äº‹åŠ¡ç®¡ç†ï¼Œæ¯”è¾ƒéº»çƒ¦çš„å°±æ˜¯AOPåé¢çš„ç¯ç»•é€šçŸ¥äº†ï¼Œä½†æ˜¯å¾ˆå¥½ç”¨ï¼Œä¹Ÿæ˜¯èŠ±æ—¶é—´å»çœ‹äº†ä¸€ä¸‹ï¼Œä»Šå¤©çš„å­¦ä¹ çŠ¶æ€ä¹Ÿä¸é”™ï¼Œæ˜å¤©åŠ å¿«è¿›åº¦å­¦MVCäº†ã€‚</p><h1 id="10-12-SpringMVC">10.12 SpringMVC</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-5">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-5">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>SpringMVCç®€ä»‹</p><p>SpringMVCç®€å•ä½¿ç”¨</p><p>PostManä½¿ç”¨</p><p>è¯·æ±‚å’Œå“åº”</p><p>Resté£æ ¼</p><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-5">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="SpringMVCç®€ä»‹">SpringMVCç®€ä»‹</h3><ul><li><p>SpringMVCä¸ServletæŠ€æœ¯åŠŸèƒ½ç­‰åŒï¼Œå‡å±äºwebå±‚æˆ–è€…è¯´è¡¨ç°å±‚å¼€å‘æŠ€æœ¯ã€‚SpringMVCæ¯”Servletæ›´ç®€å•å¿«æ·ï¼Œèƒ½é€šè¿‡æ›´å°‘çš„ä»£ç å®Œæˆé¡¹ç›®çš„å¼€å‘</p></li><li><p>SpringMVCæ˜¯ä¸€ç§åŸºäºJavaå®ç°MVCæ¨¡å‹çš„è½»é‡çº§Webæ¡†æ¶</p></li><li><p>ä¼˜ç‚¹</p><ul><li>ä½¿ç”¨ç®€å•ã€å¼€å‘ä¾¿æ·(ç›¸æ¯”äºServlet)</li><li>çµæ´»æ€§å¼º</li></ul></li></ul><h3 id="SpringMVCå…¥é—¨æ¡ˆä¾‹">SpringMVCå…¥é—¨æ¡ˆä¾‹</h3><p>javaæ§åˆ¶å™¨ç±»ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ResponseBody;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/save&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">save</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;user save ...&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;info&#x27;:&#x27;springmvc&#x27;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨åˆ°çš„æ³¨è§£</p><h4 id="çŸ¥è¯†ç‚¹1ï¼š-Controller">çŸ¥è¯†ç‚¹1ï¼š@Controller</h4><table><thead><tr><th>åç§°</th><th>@Controller</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>ç±»æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>SpringMVCæ§åˆ¶å™¨ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾å®šSpringMVCçš„æ ¸å¿ƒæ§åˆ¶å™¨bean</td></tr></tbody></table><h4 id="çŸ¥è¯†ç‚¹2ï¼š-RequestMapping">çŸ¥è¯†ç‚¹2ï¼š@RequestMapping</h4><table><thead><tr><th>åç§°</th><th>@RequestMapping</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>ç±»æ³¨è§£æˆ–æ–¹æ³•æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>SpringMVCæ§åˆ¶å™¨ç±»æˆ–æ–¹æ³•å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®å½“å‰æ§åˆ¶å™¨æ–¹æ³•è¯·æ±‚è®¿é—®è·¯å¾„</td></tr><tr><td>ç›¸å…³å±æ€§</td><td>value(é»˜è®¤)ï¼Œè¯·æ±‚è®¿é—®è·¯å¾„</td></tr></tbody></table><h4 id="çŸ¥è¯†ç‚¹3ï¼š-ResponseBody">çŸ¥è¯†ç‚¹3ï¼š@ResponseBody</h4><table><thead><tr><th>åç§°</th><th>@ResponseBody</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>ç±»æ³¨è§£æˆ–æ–¹æ³•æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>SpringMVCæ§åˆ¶å™¨ç±»æˆ–æ–¹æ³•å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®å½“å‰æ§åˆ¶å™¨æ–¹æ³•å“åº”å†…å®¹ä¸ºå½“å‰è¿”å›å€¼ï¼Œæ— éœ€è§£æ</td></tr></tbody></table><p>ä½¿ç”¨Tomcat7:runè¿è¡Œ</p><h4 id="å¦‚ä½•æ’é™¤æŸä¸ªå¤‡æ¡ˆ-æ¯”å¦‚æ’é™¤æ‰SpringMVCæ§åˆ¶çš„å¤‡æ¡ˆ">å¦‚ä½•æ’é™¤æŸä¸ªå¤‡æ¡ˆ æ¯”å¦‚æ’é™¤æ‰SpringMVCæ§åˆ¶çš„å¤‡æ¡ˆ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.FilterType;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">//@ComponentScan(&#123;&quot;com.itheima.service&quot;,&quot;com.itheima.dao&quot;&#125;)</span></span><br><span class="line"><span class="comment">//è®¾ç½®springé…ç½®ç±»åŠ è½½beanæ—¶çš„è¿‡æ»¤è§„åˆ™ï¼Œå½“å‰è¦æ±‚æ’é™¤æ‰è¡¨ç°å±‚å¯¹åº”çš„bean</span></span><br><span class="line"><span class="comment">//excludeFilterså±æ€§ï¼šè®¾ç½®æ‰«æåŠ è½½beanæ—¶ï¼Œæ’é™¤çš„è¿‡æ»¤è§„åˆ™</span></span><br><span class="line"><span class="comment">//typeå±æ€§ï¼šè®¾ç½®æ’é™¤è§„åˆ™ï¼Œå½“å‰ä½¿ç”¨æŒ‰ç…§beanå®šä¹‰æ—¶çš„æ³¨è§£ç±»å‹è¿›è¡Œæ’é™¤</span></span><br><span class="line"><span class="comment">//classeså±æ€§ï¼šè®¾ç½®æ’é™¤çš„å…·ä½“æ³¨è§£ç±»ï¼Œå½“å‰è®¾ç½®æ’é™¤@Controllerå®šä¹‰çš„bean</span></span><br><span class="line"><span class="meta">@ComponentScan(value=&quot;com.itheima&quot;,</span></span><br><span class="line"><span class="meta">    excludeFilters = @ComponentScan.Filter( //æ’é™¤ Controllerçš„æ³¨è§£åŠ è½½</span></span><br><span class="line"><span class="meta">        type = FilterType.ANNOTATION,</span></span><br><span class="line"><span class="meta">        classes = Controller.class</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="comment">//@ComponentScan(&#123;&quot;com.itheima.service&quot;,&quot;com.itheima.dao&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸæ¥çš„Webé…ç½®æ¯”è¾ƒéº»çƒ¦ å¯ä»¥ä¼˜åŒ–çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;</span><br><span class="line"><span class="comment">//webé…ç½®ç±»ç®€åŒ–å¼€å‘ï¼Œä»…è®¾ç½®é…ç½®ç±»ç±»åå³å¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletContainersInitConfig</span> <span class="keyword">extends</span> <span class="title class_">AbstractAnnotationConfigDispatcherServletInitializer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getRootConfigClasses() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;SpringConfig.class&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> Class&lt;?&gt;[] getServletConfigClasses() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;SpringMvcConfig.class&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> String[] getServletMappings() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;/&quot;</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">public class ServletContainersInitConfig extends AbstractDispatcherServletInitializer &#123;</span></span><br><span class="line"><span class="comment">    protected WebApplicationContext createServletApplicationContext() &#123;</span></span><br><span class="line"><span class="comment">        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();</span></span><br><span class="line"><span class="comment">        ctx.register(SpringMvcConfig.class);</span></span><br><span class="line"><span class="comment">        return ctx;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    protected WebApplicationContext createRootApplicationContext() &#123;</span></span><br><span class="line"><span class="comment">        AnnotationConfigWebApplicationContext ctx = new AnnotationConfigWebApplicationContext();</span></span><br><span class="line"><span class="comment">        ctx.register(SpringConfig.class);</span></span><br><span class="line"><span class="comment">        return ctx;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    protected String[] getServletMappings() &#123;</span></span><br><span class="line"><span class="comment">        return new String[]&#123;&quot;/&quot;&#125;;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="PostManå·¥å…·çš„ä½¿ç”¨">PostManå·¥å…·çš„ä½¿ç”¨</h3><p>å°±æ˜¯ä¸€æ¬¾åŠŸèƒ½ä¸ºç½‘é¡µè°ƒè¯•ä¸å‘é€ç½‘é¡µHTTPè¯·æ±‚çš„Chromeæ’ä»¶</p><p>ä½¿ç”¨æˆªå›¾</p><p><img src="https://pic1.imgdb.cn/item/635d3ee116f2c2beb1fe58af.png" alt="image-20221012142203706"></p><p>Sendå¯ä»¥ç›´æ¥å‘é€ å°±ä¸éœ€è¦ä¸€æ¬¡ä¸€æ¬¡æµè§ˆå™¨æ‰“å¼€ï¼Œä¹Ÿèƒ½å¾ˆå¥½çš„åˆ¤æ–­æ˜¯å¦è¿æ¥ã€‚</p><h3 id="è¯·æ±‚å’Œå“åº”">è¯·æ±‚å’Œå“åº”</h3><p>SpringMVCæ˜¯webå±‚çš„æ¡†æ¶ï¼Œé‚£å®ƒä½œç”¨åº”è¯¥æ˜¯å’Œwebä¸€æ ·æ˜¯æ¥æ”¶è¯·æ±‚ã€æ¥æ”¶æ•°æ®ã€å“åº”ç»“æœ</p><h4 id="è¯·æ±‚å‚æ•°">è¯·æ±‚å‚æ•°</h4><p>è¯·æ±‚å‚æ•°çš„ä¼ é€’ä¸æ¥æ”¶æ˜¯å’Œè¯·æ±‚æ–¹å¼æœ‰å…³ç³»çš„ï¼Œç›®å‰æ¯”è¾ƒå¸¸è§çš„ä¸¤ç§è¯·æ±‚æ–¹å¼ä¸ºï¼š</p><ul><li>GET</li><li>POST</li></ul><h4 id="äº”ç§ç±»å‹å‚æ•°ä¼ é€’">äº”ç§ç±»å‹å‚æ•°ä¼ é€’</h4><p>GETçš„æ—¶å€™å†™å…¥çš„ä¿¡æ¯å’Œåå°æ¥å—å‚æ•°çš„è®¾ç½®ä¼šæœ‰ä¸åŒï¼Œç»“åˆæƒ…å†µä½¿ç”¨</p><p>å› ä¸ºPostManä¸­è‡ªå·±éƒ½å†™äº†ï¼Œå°±ä¸æ”¾å…¥åˆ°ç¬”è®°ä¸­å»äº†</p><h4 id="çŸ¥è¯†ç‚¹1ï¼š-RequestParam">çŸ¥è¯†ç‚¹1ï¼š@RequestParam</h4><table><thead><tr><th>åç§°</th><th>@RequestParam</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>å½¢å‚æ³¨è§£</td></tr><tr><td>ä½ç½®</td><td>SpringMVCæ§åˆ¶å™¨æ–¹æ³•å½¢å‚å®šä¹‰å‰é¢</td></tr><tr><td>ä½œç”¨</td><td>ç»‘å®šè¯·æ±‚å‚æ•°ä¸å¤„ç†å™¨æ–¹æ³•å½¢å‚é—´çš„å…³ç³»</td></tr><tr><td>ç›¸å…³å‚æ•°</td><td>requiredï¼šæ˜¯å¦ä¸ºå¿…ä¼ å‚æ•° <br/>defaultValueï¼šå‚æ•°é»˜è®¤å€¼</td></tr></tbody></table><h3 id="JSONæ•°æ®ä¼ è¾“å‚æ•°">JSONæ•°æ®ä¼ è¾“å‚æ•°</h3><p>ç°åœ¨æ¯”è¾ƒæµè¡Œçš„å¼€å‘æ–¹å¼ä¸ºå¼‚æ­¥è°ƒç”¨ã€‚å‰åå°ä»¥å¼‚æ­¥æ–¹å¼è¿›è¡Œäº¤æ¢ï¼Œä¼ è¾“çš„æ•°æ®ä½¿ç”¨çš„æ˜¯==JSON==</p><p>å¯¹äºJSONæ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å¸¸è§çš„æœ‰ä¸‰ç§:</p><ul><li>jsonæ™®é€šæ•°ç»„ï¼ˆ[â€œvalue1â€,â€œvalue2â€,â€œvalue3â€,â€¦]ï¼‰</li><li>jsonå¯¹è±¡ï¼ˆ{key1:value1,key2:value2,â€¦}ï¼‰</li><li>jsonå¯¹è±¡æ•°ç»„ï¼ˆ[{key1:value1,â€¦},{key2:value2,â€¦}]ï¼‰</li></ul><p>å¦‚ä½•ä¼ é€’</p><p>åœ¨SpringMVCçš„é…ç½®ç±»ä¸­å¼€å¯SpringMVCçš„æ³¨è§£æ”¯æŒï¼Œè¿™é‡Œé¢å°±åŒ…å«äº†å°†JSONè½¬æ¢æˆå¯¹è±¡çš„åŠŸèƒ½ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.itheima.controller&quot;)</span></span><br><span class="line"><span class="comment">//å¼€å¯jsonæ•°æ®ç±»å‹è‡ªåŠ¨è½¬æ¢</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="å‚æ•°å‰æ·»åŠ -RequestBody">å‚æ•°å‰æ·»åŠ @RequestBody</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨@RequestBodyæ³¨è§£å°†å¤–éƒ¨ä¼ é€’çš„jsonæ•°ç»„æ•°æ®æ˜ å°„åˆ°å½¢å‚çš„é›†åˆå¯¹è±¡ä¸­ä½œä¸ºæ•°æ®</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/listParamForJson&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">listParamForJson</span><span class="params">(<span class="meta">@RequestBody</span> List&lt;String&gt; likes)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;list common(json)å‚æ•°ä¼ é€’ list ==&gt; &quot;</span>+likes);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;list common for json param&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åé¢çš„å¯¹è±¡å’Œé›†åˆä¹Ÿæ˜¯å·®ä¸å¤šçš„ï¼Œåªè¦ä¿®æ”¹ç±»å‹å°±å°±å¯ä»¥äº† æ³¨æ„è¦åœ¨pom.xmlä¸­å¯¼å…¥jacksonåŒ…</p><h4 id="çŸ¥è¯†ç‚¹1ï¼š-EnableWebMvc">çŸ¥è¯†ç‚¹1ï¼š@EnableWebMvc</h4><table><thead><tr><th>åç§°</th><th>@EnableWebMvc</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>==é…ç½®ç±»æ³¨è§£==</td></tr><tr><td>ä½ç½®</td><td>SpringMVCé…ç½®ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>å¼€å¯SpringMVCå¤šé¡¹è¾…åŠ©åŠŸèƒ½</td></tr></tbody></table><h4 id="çŸ¥è¯†ç‚¹2ï¼š-RequestBody">çŸ¥è¯†ç‚¹2ï¼š@RequestBody</h4><table><thead><tr><th>åç§°</th><th>@RequestBody</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>==å½¢å‚æ³¨è§£==</td></tr><tr><td>ä½ç½®</td><td>SpringMVCæ§åˆ¶å™¨æ–¹æ³•å½¢å‚å®šä¹‰å‰é¢</td></tr><tr><td>ä½œç”¨</td><td>å°†è¯·æ±‚ä¸­è¯·æ±‚ä½“æ‰€åŒ…å«çš„æ•°æ®ä¼ é€’ç»™è¯·æ±‚å‚æ•°ï¼Œæ­¤æ³¨è§£ä¸€ä¸ªå¤„ç†å™¨æ–¹æ³•åªèƒ½ä½¿ç”¨ä¸€æ¬¡</td></tr></tbody></table><p>==REST==ï¼ˆRepresentational State Transferï¼‰ï¼Œè¡¨ç°å½¢å¼çŠ¶æ€è½¬æ¢,å®ƒæ˜¯ä¸€ç§è½¯ä»¶æ¶æ„==é£æ ¼==</p><p>å½“æˆ‘ä»¬æƒ³è¡¨ç¤ºä¸€ä¸ªç½‘ç»œèµ„æºçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹å¼:</p><ul><li>ä¼ ç»Ÿé£æ ¼èµ„æºæè¿°å½¢å¼<ul><li><code>http://localhost/user/getById?id=1</code> æŸ¥è¯¢idä¸º1çš„ç”¨æˆ·ä¿¡æ¯</li><li><code>http://localhost/user/saveUser</code> ä¿å­˜ç”¨æˆ·ä¿¡æ¯</li></ul></li><li>RESTé£æ ¼æè¿°å½¢å¼<ul><li><code>http://localhost/user/1</code></li><li><code>http://localhost/user</code></li></ul></li></ul><p>ä¸ªäººç†è§£ï¼šå°±æ˜¯ç®€åŒ–get post put deleteç­‰æ“ä½œçš„æ—¶å€™ å†™è·¯å¾„ä¼šå¾ˆç¹ççš„è¿™ç§è¡Œä¸ºï¼Œç§°ä¹‹ä¸ºResté£æ ¼ ç”¨è¿™ç§é£æ ¼è®¿é—®å°±è¢«ç§°ä¸º==RESTful==</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">* `http:<span class="regexp">//</span>localhost/users`æŸ¥è¯¢å…¨éƒ¨ç”¨æˆ·ä¿¡æ¯ GETï¼ˆæŸ¥è¯¢ï¼‰</span><br><span class="line">* `http:<span class="regexp">//</span>localhost<span class="regexp">/users/</span><span class="number">1</span>`  æŸ¥è¯¢æŒ‡å®šç”¨æˆ·ä¿¡æ¯ GETï¼ˆæŸ¥è¯¢ï¼‰</span><br><span class="line">* `http:<span class="regexp">//</span>localhost<span class="regexp">/users`    æ·»åŠ ç”¨æˆ·ä¿¡æ¯    POSTï¼ˆæ–°å¢/</span>ä¿å­˜ï¼‰</span><br><span class="line">* `http:<span class="regexp">//</span>localhost<span class="regexp">/users`    ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯    PUTï¼ˆä¿®æ”¹/</span>æ›´æ–°ï¼‰</span><br><span class="line">* `http:<span class="regexp">//</span>localhost<span class="regexp">/users/</span><span class="number">1</span>`  åˆ é™¤ç”¨æˆ·ä¿¡æ¯    DELETEï¼ˆåˆ é™¤ï¼‰</span><br></pre></td></tr></table></figure><h4 id="æ‰€ç”¨åˆ°çš„æ³¨è§£">æ‰€ç”¨åˆ°çš„æ³¨è§£</h4><p>çŸ¥è¯†ç‚¹1ï¼š@PathVariable</p><table><thead><tr><th>åç§°</th><th>@PathVariable</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>==å½¢å‚æ³¨è§£==</td></tr><tr><td>ä½ç½®</td><td>SpringMVCæ§åˆ¶å™¨æ–¹æ³•å½¢å‚å®šä¹‰å‰é¢</td></tr><tr><td>ä½œç”¨</td><td>ç»‘å®šè·¯å¾„å‚æ•°ä¸å¤„ç†å™¨æ–¹æ³•å½¢å‚é—´çš„å…³ç³»ï¼Œè¦æ±‚è·¯å¾„å‚æ•°åä¸å½¢å‚åä¸€ä¸€å¯¹åº”</td></tr></tbody></table><p>åŸæœ¬çš„getä½¿ç”¨RESTé£æ ¼å°±å˜æˆå¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    <span class="comment">//è®¾ç½®å½“å‰è¯·æ±‚æ–¹æ³•ä¸ºGETï¼Œè¡¨ç¤ºRESTé£æ ¼ä¸­çš„æŸ¥è¯¢æ“ä½œ</span></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/users&quot; ,method = RequestMethod.GET)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAll</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;user getAll...&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;user getAll&#x27;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/users/&#123;id&#125;&quot; ,method = RequestMethod.GET)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getById</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;user getById...&quot;</span>+id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;user getById&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‘ç°æœ‰äº›åœ°æ–¹æ˜¯é‡å¤çš„</p><p>è§£å†³æ–¹æ¡ˆå¦‚ä¸‹ æ³¨è§£æ˜¯åŸæ¥çš„æ–¹å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span> <span class="comment">//@Controller + ReponseBody</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/books&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookController</span> &#123;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//@RequestMapping(method = RequestMethod.POST)</span></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> Book book)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book save...&quot;</span> + book);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;book save&#x27;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//@RequestMapping(value = &quot;/&#123;id&#125;&quot;,method = RequestMethod.DELETE)</span></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">delete</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book delete...&quot;</span> + id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;book delete&#x27;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//@RequestMapping(method = RequestMethod.PUT)</span></span><br><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> Book book)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book update...&quot;</span> + book);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;book update&#x27;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//@RequestMapping(value = &quot;/&#123;id&#125;&quot;,method = RequestMethod.GET)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getById</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book getById...&quot;</span> + id);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;book getById&#x27;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//@RequestMapping(method = RequestMethod.GET)</span></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAll</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;book getAll...&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;book getAll&#x27;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é—®é¢˜1ï¼šæ¯ä¸ªæ–¹æ³•çš„@RequestMappingæ³¨è§£ä¸­éƒ½å®šä¹‰äº†è®¿é—®è·¯å¾„/booksï¼Œé‡å¤æ€§å¤ªé«˜ã€‚</p><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å°†<span class="meta">@RequestMapping</span>æåˆ°ç±»ä¸Šé¢ï¼Œç”¨æ¥å®šä¹‰æ‰€æœ‰æ–¹æ³•å…±åŒçš„è®¿é—®è·¯å¾„ã€‚</span><br></pre></td></tr></table></figure><p>é—®é¢˜2ï¼šæ¯ä¸ªæ–¹æ³•çš„@RequestMappingæ³¨è§£ä¸­éƒ½è¦ä½¿ç”¨methodå±æ€§å®šä¹‰è¯·æ±‚æ–¹å¼ï¼Œé‡å¤æ€§å¤ªé«˜ã€‚</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨<span class="variable">@GetMapping</span>  <span class="variable">@PostMapping</span>  <span class="variable">@PutMapping</span>  <span class="variable">@DeleteMapping</span>ä»£æ›¿</span><br></pre></td></tr></table></figure><p>é—®é¢˜3ï¼šæ¯ä¸ªæ–¹æ³•å“åº”jsonéƒ½éœ€è¦åŠ ä¸Š@ResponseBodyæ³¨è§£ï¼Œé‡å¤æ€§å¤ªé«˜ã€‚</p><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å°†ResponseBodyæåˆ°ç±»ä¸Šé¢ï¼Œè®©æ‰€æœ‰çš„æ–¹æ³•éƒ½æœ‰<span class="meta">@ResponseBody</span>çš„åŠŸèƒ½</span><br><span class="line"><span class="number">2.</span>ä½¿ç”¨<span class="meta">@RestController</span>æ³¨è§£æ›¿æ¢<span class="meta">@Controller</span>ä¸<span class="meta">@ResponseBody</span>æ³¨è§£ï¼Œç®€åŒ–ä¹¦å†™</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨çš„æ³¨è§£</p><p>çŸ¥è¯†ç‚¹1ï¼š@RestController</p><table><thead><tr><th>åç§°</th><th>@RestController</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>==ç±»æ³¨è§£==</td></tr><tr><td>ä½ç½®</td><td>åŸºäºSpringMVCçš„RESTfulå¼€å‘æ§åˆ¶å™¨ç±»å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®å½“å‰æ§åˆ¶å™¨ç±»ä¸ºRESTfulé£æ ¼ï¼Œ<br/>ç­‰åŒäº@Controllerä¸@ResponseBodyä¸¤ä¸ªæ³¨è§£ç»„åˆåŠŸèƒ½</td></tr></tbody></table><p>çŸ¥è¯†ç‚¹2ï¼š@GetMapping @PostMapping @PutMapping @DeleteMapping</p><table><thead><tr><th>åç§°</th><th>@GetMapping @PostMapping @PutMapping @DeleteMapping</th></tr></thead><tbody><tr><td>ç±»å‹</td><td>==æ–¹æ³•æ³¨è§£==</td></tr><tr><td>ä½ç½®</td><td>åŸºäºSpringMVCçš„RESTfulå¼€å‘æ§åˆ¶å™¨æ–¹æ³•å®šä¹‰ä¸Šæ–¹</td></tr><tr><td>ä½œç”¨</td><td>è®¾ç½®å½“å‰æ§åˆ¶å™¨æ–¹æ³•è¯·æ±‚è®¿é—®è·¯å¾„ä¸è¯·æ±‚åŠ¨ä½œï¼Œæ¯ç§å¯¹åº”ä¸€ä¸ªè¯·æ±‚åŠ¨ä½œï¼Œ<br/>ä¾‹å¦‚@GetMappingå¯¹åº”GETè¯·æ±‚</td></tr><tr><td>ç›¸å…³å±æ€§</td><td>valueï¼ˆé»˜è®¤ï¼‰ï¼šè¯·æ±‚è®¿é—®è·¯å¾„</td></tr></tbody></table><ol start="4"><li>BUGç‚¹</li></ol><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>åš RESTé£æ ¼çš„æ¡ˆä¾‹çš„æ—¶å€™ è¿æ¥ä¸åˆ°html</p><p><img src="https://pic1.imgdb.cn/item/635d3f1616f2c2beb1ff17a8.png" alt="image-20221012220835426"></p><p>ä½†æ˜¯é—®é¢˜æ˜¯åœ¨MVCåº”è¯¥æ˜¯æ‹¦æˆªäº†å‰ç«¯çš„æ•°æ® å¯¼è‡´æ— æ³•è®¿é—®</p><p><img src="https://pic1.imgdb.cn/item/635d3f2516f2c2beb1ff4cb7.png" alt="image-20221012220912323"></p><p>æ¢æˆä¸‹é¢è¿™ç§æ–¹å¼å°±å¥½äº† å…·ä½“åŸå› æ²¡æœ‰ææ¸…æ¥š è€å¸ˆç¤ºèŒƒçš„ä»£ç æ˜¯ä¸Šå›¾çš„ é™æ€èµ„æºè¿›è¡Œæ”¾è¡Œ</p><p><img src="https://pic1.imgdb.cn/item/635d3f2716f2c2beb1ff542c.png" alt="image-20221012220646291"></p><p>5.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</p><p>@RequestBodyä¸@RequestParamåŒºåˆ«</p><ul><li><p>åŒºåˆ«</p><ul><li>@RequestParamç”¨äºæ¥æ”¶urlåœ°å€ä¼ å‚ï¼Œè¡¨å•ä¼ å‚ã€application/x-www-form-urlencodedã€‘</li><li>@RequestBodyç”¨äºæ¥æ”¶jsonæ•°æ®ã€application/jsonã€‘</li></ul></li><li><p>åº”ç”¨</p><ul><li>åæœŸå¼€å‘ä¸­ï¼Œå‘é€jsonæ ¼å¼æ•°æ®ä¸ºä¸»ï¼Œ@RequestBodyåº”ç”¨è¾ƒå¹¿</li><li>å¦‚æœå‘é€éjsonæ ¼å¼æ•°æ®ï¼Œé€‰ç”¨@RequestParamæ¥æ”¶è¯·æ±‚å‚æ•°</li></ul></li></ul><p>6.æ€»ç»“</p><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©å­¦ä¹ çŠ¶æ€ä¸€èˆ¬ æ²¡æ€ä¹ˆç¡å¥½ï¼Œä¸‹åˆè¿˜ä¸é”™ï¼Œå­¦ä¹ çš„å†…å®¹æ˜¯MVCä¹Ÿå°±æ˜¯å’Œwebæ¡†æ¶å·®ä¸å¤šï¼Œå‰åç«¯è¿æ¥çš„ç‚¹æ¯”è¾ƒå¤šï¼Œæ•²å¾ˆå¤šä»£ç è§‰å¾—ä¸é”™çš„åœ°æ–¹å°±æ˜¯æ¯”åŸæœ¬çš„webServletè¦å¿«å¾ˆå¤šï¼Œè€Œä¸”æˆ‘è§‰å¾—å¾ˆæ¸…æ¥šï¼Œä»£ç è¿˜ç®€æ´ï¼Œåˆ©ç”¨æ³¨è§£å°±èƒ½æ¥å†³è¿æ¥çš„æƒ…å†µã€‚åšRESTé£æ ¼çš„æ¡ˆä¾‹çš„æ—¶å€™ï¼Œç¨å¾®å‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œä½†æ˜¯ä¹Ÿåœ¨åŒå­¦çš„å¸®åŠ©ä¸‹è§£å†³äº†ï¼Œå­¦äº†å¾ˆå¤šçš„æ³¨è§£äº†ï¼Œæœ‰äº›å…¶å®éƒ½æ²¡æ€ä¹ˆè®°ä½ï¼Œè¿˜æ˜¯è¦å¤šæ•²ä»£ç å¤šç”¨ï¼Œæ‰èƒ½æ›´å¥½çš„å»è®°å¿†å¦‚ä½•ä½¿ç”¨ã€‚</p><h1 id="10-13-SSMæ•´åˆ-æ‹¦æˆªå™¨">10.13 SSMæ•´åˆ æ‹¦æˆªå™¨</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-6">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-6">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-6">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="SSMæ•´åˆæµç¨‹">SSMæ•´åˆæµç¨‹</h3><p>æŠŠå‰é¢æ‰€å­¦ä¹ çš„ä¸‰ä¸ªæ¡†æ¶éƒ½æ•´åˆåœ¨ä¸€èµ·</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">1&gt;</span><span class="language-bash">&gt;&gt;åˆ›å»ºå·¥ç¨‹</span></span><br><span class="line"><span class="meta prompt_">2&gt;</span><span class="language-bash">&gt;&gt;SSMæ•´åˆ</span></span><br><span class="line">Spring</span><br><span class="line">MyBatis</span><br><span class="line">SpringMVC</span><br><span class="line"><span class="meta prompt_">3&gt;</span><span class="language-bash">&gt;&gt;åŠŸèƒ½æ¨¡å—</span></span><br><span class="line">è¡¨å’Œå®ç°ç±»</span><br><span class="line">daoæ¥å£</span><br><span class="line">serviceä¸šåŠ¡å±‚</span><br><span class="line">controllerè¡¨ç°å±‚</span><br></pre></td></tr></table></figure><h4 id="å…¥é—¨æ¡ˆä¾‹">å…¥é—¨æ¡ˆä¾‹</h4><p>ä»¥åspring åˆ›å»ºé¡¹ç›®åŒ…ç»“æ„éƒ½å¯ä»¥ç”¨è¿™ç§ å•è¯è‡ªå·±æ³¨æ„ä¸‹</p><p>åˆ›å»ºé¡¹ç›®åŒ…ç»“æ„</p><p><img src="https://pic1.imgdb.cn/item/635d3f3016f2c2beb1ff78f6.png" alt="1630561591931"></p><ul><li>configç›®å½•å­˜æ”¾çš„æ˜¯ç›¸å…³çš„é…ç½®ç±»</li><li>controllerç¼–å†™çš„æ˜¯Controllerç±»</li><li>daoå­˜æ”¾çš„æ˜¯Daoæ¥å£ï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯Mapperæ¥å£ä»£ç†æ–¹å¼ï¼Œæ‰€ä»¥æ²¡æœ‰å®ç°ç±»åŒ…</li><li>serviceå­˜çš„æ˜¯Serviceæ¥å£ï¼Œimplå­˜æ”¾çš„æ˜¯Serviceå®ç°ç±»</li><li>resources:å­˜å…¥çš„æ˜¯é…ç½®æ–‡ä»¶ï¼Œå¦‚Jdbc.properties</li><li>webapp:ç›®å½•å¯ä»¥å­˜æ”¾é™æ€èµ„æº</li></ul><p>ä¸ªäººç†è§£:æµç¨‹å¯ä»¥è¿™æ ·æ•²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SpringConfig -- JdbcConfig -- MybatisConfig -- jdbc.prperties -- SpringMVC --åˆ›å»ºWebé¡¹ç›®å…¥å£é…ç½®ç±» </span><br><span class="line">   </span><br><span class="line">æ¨¡å—å¼€å‘</span><br><span class="line"> æ¨¡å‹ç±» == Daoæ¥å£ == Serviceæ¥å£å’Œå®ç°ç±» == Contorllerç±»</span><br></pre></td></tr></table></figure><h4 id="å‰åå°åè®®ç»Ÿä¸€">å‰åå°åè®®ç»Ÿä¸€</h4><p>åœ¨webAPPæ·»åŠ é™æ€èµ„æº</p><p>å› ä¸ºæ·»åŠ äº†é™æ€èµ„æºæ‰€ä»¥SpringMVCä¼šæ‹¦æˆªçš„ æˆ‘ä»¬éœ€è¦æ”¾è¡Œ åœ¨SpringConfigæ”¾è¡Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcSupport</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/pages/**&quot;</span>).addResourceLocations(<span class="string">&quot;/pages/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/css/**&quot;</span>).addResourceLocations(<span class="string">&quot;/css/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/js/**&quot;</span>).addResourceLocations(<span class="string">&quot;/js/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/plugins/**&quot;</span>).addResourceLocations(<span class="string">&quot;/plugins/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨SpringMvcConfigä¸­æ‰«æSpringMvcSupport</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&#123;&quot;com.itheima.controller&quot;,&quot;com.itheima.config&quot;&#125;)</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åå†™å‰ç«¯é¡µé¢å®Œæˆé¡¹ç›®æ•´åˆ</p><h3 id="æ‹¦æˆªå™¨">æ‹¦æˆªå™¨</h3><p>å¯ä»¥åŠ¨æ€æ‹¦æˆªæ§åˆ¶å™¨çš„æ‰§è¡Œ</p><ul><li>åœ¨æŒ‡å®šçš„æ–¹æ³•è°ƒç”¨å‰åæ‰§è¡Œé¢„å…ˆè®¾å®šçš„ä»£ç </li><li>é˜»æ­¢åŸå§‹æ–¹æ³•çš„æ‰§è¡Œ</li><li>æ€»ç»“ï¼šæ‹¦æˆªå™¨å°±æ˜¯ç”¨æ¥åšå¢å¼º</li></ul><h4 id="æ‹¦æˆªå™¨å¼€å‘">æ‹¦æˆªå™¨å¼€å‘</h4><p>è®©ç±»å®ç°HandlerInterceptoræ¥å£ï¼Œé‡å†™æ¥å£ä¸­çš„ä¸‰ä¸ªæ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="comment">//å®šä¹‰æ‹¦æˆªå™¨ç±»ï¼Œå®ç°HandlerInterceptoræ¥å£</span></span><br><span class="line"><span class="comment">//æ³¨æ„å½“å‰ç±»å¿…é¡»å—Springå®¹å™¨æ§åˆ¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProjectInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//åŸå§‹æ–¹æ³•è°ƒç”¨å‰æ‰§è¡Œçš„å†…å®¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;preHandle...&quot;</span>);</span><br><span class="line">        <span class="comment">//å¦‚æœè¿”å›true,åˆ™ä»£è¡¨æ”¾è¡Œï¼Œä¼šæ‰§è¡ŒåŸå§‹Controllerç±»ä¸­è¦è¯·æ±‚çš„æ–¹æ³•ï¼Œå¦‚æœè¿”å›falseï¼Œåˆ™ä»£è¡¨æ‹¦æˆªï¼Œåé¢çš„å°±ä¸ä¼šå†æ‰§è¡Œäº†ã€‚</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//åŸå§‹æ–¹æ³•è°ƒç”¨åæ‰§è¡Œçš„å†…å®¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">postHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;postHandle...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="comment">//åŸå§‹æ–¹æ³•è°ƒç”¨å®Œæˆåæ‰§è¡Œçš„å†…å®¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">afterCompletion</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;afterCompletion...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>**æ³¨æ„:**æ‹¦æˆªå™¨ç±»è¦è¢«SpringMVCå®¹å™¨æ‰«æåˆ°ã€‚</p><p>æ‰€ä»¥éœ€è¦å†SpringMvcSupportå…è®¸é€šè¿‡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcSupport</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ProjectInterceptor projectInterceptor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/pages/**&quot;</span>).addResourceLocations(<span class="string">&quot;/pages/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        <span class="comment">//é…ç½®æ‹¦æˆªå™¨  è®¿é—®ç»“å°¾æ˜¯booksçš„ä¼šè¢«æ‹¦æˆª</span></span><br><span class="line">        <span class="comment">//registry.addInterceptor(projectInterceptor).addPathPatterns(&quot;/books&quot; );</span></span><br><span class="line">        <span class="comment">//è¡¨ç¤ºè®¿é—®ä¸­æœ‰booksç»“å°¾æˆ–è€…æ˜¯booksåé¢çš„ éƒ½ä¼šè¢«æ‹¦æˆª</span></span><br><span class="line">    registry.addInterceptor(projectInterceptor).addPathPatterns(<span class="string">&quot;/books&quot;</span>,<span class="string">&quot;/books/*&quot;</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-BUGç‚¹-4">4. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>@Autowiredä¸‹é¢ä¸€ç›´å†’çº¢ ä¹Ÿæ‰¾ä¸åˆ°åŸå›  ç´¢æ€§é‡æ–°æ‰“äº†ä¸€éä»£ç å°±è«åå…¶å¦™å¥½äº†</p><p><img src="https://pic1.imgdb.cn/item/635d3f3816f2c2beb1ff9541.png" alt="img"></p><h2 id="6-æ€»ç»“-4">6.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©å­¦ä¹ çŠ¶æ€ä¸€èˆ¬ï¼Œæœ‰ç‚¹å¤ªç–²åŠ³äº†ï¼Œè¿˜æ˜¯å†…å®¹é—®é¢˜ï¼Œæ„Ÿè§‰æœ‰ç‚¹ä¸æ˜¯å¾ˆç†è§£ï¼Œç±»å¤ªå¤šï¼Œä½¿ç”¨çš„æ³¨è§£ä¹Ÿå¾ˆå¤š ï¼Œæ•²è¿‡å»æœ‰äº›å‚æ•°ä¸æ˜¯å¾ˆç†è§£ï¼Œè°ƒç”¨çš„æ–¹å¼ï¼Œä½†æ˜¯ä¹Ÿæ²¡æœ‰æ­»ç£•ï¼Œå¤§è‡´çš„è¿‡äº†ä¸€ä¸‹å°±å¥½äº†ï¼Œåé¢SpringBootçš„æ—¶å€™ä¼šç®€å•å¾ˆå¤šï¼Œè¿™äº›åˆ°æ—¶å€™åœ¨å¤ä¹ ä¸€ä¸‹ï¼Œæ‹¦æˆªå™¨é‚£é‡Œæ²¡æ€ä¹ˆå¬æ‡‚ï¼Œä»Šå¤©çš„æŒæ¡åªæœ‰70å§ã€‚ä¹Ÿæ²¡æœ‰æŠ¥é”™ä½†æ˜¯å°±æ˜¯æœ‰ç‚¹äº‘é‡Œé›¾é‡Œã€‚</p><h1 id="10-14-Mybatis-Puls">10.14 Mybatis-Puls</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-7">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜MybatisPlusæ·±å…¥æµ…å‡ºæ•™ç¨‹ï¼Œå¿«é€Ÿä¸Šæ‰‹mybatisplusã€‘ <a href="https://www.bilibili.com/video/BV1rE41197jR?p=12&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1rE41197jR?p=12&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-7">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="äº†è§£Mybatis-plus">äº†è§£Mybatis-plus</h3><h3 id="å¿«é€Ÿä½¿ç”¨">å¿«é€Ÿä½¿ç”¨</h3><h3 id="ä½¿ç”¨sqlç®€å•åŠŸèƒ½å®ç°">ä½¿ç”¨sqlç®€å•åŠŸèƒ½å®ç°</h3><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-7">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="ä»€ä¹ˆæ˜¯Mybatis-plus-MP">ä»€ä¹ˆæ˜¯Mybatis-plus(MP)</h3><p>ä¸ªäººç†è§£:ä¹‹å‰å­¦è¿‡mybatis,è¿æ¥æ•°æ®åº“ï¼Œåˆ©ç”¨è¿”å›å€¼ï¼Œä»¥åŠå®ç°çš„æ¥å£ï¼Œå®ç°javaå¯¹mysqlçš„æ“ä½œã€‚è¿™ä¸ªMybatis-plusç›¸å½“äºæ˜¯æŠŠä½ javaå¯¹mysqlçš„æ“ä½œè¿›è¡Œå°è£…ï¼Œè¿™æ ·ä½ å¼€å‘çš„æ—¶å€™çš„ä»£ç é‡ç­‰æ“ä½œå°±ä¼šå°‘å¾ˆå¤šï¼Œæé«˜æ•ˆç‡ã€‚</p><h3 id="å¿«é€Ÿä½¿ç”¨-2">å¿«é€Ÿä½¿ç”¨</h3><p>éœ€è¦å¯¼å…¥æ’ä»¶åœ¨Mavenä¸­</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- mybatis-plusæ’ä»¶ä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å› ä¸ºä¹‹å‰å­¦è¿‡springäº†ï¼Œè€Œä¸”ä»¥ååŸºæœ¬ä¹Ÿéƒ½æ˜¯ä½¿ç”¨spring æ‰€ä»¥ å‰é¢mybatis+MPçš„ä»£ç å°±ä¸åˆ—å‡ºæ¥äº†</p><h4 id="Spring-Mybatis-MP">Spring+Mybatis+MP</h4><p>ç†Ÿæ‚‰çš„æµç¨‹</p><p>å®ç°æŸ¥è¯¢User</p><h5 id="1-ç¼–å†™jdbc-properties">1.ç¼–å†™jdbc.properties</h5><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jdbc.driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbc.url</span>=<span class="string">jdbc:mysql://127.0.0.1:3306/mp?</span></span><br><span class="line"><span class="attr">useUnicode</span>=<span class="string">true&amp;characterEncoding=utf8&amp;autoReconnect=true&amp;allowMultiQueries=true&amp;useSSL</span></span><br><span class="line">=<span class="attr">false</span></span><br><span class="line"><span class="attr">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure><h5 id="2-xml">2.xml</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="string"><span class="tag">http://www.springframework.org/schema/context/spring-context.xsd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:*.properties&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- å®šä¹‰æ•°æ®æº --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">destroy-method</span>=<span class="string">&quot;close&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;maxActive&quot;</span> <span class="attr">value</span>=<span class="string">&quot;10&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;minIdle&quot;</span> <span class="attr">value</span>=<span class="string">&quot;5&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¿™é‡Œä½¿ç”¨MPæä¾›çš„sqlSessionFactoryï¼Œå®Œæˆäº†Springä¸MPçš„æ•´åˆ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactory&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">class</span>=<span class="string">&quot;com.baomidou.mybatisplus.extension.spring.MybatisSqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ‰«æmapperæ¥å£ï¼Œä½¿ç”¨çš„ä¾ç„¶æ˜¯MybatisåŸç”Ÿçš„æ‰«æå™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;cn.itcast.mp.simple.mapper&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="3-UserMapperæ¥å£-ç»§æ‰¿BaseMapper">3.UserMapperæ¥å£ ç»§æ‰¿BaseMapper</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.mp.simple.mapper;</span><br><span class="line"><span class="keyword">import</span> cn.itcast.mp.simple.pojo.User;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> <span class="keyword">extends</span> <span class="title class_">BaseMapper</span>&lt;User&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="4-æµ‹è¯•ç±»">4.æµ‹è¯•ç±»</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.mp.simple;</span><br><span class="line"><span class="keyword">import</span> cn.itcast.mp.simple.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> cn.itcast.mp.simple.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(locations = &quot;classpath:applicationContext.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestSpringMP</span> &#123;</span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectList</span><span class="params">()</span>&#123;</span><br><span class="line">List&lt;User&gt; users = <span class="built_in">this</span>.userMapper.selectList(<span class="literal">null</span>);</span><br><span class="line"><span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">System.out.println(user);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€šç”¨CRUD">é€šç”¨CRUD</h3><p>æˆ‘éƒ½æ”¾åˆ°ä¸€ä¸ªæµ‹è¯•ç±»é‡Œé¢äº† ä¹Ÿæœ‰æ³¨è§£ å…¶å®å°±æ˜¯è°ƒç”¨æ¥å£ä¸­çš„æ–¹æ³• å¿˜è®°çš„è¯ç‚¹å‡»å»æºä»£ç æŸ¥çœ‹ æœ‰MPçš„ä¸­æ–‡æ³¨è§£çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.itcast.mp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.itcast.mp.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> cn.itcast.mp.pojo.User;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.update.UpdateWrapper;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.metadata.IPage;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.pagination.Page;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringRunner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestUserMapper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testInsert</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setMail(<span class="string">&quot;2@itcast.cn&quot;</span>);</span><br><span class="line">        user.setAge(<span class="number">301</span>);</span><br><span class="line">        user.setUserName(<span class="string">&quot;caocao1&quot;</span>);</span><br><span class="line">        user.setName(<span class="string">&quot;æ›¹æ“1&quot;</span>);</span><br><span class="line">        user.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        user.setAddress(<span class="string">&quot;åŒ—äº¬&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="built_in">this</span>.userMapper.insert(user); <span class="comment">//resultæ•°æ®åº“å—å½±å“çš„è¡Œæ•°</span></span><br><span class="line">        System.out.println(<span class="string">&quot;result =&gt; &quot;</span> + result);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–è‡ªå¢é•¿åçš„idå€¼, è‡ªå¢é•¿åçš„idå€¼ä¼šå›å¡«åˆ°userå¯¹è±¡ä¸­</span></span><br><span class="line">        System.out.println(<span class="string">&quot;id =&gt; &quot;</span> + user.getId());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectById</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="built_in">this</span>.userMapper.selectById(<span class="number">2L</span>);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdateById</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setId(<span class="number">1L</span>); <span class="comment">//æ¡ä»¶ï¼Œæ ¹æ®idæ›´æ–°</span></span><br><span class="line">        user.setAge(<span class="number">19</span>); <span class="comment">//æ›´æ–°çš„å­—æ®µ</span></span><br><span class="line">        user.setPassword(<span class="string">&quot;666666&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="built_in">this</span>.userMapper.updateById(user);</span><br><span class="line">        System.out.println(<span class="string">&quot;result =&gt; &quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setAge(<span class="number">20</span>); <span class="comment">//æ›´æ–°çš„å­—æ®µ</span></span><br><span class="line">        user.setPassword(<span class="string">&quot;8888888&quot;</span>);</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;(); <span class="comment">//æ ¹æ®æ¡ä»¶æ›´æ–°</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;user_name&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>); <span class="comment">//åŒ¹é…user_name = zhangsan çš„ç”¨æˆ·æ•°æ®</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ ¹æ®æ¡ä»¶åšæ›´æ–°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="built_in">this</span>.userMapper.update(user, wrapper);</span><br><span class="line">        System.out.println(<span class="string">&quot;result =&gt; &quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdate2</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        UpdateWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">UpdateWrapper</span>&lt;&gt;();</span><br><span class="line">        wrapper.set(<span class="string">&quot;age&quot;</span>, <span class="number">21</span>).set(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;999999&quot;</span>) <span class="comment">//æ›´æ–°çš„å­—æ®µ</span></span><br><span class="line">        .eq(<span class="string">&quot;user_name&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>); <span class="comment">//æ›´æ–°çš„æ¡ä»¶</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ ¹æ®æ¡ä»¶åšæ›´æ–°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="built_in">this</span>.userMapper.update(<span class="literal">null</span>, wrapper);</span><br><span class="line">        System.out.println(<span class="string">&quot;result =&gt; &quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDeleteById</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// æ ¹æ®idåˆ é™¤æ•°æ®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="built_in">this</span>.userMapper.deleteById(<span class="number">9L</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;result =&gt; &quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDeleteByMap</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        Map&lt;String,Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;user_name&quot;</span>, <span class="string">&quot;zhangsan&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;999999&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¹æ®mapåˆ é™¤æ•°æ®ï¼Œå¤šæ¡ä»¶ä¹‹é—´æ˜¯andå…³ç³»</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="built_in">this</span>.userMapper.deleteByMap(map);</span><br><span class="line">        System.out.println(<span class="string">&quot;result =&gt; &quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDelete</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç”¨æ³•ä¸€ï¼š</span></span><br><span class="line"><span class="comment">//        QueryWrapper&lt;User&gt; wrapper = new QueryWrapper&lt;&gt;();</span></span><br><span class="line"><span class="comment">//        wrapper.eq(&quot;user_name&quot;, &quot;caocao1&quot;)</span></span><br><span class="line"><span class="comment">//                .eq(&quot;password&quot;, &quot;123456&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç”¨æ³•äºŒï¼š</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        user.setPassword(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        user.setUserName(<span class="string">&quot;caocao&quot;</span>);</span><br><span class="line">        <span class="comment">//å°è£…åˆ°Userå¯¹è±¡ä¸­ åˆ é™¤è®¾ç½®çš„å¯¹è±¡</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;(user);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¹æ®åŒ…è£…æ¡ä»¶åšåˆ é™¤</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="built_in">this</span>.userMapper.delete(wrapper);</span><br><span class="line">        System.out.println(<span class="string">&quot;result =&gt; &quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span>  <span class="title function_">testDeleteBatchIds</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// æ ¹æ®idæ‰¹é‡åˆ é™¤æ•°æ®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="built_in">this</span>.userMapper.deleteBatchIds(Arrays.asList(<span class="number">6L</span>, <span class="number">7L</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;result =&gt; &quot;</span> + result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectBatchIds</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// æ ¹æ®idæ‰¹é‡æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">        List&lt;User&gt; users = <span class="built_in">this</span>.userMapper.selectBatchIds(Arrays.asList(<span class="number">2L</span>, <span class="number">3L</span>, <span class="number">4L</span>, <span class="number">100L</span>));</span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectOne</span><span class="params">()</span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//æŸ¥è¯¢æ¡ä»¶</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢çš„æ•°æ®è¶…è¿‡ä¸€æ¡æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="built_in">this</span>.userMapper.selectOne(wrapper);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectCount</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        wrapper.gt(<span class="string">&quot;age&quot;</span>, <span class="number">20</span>); <span class="comment">// æ¡ä»¶ï¼šå¹´é¾„å¤§äº20å²çš„ç”¨æˆ·</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¹æ®æ¡ä»¶æŸ¥è¯¢æ•°æ®æ¡æ•°</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">count</span> <span class="operator">=</span> <span class="built_in">this</span>.userMapper.selectCount(wrapper);</span><br><span class="line">        System.out.println(<span class="string">&quot;count =&gt; &quot;</span> + count);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectList</span><span class="params">()</span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//è®¾ç½®æŸ¥è¯¢æ¡ä»¶</span></span><br><span class="line">        wrapper.like(<span class="string">&quot;email&quot;</span>, <span class="string">&quot;itcast&quot;</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users = <span class="built_in">this</span>.userMapper.selectList(wrapper);</span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æµ‹è¯•åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelectPage</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        Page&lt;User&gt; page = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(<span class="number">3</span>,<span class="number">1</span>); <span class="comment">//æŸ¥è¯¢ç¬¬ä¸€é¡µï¼ŒæŸ¥è¯¢1æ¡æ•°æ®</span></span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//è®¾ç½®æŸ¥è¯¢æ¡ä»¶</span></span><br><span class="line">        wrapper.like(<span class="string">&quot;email&quot;</span>, <span class="string">&quot;itcast&quot;</span>);</span><br><span class="line"></span><br><span class="line">        IPage&lt;User&gt; iPage = <span class="built_in">this</span>.userMapper.selectPage(page, wrapper);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ•°æ®æ€»æ¡æ•°ï¼š &quot;</span> + iPage.getTotal());</span><br><span class="line">        System.out.println(<span class="string">&quot;æ•°æ®æ€»é¡µæ•°ï¼š &quot;</span> + iPage.getPages());</span><br><span class="line">        System.out.println(<span class="string">&quot;å½“å‰é¡µæ•°ï¼š &quot;</span> + iPage.getCurrent());</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; records = iPage.getRecords();</span><br><span class="line">        <span class="keyword">for</span> (User record : records) &#123;</span><br><span class="line">            System.out.println(record);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è‡ªå®šä¹‰çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFindById</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="built_in">this</span>.userMapper.findById(<span class="number">2L</span>);</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAllEq</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        Map&lt;String,Object&gt; params = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        params.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;æå››&quot;</span>);</span><br><span class="line">        params.put(<span class="string">&quot;age&quot;</span>, <span class="string">&quot;20&quot;</span>);</span><br><span class="line">        params.put(<span class="string">&quot;password&quot;</span>, <span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//SELECT id,user_name,name,age,email AS mail FROM tb_user WHERE password IS NULL AND name = ? AND age = ?</span></span><br><span class="line"><span class="comment">//        wrapper.allEq(params);</span></span><br><span class="line">        <span class="comment">//SELECT id,user_name,name,age,email AS mail FROM tb_user WHERE name = ? AND age = ?</span></span><br><span class="line"><span class="comment">//        wrapper.allEq(params, false);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//SELECT id,user_name,name,age,email AS mail FROM tb_user WHERE age = ?</span></span><br><span class="line"><span class="comment">//        wrapper.allEq((k, v) -&gt; (k.equals(&quot;age&quot;) || k.equals(&quot;id&quot;)) , params);</span></span><br><span class="line">        <span class="comment">//SELECT id,user_name,name,age,email AS mail FROM tb_user WHERE name = ? AND age = ?</span></span><br><span class="line">        wrapper.allEq((k, v) -&gt; (k.equals(<span class="string">&quot;age&quot;</span>) || k.equals(<span class="string">&quot;id&quot;</span>) || k.equals(<span class="string">&quot;name&quot;</span>)) , params);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users = <span class="built_in">this</span>.userMapper.selectList(wrapper);</span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testEq</span><span class="params">()</span> &#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//SELECT id,user_name,password,name,age,email FROM tb_user WHERE password = ? AND age &gt;= ? AND name IN (?,?,?)</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;123456&quot;</span>)</span><br><span class="line">                .ge(<span class="string">&quot;age&quot;</span>, <span class="number">20</span>)</span><br><span class="line">                .in(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;æå››&quot;</span>, <span class="string">&quot;ç‹äº”&quot;</span>, <span class="string">&quot;èµµå…­&quot;</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users = <span class="built_in">this</span>.userMapper.selectList(wrapper);</span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLike</span><span class="params">()</span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// SELECT id,user_name,name,age,email AS mail FROM tb_user WHERE name LIKE ?</span></span><br><span class="line">        <span class="comment">// å‚æ•°ï¼š%äº”(String)</span></span><br><span class="line">        wrapper.likeLeft(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;äº”&quot;</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users = <span class="built_in">this</span>.userMapper.selectList(wrapper);</span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testOrderByAgeDesc</span><span class="params">()</span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//æŒ‰ç…§å¹´é¾„å€’åºæ’åº</span></span><br><span class="line">        <span class="comment">// SELECT id,user_name,name,age,email AS mail FROM tb_user ORDER BY age DESC</span></span><br><span class="line">        wrapper.orderByDesc(<span class="string">&quot;age&quot;</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users = <span class="built_in">this</span>.userMapper.selectList(wrapper);</span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testOr</span><span class="params">()</span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// SELECT id,user_name,name,age,email AS mail FROM tb_user WHERE name = ? OR age = ?</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;ç‹äº”&quot;</span>).or().eq(<span class="string">&quot;age&quot;</span>, <span class="number">21</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users = <span class="built_in">this</span>.userMapper.selectList(wrapper);</span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSelect</span><span class="params">()</span>&#123;</span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//SELECT id,name,age FROM tb_user WHERE name = ? OR age = ?</span></span><br><span class="line">        wrapper.eq(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;ç‹äº”&quot;</span>)</span><br><span class="line">                .or()</span><br><span class="line">                .eq(<span class="string">&quot;age&quot;</span>, <span class="number">21</span>)</span><br><span class="line">                .select(<span class="string">&quot;id&quot;</span>,<span class="string">&quot;name&quot;</span>,<span class="string">&quot;age&quot;</span>); <span class="comment">//æŒ‡å®šæŸ¥è¯¢çš„å­—æ®µ</span></span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users = <span class="built_in">this</span>.userMapper.selectList(wrapper);</span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="6-æ€»ç»“-5">6.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ çŠ¶æ€ä¸é”™ï¼Œçœ‹ç€æ–‡æ¡£æ•²äº†å¾ˆå¤šä»£ç ï¼ŒMPæ˜¯ä¸­å›½å›¢é˜Ÿå†™å‡ºæ¥çš„ï¼Œä¹Ÿæ˜¯æˆ‘ç°åœ¨IDEAç‚¹è¿›å»ï¼Œå”¯ä¸€ä¸€ä¸ªæ³¨é‡Šæ˜¯ä¸­æ–‡çš„Mavenæ’ä»¶ï¼Œä¸€äº›åŸºæœ¬çš„sqlè¯­å¥ï¼Œæˆ‘éƒ½æ˜¯çœ‹ä»–æºä»£ç å’Œæ³¨é‡Šï¼Œäº†è§£ç”¨æ³•äº†çš„ã€‚å­¦ä¹ ä¸­ä¹Ÿæ²¡é‡åˆ°ä»€ä¹ˆBUGï¼Œå¶å°”å‡ æ¬¡æ˜¯è‡ªå·±å†™é”™äº†æ–¹æ³•åå­—æˆ–è€…jdbcå†™é”™äº†ï¼Œéš¾åº¦ä¸æ˜¯å¾ˆå¤§ï¼Œå‰é¢åŸºæœ¬ä½¿ç”¨æ˜¯ä¼šäº†ï¼Œæ‰“ç®—æ˜å¤©çœ‹SpringBoot2ï¼Œé‡åˆ°ä½¿ç”¨MPè¿›é˜¶çš„æ—¶å€™å†å›å¤´çœ‹çœ‹ã€‚</p><h1 id="10-17-SpringBoot">10.17 SpringBoot</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-8">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-8">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>ç®€å•çš„å…¥é—¨æ¡ˆä¾‹åˆ©ç”¨SpringBoot  åªéœ€è¦ä¸€è¡Œå°±èƒ½å®ç°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Restæ¨¡å¼</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/books&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getById</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;springboot is running...&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;springboot is running!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸»ç¨‹åºå¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Springboot0101QuickstartApplication</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(Springboot0101QuickstartApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸæ¥çš„Springé¡¹ç›®ç»“æ„å¦‚ä¸‹</p><p><img src="https://pic1.imgdb.cn/item/635d3f4616f2c2beb1ffc92b.png" alt="image-20221017190256901"></p><p>SpringBooté¡¹ç›®ç»“æ„å¦‚ä¸‹</p><p>åªéœ€è¦ä¸€ä¸ªjavaç±»</p><p><img src="https://pic1.imgdb.cn/item/635d3f4716f2c2beb1ffcaec.png" alt="image-20221017190332984"></p><p>ä¸ªäººç†è§£æ˜¾è€Œæ˜“è§SpringBootç®€å•å¾ˆå¤š Springä¸­çš„é…ç½® åœ¨SpringBootä¸­éƒ½ç»™ä½ é…å¥½äº†</p><p>è¿˜æœ‰ä¸€ä¸ªå¾ˆæ™ºèƒ½çš„ pom.xmlæ–‡ä»¶ ä»–èƒ½å¸®ä½ æŠŠæ‰€æœ‰æœ€åˆé€‚çš„ç‰ˆæœ¬é…ç½®å¥½ åœ¨IDEAå¯ä»¥ç›´æ¥åˆ›å»º</p><p><img src="https://pic1.imgdb.cn/item/635d3f4a16f2c2beb1ffd5df.png" alt="image-20221017190740086"></p><h2 id="3-æ€»ç»“">3.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ å†…å®¹ä¸æ˜¯å¾ˆå¤šï¼Œä¸Šåˆè€ƒé©¾ç…§å»äº†ï¼Œä¸‹åˆå…ˆæ•´ç†äº†ä¸€ä¸‹å‰é¢SSMæ¡†æ¶çš„ä¸€äº›å†…å®¹ï¼Œå†æ¥çœ‹çš„SpringBootï¼Œåªåšäº†ä¸€ä¸ªç®€å•çš„å…¥é—¨æ¡ˆä¾‹ï¼ŒSpringBootæŠŠä¹‹å‰è¦å†™Beanéƒ½å¸®ä½ æ•´ç†å¥½äº†ï¼Œè¿™æ ·ä½ åªè¦è¾“å…¥controlleræ–‡ä»¶å°±å¥½äº†ã€‚æš‚æ—¶æ²¡ä»€ä¹ˆéš¾çš„ï¼Œå°±æ˜¯ææ¸…æ¥šä»–è¿è¡ŒåŸç†çš„è¯æœ‰ç‚¹éº»çƒ¦ï¼Œå­¦åˆ°åé¢çš„åŸç†ç¯‡å†ä»”ç»†çœ‹ä¸€ä¸‹å§ã€‚</p><h1 id="10-18-SpringBootåŸºç¡€ç¯‡å®Œç»“">10.18 SpringBootåŸºç¡€ç¯‡å®Œç»“</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-9">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-9">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="SpringBootåŸºæœ¬é…ç½®">SpringBootåŸºæœ¬é…ç½®</h3><h4 id="å±æ€§é…ç½®">å±æ€§é…ç½®</h4><h4 id="é…ç½®æ–‡ä»¶åˆ†ç±»">é…ç½®æ–‡ä»¶åˆ†ç±»</h4><h4 id="yamlæ–‡ä»¶ä½¿ç”¨">yamlæ–‡ä»¶ä½¿ç”¨</h4><h5 id="yamlæ•°æ®è¯»å–">yamlæ•°æ®è¯»å–</h5><h3 id="SpringBootå®ç°SSMPæ•´åˆ">SpringBootå®ç°SSMPæ•´åˆ</h3><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-8">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="SpringBootåŸºæœ¬é…ç½®-2">SpringBootåŸºæœ¬é…ç½®</h3><h4 id="å±æ€§é…ç½®-2">å±æ€§é…ç½®</h4><p>ä¿®æ”¹application.propertiesæ–‡ä»¶ è®¾ç½®æœåŠ¡å™¨ç«¯å£å· æ ¼å¼å¦‚ä¸‹ IDEAä¼šæœ‰è‡ªåŠ¨è”æƒ³åŠŸèƒ½ä¼šæœ‰æç¤º</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server.port</span>=<span class="string">80</span></span><br><span class="line"><span class="comment"># **å…³é—­è¿è¡Œæ—¥å¿—å›¾è¡¨ï¼ˆbanner)**</span></span><br><span class="line"><span class="attr">spring.main.banner-mode</span>=<span class="string">off</span></span><br><span class="line"><span class="comment"># **è®¾ç½®è¿è¡Œæ—¥å¿—çš„æ˜¾ç¤ºçº§åˆ«**</span></span><br><span class="line"><span class="attr">logging.level.root</span>=<span class="string">debug</span></span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ–‡ä»¶åˆ†ç±»-2">é…ç½®æ–‡ä»¶åˆ†ç±»</h4><p>åˆ†ä¸‰ç§ é»˜è®¤çš„æ˜¯properties ç„¶åæ˜¯ä¸¤ç§yamlå’Œyml</p><p>ä¸‰ç§æ ¼å¼ä¹Ÿä¸ä¸€æ ·</p><ul><li>application.propertiesï¼ˆpropertiesæ ¼å¼ï¼‰</li></ul><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server.port</span>=<span class="string">80</span></span><br></pre></td></tr></table></figure><ul><li>application.ymlï¼ˆymlæ ¼å¼ï¼‰</li></ul><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">81</span></span><br></pre></td></tr></table></figure><ul><li>application.yamlï¼ˆyamlæ ¼å¼ï¼‰</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">82</span></span><br></pre></td></tr></table></figure><p>â€‹ä»”ç»†çœ‹ä¼šå‘ç°ymlå¼å’Œyamlæ ¼å¼é™¤äº†æ–‡ä»¶ååç¼€ä¸ä¸€æ ·ï¼Œæ ¼å¼å®Œå…¨ä¸€æ ·ï¼Œæ˜¯è¿™æ ·çš„ï¼Œymlå’Œyamlæ–‡ä»¶æ ¼å¼å°±æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œåªæ˜¯æ–‡ä»¶åç¼€ä¸åŒï¼Œæ‰€ä»¥å¯ä»¥åˆå¹¶æˆä¸€ç§æ ¼å¼æ¥çœ‹ã€‚ä»¥åä¼ä¸šæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ymlæ ¼å¼çš„ æ˜¯ymlä¸ºé‡ç‚¹</p><p>é…ç½®æ–‡ä»¶å¦‚æœæœ‰ç›¸åŒçš„è¯ ä¼˜å…ˆçº§æ¥è¯´çš„è¯å¦‚ä¸‹ ä½†æ˜¯é…ç½®æ–‡ä»¶ä¸åŒä¼šåŒæ—¶èµ·ä½œç”¨</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">application.properties</span>  <span class="string">&gt;</span>  <span class="string">application.yml</span>  <span class="string">&gt;</span>  <span class="string">application.yaml</span></span><br><span class="line"><span class="comment"># ä¼˜å…ˆçº§</span></span><br></pre></td></tr></table></figure><h4 id="yamlæ–‡ä»¶ä½¿ç”¨-2">yamlæ–‡ä»¶ä½¿ç”¨</h4><p>æ•°æ®ä¹¦å†™æ ¼å¼iå¦‚ä¸‹</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">boolean:</span> <span class="literal">TRUE</span>  <span class="comment">#TRUE,true,True,FALSE,falseï¼ŒFalseå‡å¯</span></span><br><span class="line"><span class="attr">float:</span> <span class="number">3.14</span>    <span class="comment">#6.8523015e+5  #æ”¯æŒç§‘å­¦è®¡æ•°æ³•</span></span><br><span class="line"><span class="attr">int:</span> <span class="number">123</span>       <span class="comment">#0b1010_0111_0100_1010_1110    #æ”¯æŒäºŒè¿›åˆ¶ã€å…«è¿›åˆ¶ã€åå…­è¿›åˆ¶</span></span><br><span class="line"><span class="attr">null:</span> <span class="string">~</span>        <span class="comment">#ä½¿ç”¨~è¡¨ç¤ºnull</span></span><br><span class="line"><span class="attr">string:</span> <span class="string">HelloWorld</span>      <span class="comment">#å­—ç¬¦ä¸²å¯ä»¥ç›´æ¥ä¹¦å†™</span></span><br><span class="line"><span class="attr">string2:</span> <span class="string">&quot;Hello World&quot;</span>  <span class="comment">#å¯ä»¥ä½¿ç”¨åŒå¼•å·åŒ…è£¹ç‰¹æ®Šå­—ç¬¦</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2018-02-17</span>        <span class="comment">#æ—¥æœŸå¿…é¡»ä½¿ç”¨yyyy-MM-ddæ ¼å¼</span></span><br><span class="line"><span class="attr">datetime:</span> <span class="number">2018-02-17T15:02:31+08:00</span>  <span class="comment">#æ—¶é—´å’Œæ—¥æœŸä¹‹é—´ä½¿ç”¨Tè¿æ¥ï¼Œæœ€åä½¿ç”¨+ä»£è¡¨æ—¶åŒº</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥è¡¨ç¤ºæ•°ç»„æˆ–å¤šç»´æ•°ç»„</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">subject:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Java</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">å‰ç«¯</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">å¤§æ•°æ®</span></span><br><span class="line"><span class="attr">enterprise:</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">itcast</span></span><br><span class="line">    <span class="attr">age:</span> <span class="number">16</span></span><br><span class="line">    <span class="attr">subject:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">Java</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">å‰ç«¯</span></span><br><span class="line">        <span class="bullet">-</span> <span class="string">å¤§æ•°æ®</span></span><br><span class="line"><span class="attr">likes:</span> [<span class="string">ç‹è€…è£è€€</span>,<span class="string">åˆºæ¿€æˆ˜åœº</span>]<span class="comment">#æ•°ç»„ä¹¦å†™ç¼©ç•¥æ ¼å¼</span></span><br><span class="line"><span class="attr">users:</span> <span class="comment">#å¯¹è±¡æ•°ç»„æ ¼å¼ä¸€</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Tom</span></span><br><span class="line">   <span class="attr">age:</span> <span class="number">4</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Jerry</span></span><br><span class="line">    <span class="attr">age:</span> <span class="number">5</span></span><br><span class="line"><span class="attr">users:</span> <span class="comment">#å¯¹è±¡æ•°ç»„æ ¼å¼äºŒ</span></span><br><span class="line">  <span class="bullet">-</span>  </span><br><span class="line">    <span class="attr">name:</span> <span class="string">Tom</span></span><br><span class="line">    <span class="attr">age:</span> <span class="number">4</span></span><br><span class="line">  <span class="bullet">-</span>   </span><br><span class="line">    <span class="attr">name:</span> <span class="string">Jerry</span></span><br><span class="line">    <span class="attr">age:</span> <span class="number">5</span>    </span><br><span class="line"><span class="attr">users2:</span> [ &#123; <span class="string">name:Tom</span> , <span class="string">age:4</span> &#125; , &#123; <span class="string">name:Jerry</span> , <span class="string">age:5</span> &#125; ]<span class="comment">#å¯¹è±¡æ•°ç»„ç¼©ç•¥æ ¼å¼</span></span><br></pre></td></tr></table></figure><h5 id="yamlæ•°æ®è¯»å–-2">yamlæ•°æ®è¯»å–</h5><p>è¯»å–å•ä¸€æ•°æ®</p><p>yamlä¸­ä¿å­˜çš„å•ä¸ªæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨Springä¸­çš„æ³¨è§£ç›´æ¥è¯»å–ï¼Œä½¿ç”¨@Valueå¯ä»¥è¯»å–å•ä¸ªæ•°æ®ï¼Œå±æ€§åå¼•ç”¨æ–¹å¼ï¼š<font color="#ff0000"><b>${ä¸€çº§å±æ€§å.äºŒçº§å±æ€§åâ€¦â€¦}</b></font></p><img src="https://pic1.imgdb.cn/item/635d3f5016f2c2beb1fff0db.png" alt="image-20211126180433356" style="zoom:80%;" /><p>è¯»å–å…¨éƒ¨æ•°æ®</p><p>â€‹è¯»å–å•ä¸€æ•°æ®å¯ä»¥è§£å†³è¯»å–æ•°æ®çš„é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœå®šä¹‰çš„æ•°æ®é‡è¿‡å¤§ï¼Œè¿™ä¹ˆä¸€ä¸ªä¸€ä¸ªä¹¦å†™è‚¯å®šä¼šç´¯æ­»äººçš„ï¼ŒSpringBootæä¾›äº†ä¸€ä¸ªå¯¹è±¡ï¼Œèƒ½å¤ŸæŠŠæ‰€æœ‰çš„æ•°æ®éƒ½å°è£…åˆ°è¿™ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œè¿™ä¸ªå¯¹è±¡å«åšEnvironmentï¼Œä½¿ç”¨è‡ªåŠ¨è£…é…æ³¨è§£å¯ä»¥å°†æ‰€æœ‰çš„yamlæ•°æ®å°è£…åˆ°è¿™ä¸ªå¯¹è±¡ä¸­</p><img src="https://pic1.imgdb.cn/item/635d3f5516f2c2beb10002c4.png" alt="image-20211126180738569" style="zoom:80%;" /><p>ä½†æ˜¯è¦å†™env.getPropertyå¤ªéº»çƒ¦äº†</p><p>å†™æˆå¯¹è±¡æ•°æ®è°ƒç”¨ä¼šæ–¹ä¾¿å¾ˆå¤š</p><p><strong><img src="https://pic1.imgdb.cn/item/635d3f5816f2c2beb1000f6c.png" alt="image-20221018140729972"></strong></p><p>è¯»å–æ–¹å¼å¦‚ä¸‹</p><p><img src="https://pic1.imgdb.cn/item/635d3f5b16f2c2beb1001a33.png" alt="image-20221018140758872"></p><p>ä¼šç®€å•å¾ˆå¤š ç›´æ¥è¾“å‡ºå°±æ˜¯ å¯¹è±¡çš„tostring</p><h2 id="4-æ€»ç»“">4.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ å†…å®¹æ˜¯Boot2åŸºç¡€ç¯‡å·®ä¸å¤šç»“æŸäº†ï¼Œé…ç½®æ–¹é¢å­¦ä¹ çš„æ¯”è¾ƒå¤šï¼Œç®—æ˜¯é‡ç‚¹å§ï¼Œymlæ„Ÿè§‰æ˜¯æ¯”ä¹‹å‰propertiesçš„æ–‡ä»¶è¦èˆ’æœå¾ˆå¤šï¼Œè¿æ¥æ•°æ®åº“çš„æ—¶å€™ï¼Œè¾“å…¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼ŒåŠ ä¸ŠMPçš„é…ç½®ï¼Œæ„Ÿè§‰å°†å¼€å‘æ•ˆç‡æé«˜äº†å¾ˆå¤šã€‚ä»Šå¤©æ²¡ä»€ä¹ˆéš¾ç‚¹ï¼Œéƒ½æ˜¯ç†è§£ä¸ºä¸»ï¼Œæ–‡æ¡£çœ‹çœ‹ï¼Œå»å®éªŒäº†ä¸€ä¸‹ï¼Œæ˜å¤©æŠŠSSMPçš„æ¡ˆä¾‹è¿‡äº†ï¼Œå°±èƒ½å»ä¸‹ä¸€ä¸ªé˜¶æ®µäº†ã€‚</p><h1 id="10-19-SSMPæ¡ˆä¾‹">10.19 SSMPæ¡ˆä¾‹</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-10">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-10">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="SSMPæ­¥éª¤">SSMPæ­¥éª¤</h3><p>ä¸ªäººç†è§£:</p><p>1.pom.xml</p><p>é…ç½®ä¾èµ–</p><p>2.application.yml</p><p>è®¾ç½®æ•°æ®æº ç«¯å£ æ¡†æ¶</p><p>3.dao</p><p>ç»§æ‰¿BaseMapper è®¾ç½®@Mapper</p><p>4.daoæµ‹è¯•ç±»</p><p>5.service</p><p>è°ƒç”¨æ•°æ®å±‚æ¥å£æˆ–Mybatis-Plusæä¾›çš„æ¥å£å¿«é€Ÿå¼€å‘</p><p>6.serviceæµ‹è¯•ç±»</p><p>7.controller</p><p>åŸºäºRestfulå¼€å‘ ç”¨Postmanæµ‹è¯•</p><p>8.é¡µé¢</p><p>æ”¾ç½®resourcesç›®å½•ä¸­staticé™æ€é¡µé¢</p><p>æœ¬äººç†è§£åŸç†:</p><p><img src="https://pic1.imgdb.cn/item/635d3f6116f2c2beb1003359.png" alt="image-20221019194347499"></p><p>æ¥å£å„ä¸ªå®ç°åŸç†</p><p>æ•°æ®å±‚BookDaoæ¥å£ç»§æ‰¿mpä¸­çš„BaseMapperæ‹¥æœ‰å…¶æ–¹æ³•</p><p>IBookServiceä¸šåŠ¡å±‚æ¥å£ ç»§æ‰¿mpä¸­IService</p><p>BookServiceImplæ³¨å…¥BookDaoå®ç°å¯¹è±¡ï¼Œä¸šåŠ¡å±‚æ–¹æ³•ä¸€ç›®äº†ç„¶çŸ¥é“ä½¿ç”¨æ–¹æ³•ï¼Œåˆ›å»ºå¯¹åº”ç±»ç„¶åè°ƒç”¨æ•°æ®å±‚çš„æ–¹æ³•</p><p>åœ¨è¡¨ç°å±‚BookControllerå†™å¯¹åº”è¯·æ±‚ç±»æ‰€è°ƒç”¨çš„æ–¹æ³• å¹¶æ·»åŠ åŠŸèƒ½</p><h3 id="è¡¨ç°å±‚æ¶ˆæ¯ä¸€è‡´æ€§">è¡¨ç°å±‚æ¶ˆæ¯ä¸€è‡´æ€§</h3><p>è¦æ±‚æ˜¯å‰ç«¯è¯·æ±‚å¾—åˆ°çš„æ•°æ® éœ€è¦ç»Ÿä¸€</p><p><strong>å¢åˆ æ”¹æ“ä½œç»“æœ</strong></p><figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">true</span><br></pre></td></tr></table></figure><p>â€‹<strong>æŸ¥è¯¢å•ä¸ªæ•°æ®æ“ä½œç»“æœ</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">Â Â Â Â <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span>Â <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span>Â <span class="string">&quot;è®¡ç®—æœºç†è®º&quot;</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span>Â <span class="string">&quot;Springå®æˆ˜Â ç¬¬5ç‰ˆ&quot;</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span>Â <span class="string">&quot;Springå…¥é—¨ç»å…¸æ•™ç¨‹&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>â€‹<strong>æŸ¥è¯¢å…¨éƒ¨æ•°æ®æ“ä½œç»“æœ</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">Â Â Â Â <span class="punctuation">&#123;</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span>Â <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span>Â <span class="string">&quot;è®¡ç®—æœºç†è®º&quot;</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span>Â <span class="string">&quot;Springå®æˆ˜Â ç¬¬5ç‰ˆ&quot;</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span>Â <span class="string">&quot;Springå…¥é—¨ç»å…¸æ•™ç¨‹&quot;</span></span><br><span class="line">Â Â Â Â <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â <span class="punctuation">&#123;</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span>Â <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span>Â <span class="string">&quot;è®¡ç®—æœºç†è®º&quot;</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span>Â <span class="string">&quot;SpringÂ 5æ ¸å¿ƒåŸç†ä¸30ä¸ªç±»æ‰‹å†™å®æˆ˜&quot;</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span>Â <span class="string">&quot;åå¹´æ²‰æ·€ä¹‹ä½œ&quot;</span></span><br><span class="line">Â Â Â Â <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šé¢çš„å‡ ç§ä¸åŒçš„æ“ä½œ è¿”å›çš„æ•°æ®æ ¼å¼éƒ½ä¸ä¸€æ ·ï¼Œä¸ºäº†æ–¹ä¾¿å‰ç«¯çš„å¼€å‘ï¼Œå¯ä»¥è®¾è®¡ä¸€ä¸ªç±» è¢«ç§°ä¸ºæ¨¡å‹ç±» ç”¨äºæ•°æ®ç»Ÿä¸€çš„ è¢«ç§°ä¸ºå‰åç«¯æ•°æ®åè®®</p><p>åˆ›å»ºRç±» å†™booleanç±»çš„flag Objectçš„data å³å¯ ï¼ˆmsgæ˜¯åé¢å¯¹å¼‚å¸¸å¤„ç†æ·»åŠ çš„ï¼‰</p><p>Objectç±»å¯ä»¥æ”¾æ•°æ® flagè®¾è®¡æ˜¯æœ‰æ²¡æœ‰è¯·æ±‚åˆ°æ•°æ® è®¾è®¡å¥½æ„é€ æ–¹æ³• è¿™æ ·å‰ç«¯çš„è¿”å›çš„æ•°æ® éƒ½æ˜¯ä¸€ä¸ªflagä¸€ä¸ªdataäº†</p><p><img src="https://pic1.imgdb.cn/item/635d3f6316f2c2beb10039ac.png" alt="image-20221019195355827"></p><p>æ•ˆæœå¦‚ä¸‹</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">Â Â Â Â <span class="attr">&quot;flag&quot;</span><span class="punctuation">:</span>Â <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â <span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span>Â <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span>Â <span class="string">&quot;è®¡ç®—æœºç†è®º&quot;</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span>Â <span class="string">&quot;Springå®æˆ˜Â ç¬¬5ç‰ˆ&quot;</span><span class="punctuation">,</span></span><br><span class="line">Â Â Â Â Â Â Â Â <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span>Â <span class="string">&quot;Springå…¥é—¨ç»å…¸æ•™ç¨‹&quot;</span></span><br><span class="line">Â Â Â Â <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="3-BUGç‚¹">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h2 id="5-æ€»ç»“-2">5.æ€»ç»“</h2><p>ä»Šå¤©ä¸‹åˆå­¦äº†è½¦ï¼Œæ‰€ä»¥ä»Šå¤©ä¸»è¦æ˜¯åšäº†SSMPçš„æ¡ˆä¾‹ï¼Œä¹‹å‰è®²è¿‡å­¦SSMæ¡†æ¶çš„æ—¶å€™çš„å®ç°æ•ˆæœå·®ä¸å¤šï¼Œä½†æ˜¯ä½¿ç”¨SSMPæ–¹ä¾¿äº†å¾ˆå¤šï¼Œä¸Šæ¬¡è¿™ä¸ªæ¡ˆä¾‹æ²¡æ€ä¹ˆåšï¼Œè¿‡äº†ä¸€éï¼Œè¿™æ¬¡è‡ªå·±å°è¯•å»åšäº†ä¸€éï¼Œå› ä¸ºæ²¡å­¦è¿‡vueï¼Œåœ¨å‰ç«¯å®ç°çš„éƒ¨åˆ†ï¼Œå°±é‡‡ç”¨äº†è€å¸ˆçš„ä»£ç ï¼Œåç«¯å¼€å‘åŸºæœ¬éƒ½æ˜¯è‡ªå·±çœ‹å®Œè§†é¢‘ä»¥åç‹¬ç«‹å®Œæˆï¼Œéš¾åº¦ä¸æ˜¯å¾ˆå¤§ï¼Œsqlè¯­å¥ä¹Ÿæ˜¯å¾ˆç®€å•çš„ï¼Œæ‰€ä»¥MPå·²ç»å¸®ä½ å†™å¥½äº†ï¼Œæ˜å¤©å¯ä»¥è¿›å…¥å¼€å‘ç¯‡ä¸­å»äº†ã€‚</p><h1 id="10-20-SpringBootè¿ç»´">10.20 SpringBootè¿ç»´</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-11">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-11">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="ä½¿ç”¨cmdå‘½ä»¤è¡Œ-è¿è¡Œé¡¹ç›®jaråŒ…">ä½¿ç”¨cmdå‘½ä»¤è¡Œ è¿è¡Œé¡¹ç›®jaråŒ…</h3><p>cmdè¿è¡ŒjaråŒ…å‘½ä»¤å¦‚ä¸‹</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">java </span>-<span class="keyword">jar </span>XXXXXXX.<span class="keyword">jar</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥è®¾ç½®ä¸´æ—¶é…ç½®å±æ€§ ä¸¤ä¸ªâ€“åé¢è·Ÿå±æ€§ç„¶åè®¾ç½®å€¼ å’Œpropertiesæ–‡ä»¶æ ¼å¼å·®ä¸å¤š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar xxxxxx.jar --server.port=<span class="number">80</span> --logging.level.root=debug</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æ˜¯æœ‰æ—¶å€™ç«¯å£å†²çªæˆ–è€…è¿›ç¨‹å†²çªæ—¶å€™å‘½ä»¤</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥è¯¢ç«¯å£</span><br><span class="line">netstat -ano</span><br><span class="line"># æŸ¥è¯¢æŒ‡å®šç«¯å£</span><br><span class="line">netstat -ano |findstr <span class="string">&quot;ç«¯å£å·&quot;</span></span><br><span class="line"># æ ¹æ®è¿›ç¨‹PIDæŸ¥è¯¢è¿›ç¨‹åç§°</span><br><span class="line">tasklist |findstr <span class="string">&quot;è¿›ç¨‹PIDå·&quot;</span></span><br><span class="line"># æ ¹æ®PIDæ€æ­»ä»»åŠ¡</span><br><span class="line">taskkill /F /PID <span class="string">&quot;è¿›ç¨‹PIDå·&quot;</span></span><br><span class="line"># æ ¹æ®è¿›ç¨‹åç§°æ€æ­»ä»»åŠ¡</span><br><span class="line">taskkill -f -t -im <span class="string">&quot;è¿›ç¨‹åç§°&quot;</span></span><br></pre></td></tr></table></figure><h3 id="å¤šç¯å¢ƒå¼€å‘">å¤šç¯å¢ƒå¼€å‘</h3><p>ä¸ªäººç†è§£ï¼šåœ¨å…¬å¸ä¸­ ä¸€äº›é…ç½®æ˜¯ä¸éœ€è¦åº•å±‚çš„äººçœ‹åˆ°çš„ï¼Œæ‰€ä»¥ç›¸å½“äºæ¯ä¸ªé˜¶å±‚è´Ÿè´£çš„å†…å®¹ä¸ä¸€æ ·ã€‚å°±æ˜¯è¯´ä½ çš„ç”µè„‘ä¸Šå†™çš„ç¨‹åºæœ€ç»ˆè¦æ”¾åˆ°åˆ«äººçš„æœåŠ¡å™¨ä¸Šå»è¿è¡Œã€‚æ¯ä¸ªè®¡ç®—æœºç¯å¢ƒä¸ä¸€æ ·ï¼Œè¿™å°±æ˜¯å¤šç¯å¢ƒã€‚å¸¸è§çš„å¤šç¯å¢ƒå¼€å‘ä¸»è¦å…¼é¡¾3ç§ç¯å¢ƒè®¾ç½®ï¼Œå¼€å‘ç¯å¢ƒâ€”â€”è‡ªå·±ç”¨çš„ï¼Œæµ‹è¯•ç¯å¢ƒâ€”â€”è‡ªå·±å…¬å¸ç”¨çš„ï¼Œç”Ÿäº§ç¯å¢ƒâ€”â€”ç”²æ–¹çˆ¸çˆ¸ç”¨çš„ã€‚æ‰€ä»¥ä¸€äº›é…ç½®æ˜¯ä¸ä¸€æ ·çš„ï¼Œåˆ©ç”¨ä¸åŒçš„æ–‡ä»¶ç›®å½•å°±å¯ä»¥å®ç°</p><h2 id="3-BUGç‚¹-2">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-2">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h2 id="5-æ€»ç»“-3">5.æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ çš„å†…å®¹å¯¹æˆ‘æ¯”è¾ƒç®€å•ï¼Œä¹‹å‰å­¦è¿‡ä¸€äº›è¿ç»´æ–¹é¢çš„çŸ¥è¯†ï¼Œæ‰“åŒ…ä»€ä¹ˆéƒ½å¾ˆç†Ÿæ‚‰ï¼Œåœ¨å¤§æ•°æ®æ¯”èµ›çš„æ—¶å€™å·²ç»å¦‚é±¼å¾—æ°´äº†ï¼Œä»Šå¤©çœ‹æ–‡æ¡£å°±æŠŠè¿ç»´çœ‹å®Œäº†ï¼Œç„¶åé™„å¸¦äº†ç‚¹åé¢å¼€å‘çš„å†…å®¹ï¼Œå¦‚çƒ­éƒ¨ç½²ä»€ä¹ˆçš„ã€‚æ€»ä½“æ¥è¯´ï¼Œä»Šå¤©å­¦ä¹ çŠ¶æ€ä¹Ÿä¸é”™ï¼Œå†…å®¹æ¯”è¾ƒå¯¹å£å§ã€‚</p><h1 id="10-21ä¸‹åˆ-10-23ä¸‹åˆ-Springå¼€å‘ä½¿ç”¨ç¯‡">10.21ä¸‹åˆ-10.23ä¸‹åˆ Springå¼€å‘ä½¿ç”¨ç¯‡</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-12">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-12">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="çƒ­éƒ¨ç½²">çƒ­éƒ¨ç½²</h3><p>çƒ­éƒ¨ç½²ç›¸å½“äºä½ å¯åŠ¨å®ŒæœåŠ¡å™¨ï¼Œåˆä¿®æ”¹äº†javaçš„ä»£ç ï¼Œä¹‹å‰æ˜¯éœ€è¦é‡æ–°è¿è¡Œä¸€æ¬¡çš„ï¼Œç°åœ¨åªè¦<CTR>L+<F9>ä¸€ä¸‹å°±å¥½äº†ï¼Œä¸éœ€è¦å†æ¬¡è¿è¡Œæµªè´¹æ—¶é—´å’Œèµ„æºäº†</p><p>å› ä¸ºè‡ªåŠ¨å’Œç›‘æ§æ¯”è¾ƒé¸¡è‚‹ï¼Œæœ€å¸¸ç”¨çš„è¿˜æ˜¯æ‰‹åŠ¨å¯åŠ¨çƒ­éƒ¨ç½²ï¼Œæ‰€ä»¥å°±è®°æ‰‹åŠ¨çš„å®ç° æ–¹å¼=å°±è¡Œäº†â€˜</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-devtools<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;CTR&gt;L+&lt;F9&gt; #IDEAå¯åŠ¨çƒ­éƒ¨ç½²å¿«æ·é”®</span><br></pre></td></tr></table></figure><h3 id="é…ç½®é«˜çº§">é…ç½®é«˜çº§</h3><p>å±æ€§ç»‘å®šæ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°å¦‚ä¸‹æƒ…å†µï¼Œä¸ºäº†è¿›è¡Œæ ‡å‡†å‘½åï¼Œå¼€å‘è€…ä¼šå°†å±æ€§åä¸¥æ ¼æŒ‰ç…§é©¼å³°å‘½åæ³•ä¹¦å†™ï¼Œåœ¨ymlé…ç½®æ–‡ä»¶ä¸­å°†datasourceä¿®æ”¹ä¸ºdataSourceï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">dataSource:</span></span><br><span class="line">  <span class="attr">driverClassName:</span> <span class="string">com.mysql.jdbc.Driver</span></span><br></pre></td></tr></table></figure><p>â€‹æ­¤æ—¶ç¨‹åºå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œç„¶ååˆå°†ä»£ç ä¸­çš„å‰ç¼€datasourceä¿®æ”¹ä¸ºdataSourceï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;dataSource&quot;)</span></span><br><span class="line"><span class="keyword">public</span> DruidDataSource <span class="title function_">datasource</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">DruidDataSource</span> <span class="variable">ds</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">    <span class="keyword">return</span> ds;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹æ˜æ˜ç¡®å®šçš„ç›®æ ‡åæ˜¯ä¸€æ ·çš„ï¼Œå´æ— æ³•åŒ¹é…ï¼Œå°±æ˜¯æœ‰å…³å±æ€§åç§°çš„å®½æ¾ç»‘å®šï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºå®½æ¾ç»‘å®šã€‚</p><p>â€‹å®é™…ä¸Šæ˜¯springbootè¿›è¡Œç¼–ç¨‹æ—¶äººæ€§åŒ–è®¾è®¡çš„ä¸€ç§ä½“ç°ï¼Œå³é…ç½®æ–‡ä»¶ä¸­çš„å‘½åæ ¼å¼ä¸å˜é‡åçš„å‘½åæ ¼å¼å¯ä»¥è¿›è¡Œæ ¼å¼ä¸Šçš„æœ€å¤§åŒ–å…¼å®¹ã€‚å¯ä»¥ä¸ä¸‹é¢çš„é…ç½®å±æ€§åè§„åˆ™å…¨å…¼å®¹</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">servers:</span></span><br><span class="line">  <span class="attr">ipAddress:</span> <span class="number">192.168</span><span class="number">.0</span><span class="number">.2</span>       <span class="comment"># é©¼å³°æ¨¡å¼</span></span><br><span class="line">  <span class="attr">ip_address:</span> <span class="number">192.168</span><span class="number">.0</span><span class="number">.2</span>      <span class="comment"># ä¸‹åˆ’çº¿æ¨¡å¼</span></span><br><span class="line">  <span class="attr">ip-address:</span> <span class="number">192.168</span><span class="number">.0</span><span class="number">.2</span>      <span class="comment"># çƒ¤è‚‰ä¸²æ¨¡å¼</span></span><br><span class="line">  <span class="attr">IP_ADDRESS:</span> <span class="number">192.168</span><span class="number">.0</span><span class="number">.2</span>      <span class="comment"># å¸¸é‡æ¨¡å¼</span></span><br></pre></td></tr></table></figure><p>â€‹ä¹Ÿå¯ä»¥è¯´ï¼Œä»¥ä¸Š4ç§æ¨¡å¼æœ€ç»ˆéƒ½å¯ä»¥åŒ¹é…åˆ°ipAddressè¿™ä¸ªå±æ€§åã€‚ä¸è¿‡springbootå®˜æ–¹æ¨èä½¿ç”¨çƒ¤è‚‰ä¸²æ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯ä¸­åˆ’çº¿æ¨¡å¼ã€‚å‘½åçš„è§„èŒƒé—®é¢˜ã€‚çœ‹å¼€å§‹å‡ºç°çš„ç¼–ç¨‹é”™è¯¯ä¿¡æ¯</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Configuration property name &#x27;dataSource&#x27; is <span class="keyword">not</span> valid:</span><br><span class="line"></span><br><span class="line">    Invalid characters: &#x27;S&#x27;</span><br><span class="line"><span class="function">    Bean: <span class="title">datasource</span></span></span><br><span class="line"><span class="function">    <span class="title">Reason</span>: <span class="title">Canonical</span> <span class="title">names</span> <span class="title">should</span> <span class="title">be</span> <span class="title">kebab</span>-<span class="title">case</span> (&#x27;-&#x27; <span class="title">separated</span>), <span class="title">lowercase</span> <span class="title">alpha</span>-<span class="title">numeric</span> <span class="title">characters</span> <span class="title">and</span> <span class="title">must</span> <span class="title">start</span> <span class="title">with</span> <span class="title">a</span> <span class="title">letter</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">Action</span>:</span></span><br><span class="line"><span class="function"><span class="title">Modify</span> &#x27;<span class="title">dataSource</span>&#x27; <span class="title">so</span> <span class="title">that</span> <span class="title">it</span> <span class="title">conforms</span> <span class="title">to</span> <span class="title">the</span> <span class="title">canonical</span> <span class="title">names</span> <span class="title">requirements</span>.</span></span><br></pre></td></tr></table></figure><p>â€‹å…¶ä¸­Reasonæè¿°äº†æŠ¥é”™çš„åŸå› ï¼Œè§„èŒƒçš„åç§°åº”è¯¥æ˜¯çƒ¤è‚‰ä¸²(kebab)æ¨¡å¼(case)ï¼Œå³ä½¿ç”¨-åˆ†éš”ï¼Œä½¿ç”¨å°å†™å­—æ¯æ•°å­—ä½œä¸ºæ ‡å‡†å­—ç¬¦ï¼Œä¸”å¿…é¡»ä»¥å­—æ¯å¼€å¤´ã€‚</p><p>â€‹ä»¥ä¸Šè§„åˆ™ä»…é’ˆå¯¹springbootä¸­@ConfigurationPropertiesæ³¨è§£è¿›è¡Œå±æ€§ç»‘å®šæ—¶æœ‰æ•ˆï¼Œå¯¹@Valueæ³¨è§£è¿›è¡Œå±æ€§æ˜ å°„æ— æ•ˆã€‚</p><p><strong>æ€»ç»“</strong></p><ol><li>@ConfigurationPropertiesç»‘å®šå±æ€§æ—¶æ”¯æŒå±æ€§åå®½æ¾ç»‘å®šï¼Œè¿™ä¸ªå®½æ¾ä½“ç°åœ¨å±æ€§åçš„å‘½åè§„åˆ™ä¸Š</li><li>@Valueæ³¨è§£ä¸æ”¯æŒæ¾æ•£ç»‘å®šè§„åˆ™</li><li>ç»‘å®šå‰ç¼€åæ¨èé‡‡ç”¨çƒ¤è‚‰ä¸²å‘½åè§„åˆ™ï¼Œå³ä½¿ç”¨ä¸­åˆ’çº¿åšåˆ†éš”ç¬¦</li></ol><h3 id="æ•°æ®å±‚">æ•°æ®å±‚</h3><h4 id="æ•°æ®æºæŠ€æœ¯">æ•°æ®æºæŠ€æœ¯</h4><p>ä¹‹å‰æˆ‘ä»¬ç”¨çš„æ˜¯druid springbootè¿˜æœ‰ä¸‰ä¸ªå†…ç½®çš„æ•°æ®æºæŠ€æœ¯</p><ul><li>HikariCP</li><li>Tomcatæä¾›DataSource</li><li>Commons DBCPã€</li></ul><p>HikariCPæ˜¯é»˜è®¤çš„ ä¸é…ç½®å•¥æ•°æ®æºçš„è¯å°±æ˜¯è¿™ä¸ª</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">druid:</span><span class="comment"># è¿™é‡Œæ˜¯é€‰æ‹©æ•°æ®æºçš„</span></span><br><span class="line">     <span class="attr">url:</span> <span class="string">jdbc:mysql://localhost:3306/ssm_db?serverTimezone=UTC</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">root</span></span><br></pre></td></tr></table></figure><h3 id="æŒä¹…åŒ–æŠ€æœ¯">æŒä¹…åŒ–æŠ€æœ¯</h3><p>ä¸ªäººè§‰å¾—è¿™é‡Œæ¯”è¾ƒé‡è¦ å°±æé«˜ä¸€ä¸ªæ ‡é¢˜ç­‰çº§å§ è¿™é‡Œä¸»è¦æ˜¯springbootå……åˆ†å‘æŒ¥å…¶æœ€å¼ºè¾…åŠ©çš„ç‰¹å¾ï¼Œç»™å¼€å‘è€…æä¾›äº†ä¸€å¥—ç°æˆçš„æ•°æ®å±‚æŠ€æœ¯ï¼Œå«åšJdbcTemplateã€‚å¯¼å…¥åæ ‡å®Œäº† å¯ä»¥ç›´æ¥å†™è‡ªå®šä¹‰sql</p><p>å¯¼å…¥jdbcå¯¹åº”çš„åæ ‡ï¼Œè®°å¾—æ˜¯starter</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">&lt;/dependency</span><br></pre></td></tr></table></figure><p>è‡ªåŠ¨è£…é…JdbcTemplateå¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Springboot15SqlApplicationTests</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">testJdbcTemplate</span><span class="params">(<span class="meta">@Autowired</span> JdbcTemplate jdbcTemplate)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨JdbcTemplateå®ç°æŸ¥è¯¢æ“ä½œï¼ˆéå®ä½“ç±»å°è£…æ•°æ®çš„æŸ¥è¯¢æ“ä½œï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testJdbcTemplate</span><span class="params">(<span class="meta">@Autowired</span> JdbcTemplate jdbcTemplate)</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from tbl_book&quot;</span>;</span><br><span class="line">    List&lt;Map&lt;String, Object&gt;&gt; maps = jdbcTemplate.queryForList(sql);</span><br><span class="line">    System.out.println(maps);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨JdbcTemplateå®ç°æŸ¥è¯¢æ“ä½œï¼ˆå®ä½“ç±»å°è£…æ•°æ®çš„æŸ¥è¯¢æ“ä½œï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testJdbcTemplate</span><span class="params">(<span class="meta">@Autowired</span> JdbcTemplate jdbcTemplate)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from tbl_book&quot;</span>;</span><br><span class="line">    RowMapper&lt;Book&gt; rm = <span class="keyword">new</span> <span class="title class_">RowMapper</span>&lt;Book&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Book <span class="title function_">mapRow</span><span class="params">(ResultSet rs, <span class="type">int</span> rowNum)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">            <span class="type">Book</span> <span class="variable">temp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Book</span>();</span><br><span class="line">            temp.setId(rs.getInt(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">            temp.setName(rs.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">            temp.setType(rs.getString(<span class="string">&quot;type&quot;</span>));</span><br><span class="line">            temp.setDescription(rs.getString(<span class="string">&quot;description&quot;</span>));</span><br><span class="line">            <span class="keyword">return</span> temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    List&lt;Book&gt; list = jdbcTemplate.query(sql, rm);</span><br><span class="line">    System.out.println(list);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨JdbcTemplateå®ç°å¢åˆ æ”¹æ“ä½œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">testJdbcTemplateSave</span><span class="params">(<span class="meta">@Autowired</span> JdbcTemplate jdbcTemplate)</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into tbl_book values(3,&#x27;springboot1&#x27;,&#x27;springboot2&#x27;,&#x27;springboot3&#x27;)&quot;</span>;</span><br><span class="line">    jdbcTemplate.update(sql);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸ªäººç†è§£:ä¸€äº›å¤æ‚çš„sqlè¯­å¥å¯ä»¥ä¸ä¾èµ–äºMPï¼Œè‡ªå®šä¹‰ä¼šæ›´å¥½äº›ï¼Œè€Œä¸”å¯ä»¥æ»¡è¶³éœ€æ±‚ï¼Œæƒ³å†™ä»€ä¹ˆç±»å‹çš„sqlè¯­å¥ï¼Œå†™å®Œè°ƒç”¨jdbcTemplateä¸­å¯¹åº”çš„å®ç°æ–¹æ³•å°±è¡Œäº†ï¼ŒæŸ¥è¯¢æ¯”è¾ƒéº»çƒ¦ï¼Œéå®ä½“ç±»çœ‹èµ·æ¥ä¸å¤ªæ–¹ä¾¿ï¼Œå¯ä»¥å†™ä¸€ä¸ªå®ä½“ç±»ï¼Œå°è£…è¿›å»ã€‚</p><h4 id="æ•°æ®åº“æŠ€æœ¯">æ•°æ®åº“æŠ€æœ¯</h4><p>è®²çš„éƒ½æ˜¯springbootå†…ç½®çš„ä¸‰ä¸ªæ•°æ®åº“ï¼Œæ„Ÿè§‰æ²¡ä»€ä¹ˆå¾ˆå¤§çš„ç”¨å¤„ä»¥åï¼Œè¿˜æ˜¯mysqlå±…å¤š</p><h3 id="NOSQLéå…³ç³»æ•°æ®åº“">NOSQLéå…³ç³»æ•°æ®åº“</h3><p>è®²äº†ä¸‰ä¸ªRedis MongoDB ES éƒ½æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„æ•°æ®åº“ï¼Œè·Ÿç€å®‰è£…äº†ä¸€ä¸‹ï¼Œç„¶ååŸºæœ¬çš„ä½¿ç”¨å­¦ä¼šäº†ï¼Œç”¨SpringBootæ•´åˆäº†ä¸€ä¸‹ï¼Œæ²¡ä»€ä¹ˆéš¾ç‚¹ï¼Œä¹Ÿæ²¡é‡ç‚¹ï¼Œåé¢éœ€è¦ç”¨çš„ä½¿ç”¨ï¼Œå†å±€éƒ¨çš„å¤ä¹ ä¸€ä¸‹</p><h2 id="3-BUG">3. BUG</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>è‡ªå·±å†™çš„æŸ¥è¯¢æ–¹æ³•è¿™é‡Œï¼Œæƒ³ç”¨sqlæ¥è¿›è¡Œåˆ†é¡µï¼ŒæŠ¥é”™äº†ï¼Œå‘ç°è¿™é‡Œä¿®æ”¹ä»¥åï¼Œåé¢çš„Serviceä¸šåŠ¡å±‚æ²¡æœ‰ä¿®æ”¹ï¼Œå¯¼è‡´æŠ¥é”™</p><p><img src="https://pic1.imgdb.cn/item/635d3f6a16f2c2beb100519d.png" alt="img"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-3">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h2 id="5-æ€»ç»“-4">5.æ€»ç»“</h2><p>å› ä¸ºä¸Šåˆéƒ½æœ‰ç‚¹äº‹æƒ…ï¼Œå°±æŠŠè¿™ä¸¤å¤©ä¸‹åˆçš„å­¦ä¹ å†…å®¹æ”¾ä¸€å¤©äº†ï¼Œè¿™ä¸¤å¤©ä¸‹åˆçš„å­¦ä¹ å†…å®¹æ˜¯æœ‰ç‚¹éš¾åº¦çš„ï¼Œè€Œä¸”å†…å®¹æ¯”è¾ƒå¤šï¼Œä»çƒ­éƒ¨ç½²ï¼Œé…ç½®ï¼Œæµ‹è¯•ï¼Œæ•°æ®å±‚ç»“å±€é—®é¢˜ï¼Œå’Œæ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯ã€‚åœ¨æ•°æ®å±‚é‚£è¾¹éš¾åº¦æ¯”è¾ƒå¤§ï¼Œé‡ç‚¹åœ¨æ•°æ®å±‚å’Œæ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯ï¼Œï¼Œæ•°æ®å±‚è¯¾ä»¶åˆ†äº†ä¸¤éƒ¨åˆ†ï¼ŒSQLå’ŒNOSQLï¼Œéå…³ç³»å’Œå…³ç³»å‹çš„æ•°æ®åº“ï¼ŒNOSQLæ¯”è¾ƒç®€å•ï¼Œé™¤äº†ESæ˜¯æœ‰ç‚¹éš¾åº¦çš„æ‰“ç®—ä¸‹æ¬¡å»ä¸“é—¨å›å¤´çœ‹ä¸€ä¸‹ï¼Œä¹Ÿåªè®²äº†åŸºæœ¬æ“ä½œï¼ŒSQLä¸­æ•°æ®æºå’ŒæŒä¹…åŒ–è¿˜æ˜¯å¾ˆæœ‰æ„æ€çš„ï¼Œåˆ©ç”¨JdbcTemplateæŒä¹…åŒ–ï¼Œå®Œæˆæ¯”è¾ƒå¤æ‚çš„sqlè¯­å¥ï¼Œä¹ŸéªŒè¯äº†æˆ‘ä¹‹å‰è§‰å¾—MPè™½ç„¶æ™ºèƒ½ï¼Œä½†æ˜¯åœ¨å¤æ‚çš„ä¼ä¸šé¡¹ç›®ä¸­ï¼Œä¼šç”¨åˆ°å¤æ‚çš„SQLè¯­å¥ï¼Œè‚¯å®šæ˜¯æœ‰äº›è¦è‡ªå·±æ‰‹æ•²sqlçš„ï¼Œå­¦ä¸€æš‘å‡çš„MYSQLæ²¡ç™½å­¦ã€‚ä¸‹æ¬¡å°±ç»“æŸæ•´åˆç¬¬ä¸‰æ–¹ï¼Œå¼€å‘ç¯‡ä¹Ÿå°±å®Œç»“äº†ï¼Œå°±å¯ä»¥å»åšé¡¹ç›®äº†ï¼Œæ•°æ®å±‚è¿˜å·®ä¸€ä¸ªESæ²¡æœ‰çœ‹ã€‚è‡ªå·±è¯•ç€ç”¨æ•°æ®åº“æŠ€æœ¯ï¼Œç”¨è‡ªå·±ä¹‹å‰æ¯”èµ›æ¸…æ´—çš„æ•°æ®åº“æ¸…æ´—ä»£ç ï¼Œæ”¾javaä¸­è¿è¡Œä»Šå¤©å­¦ä¹ çŠ¶æ€æä½³ï¼Œå†…å®¹ä¹Ÿæ¯”è¾ƒå¤šï¼Œå› ä¸ºè‡ªå·±æ“…é•¿sqlç‚¹ï¼Œå­¦ä¹ ä¹Ÿæœ‰å…´è¶£ã€‚</p><h1 id="10-24-Springæ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯">10.24 Springæ•´åˆç¬¬ä¸‰æ–¹æŠ€æœ¯</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-13">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-13">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="ç¼“å­˜">ç¼“å­˜</h3><p>ç¼“å­˜æ˜¯ä¸€ç§ä»‹äºæ•°æ®æ°¸ä¹…å­˜å‚¨ä»‹è´¨ä¸åº”ç”¨ç¨‹åºä¹‹é—´çš„æ•°æ®ä¸´æ—¶å­˜å‚¨ä»‹è´¨ï¼Œä½¿ç”¨ç¼“å­˜å¯ä»¥æœ‰æ•ˆçš„å‡å°‘ä½é€Ÿæ•°æ®è¯»å–è¿‡ç¨‹çš„æ¬¡æ•°ï¼ˆä¾‹å¦‚ç£ç›˜IOï¼‰ï¼Œæé«˜ç³»ç»Ÿæ€§èƒ½ã€‚</p><h4 id="å†…ç½®ç¼“å­˜">å†…ç½®ç¼“å­˜</h4><p>å°±æ˜¯ä¸€äº›æ•°æ®å¯ä»¥ä¸´æ—¶æ”¾ç¼“å­˜ä¸­ï¼ŒSpringbootæä¾›äº†åŒ…</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-cache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶ååœ¨æœåŠ¡å™¨å¯åŠ¨ä¸Šé¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼€å¯ç¼“å­˜åŠŸèƒ½</span></span><br><span class="line"><span class="meta">@EnableCaching</span></span><br></pre></td></tr></table></figure><p>åœ¨ä¸šåŠ¡å±‚æ–¹æ³•ä¸Šé¢æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Cacheable(value=&quot;cacheSpace&quot;,key=&quot;#id&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Book <span class="title function_">getById</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> bookDao.selectById(id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ehcacheç¼“å­˜">ehcacheç¼“å­˜</h4><p>åæ ‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.sf.ehcache<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ehcache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¤–ç½®ç¼“å­˜éœ€è¦é…ç½®çš„ åœ¨ymlæ–‡ä»¶ä¸­</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cache:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">ehcache</span></span><br><span class="line">    <span class="attr">ehcache:</span></span><br><span class="line">      <span class="attr">config:</span> <span class="string">ehcache.xml</span></span><br></pre></td></tr></table></figure><p>ehcacheçš„é…ç½®æœ‰ç‹¬ç«‹çš„é…ç½®æ–‡ä»¶æ ¼å¼ï¼Œå› æ­¤è¿˜éœ€è¦æŒ‡å®šehcacheçš„é…ç½®æ–‡ä»¶ï¼Œä»¥ä¾¿äºè¯»å–ç›¸åº”é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ehcache</span> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">&quot;http://ehcache.org/ehcache.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">updateCheck</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">diskStore</span> <span class="attr">path</span>=<span class="string">&quot;D:\ehcache&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--é»˜è®¤ç¼“å­˜ç­–ç•¥ --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- externalï¼šæ˜¯å¦æ°¸ä¹…å­˜åœ¨ï¼Œè®¾ç½®ä¸ºtrueåˆ™ä¸ä¼šè¢«æ¸…é™¤ï¼Œæ­¤æ—¶ä¸timeoutå†²çªï¼Œé€šå¸¸è®¾ç½®ä¸ºfalse--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- diskPersistentï¼šæ˜¯å¦å¯ç”¨ç£ç›˜æŒä¹…åŒ–--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- maxElementsInMemoryï¼šæœ€å¤§ç¼“å­˜æ•°é‡--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- overflowToDiskï¼šè¶…è¿‡æœ€å¤§ç¼“å­˜æ•°é‡æ˜¯å¦æŒä¹…åŒ–åˆ°ç£ç›˜--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- timeToIdleSecondsï¼šæœ€å¤§ä¸æ´»åŠ¨é—´éš”ï¼Œè®¾ç½®è¿‡é•¿ç¼“å­˜å®¹æ˜“æº¢å‡ºï¼Œè®¾ç½®è¿‡çŸ­æ— æ•ˆæœï¼Œå¯ç”¨äºè®°å½•æ—¶æ•ˆæ€§æ•°æ®ï¼Œä¾‹å¦‚éªŒè¯ç --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- timeToLiveSecondsï¼šæœ€å¤§å­˜æ´»æ—¶é—´--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- memoryStoreEvictionPolicyï¼šç¼“å­˜æ¸…é™¤ç­–ç•¥--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">defaultCache</span></span></span><br><span class="line"><span class="tag">        <span class="attr">eternal</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">diskPersistent</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">maxElementsInMemory</span>=<span class="string">&quot;1000&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">overflowToDisk</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">timeToIdleSeconds</span>=<span class="string">&quot;60&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">timeToLiveSeconds</span>=<span class="string">&quot;60&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">memoryStoreEvictionPolicy</span>=<span class="string">&quot;LRU&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">cache</span></span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">&quot;smsCode&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">eternal</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">diskPersistent</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">maxElementsInMemory</span>=<span class="string">&quot;1000&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">overflowToDisk</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">timeToIdleSeconds</span>=<span class="string">&quot;10&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">timeToLiveSeconds</span>=<span class="string">&quot;10&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">memoryStoreEvictionPolicy</span>=<span class="string">&quot;LRU&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ehcache</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="Redis">Redis</h4><p>redisçš„åæ ‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">localhost</span> <span class="string">//æœ¬åœ°</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">  <span class="attr">cache:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">redis</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">      <span class="attr">use-key-prefix:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">key-prefix:</span> <span class="string">sms_</span></span><br><span class="line">      <span class="attr">cache-null-values:</span> <span class="literal">false</span></span><br><span class="line">      <span class="attr">time-to-live:</span> <span class="string">10s</span></span><br></pre></td></tr></table></figure><h4 id="j2cacheç¼“å­˜">j2cacheç¼“å­˜</h4><p>ä¹‹å‰è¿˜æœ‰ä¸€ç§jetçš„æ•´åˆæ–¹å¼ï¼Œæˆ‘è§‰å¾—å¤ªéº»çƒ¦ï¼Œè€Œä¸”åªèƒ½æ•´åˆ4ç§ï¼Œæ‰€ä»¥å°±åªè®°j2äº†ã€‚å°±ä»¥æ•´åˆehcacheå’Œredis</p><p>å¯¼å…¥ä¸‰ä¸ªåæ ‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.oschina.j2cache<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>j2cache-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.4-release<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.oschina.j2cache<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>j2cache-spring-boot2-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.8.0-release<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.sf.ehcache<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ehcache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®ä¸€çº§ä¸äºŒçº§ç¼“å­˜ï¼Œå¹¶é…ç½®ä¸€äºŒçº§ç¼“å­˜é—´æ•°æ®ä¼ é€’æ–¹å¼ï¼Œé…ç½®ä¹¦å†™åœ¨åç§°ä¸ºj2cache.propertiesçš„æ–‡ä»¶ä¸­ã€‚</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1çº§ç¼“å­˜</span></span><br><span class="line"><span class="attr">j2cache.L1.provider_class</span> = <span class="string">ehcache</span></span><br><span class="line"><span class="attr">ehcache.configXml</span> = <span class="string">ehcache.xml</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># 2çº§ç¼“å­˜</span></span><br><span class="line"><span class="attr">j2cache.L2.provider_class</span> = <span class="string">net.oschina.j2cache.cache.support.redis.SpringRedisProvider</span></span><br><span class="line"><span class="attr">j2cache.L2.config_section</span> = <span class="string">redis</span></span><br><span class="line"><span class="attr">redis.hosts</span> = <span class="string">localhost:6379</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># 1çº§ç¼“å­˜ä¸­çš„æ•°æ®å¦‚ä½•åˆ°è¾¾äºŒçº§ç¼“å­˜</span></span><br><span class="line"><span class="attr">j2cache.broadcast</span> = <span class="string">net.oschina.j2cache.cache.support.redis.SpringRedisPubSubPolicy</span></span><br></pre></td></tr></table></figure><ol><li>j2cacheæ˜¯ä¸€ä¸ªç¼“å­˜æ¡†æ¶ï¼Œè‡ªèº«ä¸å…·æœ‰ç¼“å­˜åŠŸèƒ½ï¼Œå®ƒæä¾›å¤šç§ç¼“å­˜æ•´åˆåœ¨ä¸€èµ·ä½¿ç”¨çš„æ–¹æ¡ˆ</li><li>j2cacheéœ€è¦é€šè¿‡å¤æ‚çš„é…ç½®è®¾ç½®å„çº§ç¼“å­˜ï¼Œä»¥åŠç¼“å­˜ä¹‹é—´æ•°æ®äº¤æ¢çš„æ–¹å¼</li><li>j2cacheæ“ä½œæ¥å£é€šè¿‡CacheChannelå®ç°</li></ol><h2 id="3-BUGç‚¹-3">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>è¿è¡Œ cacheç¼“å­˜çš„æ—¶å€™æŠ¥é”™ï¼ŒæŠ¥é”™ç‚¹ä¸€ç›´æ²¡æ‰¾åˆ°ï¼Œçœ‹æŠ¥é”™ä¿¡æ¯æ˜¯XMï¼Œè¿™ä¸ªæ²¡å¬è¿‡ï¼ŒæŠŠé‚£ä¸¤ä¸ªXMçš„jaråŒ…æ³¨é‡Šæ‰ä¹Ÿæ²¡æœ‰ç”¨ï¼Œæœ€åæŠŠymlçš„é…ç½®å…¨æ”¹äº†ï¼Œç„¶åæ£€æŸ¥æ•°æ®å±‚çš„ä¸€äº›æ³¨è§£ï¼ŒæŠŠå’ŒXMæœ‰å…³çš„éƒ½å»æ‰ï¼ŒBUGè§£å†³äº†ï¼Œçœ‹åˆ°åé¢æ‰çŸ¥é“XMç±»æ˜¯å¤–ç½®çš„ä¸€ç›´ç¼“å­˜ï¼Œéœ€è¦ä¸‹è½½é…ç½®æ‰èƒ½ä½¿ç”¨ï¼Œpomæ–‡ä»¶ä¸­å¯¼å…¥ä¸äº†</p><p><img src="https://pic1.imgdb.cn/item/635d3ae716f2c2beb1ee91b1.png" alt="image-20221024183706622"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-4">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>æ‰‹æœºéªŒè¯ç æ¡ˆä¾‹ è‡ªå®šä¹‰æ ¡å¯¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CodeUtils</span> &#123;</span><br><span class="line">    <span class="comment">//é˜²æ­¢ å‡ºç°å¼€å¤´æ˜¯0ç„¶åå˜æˆæ•´æ•°å æ•°å­—ä¸æ˜¯å…­ä½</span></span><br><span class="line">    <span class="keyword">private</span> String [] patch = &#123;<span class="string">&quot;000000&quot;</span>,<span class="string">&quot;00000&quot;</span>,<span class="string">&quot;0000&quot;</span>,<span class="string">&quot;000&quot;</span>,<span class="string">&quot;00&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">generator</span><span class="params">(String tele)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">hash</span> <span class="operator">=</span> tele.hashCode();</span><br><span class="line">        <span class="type">int</span> <span class="variable">encryption</span> <span class="operator">=</span> <span class="number">20206666</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">result</span> <span class="operator">=</span> hash ^ encryption;</span><br><span class="line">        <span class="type">long</span> <span class="variable">nowTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        result = result ^ nowTime;</span><br><span class="line">        <span class="type">long</span> <span class="variable">code</span> <span class="operator">=</span> result % <span class="number">1000000</span>;</span><br><span class="line">        code = code &lt; <span class="number">0</span> ? -code : code;</span><br><span class="line">        <span class="type">String</span> <span class="variable">codeStr</span> <span class="operator">=</span> code + <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> codeStr.length();</span><br><span class="line">        <span class="keyword">return</span> patch[len] + codeStr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Cacheable(value = &quot;smsCode&quot;,key=&quot;#tele&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">get</span><span class="params">(String tele)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-æ€»ç»“-5">5.æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ çš„å­¦ä¹ å†…å®¹ä¸€èˆ¬ï¼Œå†…å®¹æ¯”è¾ƒå¤šï¼Œä¸»è¦æ˜¯æ•´åˆç¬¬ä¸‰æ–¹çš„ç¼“å­˜éƒ¨åˆ†ï¼Œç„¶åé™„å¸¦äº†ç‚¹ä»»åŠ¡ï¼Œå‡ºäº†ä¸€ä¸ªå°BUGï¼Œç„¶åè‡ªå·±æ‰‹åŠ¨è§£å†³äº†ï¼ŒåŸºæœ¬éƒ½æ˜¯çœ‹æ–‡æ¡£ï¼Œä¸çŸ¥é“å…·ä½“ç”¨æ³•çš„æ—¶å€™çœ‹è§†é¢‘å»ï¼Œç„¶åè¯•ç€æ•²ä¸€ä¸‹ï¼Œè¯·æ±‚çš„æ—¶å€™æœ‰ç‚¹äº‘é‡Œé›¾é‡Œã€‚è·Ÿç€è€å¸ˆçŸ¥é“å…·ä½“çš„è¯·æ±‚ï¼Œæ‰‹æ•²äº†ä¸€éç®€å•çš„æ‰‹æœºéªŒè¯ç ï¼Œç¦è¢‹å•¦Quartzä»»åŠ¡ï¼Œçœ‹äº†ä¸€ä¼šè§†é¢‘ï¼Œè¿˜æ²¡æ˜ç™½æ˜¯ä¸ªä»€ä¹ˆäº‹ï¼Œæ˜å¤©å°±èƒ½ç»“æŸBootï¼Œåå¤©å¯ä»¥åšé¡¹ç›®äº†ã€‚ä»Šå¤©çš„å­¦ä¹ çŠ¶æ€ä¸é”™ï¼Œæ¯”è¾ƒé›†ä¸­ï¼Œçœ‹æ–‡æ¡£ä¹Ÿçœ‹çš„ä¸‹å»ï¼Œæ•ˆç‡å¾ˆé«˜ã€‚</p><h1 id="10-25-å¼€å‘ç¯‡å®Œç»“">10.25 å¼€å‘ç¯‡å®Œç»“</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-14">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-14">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="ä»»åŠ¡Task">ä»»åŠ¡Task</h3><p>è¯¾ä»¶ä¸­è¿˜æœ‰ä¸€ä¸ªQuartzï¼Œä½†æ˜¯æ„Ÿè§‰å¾ˆéº»çƒ¦ä¸å¤ªå®ç”¨ï¼Œç°åœ¨ä¸»æµçš„å¥½åƒæ˜¯Task</p><p>ä¹Ÿå°±æ˜¯å®šæ—¶ä»»åŠ¡ï¼Œè¦åšå®šæ—¶ä»»åŠ¡è¦å®¹å™¨æœ‰è¿™åŠŸèƒ½ï¼Œç„¶åå®šæ—¶æ‰§è¡Œä»€ä¹ˆä»»åŠ¡ç›´æ¥å‘Šè¯‰å¯¹åº”çš„beanä»€ä¹ˆæ—¶é—´æ‰§è¡Œå°±è¡Œäº†</p><p>å¼€å¯å®šæ—¶ä»»åŠ¡åŠŸèƒ½ï¼Œåœ¨å¼•å¯¼ç±»ä¸Šå¼€å¯å®šæ—¶ä»»åŠ¡åŠŸèƒ½çš„å¼€å…³ï¼Œä½¿ç”¨æ³¨è§£@EnableScheduling</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="comment">//å¼€å¯å®šæ—¶ä»»åŠ¡åŠŸèƒ½</span></span><br><span class="line"><span class="meta">@EnableScheduling</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Springboot22TaskApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(Springboot22TaskApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ­¥éª¤â‘¡</strong>ï¼šå®šä¹‰Beanï¼Œåœ¨å¯¹åº”è¦å®šæ—¶æ‰§è¡Œçš„æ“ä½œä¸Šæ–¹ï¼Œä½¿ç”¨æ³¨è§£@Scheduledå®šä¹‰æ‰§è¡Œçš„æ—¶é—´ï¼Œæ‰§è¡Œæ—¶é—´çš„æè¿°æ–¹å¼è¿˜æ˜¯cronè¡¨è¾¾å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyBean</span> &#123;</span><br><span class="line">    <span class="meta">@Scheduled(cron = &quot;0/1 * * * * ?&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName()+<span class="string">&quot; :spring task run...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹å®šæ—¶ä»»åŠ¡è¿›è¡Œç›¸å…³é…ç½®ï¼Œå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶è¿›è¡Œ</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">task:</span></span><br><span class="line">   <span class="attr">scheduling:</span></span><br><span class="line">      <span class="attr">pool:</span></span><br><span class="line">       <span class="attr">size:</span> <span class="number">1</span><span class="comment"># ä»»åŠ¡è°ƒåº¦çº¿ç¨‹æ± å¤§å° é»˜è®¤ 1</span></span><br><span class="line">      <span class="attr">thread-name-prefix:</span> <span class="string">ssm_</span>      <span class="comment"># è°ƒåº¦çº¿ç¨‹åç§°å‰ç¼€ é»˜è®¤ scheduling-      </span></span><br><span class="line">        <span class="attr">shutdown:</span></span><br><span class="line">          <span class="attr">await-termination:</span> <span class="literal">false</span><span class="comment"># çº¿ç¨‹æ± å…³é—­æ—¶ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span></span><br><span class="line">          <span class="attr">await-termination-period:</span> <span class="string">10s</span><span class="comment"># è°ƒåº¦çº¿ç¨‹å…³é—­å‰æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œç¡®ä¿æœ€åä¸€å®šå…³é—­</span></span><br></pre></td></tr></table></figure><p><strong>æ€»ç»“</strong></p><ol><li>spring taskéœ€è¦ä½¿ç”¨æ³¨è§£@EnableSchedulingå¼€å¯å®šæ—¶ä»»åŠ¡åŠŸèƒ½</li><li>ä¸ºå®šæ—¶æ‰§è¡Œçš„çš„ä»»åŠ¡è®¾ç½®æ‰§è¡Œå‘¨æœŸï¼Œæè¿°æ–¹å¼cronè¡¨è¾¾å¼</li></ol><h3 id="é‚®ä»¶">é‚®ä»¶</h3><p>å‘é‚®ä»¶æ˜¯javaç¨‹åºçš„åŸºæœ¬æ“ä½œï¼Œspringbootæ•´åˆjavamailå…¶å®å°±æ˜¯ç®€åŒ–å¼€å‘ã€‚å‘é€é‚®ä»¶æ–¹æ˜¯éœ€è¦é…ç½®çš„ï¼Œéœ€è¦åœ¨è‡ªå·±çš„é‚®ç®±è®¾ç½®ä¸­æ‰¾åˆ°å¯†ç SMTPçš„ã€‚æ”¶ä»¶æ–¹åªéœ€è¦ä¸€ä¸ªé‚®ç®±åœ°å€å°±è¡Œäº†</p><h3 id="æ¶ˆæ¯">æ¶ˆæ¯</h3><p>æ¶ˆæ¯å’Œä¹‹å‰ç”¨javaåšè¿‡çš„ä¸€ä¸ªäº¤äº’å·®ä¸å¤šï¼Œç°åœ¨ä¸»è¦æ˜¯å¼‚æ­¥æ¶ˆæ¯ï¼ŒåŒæ­¥æ¶ˆæ¯ä½œç”¨ä¸å¤§ã€‚</p><p>ç°åœ¨æ¯”è¾ƒä¸»æµçš„RocketMQï¼Œåªè¦ç»™è¦å‘é€æ¶ˆæ¯çš„æ–¹æ³•æŒ‚ä¸ŠROcketMQçš„æ³¨è§£å°±å¯ä»¥äº†ï¼Œè¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œæ­¥éª¤å°±ä¸åˆ—å‡ºæ¥äº†ã€‚</p><ol><li>springbootæ•´åˆRocketMQä½¿ç”¨RocketMQTemplateå¯¹è±¡ä½œä¸ºå®¢æˆ·ç«¯æ“ä½œæ¶ˆæ¯é˜Ÿåˆ—</li><li>æ“ä½œRocketMQéœ€è¦é…ç½®RocketMQæœåŠ¡å™¨åœ°å€ï¼Œé»˜è®¤ç«¯å£9876</li><li>ä¼ä¸šå¼€å‘æ—¶é€šå¸¸ä½¿ç”¨ç›‘å¬å™¨æ¥å¤„ç†æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ï¼Œè®¾ç½®ç›‘å¬å™¨ä½¿ç”¨æ³¨è§£@RocketMQMessageListener</li></ol><h3 id="ç›‘æ§">ç›‘æ§</h3><p>ç›‘æ§è¿™è¾¹æ¯”è¾ƒé‡è¦çš„æ˜¯å¯è§†åŒ–ç›‘æ§å¹³å°</p><p>éœ€è¦å…ˆçœ‹å¼€å¯æœåŠ¡å™¨ åŠ å…¥é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>de.codecentric<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-admin-starter-server<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨å¼•å¯¼ç±»ä¸Šæ·»åŠ æ³¨è§£@EnableAdminServerï¼Œå£°æ˜å½“å‰åº”ç”¨å¯åŠ¨åä½œä¸ºSpringBootAdminçš„æœåŠ¡å™¨ä½¿ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableAdminServer</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Springboot25AdminServerApplication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(Springboot25AdminServerApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹è¿™æ ·å°±èƒ½è¿›å»adminçš„é¡µé¢äº†</p><p>ç„¶åå°±æ˜¯å¼€å¯ä¸€ä¸ªè‡ªå·±çš„å®¢æˆ·ç«¯ å®¢æˆ·ç«¯æ¯”è¾ƒç®€å•å¯¼å…¥åæ ‡</p><p>å¯¼å…¥springboot adminå¯¹åº”çš„starterï¼Œç‰ˆæœ¬ä¸å½“å‰ä½¿ç”¨çš„springbootç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼Œå¹¶å°†å…¶é…ç½®æˆwebå·¥ç¨‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>de.codecentric<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-admin-starter-client<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.5.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€‹ç„¶åéœ€è¦åœ¨ymlé…ç½®ä¿¡æ¯</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">boot:</span></span><br><span class="line">    <span class="attr">admin:</span></span><br><span class="line">      <span class="attr">client:</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">http://localhost:8080</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># èƒ½æ˜¾ç¤ºhealth å¾ˆå¤šè¯¦ç»†ä¿¡æ¯</span></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoint:</span></span><br><span class="line">    <span class="attr">health:</span></span><br><span class="line">      <span class="attr">show-details:</span> <span class="string">always</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">&quot;*&quot;</span></span><br></pre></td></tr></table></figure><p>é¡µé¢å¤§è‡´å†…å®¹å¦‚ä¸‹ åŠŸèƒ½å¾ˆå¤š å›å¤´å¯ä»¥è¯¦ç»†çš„ä¸€ä¸ªä¸€ä¸ªåŠŸèƒ½çš„ä½¿ç”¨</p><p><img src="https://pic1.imgdb.cn/item/635d3f7616f2c2beb1007b7e.png" alt="image-20221025155656877"></p><h2 id="3-BUGç‚¹-4">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>ä¸€ç›´æŠ¥é”™æ£€æŸ¥ä»£ç ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæç¤ºæ˜¯ä»€ä¹ˆå‘½ååŸå› ï¼Œä½†æ˜¯è‡ªå·±æ ¹æœ¬æ²¡æœ‰dataSourceè¿™ä¸ªåå­—ï¼Œ   åé¢é‡æ–°å¼€äº†ä¸€ä¸ªæ¨¡å—ï¼Œä»£ç æ²¡æ”¹å˜æ²¡æœ‰æŠ¥é”™ä¿¡æ¯äº†ã€‚ä¹‹å‰çš„Springæ˜¯å¿«é€Ÿæ¨¡å—ï¼Œç°åœ¨æ¢æˆ2.4.1äº†ï¼Œåº”è¯¥æ˜¯æ¨¡å—çš„åŸå› é˜¿å§</p><p><img src="https://pic1.imgdb.cn/item/635d3f7916f2c2beb100882b.png" alt="image-20221025091629027"></p><p>å‘é€æ¶ˆæ¯å¦‚ä¸‹</p><p><img src="https://pic1.imgdb.cn/item/635d3f7a16f2c2beb1008ac6.png" alt="image-20221025094450547"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-5">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="å‘é€é‚®ä»¶å’Œé™„ä»¶-è¶…é“¾æ¥å’Œå›¾ç‰‡">å‘é€é‚®ä»¶å’Œé™„ä»¶ è¶…é“¾æ¥å’Œå›¾ç‰‡</h3><p>å¯¼å…¥springbootæ•´åˆjavamailçš„starter</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-mail<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ­¥éª¤â‘¡</strong>ï¼šé…ç½®é‚®ç®±çš„ç™»å½•ä¿¡æ¯ è¿™é‡Œæ˜¯å‘é€æ–¹ å‘é€æ–¹é‚®ç®±éœ€è¦å¼€å¯æœåŠ¡ ä¸€èˆ¬éƒ½åœ¨è®¾ç½®ä¸­</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#spring:</span></span><br><span class="line"><span class="comment">#  mail:</span></span><br><span class="line"><span class="comment">#    host: smtp.qq.com</span></span><br><span class="line"><span class="comment">#    username: 1452582554@qq.com</span></span><br><span class="line"><span class="comment">#    password: vxccjkvvlrokgigh</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">mail:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="string">smtp.163.com</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">asrl825067@163.com</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">EPEKPEWBZXLAMCYL</span></span><br></pre></td></tr></table></figure><p>å†™ä¸€ä¸ªä¸šåŠ¡å±‚çš„ä»£ç å°±å¥½äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SendMailServiceImpl2</span> <span class="keyword">implements</span> <span class="title class_">SendMailService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">from</span> <span class="operator">=</span> <span class="string">&quot;2272917904@qq.com&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">to</span> <span class="operator">=</span> <span class="string">&quot;asrl825067@163.com&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">subject</span> <span class="operator">=</span> <span class="string">&quot;æµ‹è¯•é‚®ä»¶&quot;</span>;</span><br><span class="line">    <span class="comment">//å›¾ç‰‡å’Œå¯¹åº”çš„è¶…é“¾æ¥</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">context</span> <span class="operator">=</span> <span class="string">&quot;&lt;img src=&#x27;https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.soogif.com%2FV2a5qLlX2gFNIHXSvMrmUjyWxHdb4XXQ.gif&amp;refer=http%3A%2F%2Fimg.soogif.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1669274278&amp;t=7f8449969831195ab78eea7408740099&#x27;/&gt;&lt;a href=&#x27;https://www.itcast.cn&#x27;&gt;ç‚¹å¼€æœ‰æƒŠå–œ&lt;/a&gt;&quot;</span>;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JavaMailSender javaMailSender;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendMail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="type">MimeMessage</span> <span class="variable">mimeMessage</span> <span class="operator">=</span> javaMailSender.createMimeMessage();</span><br><span class="line">            <span class="type">MimeMessageHelper</span> <span class="variable">message</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MimeMessageHelper</span>(mimeMessage,<span class="literal">true</span>);</span><br><span class="line">            message.setFrom(to+<span class="string">&quot;(u7u7)&quot;</span>);</span><br><span class="line">            message.setTo(from);</span><br><span class="line">            message.setSubject(subject);</span><br><span class="line">            message.setText(context,<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">//æ·»åŠ é™„ä»¶</span></span><br><span class="line"><span class="comment">//            File f1 = new File(&quot;D:\\CC\\SpringBootCode\\springboot_mail_test\\target\\springboot_mail_test-0.0.1-SNAPSHOT.jar&quot;);</span></span><br><span class="line">            <span class="type">File</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\CC\\SpringBootCode\\springboot_mail_test\\src\\main\\resources\\cc.png&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//            message.addAttachment(f1.getName(),f1);</span></span><br><span class="line">            message.addAttachment(<span class="string">&quot;æœ€zzçš„cc.png&quot;</span>,f2);</span><br><span class="line"></span><br><span class="line">            javaMailSender.send(mimeMessage);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç‚¹ä¸€ç›´è°ƒç”¨æ¥å£çš„sendMailçš„æ–¹æ³•å°±è¡Œäº†éœ€è¦æ³¨å…¥çš„</p><h2 id="5-æ€»ç»“-6">5.æ€»ç»“</h2><p>ä»Šå¤©çš„å†…å®¹ç®—æ˜¯ä¸€ä¸ªç»“å°¾å§ï¼Œç„¶åæŠŠå‰é¢å¼€å‘ç¯‡çš„éƒ¨åˆ†åˆå¤ä¹ äº†ä¸€éï¼Œå¼€å‘å®ç”¨ç¯‡åˆ°è¿™é‡Œå°±æš‚æ—¶å®Œç»“äº†ï¼Œåœ¨å¼€å‘å®ç”¨ç¯‡ä¸­ éƒ½æ˜¯å¤§é‡çš„ç¬¬ä¸‰æ–¹æŠ€æœ¯çš„æ•´åˆæ–¹æ¡ˆï¼Œé€‰æ‹©çš„æ–¹æ¡ˆéƒ½æ˜¯å¸‚é¢ä¸Šæ¯”è¾ƒæµè¡Œçš„å¸¸ç”¨æ–¹æ¡ˆã€‚ä»Šå¤©ä¹Ÿæ˜¯æŠŠæ•´ä¸ªBootç¯‡åšäº†ä¸ªå°æ€»ç»“å§ï¼Œå“ªäº›æ³¨è§£å“ªäº›ä¸œè¥¿å¸¸ç”¨çš„ä¹Ÿéƒ½è®°ä½äº†ï¼Œæ˜å¤©å¼€å§‹åšç‘å‰å¤–å–çš„é¡¹ç›®ï¼Œä»Šå¤©è‡ªå·±ä¿®æ”¹äº†ä¸€ä¸‹ç”¨javamailå‘æ¶ˆæ¯çš„ä»£ç ï¼Œ èƒ½å¾ªç¯å‘æ¶ˆæ¯å’Œé™„ä»¶ï¼Œä½†æ˜¯ä¼šè¢«å®˜æ–¹æ‹‰é»‘ã€‚ä¹Ÿæ˜ç™½å¹³å¸¸çš„ä¸€äº›åƒåœ¾é‚®ä»¶æ˜¯æ€ä¹ˆå‘é€çš„ï¼Œåˆ©ç”¨éšæœºå€¼ï¼Œå‘åƒåœ¾é‚®ä»¶ï¼Œä»–ä»¬å¯èƒ½æœ‰ä¸è¢«å®˜æ–¹æ‹‰é»‘çš„æ–¹æ³•ã€‚ç›‘æ§é‚£é‡Œçš„æœåŠ¡å™¨è¿˜æ˜¯å¾ˆæœ‰æ„æ€çš„ï¼Œèƒ½çœ‹é¡µé¢çš„è¯·æ±‚å’Œæ¬¡æ•°è¿˜æœ‰è‡ªå·±ä»£ç çš„ç±»å•¥çš„ï¼ŒåŠŸèƒ½å¾ˆå¼ºï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿæ–¹ä¾¿ï¼Œå¼€å¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œç»™è‡ªå·±è¦ç›‘æ§çš„ä»£ç ï¼Œå¯¼å…¥ä¸€ä¸ªåæ ‡ï¼Œå¤åˆ¶ä¸€ä¸ªspringé…ç½®å°±å¥½äº†ã€‚</p><h1 id="10-26-ç‘å‰å¤–å–-DAY1">10.26 ç‘å‰å¤–å– DAY1</h1><h2 id="1-å¤´-æ‰€å­¦å†…å®¹å‡ºå¤„">1.å¤´ æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-15">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="äº†è§£è½¯ä»¶å¼€å‘æ•´ä½“ä»‹ç»">äº†è§£è½¯ä»¶å¼€å‘æ•´ä½“ä»‹ç»</h3><p><img src="https://pic1.imgdb.cn/item/635d3f7e16f2c2beb1009a24.png" alt="img"></p><p><img src="https://pic1.imgdb.cn/item/635d3f8116f2c2beb100a4f8.png" alt="img"></p><h3 id="å¼€å‘ç¯å¢ƒçš„æ­å»º">å¼€å‘ç¯å¢ƒçš„æ­å»º</h3><h4 id="æ•°æ®åº“ç¯å¢ƒçš„æ­å»º">æ•°æ®åº“ç¯å¢ƒçš„æ­å»º</h4><p>è¯¾ä»¶æä¾›äº†sqlæ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥source å¯¼å…¥mysqlä¸­ æ—©å°±ä¹ ä»¥ä¸ºå¸¸äº†</p><h4 id="Mavené¡¹ç›®åˆ›å»º">Mavené¡¹ç›®åˆ›å»º</h4><p>ä¹Ÿå¾ˆç®€å•ï¼Œæ™®é€šçš„mavené¡¹ç›®ï¼Œå¤ä¹ å¯¼å…¥åæ ‡å’Œyamlæ–‡ä»¶ï¼Œå› ä¸ºä¸æ˜¯ç›´æ¥åˆ›å»ºçš„springBoot é¡¹ç›®ï¼Œæ‰€ä»¥è¦åˆ›å»ºBootç¨‹åºå…¥å£</p><h4 id="åå°ç™»å½•å¼€å‘">åå°ç™»å½•å¼€å‘</h4><p>å…ˆåˆ›å»ºä¸€ä¸ªå®ä½“ç±»å’Œmapperä»¥åŠservice</p><p>å†å°è£…ä¸€ä¸ªRä½œä¸ºè¿”å›çš„ç»“æœç±»</p><p>å°†ç™»å½•æ–¹æ³• ä»¥åŠè¿”å›å€¼å†™å…¥controller</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/employee&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeService employeeService;</span><br><span class="line">    <span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Employee&gt; <span class="title function_">login</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Employee employee)</span>&#123;<span class="comment">//æ¥æ”¶å‰ç«¯çš„jsonæ•°æ®,è¿™ä¸ªjsonæ•°æ®æ˜¯åœ¨è¯·æ±‚ä½“ä¸­çš„</span></span><br><span class="line"><span class="comment">//        1ã€å°†é¡µé¢æäº¤çš„å¯†ç passwordè¿›è¡Œmd5åŠ å¯†å¤„ç†</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> employee.getPassword();<span class="comment">//ä»å‰ç«¯ç”¨æˆ·è·å–åˆ°ç™»å½•æ—¶å€™çš„å¯†ç </span></span><br><span class="line">        password = DigestUtils.md5DigestAsHex(password.getBytes()); <span class="comment">//åŠ å¯†</span></span><br><span class="line"><span class="comment">//        2ã€æ ¹æ®é¡µé¢æäº¤çš„ç”¨æˆ·åusernameæŸ¥è¯¢æ•°æ®åº“</span></span><br><span class="line">        LambdaQueryWrapper&lt;Employee&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;(); <span class="comment">//æ³›å‹éœ€è¦å¡«å†™Employee</span></span><br><span class="line">        queryWrapper.eq(Employee::getUsername,employee.getUsername()); <span class="comment">//eqç”¨lambda::</span></span><br><span class="line">        <span class="comment">//åœ¨è®¾è®¡æ•°æ®åº“çš„æ—¶å€™æˆ‘ä»¬å¯¹usernameä½¿ç”¨äº†å”¯ä¸€ç´¢å¼•,æ‰€ä»¥è¿™é‡Œå¯ä»¥ä½¿ç”¨getOneæ–¹æ³•</span></span><br><span class="line">        <span class="type">Employee</span> <span class="variable">emp</span> <span class="operator">=</span> employeeService.getOne(queryWrapper);</span><br><span class="line"><span class="comment">//        3ã€å¦‚æœæ²¡æœ‰æŸ¥è¯¢åˆ°åˆ™è¿”å›ç™»å½•å¤±è´¥ç»“æœ</span></span><br><span class="line">        <span class="keyword">if</span> (emp == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> R.error(<span class="string">&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        4ã€å¯†ç æ¯”å¯¹ï¼Œå¦‚æœä¸ä¸€è‡´åˆ™è¿”å›ç™»å½•å¤±è´¥ç»“æœ</span></span><br><span class="line">        <span class="keyword">if</span> (! emp.getPassword().equals(password))&#123;</span><br><span class="line">            <span class="keyword">return</span> R.error(<span class="string">&quot;å¯†ç é”™è¯¯&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        5ã€æŸ¥çœ‹å‘˜å·¥çŠ¶æ€ï¼Œå¦‚æœä¸ºå·²ç¦ç”¨çŠ¶æ€ï¼Œåˆ™è¿”å›å‘˜å·¥å·²ç¦ç”¨ç»“æœ</span></span><br><span class="line">        <span class="keyword">if</span> (emp.getStatus() == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> R.error(<span class="string">&quot;ç”¨æˆ·å·²è¢«ç¦ç”¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        6ã€ç™»å½•æˆåŠŸï¼Œå°†å‘˜å·¥idå­˜å…¥Sessionå¹¶è¿”å›ç™»å½•æˆåŠŸç»“æœ</span></span><br><span class="line">        request.getSession().setAttribute(<span class="string">&quot;employee&quot;</span>,emp.getId());</span><br><span class="line">        <span class="comment">//æŠŠä»æ•°æ®åº“ä¸­æŸ¥è¯¢åˆ°çš„ç”¨æˆ·è¿”å›å‡ºå»</span></span><br><span class="line">        <span class="keyword">return</span> R.success(emp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å‘˜å·¥é€€å‡º</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;logout&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">logout</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">        <span class="comment">//æ¸…é™¤Sessionä¸­å½“å‰ç™»å½•å‘˜å·¥çš„id</span></span><br><span class="line">        request.getSession().removeAttribute(<span class="string">&quot;employee&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;é€€å‡ºæˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åå°ç³»ç»Ÿé€€å‡ºåŠŸèƒ½">åå°ç³»ç»Ÿé€€å‡ºåŠŸèƒ½</h4><p>è¿™ä¸ªæ¯”è¾ƒç®€å• ç‚¹å‡»æŒ‰é’®é€€å‡ºåˆ°ç™»é™†é¡µé¢å°±è¡Œäº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">    * é€€å‡ºåŠŸèƒ½</span></span><br><span class="line"><span class="comment">    * â‘ åœ¨controllerä¸­åˆ›å»ºå¯¹åº”çš„å¤„ç†æ–¹æ³•æ¥æ¥å—å‰ç«¯çš„è¯·æ±‚ï¼Œè¯·æ±‚æ–¹å¼ä¸ºpostï¼›</span></span><br><span class="line"><span class="comment">    * â‘¡æ¸…ç†sessionä¸­çš„ç”¨æˆ·id</span></span><br><span class="line"><span class="comment">    * â‘¢è¿”å›ç»“æœï¼ˆå‰ç«¯é¡µé¢ä¼šè¿›è¡Œè·³è½¬åˆ°ç™»å½•é¡µé¢ï¼‰</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">   <span class="meta">@PostMapping(&quot;/logout&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">logout</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">       <span class="comment">//æ¸…ç†sessionä¸­çš„ç”¨æˆ·id</span></span><br><span class="line">       request.getSession().removeAttribute(<span class="string">&quot;employee&quot;</span>);</span><br><span class="line">       <span class="keyword">return</span> R.success(<span class="string">&quot;é€€å‡ºæˆåŠŸ&quot;</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h2 id="3-BUGç‚¹-5">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>ä¹‹å‰çš„ç™»é™†åŠŸèƒ½æ˜¯æœ‰ä¸ªbugçš„ï¼Œåƒä¹‹å‰webçš„ä¸€ä¸ªç™»é™†æ¡ˆä¾‹ï¼Œç›´æ¥è¾“å…¥åœ°å€çš„è¯ï¼Œå°±å¯ä»¥è·³è¿‡ç™»å½•é¡µé¢ï¼Œè¾¾åˆ°ä¸ç™»å½•å°±èƒ½è¿›å…¥éœ€è¦ç™»å½•çš„ é¡µé¢ï¼Œä¹‹å‰webæ˜¯ç”¨è¿‡æ»¤å™¨çš„ï¼Œç°åœ¨ç”¨æ‹¦æˆªå™¨è§£å†³è¿™ä¸ªå°bug</p><p>è¦å…ˆåœ¨å¯åŠ¨é¡¹ä¸Šé¢åŠ å…¥@ServletComponentScanæ³¨è§£ è¯†åˆ«bean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç»å®Œæˆç™»é™†</span></span><br><span class="line"><span class="comment"> * filterNameè¿‡æ»¤å™¨åå­—</span></span><br><span class="line"><span class="comment"> * urlPatternsæ‹¦æˆªçš„è¯·æ±‚ï¼Œè¿™é‡Œæ˜¯æ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebFilter(filterName = &quot;LongCheckFilter&quot;, urlPatterns = &quot;/*&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginCheckFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="comment">//è·¯å¾„åŒ¹é…å™¨ï¼Œæ”¯æŒé€šé…ç¬¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">AntPathMatcher</span> <span class="variable">PATH_MATCHER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AntPathMatcher</span>();</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> (HttpServletRequest) servletRequest;</span><br><span class="line">        <span class="type">HttpServletResponse</span> <span class="variable">response</span> <span class="operator">=</span> (HttpServletResponse) servletResponse;</span><br><span class="line">        <span class="comment">//1ã€è·å–æœ¬æ¬¡è¯·æ±‚çš„URI</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">requestURI</span> <span class="operator">=</span> request.getRequestURI();</span><br><span class="line">        <span class="comment">//å®šä¹‰ä¸éœ€è¦å¤„ç†çš„è¯·æ±‚è·¯å¾„  æ¯”å¦‚é™æ€èµ„æº(é™æ€é¡µé¢æˆ‘ä»¬ä¸éœ€è¦æ‹¦æˆª,å› ä¸ºæ­¤æ—¶çš„é™æ€é¡µé¢æ˜¯æ²¡æœ‰æ•°æ®çš„)</span></span><br><span class="line">        String[] urls = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;</span><br><span class="line">                <span class="string">&quot;/employee/login&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/employee/logout&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/backend/**&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/front/**&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line">        log.info(<span class="string">&quot;æ‹¦æˆªåˆ°çš„è¯·æ±‚:&#123;&#125;&quot;</span>,requestURI);</span><br><span class="line">        <span class="comment">//2ã€åˆ¤æ–­æœ¬æ¬¡è¯·æ±‚æ˜¯å¦éœ€è¦å¤„ç†</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">check</span> <span class="operator">=</span> check(urls, requestURI);</span><br><span class="line">        <span class="comment">//3ã€å¦‚æœä¸éœ€è¦å¤„ç†ï¼Œåˆ™ç›´æ¥æ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">if</span> (check)&#123;</span><br><span class="line">            <span class="comment">//å¯¹è¯·æ±‚è¿›è¡Œæ”¾è¡Œ</span></span><br><span class="line">            filterChain.doFilter(request,response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//4ã€åˆ¤æ–­ç™»å½•çŠ¶æ€ï¼Œå¦‚æœå·²ç™»å½•ï¼Œåˆ™ç›´æ¥æ”¾è¡Œ</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">employee</span> <span class="operator">=</span> request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>); <span class="comment">//ç”¨æˆ·ç™»å½•çŠ¶æ€</span></span><br><span class="line">        <span class="keyword">if</span> (employee != <span class="literal">null</span>)&#123;</span><br><span class="line">            log.info(<span class="string">&quot;ç”¨æˆ·å·²ç™»å½•ï¼Œç”¨æˆ·idä¸º:&#123;&#125;&quot;</span>,employee);</span><br><span class="line">            <span class="comment">//å¯¹è¯·æ±‚è¿›è¡Œæ”¾è¡Œ</span></span><br><span class="line">            filterChain.doFilter(request,response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        log.info(<span class="string">&quot;ç”¨æˆ·æœªç™»å½•&quot;</span>);</span><br><span class="line">        <span class="comment">//5ã€å¦‚æœæœªç™»å½•åˆ™è¿”å›æœªç™»å½•ç»“æœï¼Œé€šè¿‡è¾“å‡ºæµæ–¹å¼å‘å®¢æˆ·ç«¯é¡µé¢å“åº”æ•°æ®,å…·ä½“å“åº”ä»€ä¹ˆæ•°æ®ï¼Œçœ‹å‰ç«¯çš„éœ€æ±‚ï¼Œç„¶åå‰ç«¯ä¼šæ ¹æ®ç™»é™†çŠ¶æ€åšé¡µé¢è·³è½¬</span></span><br><span class="line">        response.getWriter().write(JSON.toJSONString(R.error(<span class="string">&quot;NOTLOGIN&quot;</span>)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(String[] urls, String requestURI)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (String url: urls)&#123;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">match</span> <span class="operator">=</span> PATH_MATCHER.match(url, requestURI);</span><br><span class="line">            <span class="keyword">if</span> (match)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-6">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h2 id="5-æ€»ç»“-7">5.æ€»ç»“</h2><p>åˆšè¿›å…¥ç‘å‰å¤–å–ï¼Œä¸‹è½½äº†ä¸€äº›èµ„æ–™ï¼Œæ²¡æ‰¾åˆ°è€å¸ˆçš„å®˜æ–¹çš„pptæ–‡æ¡£ï¼Œå°±CSDNå»æœçš„ï¼Œç¬¬ä¸€å¤©çš„ä»»åŠ¡ä¸æ˜¯å¾ˆéš¾ï¼Œä¸»è¦æ˜¯å¸®åŠ©å›çœ‹ä¸€ä¸‹springbootçš„éƒ¨åˆ†ï¼Œç®—æ˜¯å°å¤ä¹ ï¼Œå°±åšäº†ä¸€ä¸ªç™»å½•å’Œé€€å‡ºï¼Œè¿˜æœ‰ä¸ªç™»å½•çš„å°BUGï¼ŒåŸºæœ¬éƒ½æ˜¯åå°çš„ä»£ç ï¼Œå‰ç«¯çš„ä¸€äº›åŠŸèƒ½éƒ½åšå¥½äº†ï¼Œåç«¯åŠ beanï¼Œè°ƒç”¨ä¸€ä¸‹å“åº”å’Œè¯·æ±‚å°±å¥½äº†ï¼Œæ¯”è¾ƒåŸºç¡€çš„è¿˜æ˜¯ã€‚å­¦ä¹ æ–¹æ³•å°±æ˜¯çœ‹è€å¸ˆè¿‡ä¸€éåŠŸèƒ½å¦‚ä½•å®ç°ï¼Œå¦‚ä½•æµ‹è¯•ï¼Œç„¶åå°±è‡ªå·±è¯•ç€å»æ•²ï¼Œæ…¢æ…¢åšå‡ºæ¥ï¼Œè¿™æ ·å­¦ï¼Œè¿›åº¦å¯èƒ½ä¼šæœ‰äº›æ…¢ï¼Œä½†æ˜¯èƒ½ææ¸…æ¥šæ¯ä¸€å—æ˜¯å¹²å˜›çš„ï¼Œæ¯ä¸ªæ³¨è§£å’Œç±»çš„ä½œç”¨å’ŒåŠŸèƒ½ã€‚</p>]]></content>
    
    
    <summary type="html">Javaå¼€å‘ä¸­çº§â€”â€”Maven,Git,SSMæ¡†æ¶,Springé«˜çº§,MybatPlus,SpringBoot</summary>
    
    
    
    <category term="å·¥ä½œå®¤æœˆç¬”è®°" scheme="https://u7u7.top/categories/%E5%B7%A5%E4%BD%9C%E5%AE%A4%E6%9C%88%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Maven" scheme="https://u7u7.top/tags/Maven/"/>
    
    <category term="Git" scheme="https://u7u7.top/tags/Git/"/>
    
    <category term="SSMæ¡†æ¶" scheme="https://u7u7.top/tags/SSM%E6%A1%86%E6%9E%B6/"/>
    
    <category term="SpringBoot" scheme="https://u7u7.top/tags/SpringBoot/"/>
    
    <category term="Java" scheme="https://u7u7.top/tags/Java/"/>
    
    <category term="MybatPlus" scheme="https://u7u7.top/tags/MybatPlus/"/>
    
    <category term="Spring" scheme="https://u7u7.top/tags/Spring/"/>
    
    <category term="æœˆç¬”è®°" scheme="https://u7u7.top/tags/%E6%9C%88%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>å¤§æ•°æ®æ€»ç»“</title>
    <link href="https://u7u7.top/posts/22conclusion09.html"/>
    <id>https://u7u7.top/posts/22conclusion09.html</id>
    <published>2023-03-11T08:00:25.000Z</published>
    <updated>2023-03-11T08:00:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¤§æ•°æ®çœèµ›æ€»ç»“">å¤§æ•°æ®çœèµ›æ€»ç»“</h1><p>â€‹å‰æ®µæ—¶é—´å¤§æ•°æ®çœèµ›ç»“æŸï¼Œè‡ªå·±è´Ÿè´£çš„éƒ¨åˆ†æ˜¯æ•°æ®æ¸…æ´—ï¼Œæˆ‘è´Ÿè´£çš„éƒ¨åˆ†ï¼Œåˆ†å€¼å æ¯”è¾ƒå¤§ï¼Œé™¤å»å…¬å…±çš„15åˆ†ï¼Œè‡ªå·±è´Ÿè´£çš„éƒ¨åˆ†åˆ†å€¼å°†è¿‘å æ¯”50%ã€‚æ‰€ä»¥è‡ªå·±è¿™éƒ¨åˆ†å¯¹æ•´ä½“çš„å½±å“æ˜¯æ¯”è¾ƒå¤§çš„ã€‚è‡ªå·±è´Ÿè´£çš„éƒ¨åˆ†ï¼Œæ¨¡å—Bå’ŒCåŸºæœ¬æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå› ä¸ºæ¯”èµ›çš„æ•°æ®æ˜¯å’Œæ•°æ®å¹³å°ç»ƒä¹ çš„æ•°æ®ä¸€æ ·çš„ï¼Œæš‘å‡ç»ƒä¹ è¿‡å¾ˆå¤šéäº†ã€‚æ„Ÿè§‰å‡ºé—®é¢˜çš„ç‚¹åº”è¯¥åœ¨åé¢ç»¼åˆåˆ†æï¼Œç»¼åˆåˆ†æä¹‹å‰éƒ½æ²¡åšè¿‡ï¼Œä¸´è¿‘æ¯”èµ›é‚£ä¸¤å¤©çœ‹äº†ä¸€ä¸‹ï¼Œä¹Ÿæ²¡è®°çš„å¾ˆæ¸…æ¥šï¼Œæ‰€ä»¥è§‰å¾—ç»¼åˆåˆ†æé‚£è¾¹åº”è¯¥æ˜¯å¤±åˆ†äº†ã€‚æ¨¡å—CæŒ‡æ ‡è®¡ç®—æœ€åä¸€é¢˜ï¼Œæ˜¯çœ‹è¿ç»­ä¸¤æœˆè´­ä¹°è®¢å•çš„ï¼Œå½“æ—¶çš„æ¯”èµ›æ°›å›´æ¯”è¾ƒç´§å¼ ï¼Œè™½ç„¶æœ€åä¸€é¢˜æˆ‘ç»™è‡ªå·±ç•™äº†å……è¶³çš„æ—¶é—´å»åšï¼Œè¿˜æ˜¯æ²¡æœ‰æ‰“å¼€è‡ªå·±çš„æ€è·¯ï¼Œæˆ‘è®¤ä¸ºæ¯”èµ›è¯„åˆ†æ˜¯åªçœ‹æˆªå›¾çš„ï¼Œå°±ç”¨äº†ä¸€ç§æŠ•æœºå–å·§çš„æ–¹æ³•ï¼Œåšäº†å‡ºæ¥ï¼Œå¦‚æœæ­£å„¿å…«ç»çš„å†™çš„è¯ï¼Œå¯èƒ½åˆè¦æµªè´¹å¾ˆå¤šæ—¶é—´ï¼Œæ€•ç•™ä¸‹çš„æ—¶é—´å¤ªç´§å¼ ï¼Œæ‰€ä»¥è¿™é¢˜çš„æ­£ç¡®ç‡ä¸å¤ªæ•¢ç¡®ä¿ï¼Œå†å‰é¢åŸºæœ¬æ²¡ä»€ä¹ˆé—®é¢˜ã€‚</p><p>â€‹å¯¹äºæ¯”èµ›è¿‡ç¨‹çš„è¯ï¼Œå¤§å­¦æ²¡æœ‰å‚åŠ è¿‡è¿™ä¹ˆæ­£å¼æ¯”èµ›çš„ç»éªŒï¼Œæ¯”èµ›è¿‡ç¨‹ä¸­åˆšå¼€å§‹ä¹Ÿå¾ˆç´§å¼ ï¼Œçœ‹åˆ°å·å­ä»¥åï¼Œå‘ç°æ•°æ®æ¯”è¾ƒç†Ÿæ‚‰ï¼Œç¨å¾®ç¼“å’Œäº†ä¸€äº›ï¼Œ åŸºæœ¬æ²¡ä»€ä¹ˆç£•ç£•ç»Šç»Šï¼Œä½†æ˜¯è¿˜æ˜¯æ¯”å¹³å¸¸ç»ƒä¹ çš„é€Ÿåº¦æ…¢äº†å¾ˆå¤šï¼Œåœºåœ°å€’æ˜¯è¿˜é€‚åº”çš„ã€‚è¿™æ¬¡ä¹Ÿèƒ½äº†è§£åˆ°æ­£å¼æ¯”èµ›çš„è¿‡ç¨‹æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œå’Œä¸€äº›ä¼šåŸ‹å‘çš„åœ°æ–¹ï¼Œå¯èƒ½ä¼šæä½ é…ç½®æ–‡ä»¶ä»€ä¹ˆçš„ï¼Œæ‰€ä»¥åœ¨ä¸‹æ¬¡æ¯”èµ›ä¹‹å‰ï¼Œä¸€äº›å¯èƒ½ä¼šæœ‰å‘çš„åœ°æ–¹ï¼Œè¦å»èƒŒèµ·æ¥ï¼Œè¿™æ¬¡ç»™äº†ä½ pom.xmlæ–‡ä»¶ä¸‹æ¬¡å¯èƒ½å°±ä¸ç»™äº†ï¼Œè¦ä»¥é˜²ä¸‡ä¸€ï¼Œæ¯”èµ›å‰è¦é—®æ¸…æ¥šçš„ï¼Œè‡ªå·±å¹³å¸¸ä¹Ÿéœ€è¦å¤šæ³¨æ„ä¸€ä¸‹ã€‚</p>]]></content>
    
    
    <summary type="html">9æœˆå¤§æ•°æ®çœèµ›æ€»ç»“</summary>
    
    
    
    <category term="å·¥ä½œå®¤æœˆæ€»ç»“" scheme="https://u7u7.top/categories/%E5%B7%A5%E4%BD%9C%E5%AE%A4%E6%9C%88%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="æ€»ç»“" scheme="https://u7u7.top/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>å¤§æ•°æ®22å¹´9æœˆç¬”è®°</title>
    <link href="https://u7u7.top/posts/2d36b063.html"/>
    <id>https://u7u7.top/posts/2d36b063.html</id>
    <published>2023-03-11T07:50:25.000Z</published>
    <updated>2023-03-11T07:50:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="9-1-9-3-æ•°æ®æ¸…æ´—å’ŒæŒ‡æ ‡è®¡ç®—">9.1-9.3 æ•°æ®æ¸…æ´—å’ŒæŒ‡æ ‡è®¡ç®—</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>æ•°æ®æ¸…æ´— æŸ¥è¯¢å¯¼å…¥</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIGDATA</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.&#123;<span class="type">Row</span>, <span class="type">SparkSession</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.<span class="type">SimpleDateFormat</span></span><br><span class="line"><span class="keyword">import</span> java.util.&#123;<span class="type">Calendar</span>, <span class="type">Date</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">subjectThree</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> <span class="type">MYSQLIP</span> = <span class="string">&quot;192.168.23.89&quot;</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">DATABASE</span> = <span class="string">&quot;shtd_store&quot;</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">MYSQLDBURL</span> = <span class="string">&quot;jdbc:mysql://&quot;</span> + <span class="type">MYSQLIP</span> + <span class="string">&quot;:3306/&quot;</span> + <span class="type">DATABASE</span> + <span class="string">&quot;?characterEncoding=UTF-8&quot;</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">MYSQLDRIVER</span> = <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">MYSQLUSER</span> = <span class="string">&quot;root&quot;</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">MYSQLPASSWORD</span> = <span class="string">&quot;123456&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> builder: <span class="type">SparkSession</span>.<span class="type">Builder</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = builder.appName(<span class="string">&quot;subjectThree&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> sdf = <span class="keyword">new</span> <span class="type">SimpleDateFormat</span>(<span class="string">&quot;yyyyMMdd&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> calendar: <span class="type">Calendar</span> = <span class="type">Calendar</span>.getInstance</span><br><span class="line">      calendar.add(<span class="type">Calendar</span>.<span class="type">DATE</span>,<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">val</span> date: <span class="type">Date</span> = calendar.getTime</span><br><span class="line">    <span class="keyword">val</span> dateStr: <span class="type">String</span> = sdf.format(date)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//    å¯¹äºdwdå±‚</span></span><br><span class="line">    <span class="comment">//æ–°ç‰ˆsparkå¯¹äºæ•°æ®æ ¼å¼è½¬æ¢æœ‰å¼ºåˆ¶è¦æ±‚ï¼Œå¯é‡‡å–æ—§ç‰ˆçš„</span></span><br><span class="line">    spark.sql(<span class="string">&quot; set spark.sql.storeAssignmentPolicy=LEGACY&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è‡ªå®šä¹‰å‡½æ•° å°†-å˜ç©º</span></span><br><span class="line"><span class="comment">//    val makeDT: String =&gt; String = (date: String) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//      date.replaceAll(&quot;-&quot;, &quot;&quot;)</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    spark.udf.register(&quot;makeDt&quot;, makeDT(_: String)) //sparksqlæ³¨å†ŒåŒ¿åå‡½æ•° makeDt</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åŠ¨æ€åˆ†åŒºè®¾ç½®</span></span><br><span class="line">    spark.sql(<span class="string">&quot;set hive.exec.dynamic.partition=true&quot;</span>)</span><br><span class="line">    spark.sql(<span class="string">&quot;set hive.exec.dynamic.partition.mode=nonstrict&quot;</span>)</span><br><span class="line">    spark.sql(<span class="string">&quot;set hive.exec.max.dynamic.partitions=50000&quot;</span>)</span><br><span class="line">    spark.sql(<span class="string">&quot;set hive.exec.max.dynamic.partitions.pernode=10000&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * from_unixtime å¯ä»¥æŠŠæ—¶é—´æˆ³æ ¼å¼çš„æ—¶é—´ï¼Œè½¬åŒ–ä¸ºå¹´æœˆæ—¥æ—¶åˆ†ç§’æ ¼å¼çš„æ—¶é—´ã€‚ é»˜è®¤æ˜¯2019-05-02 21:19:59</span></span><br><span class="line"><span class="comment">     * ç¬¬äºŒä¸ªå‚æ•°æ˜¯è®¾ç½®æ ¼å¼çš„</span></span><br><span class="line"><span class="comment">     * unix_timestamp(concat(orderdate,&quot; 00:00:00&quot;))</span></span><br><span class="line"><span class="comment">     * concat æŠŠåŸæœ¬orderdateåˆ— 1996-01-02 è¿™ç§æ ¼å¼çš„ æ‹¼æ¥ å˜æˆ1996-01-02 00:00:00</span></span><br><span class="line"><span class="comment">     * unix_timestampå°†æ‹¼æ¥å¥½çš„æ ¼å¼è½¬æ¢ä¸ºæ—¶é—´æˆ³</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span></span><br><span class="line"><span class="comment">     * from_unixtime(unix_timestamp(), &#x27;yyyy-MM-dd HH:mm:ss&#x27;) hiveç‰ˆæœ¬å·²ç»å¼ƒç”¨äº† ä¼šæŠ¥é”™æ”¹æˆ</span></span><br><span class="line"><span class="comment">     * date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="comment">     * date_format()ä¿®æ”¹æ—¥æœŸæ ¼å¼</span></span><br><span class="line"><span class="comment">     * select date_format(&#x27;2015-04-08 10:10:01&#x27;, &#x27;yyyy-MM&#x27;);</span></span><br><span class="line"><span class="comment">     * 2015-04</span></span><br><span class="line"><span class="comment">     * current_timestamp ç›´æ¥è·å–å½“å‰æ—¥æœŸæ—¶é—´ 2022-08-31 10:55:37.551 åˆ°æ¯«ç§’çš„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.dim_customer partition (etldate=&#x27;$dateStr&#x27;)</span></span><br><span class="line"><span class="string">        |select custkey,name,address,nationkey,</span></span><br><span class="line"><span class="string">        |phone,acctbal,mktsegment,comment,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">        |from ods.customer</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table dwd.dim_part partition (etldate=$dateStr)</span></span><br><span class="line"><span class="string">         |select partkey,name,mfgr,brand,type,size,container,retailprice,comment,</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">         |from ods.part</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table dwd.dim_nation partition (etldate=$dateStr)</span></span><br><span class="line"><span class="string">         |select nationkey,name,regionkey,comment,</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">         |from ods.nation</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.dim_region partition (etldate=$dateStr)</span></span><br><span class="line"><span class="string">        |select regionkey,name,comment,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">        |from ods.region</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |select orderkey,custkey,orderstatus,totalprice,</span></span><br><span class="line"><span class="string">         |from_unixtime(unix_timestamp(concat(orderdate,&quot;</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span><span class="string">&quot;))) as myorderdate,</span></span><br><span class="line"><span class="string">         |orderpriority,clerk,shippriority,comment,</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),etldate</span></span><br><span class="line"><span class="string">         |from ods.orders</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createOrReplaceTempView(<span class="string">&quot;my_orders_test&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.fact_orders partition (etldate)</span></span><br><span class="line"><span class="string">        |select * from my_orders_test</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line"><span class="comment">//    //åˆ é™¤åˆ†åŒº   éœ€åˆ é™¤ods.ordersä¸­çš„åˆ†åŒºï¼Œä»…ä¿ç•™æœ€è¿‘çš„ä¸‰ä¸ªåˆ†åŒº</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * alter table orders drop partition (etldate&lt;=&#x27;19980730&#x27;);</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//    val partitions: Array[String] = spark.sql(&quot;show partitions ods.orders&quot;).collect.filter((x: Row) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//      null != x &amp;&amp; x.length != 0</span></span><br><span class="line"><span class="comment">//    &#125;).map((x: Row) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//      println(&quot;zheshi____________________________åˆ†åŒºï¼š&quot; + x)</span></span><br><span class="line"><span class="comment">//      x.toString().replace(&quot;]&quot;, &quot;&quot;)</span></span><br><span class="line"><span class="comment">//        .replace(&quot;[&quot;, &quot;&quot;).split(&#x27;=&#x27;)(1)</span></span><br><span class="line"><span class="comment">//    &#125;).sortBy[Int]((x: String) =&gt; &#123;</span></span><br><span class="line"><span class="comment">//      x.toInt</span></span><br><span class="line"><span class="comment">//    &#125;)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    if (partitions.length &gt; 3) &#123;</span></span><br><span class="line"><span class="comment">//      for (index &lt;- 0 until partitions.length - 3) &#123;</span></span><br><span class="line"><span class="comment">//      spark.sql(s&quot;ALTER TABLE ods.orders DROP PARTITION (etldate=&#x27;$&#123;partitions(index)&#125;&#x27;)&quot;)</span></span><br><span class="line"><span class="comment">//      &#125;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table dwd.fact_lineitem partition (etldate)</span></span><br><span class="line"><span class="string">         |select</span></span><br><span class="line"><span class="string">         |orderkey,partkey,suppkey,lienumber,quantity,extendedprice,discount,</span></span><br><span class="line"><span class="string">         |tax,returnflag,linestatus,</span></span><br><span class="line"><span class="string">         |from_unixtime(unix_timestamp(concat(shipdate,&quot;</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span><span class="string">&quot;)),&#x27;yyyy-MM-dd HH:mm:ss&#x27;) as myshopdate,</span></span><br><span class="line"><span class="string">         |from_unixtime(unix_timestamp(concat(commentdate,&quot;</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span><span class="string">&quot;)),&#x27;yyyy-MM-dd HH:mm:ss&#x27;) as mycommitdate,</span></span><br><span class="line"><span class="string">         |from_unixtime(unix_timestamp(concat(receiptdate,&quot;</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span><span class="string">&quot;)),&#x27;yyyy-MM-dd HH:mm:ss&#x27;) as myreceiptdate,</span></span><br><span class="line"><span class="string">         |shipstruct,shipmode,comment,</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),etldate</span></span><br><span class="line"><span class="string">         |from  ods.lineitem</span></span><br><span class="line"><span class="string">      &quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒ‡æ ‡è®¡ç®—</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIGDATA</span>.math</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">æŒ‡æ ‡æ•°æ®è®¡ç®—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">indicatorCalculation</span> </span>&#123;</span><br><span class="line">  <span class="comment">//è®¾ç½®mysqlçš„åœ°å€å‚æ•°è¡¨æ ¼</span></span><br><span class="line"><span class="comment">//  val MYSQLIP = &quot;192.168.23.89&quot;</span></span><br><span class="line"><span class="comment">//  val DATABASE = &quot;shtd_store&quot;</span></span><br><span class="line"><span class="comment">//  val MYSQLDBURL = &quot;jdbc:mysql://&quot; + MYSQLIP + &quot;:3306/&quot; + DATABASE + &quot;?characterEncoding=UTF-8&quot;</span></span><br><span class="line"><span class="comment">//  val MYSQLDRIVER = &quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line"><span class="comment">//  val MYSQLUSER = &quot;root&quot;</span></span><br><span class="line"><span class="comment">//  val MYSQLPASSWORD = &quot;123456&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> builder: <span class="type">SparkSession</span>.<span class="type">Builder</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = builder.appName(<span class="string">&quot;indicatorCalculation&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿æ¥mysql</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line"><span class="comment">//    spark.read.format(&quot;jdbc&quot;)</span></span><br><span class="line"><span class="comment">//      .option(&quot;url&quot;, MYSQLDBURL)</span></span><br><span class="line"><span class="comment">//      .option(&quot;driver&quot;, MYSQLDRIVER)</span></span><br><span class="line"><span class="comment">//      .option(&quot;user&quot;, MYSQLUSER)</span></span><br><span class="line"><span class="comment">//      .option(&quot;password&quot;, MYSQLPASSWORD)</span></span><br><span class="line"><span class="comment">//      .option(&quot;dbtable&quot;, &quot;nationeverymonth&quot;).load().createTempView(&quot;mysql_nationeverymonth&quot;)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//    spark.read.format(&quot;jdbc&quot;)</span></span><br><span class="line"><span class="comment">//      .option(&quot;url&quot;, MYSQLDBURL)</span></span><br><span class="line"><span class="comment">//      .option(&quot;driver&quot;, MYSQLDRIVER)</span></span><br><span class="line"><span class="comment">//      .option(&quot;user&quot;, MYSQLUSER)</span></span><br><span class="line"><span class="comment">//      .option(&quot;password&quot;, MYSQLPASSWORD)</span></span><br><span class="line"><span class="comment">//      .option(&quot;dbtable&quot;, &quot;usercontinueorder&quot;).load().createTempView(&quot;mysql_usercontinueorder&quot;)</span></span><br><span class="line"><span class="comment">//    //    å¯¹äºdwdå±‚</span></span><br><span class="line">    <span class="comment">//æ–°ç‰ˆsparkå¯¹äºæ•°æ®æ ¼å¼è½¬æ¢æœ‰å¼ºåˆ¶è¦æ±‚ï¼Œå¯é‡‡å–æ—§ç‰ˆçš„</span></span><br><span class="line">    spark.sql(<span class="string">&quot; set spark.sql.storeAssignmentPolicy=LEGACY&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸€ã€æ¯äººæ¯å¤©ä¸‹å•çš„æ•°é‡å’Œä¸‹å•çš„æ€»é‡‘é¢ å­˜å…¥dwså±‚çš„customer_consumption_day_aggrè¡¨</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |with a as ( --è·å–ordersè¡¨ éœ€è¦çš„ä¿¡æ¯ ä½œä¸ºè¡¨a</span></span><br><span class="line"><span class="string">        |select cust_key,</span></span><br><span class="line"><span class="string">        |       total_price,</span></span><br><span class="line"><span class="string">        |       date_format(TO_DATE(order_date), &#x27;yyyy&#x27;) as year,</span></span><br><span class="line"><span class="string">        |       date_format(TO_DATE(order_date), &#x27;MM&#x27;)   as month,</span></span><br><span class="line"><span class="string">        |       date_format(TO_DATE(order_date), &#x27;dd&#x27;)   as day</span></span><br><span class="line"><span class="string">        |from dwd.fact_orders),</span></span><br><span class="line"><span class="string">        |b as ( -- æ¯äººæ¯å¤©çš„ä¿¡æ¯</span></span><br><span class="line"><span class="string">        |       select fo.cust_key as keys,</span></span><br><span class="line"><span class="string">        |               max(name) as name,</span></span><br><span class="line"><span class="string">        |               a.year,a.month,a.day</span></span><br><span class="line"><span class="string">        |       from dwd.fact_orders fo</span></span><br><span class="line"><span class="string">        |               left join dwd.dim_customer cust on cust.cust_key=fo.cust_key</span></span><br><span class="line"><span class="string">        |               left join a on a.cust_key=fo.cust_key</span></span><br><span class="line"><span class="string">        |               group by fo.cust_key,year,month,day),</span></span><br><span class="line"><span class="string">        |c as ( -- æ¯æœˆçš„è®¢å•æ•° å’Œ é‡‘é¢</span></span><br><span class="line"><span class="string">        |       select sum(total_price) as totalconsumption,</span></span><br><span class="line"><span class="string">        |              count(1)         as totalorder,</span></span><br><span class="line"><span class="string">        |              year,month</span></span><br><span class="line"><span class="string">        |       from a</span></span><br><span class="line"><span class="string">        |       group by year,month)</span></span><br><span class="line"><span class="string">        |select keys,name,</span></span><br><span class="line"><span class="string">        |       totalconsumption,</span></span><br><span class="line"><span class="string">        |       totalorder,</span></span><br><span class="line"><span class="string">        |       b.year,b.month,b.day</span></span><br><span class="line"><span class="string">        |from b</span></span><br><span class="line"><span class="string">        |left join c on b.month=c.month</span></span><br><span class="line"><span class="string">        |order by keys</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createOrReplaceTempView(<span class="string">&quot;my_aggr&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dws.customer_consumption_day_aggr</span></span><br><span class="line"><span class="string">        |select * from my_aggr</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line">    spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-æ€»ç»“">3.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>è¿™ä¸¤å¤©æŠŠä»»åŠ¡ä¹¦æ•°æ®æ¸…æ´—çš„éƒ¨åˆ†éƒ½åšå®Œäº†ã€‚å‰é¢æ•°æ®æ¸…æ´—æ¯”è¾ƒç®€å•ç‚¹ï¼Œå°±æ˜¯å¯¹åˆ—è¿›è¡Œå¤„ç†ä¸€ä¸‹ï¼Œè½¬æ¢æ—¥æœŸä»€ä¹ˆçš„ï¼Œä¹Ÿæ˜¯å»æŸ¥äº†hiveä¸­çš„å¯¹æ—¥æœŸå¤„ç†çš„æ–¹å¼ã€‚from_unixtime  current_timestamp  date_format è¿™å‡ ä¸ªæ–¹æ³•ï¼Œä¹‹å‰ä½¿ç”¨çš„unix_timestampæ˜¯è¢«æ·˜æ±°äº†ï¼Œæˆ‘åœ¨hiveä¸­ä½¿ç”¨ï¼Œä¼šä¸€ç›´æŠ¥é”™ï¼Œè¿˜ä»¥ä¸ºä»£ç çš„é—®é¢˜ï¼Œåˆ°åé¢æœåˆ°hive2æ˜¯æ·˜æ±°äº†ï¼Œå¦‚æœå¤šæ¡æŸ¥è¯¢æ˜¯ä¼šæŠ¥é”™çš„ï¼Œä½†æ˜¯å•ç‹¬çš„ä½¿ç”¨å°±æ²¡æœ‰é—®é¢˜ï¼Œæˆ‘åˆšå¼€å§‹ä½¿ç”¨çš„æ—¶å€™ï¼Œå°±åªæŸ¥äº†ç°åœ¨çš„æ—¶é—´ï¼Œæ²¡æŠ¥é”™ï¼Œæ‰“jaråŒ…è¿›å»åå°±æŠ¥é”™äº†ï¼Œæ”¹æˆcurrentå°±å¥½äº†ã€‚</p><h1 id="9æœˆ5-æ•°æ®-æŒ‡æ ‡è®¡ç®—ä¸‰">9æœˆ5 æ•°æ® æŒ‡æ ‡è®¡ç®—ä¸‰</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-2">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-2">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="åšç”Ÿçœèµ›ä»»åŠ¡ä¹¦2çš„æŒ‡æ ‡è®¡ç®—ç¬¬ä¸‰é¢˜">åšç”Ÿçœèµ›ä»»åŠ¡ä¹¦2çš„æŒ‡æ ‡è®¡ç®—ç¬¬ä¸‰é¢˜</h3><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="SQLè¯­å¥">SQLè¯­å¥</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®¡ç®—å‡ºæŸå¹´æ¯ä¸ªå›½å®¶çš„å¹³å‡æ¶ˆè´¹é¢å’Œæ‰€æœ‰å›½å®¶å¹³å‡æ¶ˆè´¹é¢ç›¸æ¯”è¾ƒç»“æœ</span></span><br><span class="line">   sql(</span><br><span class="line">     <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">       |-- a è·å¾—æ¯ä¸ªæ¶ˆè´¹äººçš„æ€»æ¶ˆè´¹é¢ ä»¥åŠä¿¡æ¯</span></span><br><span class="line"><span class="string">       |with a as (select fo.cust_key,</span></span><br><span class="line"><span class="string">       |max(nation.nation_key) as nation_key,</span></span><br><span class="line"><span class="string">       |max(nation.name) as name ,</span></span><br><span class="line"><span class="string">       |sum(total_price) as total_price from fact_orders fo</span></span><br><span class="line"><span class="string">       |left join dim_customer cust on cust.cust_key=fo.cust_key</span></span><br><span class="line"><span class="string">       |left join dim_nation nation on  cust.nation_key=nation.nation_key</span></span><br><span class="line"><span class="string">       |group by fo.cust_key),</span></span><br><span class="line"><span class="string">       |--b æ¯ä¸ªå›½å®¶ äººå‡æ¶ˆè´¹</span></span><br><span class="line"><span class="string">       |b as (select nation_key as nationkey ,max(name) as name ,sum(total_price) as sumprice,count(1) as countperson,</span></span><br><span class="line"><span class="string">       |round(avg(total_price),2) as avgnationperson</span></span><br><span class="line"><span class="string">       |from a group by nation_key)</span></span><br><span class="line"><span class="string">       |select nationkey,name,round(avgnationperson,2),306980.73,(</span></span><br><span class="line"><span class="string">       |case when avgnationperson &gt; 306980.73 then &#x27;+&#x27;</span></span><br><span class="line"><span class="string">       | when avgnationperson = 306980.73 then &#x27;=&#x27;</span></span><br><span class="line"><span class="string">       | when avgnationperson &lt; 306980.73 then &#x27;-&#x27; end)</span></span><br><span class="line"><span class="string">       |from b</span></span><br><span class="line"><span class="string">       |&quot;&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createOrReplaceTempView(<span class="string">&quot;my_nation_avg&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="4-BUGç‚¹">4. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>å¾ˆä¹…æ²¡å†™sqlé€»è¾‘è¯­å¥äº†</p><p>case è¿™é‡Œå‡ºç°äº†BUG  BUGåœ¨å¦ä¸€å°æœºå™¨ä¸Š å›¾ç‰‡å°±ä¸åˆ—å‡ºæ¥äº†</p><p>å‡ºç°é—®é¢˜çš„åŸå› æ˜¯caseæœ€åå¿˜è®°åŠ äº†end whenä¹‹é—´æ˜¯ä¸éœ€è¦åŠ ,çš„ ä¹‹å‰ä¹Ÿå› ä¸ºè¿™ä¸ªæŠ¥é”™è¿‡</p><p>å¦‚æœæ˜¯åˆ¤æ–­æ˜¯å¦ä¸ºä¸€ä¸ªå€¼æˆ–è€…ä¸€ä¸ªå­—ç¬¦ç­‰ case å±æ€§ when æ¡ä»¶ è¿™æ ·çš„æ–¹å¼å»åš</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">case when avgnationperson &gt; 306980.73 then &#x27;+&#x27;</span><br><span class="line">         when avgnationperson = 306980.73 then &#x27;=&#x27;</span><br><span class="line">         when avgnationperson &lt; 306980.73 then &#x27;-&#x27; end)</span><br></pre></td></tr></table></figure><h2 id="6-æ€»ç»“">6.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>è¿™ä¸ªä»»åŠ¡è¶…å‡ºäº†è‡ªå·±çš„ç›®æ ‡å¤ªå¤šï¼Œ æœ¬æ¥æƒ³åŠä¸ªå°æ—¶è§£å†³æ‰çš„ï¼Œä½†æ˜¯æ•´äº†å°†è¿‘ä¸€å¤©ï¼Œé—®é¢˜å°±å‡ºç°åœ¨ï¼Œhiveèšåˆå‡½æ•°è¿™é‡Œçš„æ¼æ´ï¼Œåˆšå¼€å§‹æ‰“ç®—åˆ©ç”¨joinï¼ŒæŠŠè¡¨å…¬å…±éƒ¨åˆ†éƒ½ç»“åˆèµ·æ¥ï¼Œç»“æœå‘ç°æ•°æ®å¤šå‡ºäº†å¥½å‡ å€ï¼ŒåŸæœ¬æ˜¯1æ¡çš„ï¼Œå˜æˆäº†9æ¡å¤šï¼Œç½‘ä¸Šæœæ˜¯å‡ºç°äº†ç¬›å¡å°”ç§¯çš„é—®é¢˜ï¼Œç„¶åå»è§£å†³ï¼Œå‘ç°è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œç„¶åæˆ‘æŸ¥çœ‹äº†ä¸€ä¸‹è‡ªå·±åœ¨dwdåº“ä¸­çš„è¡¨ï¼Œå‘ç°éƒ½æ˜¯ä¸‰æ¡ï¼Œä¸‰ç§ä¸åŒçš„åˆ†åŒºï¼Œåº”è¯¥æ˜¯ä¹‹å‰è¿è¡ŒjaråŒ…çš„æ—¶å€™ï¼Œæˆ‘ä»¥ä¸ºæ˜¯è¦†ç›–ï¼Œç»“æœåˆ†åŒºæ˜¯è¿˜åœ¨çš„ï¼Œå¯¼è‡´é‡Œé¢æœ‰ä¸‰å¤©æ¸…æ´—çš„æ•°æ®ï¼Œ é‡æ–°æŠŠä¹‹å‰çš„è¡¨å†…æ•°æ®éƒ½åˆ äº†ï¼Œé‡æ–°æ‰“jaråŒ…ï¼Œæ¸…æ´—ï¼Œè§£å†³å®Œè¿™ä¸ªé—®é¢˜ï¼Œåœ¨ç¬¬å››åˆ—çš„æ—¶å€™ï¼Œå› ä¸ºé¢˜ç›®è¦æ±‚çš„æ˜¯æ¯ä¸ªå›½å®¶å¹³å‡çš„ï¼Œå°±ä¸èƒ½è¿›è¡Œåˆ†ç»„ï¼Œä¸ç„¶æ•°æ®ä¼šå‡ºç°é—®é¢˜ã€‚ä½†æ˜¯å‰é¢ä¸‰åˆ—ä¸åˆ†ç»„æ˜¯æŸ¥æ‰¾ä¸å‡ºæ¥çš„ ã€‚ç¬¬å››åˆ—æ˜¯è®¢å•äººå‡æ¶ˆè´¹ï¼Œä¹Ÿå°±æ˜¯ç¬¬å››åˆ—æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€æ ·çš„æ‰æ˜¯æœ€ç»ˆæ•ˆæœï¼Œä½†æ˜¯å¤šè¡Œå’Œä¸€è¡Œï¼Œåœ¨hiveä¸­æ²¡æœ‰è¿™ç§è¡¨æ ¼çš„æ•´åˆæ–¹æ³•(æ²¡æ‰¾åˆ°),ç¬¬äºŒé¢˜é—®ææ˜Šï¼Œè¯´sparké‡Œé¢æœ‰ä½†æ˜¯litåé¢è¦è·Ÿå¸¸æ•°ã€‚ä¸€æƒ³å°±æŠŠç»“æœè®¡ç®—å‡ºæ¥ï¼Œç„¶åç›´æ¥æ‰“è¿›å»ä¸å°±å¥½äº†ï¼Œè¾“å…¥çš„å¸¸æ•°ï¼Œhiveä¼šè‡ªåŠ¨è¡¥é½ã€‚å°±ç”¨äº†è¿™æ ·çš„æ–¹å¼ï¼Œæ‰å®Œæˆè¿™ä¸ªç¬¬ä¸‰é¢˜ã€‚çœèµ›ä¹Ÿç®—è¿‡äº†ä¸€éäº†ï¼Œæ˜å¤©å†è‡ªå·±å…¨éƒ¨åšä¸€ä¸‹å¦å¤–ä¸€ä¸ªå·®ä¸å¤šçš„ã€‚</p><p>sparkå¤„ç†æ–¹æ³•ç½‘å€å¦‚ä¸‹https://blog.csdn.net/manba_yqq/article/details/122019749?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522166243159716782427468889%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=166243159716782427468889&amp;biz_id=&amp;utm_medium=distribute.pc_search_result.none-task-code-2~all~first_rank_ecpm_v1~rank_v31_ecpm-3-122019749-0-null-null.142^v46^control&amp;utm_term=sparksql%E4%B8%ADwithColumn</p><h1 id="9-6-9-7-ä»»åŠ¡ä¹¦4">9.6-9.7 ä»»åŠ¡ä¹¦4</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-3">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-3">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="çœèµ›ä»»åŠ¡ä¹¦4å®Œæˆ">çœèµ›ä»»åŠ¡ä¹¦4å®Œæˆ</h3><h3 id="çœèµ›èµ›é¡¹è§„ç¨‹">çœèµ›èµ›é¡¹è§„ç¨‹</h3><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-2">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="èµ›é¡¹è§„ç¨‹">èµ›é¡¹è§„ç¨‹</h3><p>å‘ç°è‡ªå·±çš„éƒ¨åˆ†åˆ†å€¼æƒé‡å’Œæ—¶é—´å äº†å¤§éƒ¨åˆ†</p><p>sqlè¯­å¥çš„ç†Ÿç»ƒæ€§å°±éå¸¸é‡è¦äº†</p><table><thead><tr><th><em><strong>*é˜¶æ®µ*</strong></em></th><th><em><strong>*ç«èµ›æ—¶é—´*</strong></em></th><th><em><strong>*åˆ†å€¼æƒé‡*</strong></em></th></tr></thead><tbody><tr><td>å¤§æ•°æ®å¹³å°ç¯å¢ƒæ­å»º</td><td>4å°æ—¶</td><td>æƒé‡10%</td></tr><tr><td>ç¦»çº¿æ•°æ®æŠ½å–</td><td>æƒé‡15%</td><td></td></tr><tr><td>ç¦»çº¿æ•°æ®ç»Ÿè®¡</td><td>æƒé‡20%</td><td></td></tr><tr><td>æ•°æ®é‡‡é›†ä¸å®æ—¶è®¡ç®—</td><td>æƒé‡20%</td><td></td></tr><tr><td>æ•°æ®å¯è§†åŒ–</td><td>æƒé‡20%</td><td></td></tr><tr><td>ç»¼åˆåˆ†ææŠ¥å‘Š</td><td>æƒé‡10%</td><td></td></tr><tr><td>å›¢é˜Ÿåˆ†å·¥æ˜ç¡®åˆç†ã€æ“ä½œè§„èŒƒã€æ–‡æ˜ç«èµ›</td><td>æƒé‡5%</td><td></td></tr></tbody></table><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220906155330772.png" alt="image-20220906155330772"></p><p>æ•°æ®æŠ½å–</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIGDATA</span>.subject4Test</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataChouQu</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> builder: <span class="type">SparkSession</span>.<span class="type">Builder</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = builder.appName(<span class="string">&quot;DataChouQu&quot;</span>)</span><br><span class="line">      .enableHiveSupport() <span class="comment">//config è®¾ç½®åŠ¨æ€åˆ†åŒºçš„å‚æ•° å¼€å¯åŠ¨æ€åˆ†åŒºæ”¯æŒ</span></span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿æ¥åˆ°æ•°æ®åº“ å¹¶ç»™è¡¨æ ¼åˆ›å»ºä¸´æ—¶è¡¨å</span></span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;CUSTOMER&quot;</span>,<span class="string">&quot;mysql_customer&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;NATION&quot;</span>,<span class="string">&quot;mysql_nation&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;PART&quot;</span>,<span class="string">&quot;mysql_part&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;PARTSUPP&quot;</span>,<span class="string">&quot;mysql_partsupp&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;REGION&quot;</span>,<span class="string">&quot;mysql_region&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;SUPPLIER&quot;</span>,<span class="string">&quot;mysql_supplier&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;ORDERS&quot;</span>,<span class="string">&quot;mysql_orders&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;LINEITEM&quot;</span>,<span class="string">&quot;mysql_lineitem&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.customer&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.customer partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_customer</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.nation&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.nation partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_nation</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.part&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.part partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_part</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.partsupp&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.partsupp partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_partsupp</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.region&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.region partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_region</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.supplier&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.supplier partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_supplier</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot; truncate table ods.orders&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¦æ±‚åªå–æŸå¹´æŸæœˆæŸæ—¥åŠä¹‹åçš„æ•°æ®ï¼ˆåŒ…æ‹¬æŸå¹´æŸæœˆæŸæ—¥ï¼‰</span></span><br><span class="line"><span class="comment">     * ï¼Œæ ¹æ®ORDERSè¡¨ä¸­ORDERKEYä½œä¸ºå¢é‡å­—æ®µï¼ˆæç¤ºï¼šå¯¹æ¯”MySQLå’ŒHiveä¸­çš„è¡¨çš„ORDERKEYå¤§å°ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">     * åªå°†æ–°å¢çš„æ•°æ®æŠ½å…¥ï¼Œå­—æ®µç±»å‹ä¸å˜ï¼ŒåŒæ—¶æ·»åŠ åŠ¨æ€åˆ†åŒºï¼Œåˆ†åŒºå­—æ®µç±»å‹ä¸ºStringï¼Œ</span></span><br><span class="line"><span class="comment">     * ä¸”å€¼ä¸ºORDERDATEå­—æ®µçš„å†…å®¹ï¼ˆORDERDATEçš„æ ¼å¼ä¸ºyyyy-MM-ddï¼Œåˆ†åŒºå­—æ®µæ ¼å¼ä¸ºyyyyMMddï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.orders partition (etldate)</span></span><br><span class="line"><span class="string">        |select a.*,date_format(orderdate,&#x27;yyyyMMdd&#x27;) from mysql_orders a</span></span><br><span class="line"><span class="string">        |where</span></span><br><span class="line"><span class="string">        |regexp_replace(a.orderdate,&quot;-&quot;,&quot;&quot;) &gt;= &#x27;19960909&#x27;</span></span><br><span class="line"><span class="string">        |and</span></span><br><span class="line"><span class="string">        |orderkey not in (select orderkey from ods.orders)</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.lineitem&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®LINEITEMè¡¨ä¸­orderkeyä½œä¸ºå¢é‡å­—æ®µï¼Œåªå°†æ–°å¢çš„æ•°æ®æŠ½å…¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.lineitem partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_lineitem</span></span><br><span class="line"><span class="string">        |where orderkey not in (select orderkey from ods.lineitem)</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºè¿æ¥mysqlè¡¨æ ¼å‡½æ•° --è¿æ¥ å‚æ•°</span></span><br><span class="line">    <span class="comment">//1.SparkSessionæä¾›è¿æ¥ dbtable è¿æ¥åˆ°çš„è¡¨æ ¼ temporaryNameåˆ›å»ºä¸´æ—¶è¡¨çš„åå­—</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ConnectMysql</span></span>(spark:<span class="type">SparkSession</span>,dbtable:<span class="type">String</span>,temporaryName:<span class="type">String</span>):<span class="type">Unit</span> =&#123;</span><br><span class="line">      <span class="keyword">val</span> <span class="type">URL</span>=<span class="string">&quot;jdbc:mysql://192.168.23.89:3306/shtd_store&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user=<span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password=<span class="string">&quot;123456&quot;</span></span><br><span class="line">      spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>,<span class="type">URL</span>)</span><br><span class="line">        . option(<span class="string">&quot;driver&quot;</span>,driver)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>,user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>,password)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>,dbtable).load().createTempView(temporaryName)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•°æ®æ¸…æ´—</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIGDATA</span>.subject4Test</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataChouQu</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> builder: <span class="type">SparkSession</span>.<span class="type">Builder</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = builder.appName(<span class="string">&quot;DataChouQu&quot;</span>)</span><br><span class="line">      .enableHiveSupport() <span class="comment">//config è®¾ç½®åŠ¨æ€åˆ†åŒºçš„å‚æ•° å¼€å¯åŠ¨æ€åˆ†åŒºæ”¯æŒ</span></span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿æ¥åˆ°æ•°æ®åº“ å¹¶ç»™è¡¨æ ¼åˆ›å»ºä¸´æ—¶è¡¨å</span></span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;CUSTOMER&quot;</span>,<span class="string">&quot;mysql_customer&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;NATION&quot;</span>,<span class="string">&quot;mysql_nation&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;PART&quot;</span>,<span class="string">&quot;mysql_part&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;PARTSUPP&quot;</span>,<span class="string">&quot;mysql_partsupp&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;REGION&quot;</span>,<span class="string">&quot;mysql_region&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;SUPPLIER&quot;</span>,<span class="string">&quot;mysql_supplier&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;ORDERS&quot;</span>,<span class="string">&quot;mysql_orders&quot;</span>)</span><br><span class="line">    <span class="type">ConnectMysql</span>(spark,<span class="string">&quot;LINEITEM&quot;</span>,<span class="string">&quot;mysql_lineitem&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.customer&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.customer partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_customer</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.nation&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.nation partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_nation</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.part&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.part partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_part</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.partsupp&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.partsupp partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_partsupp</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.region&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.region partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_region</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.supplier&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.supplier partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_supplier</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot; truncate table ods.orders&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¦æ±‚åªå–æŸå¹´æŸæœˆæŸæ—¥åŠä¹‹åçš„æ•°æ®ï¼ˆåŒ…æ‹¬æŸå¹´æŸæœˆæŸæ—¥ï¼‰</span></span><br><span class="line"><span class="comment">     * ï¼Œæ ¹æ®ORDERSè¡¨ä¸­ORDERKEYä½œä¸ºå¢é‡å­—æ®µï¼ˆæç¤ºï¼šå¯¹æ¯”MySQLå’ŒHiveä¸­çš„è¡¨çš„ORDERKEYå¤§å°ï¼‰ï¼Œ</span></span><br><span class="line"><span class="comment">     * åªå°†æ–°å¢çš„æ•°æ®æŠ½å…¥ï¼Œå­—æ®µç±»å‹ä¸å˜ï¼ŒåŒæ—¶æ·»åŠ åŠ¨æ€åˆ†åŒºï¼Œåˆ†åŒºå­—æ®µç±»å‹ä¸ºStringï¼Œ</span></span><br><span class="line"><span class="comment">     * ä¸”å€¼ä¸ºORDERDATEå­—æ®µçš„å†…å®¹ï¼ˆORDERDATEçš„æ ¼å¼ä¸ºyyyy-MM-ddï¼Œåˆ†åŒºå­—æ®µæ ¼å¼ä¸ºyyyyMMddï¼‰</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.orders partition (etldate)</span></span><br><span class="line"><span class="string">        |select a.*,date_format(orderdate,&#x27;yyyyMMdd&#x27;) from mysql_orders a</span></span><br><span class="line"><span class="string">        |where</span></span><br><span class="line"><span class="string">        |regexp_replace(a.orderdate,&quot;-&quot;,&quot;&quot;) &gt;= &#x27;19960909&#x27;</span></span><br><span class="line"><span class="string">        |and</span></span><br><span class="line"><span class="string">        |orderkey not in (select orderkey from ods.orders)</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table ods.lineitem&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®LINEITEMè¡¨ä¸­orderkeyä½œä¸ºå¢é‡å­—æ®µï¼Œåªå°†æ–°å¢çš„æ•°æ®æŠ½å…¥</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.lineitem partition (etldate=&#x27;20220906&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_lineitem</span></span><br><span class="line"><span class="string">        |where orderkey not in (select orderkey from ods.lineitem)</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºè¿æ¥mysqlè¡¨æ ¼å‡½æ•° --è¿æ¥ å‚æ•°</span></span><br><span class="line">    <span class="comment">//1.SparkSessionæä¾›è¿æ¥ dbtable è¿æ¥åˆ°çš„è¡¨æ ¼ temporaryNameåˆ›å»ºä¸´æ—¶è¡¨çš„åå­—</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ConnectMysql</span></span>(spark:<span class="type">SparkSession</span>,dbtable:<span class="type">String</span>,temporaryName:<span class="type">String</span>):<span class="type">Unit</span> =&#123;</span><br><span class="line">      <span class="keyword">val</span> <span class="type">URL</span>=<span class="string">&quot;jdbc:mysql://192.168.23.89:3306/shtd_store&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user=<span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password=<span class="string">&quot;123456&quot;</span></span><br><span class="line">      spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>,<span class="type">URL</span>)</span><br><span class="line">        . option(<span class="string">&quot;driver&quot;</span>,driver)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>,user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>,password)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>,dbtable).load().createTempView(temporaryName)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»™å¯è§†åŒ–æ¥å£æä¾›sqlæ–‡ä»¶</p><p>æŸ¥è¯¢\1. è¡¨äºŒ:ä»¥è®¢å•è¡¨ä¸ºä¸»è¡¨ï¼Œ æ˜¾ç¤ºå„è®¢å•ä¸»è¦ä¿¡æ¯å¦‚ä¸‹ :</p><p>åœ°åŒº,  å›½å®¶, å®¢æˆ·å, é‡‡è´­è®¢å•æ¶ˆè´¹é¢,  ä¾›åº”å•†åç§°, æ—¶é—´</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> region.name <span class="keyword">as</span> region_name,</span><br><span class="line">nation.name <span class="keyword">as</span> nation_name,</span><br><span class="line">cust.name <span class="keyword">as</span> cust_name,</span><br><span class="line"><span class="comment">--é”€å”®é¢</span></span><br><span class="line">t1.sumprice,</span><br><span class="line">supplier.name <span class="keyword">as</span> supplier_name,</span><br><span class="line">fo.order_date </span><br><span class="line"><span class="keyword">from</span> dwd.fact_orders fo</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> dwd.dim_customer cust <span class="keyword">on</span> cust.cust_key<span class="operator">=</span>fo.cust_key</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> dwd.dim_nation nation <span class="keyword">on</span> cust.nation_key<span class="operator">=</span>nation.nation_key</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> dwd.dim_region region <span class="keyword">on</span> nation.region_key<span class="operator">=</span>region.region_key</span><br><span class="line"><span class="keyword">join</span> dwd.fact_lineitem lineitem <span class="keyword">on</span> lineitem.order_key<span class="operator">=</span>fo.order_key</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> ods.supplier supplier <span class="keyword">on</span> supplier.suppkey<span class="operator">=</span>lineitem.supp_key</span><br><span class="line"><span class="keyword">join</span> <span class="comment">--æ€»è®¢å•é¢</span></span><br><span class="line">(<span class="keyword">select</span> cust2.cust_key,<span class="built_in">sum</span>(total_price) <span class="keyword">as</span> sumprice <span class="keyword">from</span> dwd.fact_orders fo2</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> dwd.dim_customer cust2 <span class="keyword">on</span> cust2.cust_key<span class="operator">=</span> fo2.cust_key</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> cust2.cust_key) t1 </span><br><span class="line"><span class="keyword">on</span> t1.cust_key<span class="operator">=</span>fo.cust_key</span><br></pre></td></tr></table></figure><p>å°†mysqlè¡¨æˆ–è€…åº“å¯¼å‡º åœ¨mysqlå¤–é¢è¾“å…¥å‘½ä»¤</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/HRYYZ$AQB5F4%7BJFG%D1YF1.png" alt="img"></p><h2 id="4-BUGç‚¹-2">4. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>çœ‹èµ·æ¥è¯´æ˜¯yyyyMMddï¼Œä»”ç»†çœ‹äº†ä¸‹ï¼Œå‘ç°å¿˜è®°ç»™ä»–åŠ â€™'å¼•å·äº†ï¼Œåé¢date_formatå‚æ•°åº”è¯¥æ˜¯å­—ç¬¦ä¸²</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220907090551269.png" alt="image-20220907090551269"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220907090239599.png" alt="image-20220907090239599"></p><h2 id="5-æ‰©å±•å­¦ä¹ éƒ¨åˆ†">5.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="å¸¸ç”¨çš„hiveå‡½æ•°æ€»ç»“-è¦èƒŒçš„">å¸¸ç”¨çš„hiveå‡½æ•°æ€»ç»“ è¦èƒŒçš„</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * from_unixtime å¯ä»¥æŠŠæ—¶é—´æˆ³æ ¼å¼çš„æ—¶é—´ï¼Œè½¬åŒ–ä¸ºå¹´æœˆæ—¥æ—¶åˆ†ç§’æ ¼å¼çš„æ—¶é—´ã€‚ é»˜è®¤æ˜¯2019-05-02 21:19:59</span></span><br><span class="line"><span class="comment">     * ç¬¬äºŒä¸ªå‚æ•°æ˜¯è®¾ç½®æ ¼å¼çš„</span></span><br><span class="line"><span class="comment">     * unix_timestamp(concat(orderdate,&quot; 00:00:00&quot;))</span></span><br><span class="line"><span class="comment">     * concat æŠŠåŸæœ¬orderdateåˆ— 1996-01-02 è¿™ç§æ ¼å¼çš„ æ‹¼æ¥ å˜æˆ1996-01-02 00:00:00</span></span><br><span class="line"><span class="comment">     * unix_timestampå°†æ‹¼æ¥å¥½çš„æ ¼å¼è½¬æ¢ä¸ºæ—¶é—´æˆ³</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span></span><br><span class="line"><span class="comment">     * from_unixtime(unix_timestamp(), &#x27;yyyy-MM-dd HH:mm:ss&#x27;) hiveç‰ˆæœ¬å·²ç»å¼ƒç”¨äº† ä¼šæŠ¥é”™æ”¹æˆ</span></span><br><span class="line"><span class="comment">     * date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="comment">     * date_format()ä¿®æ”¹æ—¥æœŸæ ¼å¼</span></span><br><span class="line"><span class="comment">     * select date_format(&#x27;2015-04-08 10:10:01&#x27;, &#x27;yyyy-MM&#x27;);</span></span><br><span class="line"><span class="comment">     * 2015-04</span></span><br><span class="line"><span class="comment">     * current_timestamp ç›´æ¥è·å–å½“å‰æ—¥æœŸæ—¶é—´ 2022-08-31 10:55:37.551 åˆ°æ¯«ç§’çš„</span></span><br><span class="line"><span class="comment">     */</span></span><br></pre></td></tr></table></figure><h4 id="regexp-replace">regexp_replace</h4><p>æ›¿æ¢å­—ç¬¦çš„,ä¸‰ä¸ªå‚æ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--ä½¿ç”¨</span><br><span class="line">regexp_replace(orderdate,&quot;-&quot;,&quot;&quot;)</span><br><span class="line">å°†orderdateå­—æ®µä¸­çš„-å˜æˆç©º\</span><br></pre></td></tr></table></figure><h4 id="date-format">date_format</h4><p>æ—¥æœŸå‡½æ•°å°†æ—¥æœŸæ ¼å¼åŒ–</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select date_format(&#x27;2019-12-12&#x27;,&#x27;yyyyMMdd&#x27;);</span><br><span class="line">--20191212 æ³¨æ„ç‚¹æ˜¯ç¬¬ä¸€ä¸ªå‚æ•° å¿…é¡»æ˜¯yyyy-MM-dd HH:mm:ssæ ¼å¼çš„</span><br></pre></td></tr></table></figure><h4 id="from-unixtime">from_unixtime</h4><p>è½¬æ¢<a href="https://so.csdn.net/so/search?q=%E6%97%B6%E9%97%B4%E6%88%B3&amp;spm=1001.2101.3001.7020">æ—¶é—´æˆ³</a>ä¸ºæŒ‡å®šæ ¼å¼çš„æ—¶é—´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select from_unixtime(cast(1567896035000 as int),&#x27;yyyy-MM-dd&#x27;);</span><br><span class="line">--2019-09-08</span><br><span class="line">é»˜è®¤æœ‰æ¯«ç§’</span><br></pre></td></tr></table></figure><h4 id="current-timestamp">current_timestamp</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">--è·å–å½“å‰çš„æ—¶é—´</span><br><span class="line">select current_timestamp;</span><br><span class="line">--2022-09-07 15:58:36.102</span><br><span class="line">--å¯ä»¥ç”¨date_formatè½¬æ¢æ ¼å¼</span><br><span class="line">select date_format(current_timestamp,&#x27;yyyy-MM-dd HH:mm:ss&#x27;);</span><br><span class="line">--2022-09-07 15:58:36</span><br></pre></td></tr></table></figure><h4 id="unix-timestamp">unix_timestamp</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">--ç©ºå‚ å¾—åˆ°å½“å‰çš„æ—¶é—´æˆ³</span><br><span class="line">--å¦‚æœå‚æ•°dateæ»¡è¶³yyyy-MM-dd HH:mm:sså½¢å¼ï¼Œåˆ™å¯ä»¥ç›´æ¥unix_timestamp(string date) å¾—åˆ°å‚æ•°å¯¹åº”çš„æ—¶é—´æˆ³ </span><br><span class="line">--å¦‚æœå‚æ•°dateä¸æ»¡è¶³yyyy-MM-dd HH:mm:sså½¢å¼ï¼Œåˆ™æˆ‘ä»¬éœ€è¦æŒ‡å®šdateçš„å½¢å¼ï¼Œåœ¨è¿›è¡Œè½¬æ¢</span><br><span class="line">select unix_timestamp(&#x27;2009-03-20&#x27;)   --1237507200</span><br><span class="line">select unix_timestamp(&#x27;2009-03-20 00:00:00&#x27;, &#x27;yyyy-MM-dd HH:mm:ss&#x27;) --1237507200</span><br><span class="line">select unix_timestamp(&#x27;2009-03-20 00:00:01&#x27;, &#x27;yyyy-MM-dd HH:mm:ss&#x27;) --1237507201</span><br></pre></td></tr></table></figure><h4 id="truncate-table">truncate table</h4><p>æ¸…é™¤è¡¨å†…çš„æ•°æ® ç»“æ„ä¿å­˜çš„ è‡ªå·±ç»ƒä¹ æœ€å¥½æ¯æ¬¡éƒ½åŠ ä¸Š é˜²æ­¢æ‰“çš„jaråŒ…æŠ¥é”™ ä½†æ˜¯ä¹‹å‰éƒ½å·²ç»å­˜åœ¨äº† æ•°æ®ä¼šé‡å¤</p><p>alter table ods.orders partition (etldate &lt; â€˜19980731â€™)</p><h4 id="spark-submit">spark-submit</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">spark-submit \</span><br><span class="line">--master spark://192.168.23.89:7077 \</span><br><span class="line">--executor-memory 2g \</span><br><span class="line">--total-executor-cores 10 \</span><br><span class="line">--driver-memory 4G \</span><br><span class="line">--class BIGDATA.subject4Test.DataChouQu \</span><br><span class="line">--name DataChouQu \</span><br><span class="line">/opt/xxx.jar</span><br></pre></td></tr></table></figure><h2 id="6-æ€»ç»“-2">6.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>è¿™ä¸¤å¤©å¯¹ä»»åŠ¡ä¹¦åšæ³•ï¼Œåšäº†ä¸ªæ€»ç»“çš„æµç¨‹ï¼Œä»¥åŠå¸¸ç”¨æ–¹æ³•çš„æ€»ç»“ã€‚å…ˆæ˜¯å¤§æ•°æ®æ¯”èµ›çš„èµ›é¡¹è§„ç¨‹ï¼Œè‡ªå·±è´Ÿè´£çš„éƒ¨åˆ†ï¼Œå äº†æ¯”èµ›å¾ˆå¤§ä¸€éƒ¨åˆ†çš„åˆ†å€¼ã€‚ä¸ºäº†ä¿è¯æ—¶é—´å’Œæ­£ç¡®ç‡ï¼Œæ‰€ä»¥å»æ€»ç»“äº†è¿™å‡ å¤©åšä»»åŠ¡ä¹¦ç»å¸¸ç”¨åˆ°çš„hiveå‡½æ•°ï¼Œè¦èƒŒä¸‹æ¥çš„ã€‚åˆ°æ—¶å€™æ¯”èµ›æ˜¯éƒ½æ²¡æœ‰çš„ã€‚ç„¶åæ™šä¸Šå¸®å¯è§†åŒ–çš„æä¾›äº†æ¥å£æ•°æ®ï¼Œä¹ŸçŸ¥é“äº†mysqlæ€ä¹ˆå¯¼å‡ºæ¥çš„å‘½ä»¤ã€‚</p><h1 id="9-8-çœèµ›æ¨¡æ‹Ÿå·">9.8 çœèµ›æ¨¡æ‹Ÿå·</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-4">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-4">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>æ¨¡æ‹Ÿå·</p><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-3">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="ç¦»çº¿æ•°æ®å¤„ç†">ç¦»çº¿æ•°æ®å¤„ç†</h3><p>æ•°æ®æŠ½å–</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">SubjectTwo</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataChouQu2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> builder: <span class="type">SparkSession</span>.<span class="type">Builder</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = builder.appName(<span class="string">&quot;DataChouQu2&quot;</span>).enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    spark.sql(<span class="string">&quot;set spark.sql.storeAssignmentPolicy=LEGACY&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> date=<span class="string">&quot;20220907&quot;</span><span class="comment">//é™æ€åˆ†åŒºæ—¥æœŸ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//mysqlè¡¨æ˜ç»‘å®šä¸´æ—¶è¡¨</span></span><br><span class="line">    localMysqlByMyself(spark,<span class="string">&quot;CUSTOMER&quot;</span>,<span class="string">&quot;mysql_customer&quot;</span>)</span><br><span class="line">    localMysqlByMyself(spark,<span class="string">&quot;NATION&quot;</span>,<span class="string">&quot;mysql_nation&quot;</span>)</span><br><span class="line">    localMysqlByMyself(spark,<span class="string">&quot;PART&quot;</span>,<span class="string">&quot;mysql_part&quot;</span>)</span><br><span class="line">    localMysqlByMyself(spark,<span class="string">&quot;PARTSUPP&quot;</span>,<span class="string">&quot;mysql_partsupp&quot;</span>)</span><br><span class="line">    localMysqlByMyself(spark,<span class="string">&quot;REGION&quot;</span>,<span class="string">&quot;mysql_region&quot;</span>)</span><br><span class="line">    localMysqlByMyself(spark,<span class="string">&quot;SUPPLIER&quot;</span>,<span class="string">&quot;mysql_supplier&quot;</span>)</span><br><span class="line">    localMysqlByMyself(spark,<span class="string">&quot;ORDERS&quot;</span>,<span class="string">&quot;mysql_orders&quot;</span>)</span><br><span class="line">    localMysqlByMyself(spark,<span class="string">&quot;LINEITEM&quot;</span>,<span class="string">&quot;mysql_lineitem&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//hiveå…¨é‡æŠ½å–çš„æ•°æ®</span></span><br><span class="line">    hiveT6(spark,<span class="string">&quot;customer&quot;</span>)</span><br><span class="line">    hiveT6(spark,<span class="string">&quot;nation&quot;</span>)</span><br><span class="line">    hiveT6(spark,<span class="string">&quot;part&quot;</span>)</span><br><span class="line">    hiveT6(spark,<span class="string">&quot;partsupp&quot;</span>)</span><br><span class="line">    hiveT6(spark,<span class="string">&quot;region&quot;</span>)</span><br><span class="line">    hiveT6(spark,<span class="string">&quot;supplier&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¢é‡æŠ½å–çš„ä¸¤æ¡</span></span><br><span class="line">    <span class="comment">//orders å–19970802ä»¥åçš„ åŠ¨æ€åˆ†åŒº</span></span><br><span class="line">    spark.sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.orders partition (etldate)</span></span><br><span class="line"><span class="string">        |select o.*,</span></span><br><span class="line"><span class="string">        |date_format(orderdate,&#x27;yyyyMMdd&#x27;)</span></span><br><span class="line"><span class="string">        |from mysql_orders o</span></span><br><span class="line"><span class="string">        |where regexp_replace(o.orderdate,&quot;-&quot;,&quot;&quot;) &gt;= &#x27;19970802&#x27;</span></span><br><span class="line"><span class="string">        |and</span></span><br><span class="line"><span class="string">        |orderkey not in</span></span><br><span class="line"><span class="string">        |(select orderkey from ods.orders)</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line"><span class="comment">//    //orderkey å¢é‡å­—æ®µ é™æ€åˆ†åŒº</span></span><br><span class="line">    spark.sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.lineitem partition (etldate=$date)</span></span><br><span class="line"><span class="string">        |select * from mysql_lineitem</span></span><br><span class="line"><span class="string">        |where orderkey not in</span></span><br><span class="line"><span class="string">        |(select orderkey from ods.lineitem)</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hiveT6</span></span>(spark: <span class="type">SparkSession</span>,hiveName:<span class="type">String</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">      spark.sql(</span><br><span class="line">        <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">          |insert overwrite table ods.$hiveName partition (etldate=$date)</span></span><br><span class="line"><span class="string">          |select * from mysql_$hiveName</span></span><br><span class="line"><span class="string">          |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">localMysqlByMyself</span></span>(<span class="type">Spark</span>:<span class="type">SparkSession</span>,mysqlName:<span class="type">String</span>,tempName:<span class="type">String</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">      <span class="keyword">val</span> url=<span class="string">&quot;jdbc:mysql://192.168.23.89:3306/shtd_store&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user=<span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password=<span class="string">&quot;123456&quot;</span></span><br><span class="line"></span><br><span class="line">      <span class="type">Spark</span>.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>,url)</span><br><span class="line">        .option(<span class="string">&quot;driver&quot;</span>,driver)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>,user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>,password)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>,mysqlName)</span><br><span class="line">        .load().createTempView(tempName)</span><br><span class="line">    &#125;</span><br><span class="line">    spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•°æ®æ¸…æ´—</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">SubjectTwo</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ•°æ®æ¸…æ´—</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataClear2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> builder: <span class="type">SparkSession</span>.<span class="type">Builder</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = builder.appName(<span class="string">&quot;DataChouQu2&quot;</span>).enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    spark.sql(<span class="string">&quot;set spark.sql.storeAssignmentPolicy=LEGACY&quot;</span>)</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line">    <span class="keyword">val</span> date=<span class="string">&quot;20220907&quot;</span> <span class="comment">//åˆ†åŒº</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table dwd.dim_customer&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.dim_customer partition (etldate=$date)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |custkey,name,address,nationkey,phone,acctbal,mktsegment,comment,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,from_unixtime(unix_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,from_unixtime(unix_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">        |from ods.customer</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table dwd.dim_part&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table dwd.dim_part partition (etldate=$date)</span></span><br><span class="line"><span class="string">         |select</span></span><br><span class="line"><span class="string">         |partkey,name,mfgr,brand,type,size,container,retailprice,comment,</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,from_unixtime(unix_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,from_unixtime(unix_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">         |from ods.part</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table dwd.dim_nation&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table dwd.dim_nation partition (etldate=$date)</span></span><br><span class="line"><span class="string">         |select</span></span><br><span class="line"><span class="string">         |nationkey,name,regionkey,comment,</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,from_unixtime(unix_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,from_unixtime(unix_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">         |from ods.nation</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table dwd.dim_region&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table dwd.dim_region partition (etldate=$date)</span></span><br><span class="line"><span class="string">         |select</span></span><br><span class="line"><span class="string">         |regionkey,name,comment,</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,from_unixtime(unix_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,from_unixtime(unix_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">         |from ods.region</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table dwd.fact_orders&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.fact_orders partition (etldate)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |orderkey,custkey,orderstatus,totalprice,</span></span><br><span class="line"><span class="string">        |from_unixtime(unix_timestamp(concat(orderdate,&quot; 00:00:00&quot;)),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |orderpriority,clerk,shippriority,comment,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,from_unixtime(unix_timestamp(),&quot;yyyy-MM-dd HH:mm:ss&quot;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,from_unixtime(unix_timestamp(),&quot;yyyy-MM-dd HH:mm:ss&quot;),</span></span><br><span class="line"><span class="string">        |etldate</span></span><br><span class="line"><span class="string">        |from ods.orders</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"><span class="comment">//    alter table ods.orders drop partition (etldate &lt; &#x27;19980731&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table dwd.fact_lineitem&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.fact_lineitem partition (etldate=$date)</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |orderkey,partkey,suppkey,lienumber,quantity,</span></span><br><span class="line"><span class="string">        |extendedprice,discount,tax,returnflag,linestatus,</span></span><br><span class="line"><span class="string">        |from_unixtime(unix_timestamp(concat(shipdate,&quot;</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span><span class="string">&quot;)),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |from_unixtime(unix_timestamp(concat(commentdate,&quot;</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span><span class="string">&quot;)),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |from_unixtime(unix_timestamp(concat(receiptdate,&quot;</span> <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span><span class="string">&quot;)),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |shipstruct,shipmode,comment,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,from_unixtime(unix_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,from_unixtime(unix_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">        |from ods.lineitem</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒ‡æ ‡è®¡ç®— èŠ±è´¹æ—¶é—´çš„ç‚¹</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">SubjectTwo</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataMath2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> builder: <span class="type">SparkSession</span>.<span class="type">Builder</span> = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = builder.appName(<span class="string">&quot;DataChouQu2&quot;</span>).enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line">    loadMysql(spark,<span class="string">&quot;nationeverymonth&quot;</span>,<span class="string">&quot;mysql1&quot;</span>)</span><br><span class="line">    loadMysql(spark,<span class="string">&quot;nationavgcmp&quot;</span>,<span class="string">&quot;mysql2&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;truncate table dws.customer_consumption_day_aggr&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |with t1 as (</span></span><br><span class="line"><span class="string">        |select fo.cust_key as cust_key,</span></span><br><span class="line"><span class="string">        |cust.name as name,</span></span><br><span class="line"><span class="string">        |total_price,</span></span><br><span class="line"><span class="string">        |date_format(to_date(order_date),&#x27;yyyy&#x27;) as year,</span></span><br><span class="line"><span class="string">        |date_format(to_date(order_date),&#x27;MM&#x27;) as month,</span></span><br><span class="line"><span class="string">        |date_format(to_date(order_date),&#x27;dd&#x27;) as day</span></span><br><span class="line"><span class="string">        |from dwd.fact_orders fo</span></span><br><span class="line"><span class="string">        |left join dwd.dim_customer cust on cust.cust_key=fo.cust_key)</span></span><br><span class="line"><span class="string">        |select cust_key,max(name),sum(total_price),count(1),year,month,day</span></span><br><span class="line"><span class="string">        |from t1</span></span><br><span class="line"><span class="string">        |group by t1.cust_key,name,year,month,day</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createTempView(<span class="string">&quot;sub1&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dws.customer_consumption_day_aggr</span></span><br><span class="line"><span class="string">        |select * from sub1</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |with t1 as (</span></span><br><span class="line"><span class="string">        |select cust_key,</span></span><br><span class="line"><span class="string">        |sum(totalconsumption) as sumprice,</span></span><br><span class="line"><span class="string">        |count(1) as countprice,</span></span><br><span class="line"><span class="string">        |year,month from dws.customer_consumption_day_aggr</span></span><br><span class="line"><span class="string">        |group by cust_key,year,month),</span></span><br><span class="line"><span class="string">        |t2 as (</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |ccda.cust_key,</span></span><br><span class="line"><span class="string">        |ccda.cust_name,</span></span><br><span class="line"><span class="string">        |nation.nation_key,</span></span><br><span class="line"><span class="string">        |nation.name as nation_name,</span></span><br><span class="line"><span class="string">        |region.region_key,</span></span><br><span class="line"><span class="string">        |region.name as region_name,</span></span><br><span class="line"><span class="string">        |t1.sumprice as totalconsumption,</span></span><br><span class="line"><span class="string">        |t1.countprice as totalorder,</span></span><br><span class="line"><span class="string">        |t1.year,t1.month</span></span><br><span class="line"><span class="string">        |from dws.customer_consumption_day_aggr ccda</span></span><br><span class="line"><span class="string">        |left join dwd.dim_customer cust on ccda.cust_key=cust.cust_key</span></span><br><span class="line"><span class="string">        |left join dwd.dim_nation nation on cust.nation_key=nation.nation_key</span></span><br><span class="line"><span class="string">        |left join dwd.dim_region region on nation.region_key=region.region_key</span></span><br><span class="line"><span class="string">        |join t1 on t1.cust_key=ccda.cust_key</span></span><br><span class="line"><span class="string">        |group by ccda.cust_key,</span></span><br><span class="line"><span class="string">        |ccda.cust_name,</span></span><br><span class="line"><span class="string">        |nation.nation_key,</span></span><br><span class="line"><span class="string">        |nation.name,</span></span><br><span class="line"><span class="string">        |region.region_key,</span></span><br><span class="line"><span class="string">        |region.name ,</span></span><br><span class="line"><span class="string">        |t1.sumprice,</span></span><br><span class="line"><span class="string">        |t1.countprice,</span></span><br><span class="line"><span class="string">        |t1.year,t1.month)</span></span><br><span class="line"><span class="string">        |select t2.*,rank() over(partition by t2.cust_key order by totalconsumption,totalorder,month desc)</span></span><br><span class="line"><span class="string">        |from t2</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createTempView(<span class="string">&quot;sub2&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table mysql1</span></span><br><span class="line"><span class="string">        |select * from sub2</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |-- a è·å¾—æ¯ä¸ªæ¶ˆè´¹äººçš„æ€»æ¶ˆè´¹é¢ ä»¥åŠä¿¡æ¯</span></span><br><span class="line"><span class="string">        |with a as (select fo.cust_key,</span></span><br><span class="line"><span class="string">        |max(nation.nation_key) as nation_key,</span></span><br><span class="line"><span class="string">        |max(nation.name) as name ,</span></span><br><span class="line"><span class="string">        |sum(total_price) as total_price from dwd.fact_orders fo</span></span><br><span class="line"><span class="string">        |left join dwd.dim_customer cust on cust.cust_key=fo.cust_key</span></span><br><span class="line"><span class="string">        |left join dwd.dim_nation nation on  cust.nation_key=nation.nation_key</span></span><br><span class="line"><span class="string">        |group by fo.cust_key),</span></span><br><span class="line"><span class="string">        |--b æ¯ä¸ªå›½å®¶ äººå‡æ¶ˆè´¹</span></span><br><span class="line"><span class="string">        |b as (select nation_key as nationkey ,max(name) as name ,sum(total_price) as sumprice,count(1) as countperson,</span></span><br><span class="line"><span class="string">        |round(avg(total_price),2) as avgnationperson</span></span><br><span class="line"><span class="string">        |from a group by nation_key)</span></span><br><span class="line"><span class="string">        |select nationkey,name,round(avgnationperson,2),306980.73,(</span></span><br><span class="line"><span class="string">        |case when avgnationperson &gt; 306980.73 then &#x27;+&#x27;</span></span><br><span class="line"><span class="string">        | when avgnationperson = 306980.73 then &#x27;=&#x27;</span></span><br><span class="line"><span class="string">        | when avgnationperson &lt; 306980.73 then &#x27;-&#x27; end)</span></span><br><span class="line"><span class="string">        |from b</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createTempView(<span class="string">&quot;sub3&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table mysql2</span></span><br><span class="line"><span class="string">        |select * from sub3</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">loadMysql</span></span>(<span class="type">Spark</span>:<span class="type">SparkSession</span>,totalName:<span class="type">String</span>,tempName:<span class="type">String</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">      <span class="keyword">val</span> url=<span class="string">&quot;jdbc:mysql://192.168.23.89/shtd_store&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user=<span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password=<span class="string">&quot;123456&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="type">Spark</span>.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>,url)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>,user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>,password)</span><br><span class="line">        .option(<span class="string">&quot;driver&quot;</span>,driver)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>,totalName).load().createTempView(tempName)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-æ€»ç»“">4.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©ç¬¬ä¸€æ¬¡åŠæ­£å¼çš„ï¼Œçœèµ›æ¨¡æ‹Ÿï¼Œæ—©ä¸Šå…«ç‚¹å¼€å§‹ï¼Œä¹Ÿç®—æ˜¯åœ¨çœèµ›è¦æ±‚çš„æ—¶é—´å†…ï¼ŒæŠŠé¢˜ç›®åšå®Œäº†ï¼Œåˆšåˆšå¥½è¸©ç€ç‚¹ï¼Œå…¶å®è¿‡ç¨‹ä¸­æ˜¯å‡ºç°è¿‡å¾ˆå¤šé—®é¢˜çš„ï¼Œåœ¨æ•°æ®æ¸…æ´—çš„æ—¶å€™ï¼Œæœ‰ä¸€æ­¥æ˜¯æŠŠæ•°æ®æ¸…æ´—ä¹‹å‰çš„ordersè¡¨ï¼Œåˆ é™¤åˆ†åŒºã€‚ä½†æ˜¯æˆ‘åœ¨è¿˜æ²¡è¿è¡Œæ¸…æ´—çš„jaråŒ…çš„æ—¶å€™ï¼Œå°±å…ˆç”¨hiveæŠŠåˆ†åŒºåˆ äº†ï¼Œå¯¼è‡´æˆ‘æ¸…æ´—å®Œï¼Œfact_ordersè¡¨æ•°æ®æ˜¯ç¼ºå¤±çš„ã€‚ä»»åŠ¡ä¹¦æœ‰ä¸€æ­¥ï¼ŒæŸ¥çœ‹åˆ†åŒºæ•°é‡çš„æ—¶å€™ï¼Œæ‰å‘ç°åšé¢˜é¡ºåºé”™äº†ï¼Œåˆå›å¤´æŠŠæŠ½å–çš„jaråŒ…é‡æ–°è¿è¡Œï¼Œå¿˜è®°åˆ è¡¨äº†ï¼Œå¯¼è‡´åé¢åˆæ¸…æ´—çš„æ—¶å€™ï¼Œæ•°æ®åˆæ˜¯æœ‰é—®é¢˜çš„ã€‚è¿™æ ·æ•´äº†å¾ˆå¤šæ¬¡ï¼Œåé¢å¹²è„†æŠŠå¹³å°çš„è™šæ‹Ÿæœºé‡ç½®äº†ï¼Œç„¶åæ‰åšç¬¬ä¸‰é¢˜ã€‚å¿ƒæ€ä¹Ÿæœ‰äº›å½±å“äº†ï¼Œè§‰å¾—é¢˜ç›®è¿˜æ˜¯åº”è¯¥å¤šç»ƒï¼Œæ‰èƒ½åœ¨æ¯”èµ›é¿å…ä¸€äº›é—®é¢˜ã€‚</p><h1 id="9-12-è§£å†³å¹²æ‰°è‡ªå·±å¾ˆä¹…çš„é—®é¢˜">9.12 è§£å†³å¹²æ‰°è‡ªå·±å¾ˆä¹…çš„é—®é¢˜</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-5">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-5">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>ä»»åŠ¡å›› æŒ‡æ ‡è®¡ç®— å•è¡Œå’Œå¤šè¡Œæ•°æ®å¹¶å­˜</p><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-4">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><p>é—®é¢˜ç‚¹ å›°æ‰°æˆ‘å’Œææ˜Šçš„åŸå› </p><p>t1è¡¨æŸ¥è¯¢ç»“æœ è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œå¤šåˆ—çš„æ•°æ®</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/2022-09-12%2019-35-25%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2022-09-12 19-35-25å±å¹•æˆªå›¾"></p><p>é¢˜ç›®è¦æ±‚ ç¬¬å››åˆ—è¦æ˜¯å…¨çƒçš„ä¸­ä½æ•°</p><p>èšåˆå‡½æ•°æŸ¥è¯¢ç»“æœå¦‚ä¸‹</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/2022-09-12%2019-39-59%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2022-09-12 19-39-59å±å¹•æˆªå›¾"></p><p>åªæœ‰ä¸€è¡Œ</p><p>ä¸¤ä¸ªè¡¨è¡Œæ•°ä¸åŒ¹é… æ™®é€šæ²¡æ³•æˆä¸‹é¢çš„æ•ˆæœ ä¸€å®šä¼šæœ‰ç¬›å¡å°”ç§¯çš„å‡ºç° ä½†æ˜¯åˆæ˜¯ç¬¬ä¸€è¡Œ æˆ‘ä»¬çš„ç›®çš„å°±æ˜¯è¦æœ‰ç¬›å¡å°”ç§¯çš„å­˜åœ¨</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/2022-09-12%2019-46-47%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2022-09-12 19-46-47å±å¹•æˆªå›¾"></p><p>æ­£ç¡®ç­”æ¡ˆä»£ç å¦‚ä¸‹</p><p><code>æˆ‘ä»¬éœ€è¦å¼€å¯ç¬›å¡å°”ç§¯çš„æ”¯æŒ å¦åˆ™ä¼šæŠ¥é”™</code></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> t1.<span class="operator">*</span>,t2.<span class="operator">*</span> <span class="keyword">from</span> t1,t2</span><br><span class="line"><span class="comment">--#è¿™ç§æ¥è‡ªä¸¤ä¸ªè¡¨çš„æ•°æ® ç»“åˆåœ¨ä¸€èµ·å†™æˆ‘ä¹Ÿæ˜¯ä»Šå¤©æ— æ„é—´å‘ç°çš„ ä½¿ç”¨çš„æ—¶å€™æ²¡æœ‰æŠ¥é”™</span></span><br><span class="line">#æˆ‘æ¨æµ‹è¿™ç§æ–¹æ³• åªèƒ½ä¸¤ä¸ªè¡¨è¦æŸ¥çš„è¡Œæ•°ç›¸åŒçš„æƒ…å†µ ä¸ç„¶ä¼šæœ‰ç¬›å¡å°”ç§¯ </span><br><span class="line">#æ‰“å¼€ç¬›å¡å°”ç§¯ æ”¯æŒå°±å¥½äº†</span><br></pre></td></tr></table></figure><p>ç„¶åsparkæäº¤jaråŒ…çš„æ—¶å€™åˆå‡ºç°äº†ç¬›å¡å°”ç§¯çš„é—®é¢˜ ä¸‹é¢ä¸ºBUGè§£é‡Šäº†</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">//percentile_approx(col,p) p=0.5 colä¸ºä¸­ä½æ•°çš„åˆ— æ±‚ä¸­ä½æ•°</span></span><br><span class="line">   <span class="comment">//percentile_approxç¬¬ä¸€ä¸ªå‚æ•°åªèƒ½æ˜¯int</span></span><br><span class="line">   <span class="comment">//hive (default)&gt; set hive.strict.checks.cartesian.product=true;</span></span><br><span class="line">   <span class="comment">//hive (default)&gt; set hive.mapred.mode=nonstrict;</span></span><br><span class="line">   sql(<span class="string">&quot;set hive.strict.checks.cartesian.product=true&quot;</span>) <span class="comment">//hiveå¼€å¯ç¬›å¡å°”ç§¯æ”¯æŒ</span></span><br><span class="line">sql(<span class="string">&quot;set hive.mapred.mode=nonstrict&quot;</span>) <span class="comment">//å¼€å¯éä¸¥æ ¼æ¨¡å¼</span></span><br><span class="line">   sql(</span><br><span class="line">     <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">       |with t1 as (</span></span><br><span class="line"><span class="string">       |select nation.nation_key as nation_key,max(nation.name) as name ,</span></span><br><span class="line"><span class="string">       |round(percentile_approx(total_price,0.5),2) as per</span></span><br><span class="line"><span class="string">       |from dwd.fact_orders fo</span></span><br><span class="line"><span class="string">       |left join dwd.dim_customer cust on cust.cust_key=fo.cust_key</span></span><br><span class="line"><span class="string">       |left join dwd.dim_nation nation on nation.nation_key=cust.nation_key</span></span><br><span class="line"><span class="string">       |group by nation.nation_key),</span></span><br><span class="line"><span class="string">       |t2 as (</span></span><br><span class="line"><span class="string">       |select round(percentile_approx(per,0.5),2) as per1</span></span><br><span class="line"><span class="string">       |from t1</span></span><br><span class="line"><span class="string">       |)</span></span><br><span class="line"><span class="string">       |select t1.*,t2.* from t1,t2</span></span><br><span class="line"><span class="string">       |&quot;&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createTempView(<span class="string">&quot;hive2&quot;</span>)</span><br><span class="line">   mysqlExtract(spark,<span class="string">&quot;nationmedian&quot;</span>,<span class="string">&quot;mysql2&quot;</span>)</span><br><span class="line"></span><br><span class="line">   spark.conf.set(<span class="string">&quot;spark.sql.crossJoin.enabled&quot;</span>, <span class="string">&quot;true&quot;</span>)<span class="comment">//sparkå¼€å¯ç¬›å¡å°”ç§¯æ”¯æŒ</span></span><br><span class="line">   sql(</span><br><span class="line">     <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">       |insert overwrite table mysql2</span></span><br><span class="line"><span class="string">       |select * from hive2</span></span><br><span class="line"><span class="string">       |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line">   spark.stop()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="4-BUGç‚¹-3">4. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>use the CROSS JOIN syntax to allow cartesian products between these relations;;</p><p>ä¸Šé¢æ˜¯æŠ¥é”™ä¿¡æ¯ ç¿»è¯‘æ˜¯ ä½¿ç”¨äº¤å‰è¿æ¥ CROSS JOIN è¯­æ³•å…è®¸è¿™äº›å…³ç³»ä¹‹é—´çš„ç¬›å¡å°”ç§¯ï¼›</p><p>CSDNæœç´¢è¯´æ˜¯sparké»˜è®¤æ˜¯ä¸æ”¯æŒç¬›å¡å°”ç§¯çš„æƒ…å†µçš„ï¼Œæ‰€ä»¥éœ€è¦æ‰“å¼€ åœ¨insert å¯¼å…¥mysqlä¹‹å‰ åŠ å…¥å¦‚ä¸‹è¯­å¥</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spark.conf.set(<span class="string">&quot;spark.sql.crossJoin.enabled&quot;</span>,<span class="string">&quot;true&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="6-æ€»ç»“-3">6.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>å¼€å¯æ”¯æŒè¿™äº›å‘½ä»¤å¯èƒ½æœ‰ç‚¹é•¿ä¸å¤ªå¥½è®°ï¼ŒèŠ±ç‚¹æ—¶é—´å»è®°ä¸€ä¸‹ï¼Œè€Œä¸”æˆ‘åšä¸‰å››ä¸ªä»»åŠ¡ä¸‹æ¥ï¼Œç»å¸¸ä¼šé‡åˆ°è¿™ç§æƒ…å†µï¼Œæˆ‘éƒ½æ˜¯ç®—å¥½ï¼Œç›´æ¥å¡«å…¥å­—ç¬¦ä¸²çš„ï¼Œä½†æ˜¯ä»»åŠ¡ä¹¦è¦æ±‚æˆªsqlè¯­å¥ï¼Œå¦‚æœçœ‹åˆ°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸å¤ªå¥½ã€‚ä»Šå¤©æ€»ç®—è§£å†³äº†ï¼Œåé¢ä¸€äº›ä»»åŠ¡éœ€è¦ä¸€åˆ—çš„æ•°æ®è¦æ±‚ä¸€æ ·çš„ï¼Œå°±å¯ä»¥è¾¾æˆäº†ã€‚</p><h1 id="9-13-çœèµ›ä»»åŠ¡1">9.13 çœèµ›ä»»åŠ¡1</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-6">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-6">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>çœèµ›ä»»åŠ¡ä¸€ å®Œæˆ</p><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-5">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="æ•°æ®æŠ½å–">æ•°æ®æŠ½å–</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIGDATA</span>.subject1</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataExtract</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> spark = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">      .appName(<span class="string">&quot;DataExtract&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">val</span> date=<span class="string">&quot;20220912&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line">    <span class="comment">//mysql</span></span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;CUSTOMER&quot;</span>,<span class="string">&quot;mysql_customer&quot;</span>)</span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;NATION&quot;</span>,<span class="string">&quot;mysql_nation&quot;</span>)</span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;PART&quot;</span>,<span class="string">&quot;mysql_part&quot;</span>)</span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;PARTSUPP&quot;</span>,<span class="string">&quot;mysql_partsupp&quot;</span>)</span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;REGION&quot;</span>,<span class="string">&quot;mysql_region&quot;</span>)</span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;SUPPLIER&quot;</span>,<span class="string">&quot;mysql_supplier&quot;</span>)</span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;LINEITEM&quot;</span>,<span class="string">&quot;mysql_lineitem&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//hive sql 6</span></span><br><span class="line">    hiveExtract(spark,<span class="string">&quot;customer&quot;</span>)</span><br><span class="line">    hiveExtract(spark,<span class="string">&quot;nation&quot;</span>)</span><br><span class="line">    hiveExtract(spark,<span class="string">&quot;part&quot;</span>)</span><br><span class="line">    hiveExtract(spark,<span class="string">&quot;partsupp&quot;</span>)</span><br><span class="line">    hiveExtract(spark,<span class="string">&quot;region&quot;</span>)</span><br><span class="line">    hiveExtract(spark,<span class="string">&quot;supplier&quot;</span>)</span><br><span class="line">    spark.sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.lineitem partition (etldate=$date)</span></span><br><span class="line"><span class="string">        |select l.* from mysql_lineitem l</span></span><br><span class="line"><span class="string">        |where</span></span><br><span class="line"><span class="string">        |l.orderkey not in</span></span><br><span class="line"><span class="string">        |(select orderkey from ods.lineitem)</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    spark.stop()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hiveExtract</span></span>(spark:<span class="type">SparkSession</span>,hiveName:<span class="type">String</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">      spark.sql(</span><br><span class="line">        <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">          |insert overwrite table ods.$hiveName partition (etldate=$date)</span></span><br><span class="line"><span class="string">          |select * from mysql_$hiveName</span></span><br><span class="line"><span class="string">          |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mysqlExtract</span></span>(spark:<span class="type">SparkSession</span>,mysqlName:<span class="type">String</span>,tempName:<span class="type">String</span>): <span class="type">Unit</span> =&#123;</span><br><span class="line">      <span class="keyword">val</span> url=<span class="string">&quot;jdbc:mysql://192.168.23.89/shtd_store&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user=<span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password=<span class="string">&quot;123456&quot;</span></span><br><span class="line">      spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>,url)</span><br><span class="line">        .option(<span class="string">&quot;driver&quot;</span>,driver)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>,user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>,password)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>,mysqlName).load().createTempView(tempName)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ordersè¡¨">ordersè¡¨</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIGDATA</span>.subject1</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataExtractOrders</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> spark = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">      .appName(<span class="string">&quot;DataExtract&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;ORDERS&quot;</span>,<span class="string">&quot;mysql_orders&quot;</span>)</span><br><span class="line">    <span class="comment">//19970913</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table ods.orders partition (etldate)</span></span><br><span class="line"><span class="string">         |select o.*,</span></span><br><span class="line"><span class="string">         |date_format(orderdate,&#x27;yyyyMMdd&#x27;)</span></span><br><span class="line"><span class="string">         |from mysql_orders o</span></span><br><span class="line"><span class="string">         |where</span></span><br><span class="line"><span class="string">         |o.orderkey not in</span></span><br><span class="line"><span class="string">         |(select orderkey from ods.orders)</span></span><br><span class="line"><span class="string">         |and</span></span><br><span class="line"><span class="string">         |regexp_replace(orderdate,&quot;</span>-<span class="string">&quot;,&quot;</span><span class="string">&quot;) &gt;= &#x27;19970913&#x27;</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    spark.stop()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mysqlExtract</span></span>(spark: <span class="type">SparkSession</span>, mysqlName: <span class="type">String</span>, tempName: <span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">      <span class="keyword">val</span> url = <span class="string">&quot;jdbc:mysql://192.168.23.89/shtd_store&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver = <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user = <span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password = <span class="string">&quot;123456&quot;</span></span><br><span class="line">      spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>, url)</span><br><span class="line">        .option(<span class="string">&quot;driver&quot;</span>, driver)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>, user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>, password)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>, mysqlName).load().createTempView(tempName)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>alter table ods.orders drop partition (etldate&gt;0)</code> åˆ é™¤æ‰€æœ‰åˆ†åŒºä»¥åŠè¯¥åˆ†åŒºçš„æ•°æ®</p><h3 id="æ•°æ®æ¸…æ´—">æ•°æ®æ¸…æ´—</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIGDATA</span>.subject1</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataClear</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> spark = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">      .appName(<span class="string">&quot;DataExtract&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">val</span> date = <span class="string">&quot;20220912&quot;</span></span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    custkey             string</span></span><br><span class="line"><span class="comment">    name                string</span></span><br><span class="line"><span class="comment">    address             string</span></span><br><span class="line"><span class="comment">    nationkey           string</span></span><br><span class="line"><span class="comment">    phone               string</span></span><br><span class="line"><span class="comment">    acctbal             string</span></span><br><span class="line"><span class="comment">    mktsegment          string</span></span><br><span class="line"><span class="comment">    comment             string</span></span><br><span class="line"><span class="comment">    etldate             string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.dim_customer partition (etldate=$date)</span></span><br><span class="line"><span class="string">        |select custkey,name,address,nationkey,phone,acctbal,mktsegment,comment,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">        |from ods.customer</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    partkey             string</span></span><br><span class="line"><span class="comment">    name                string</span></span><br><span class="line"><span class="comment">    mfgr                string</span></span><br><span class="line"><span class="comment">    brand               string</span></span><br><span class="line"><span class="comment">    type                string</span></span><br><span class="line"><span class="comment">    size                string</span></span><br><span class="line"><span class="comment">    container           string</span></span><br><span class="line"><span class="comment">    retailprice         string</span></span><br><span class="line"><span class="comment">    comment             string</span></span><br><span class="line"><span class="comment">    etldate             string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table dwd.dim_part partition (etldate=$date)</span></span><br><span class="line"><span class="string">         |select partkey,name,mfgr,brand,</span></span><br><span class="line"><span class="string">         |type,size,container,retailprice,comment,</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">         |from ods.part</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">nationkey           string</span></span><br><span class="line"><span class="comment">    name                string</span></span><br><span class="line"><span class="comment">    regionkey           string</span></span><br><span class="line"><span class="comment">    comment             string</span></span><br><span class="line"><span class="comment">    etldate             string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table dwd.dim_nation partition (etldate=$date)</span></span><br><span class="line"><span class="string">         |select nationkey,name,regionkey,comment,</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">         |from ods.nation</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table dwd.dim_region partition (etldate=$date)</span></span><br><span class="line"><span class="string">         |select regionkey,name,comment,</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;)</span></span><br><span class="line"><span class="string">         |from ods.region</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    orderkey            string</span></span><br><span class="line"><span class="comment">    custkey             string</span></span><br><span class="line"><span class="comment">    orderstatus         string</span></span><br><span class="line"><span class="comment">    totalprice          string</span></span><br><span class="line"><span class="comment">    orderdate           string</span></span><br><span class="line"><span class="comment">    orderpriority       string</span></span><br><span class="line"><span class="comment">    clerk               string</span></span><br><span class="line"><span class="comment">    shippriority        string</span></span><br><span class="line"><span class="comment">    comment             string</span></span><br><span class="line"><span class="comment">    etldate             string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.fact_orders partition (etldate)</span></span><br><span class="line"><span class="string">        |select orderkey,custkey,orderstatus,totalprice,</span></span><br><span class="line"><span class="string">        |date_format(orderdate,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |orderpriority,clerk,shippriority,comment,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),etldate</span></span><br><span class="line"><span class="string">        |from ods.orders</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    orderkey            string</span></span><br><span class="line"><span class="comment">    partkey             string</span></span><br><span class="line"><span class="comment">    suppkey             string</span></span><br><span class="line"><span class="comment">    lienumber           string</span></span><br><span class="line"><span class="comment">    quantity            string</span></span><br><span class="line"><span class="comment">    extendedprice       string</span></span><br><span class="line"><span class="comment">    discount            string</span></span><br><span class="line"><span class="comment">    tax                 string</span></span><br><span class="line"><span class="comment">    returnflag          string</span></span><br><span class="line"><span class="comment">    linestatus          string</span></span><br><span class="line"><span class="comment">    shipdate            string</span></span><br><span class="line"><span class="comment">    commentdate         string</span></span><br><span class="line"><span class="comment">    receiptdate         string</span></span><br><span class="line"><span class="comment">    shipstruct          string</span></span><br><span class="line"><span class="comment">    shipmode            string</span></span><br><span class="line"><span class="comment">    comment             string</span></span><br><span class="line"><span class="comment">    etldate             string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table dwd.fact_lineitem partition (etldate)</span></span><br><span class="line"><span class="string">         |select orderkey,partkey,suppkey,lienumber,quantity,extendedprice,</span></span><br><span class="line"><span class="string">         |discount,tax,returnflag,linestatus,</span></span><br><span class="line"><span class="string">         |date_format(shipdate,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |date_format(commentdate,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |date_format(receiptdate,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |shipstruct,shipmode,comment,</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">         |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),etldate</span></span><br><span class="line"><span class="string">         |from ods.lineitem</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ordersè¡¨-2">ordersè¡¨</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIGDATA</span>.subject1</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataClearOrders</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> spark = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">      .appName(<span class="string">&quot;DataExtract&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line"></span><br><span class="line">    spark.sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table dwd.fact_orders partition (etldate)</span></span><br><span class="line"><span class="string">        |select orderkey,custkey,orderstatus,totalprice,</span></span><br><span class="line"><span class="string">        |date_format(orderdate,&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |orderpriority,clerk,shippriority,comment,</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),</span></span><br><span class="line"><span class="string">        |&#x27;user1&#x27;,date_format(current_timestamp(),&#x27;yyyy-MM-dd HH:mm:ss&#x27;),etldate</span></span><br><span class="line"><span class="string">        |from ods.orders</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line">      spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æŒ‡æ ‡è®¡ç®—1">æŒ‡æ ‡è®¡ç®—1</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIGDATA</span>.subject1</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataMath1</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> spark = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">      .appName(<span class="string">&quot;DataExtract&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line"></span><br><span class="line">    spark.sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |WITH t1 as (</span></span><br><span class="line"><span class="string">        |select c.cust_key as custkey,</span></span><br><span class="line"><span class="string">        |n.nation_key as nationkey,</span></span><br><span class="line"><span class="string">        |n.name as nationname,</span></span><br><span class="line"><span class="string">        |r.region_key as regionkey,</span></span><br><span class="line"><span class="string">        |r.name as regionname,</span></span><br><span class="line"><span class="string">        |total_price,</span></span><br><span class="line"><span class="string">        |date_format(order_date,&#x27;yyyy&#x27;) as year,</span></span><br><span class="line"><span class="string">        |date_format(order_date,&#x27;MM&#x27;) as month</span></span><br><span class="line"><span class="string">        |from dwd.fact_orders fo</span></span><br><span class="line"><span class="string">        |left join dwd.dim_customer c on fo.cust_key=c.cust_key</span></span><br><span class="line"><span class="string">        |left join dwd.dim_nation n on c.nation_key=n.nation_key</span></span><br><span class="line"><span class="string">        |left join dwd.dim_region r on n.region_key=r.region_key)</span></span><br><span class="line"><span class="string">        |select nationkey,max(nationname),max(regionkey),max(regionname),</span></span><br><span class="line"><span class="string">        |sum(total_price),count(*),year,month</span></span><br><span class="line"><span class="string">        |from t1</span></span><br><span class="line"><span class="string">        |group by nationkey,year,month</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createTempView(<span class="string">&quot;hive1&quot;</span>)</span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;nationeverymonth&quot;</span>,<span class="string">&quot;mysql1&quot;</span>)</span><br><span class="line">    spark.sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table mysql1</span></span><br><span class="line"><span class="string">        |select * from hive1</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mysqlExtract</span></span>(spark: <span class="type">SparkSession</span>, mysqlName: <span class="type">String</span>, tempName: <span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">      <span class="keyword">val</span> url = <span class="string">&quot;jdbc:mysql://192.168.23.89/shtd_store&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver = <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user = <span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password = <span class="string">&quot;123456&quot;</span></span><br><span class="line">      spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>, url)</span><br><span class="line">        .option(<span class="string">&quot;driver&quot;</span>, driver)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>, user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>, password)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>, mysqlName).load().createTempView(tempName)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŒ‡æ ‡è®¡ç®—2">æŒ‡æ ‡è®¡ç®—2</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIGDATA</span>.subject1</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataMath2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> spark = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">      .appName(<span class="string">&quot;DataExtract&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    hive (default)&gt; set hive.strict.checks.cartesian.product=true;</span></span><br><span class="line"><span class="comment">    hive (default)&gt; set hive.mapred.mode=nonstrict;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    sql(<span class="string">&quot;set hive.strict.checks.cartesian.product=true&quot;</span>)</span><br><span class="line">    sql(<span class="string">&quot;set hive.mapred.mode=nonstrict&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |with t1 as (</span></span><br><span class="line"><span class="string">        |select c.cust_key as custkey,</span></span><br><span class="line"><span class="string">        |n.nation_key as nationkey,</span></span><br><span class="line"><span class="string">        |n.name as nationname,</span></span><br><span class="line"><span class="string">        |total_price</span></span><br><span class="line"><span class="string">        |from dwd.fact_orders fo</span></span><br><span class="line"><span class="string">        |left join dwd.dim_customer c on fo.cust_key=c.cust_key</span></span><br><span class="line"><span class="string">        |left join dwd.dim_nation n on c.nation_key=n.nation_key),</span></span><br><span class="line"><span class="string">        |t2 as (</span></span><br><span class="line"><span class="string">        |select custkey,max(nationkey) as nationkey, max(nationname) as nationname,</span></span><br><span class="line"><span class="string">        |sum(total_price) as sumprice</span></span><br><span class="line"><span class="string">        |from t1</span></span><br><span class="line"><span class="string">        |group by t1.custkey),</span></span><br><span class="line"><span class="string">        |t3 as (</span></span><br><span class="line"><span class="string">        |select nationkey,</span></span><br><span class="line"><span class="string">        |max(nationname) as nationname,</span></span><br><span class="line"><span class="string">        |round(avg(sumprice),2) as avgprice</span></span><br><span class="line"><span class="string">        |from t2</span></span><br><span class="line"><span class="string">        |group by nationkey),</span></span><br><span class="line"><span class="string">        |t4 as (</span></span><br><span class="line"><span class="string">        |select round(avg(sumprice),2) as allavgprice from t2)</span></span><br><span class="line"><span class="string">        |select t3.*,t4.* from t3,t4</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createTempView(<span class="string">&quot;hive4&quot;</span>)</span><br><span class="line"></span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;nationavgcmp&quot;</span>,<span class="string">&quot;nationavgcmp&quot;</span>)</span><br><span class="line">    spark.conf.set(<span class="string">&quot;spark.sql.crossJoin.enabled&quot;</span>,<span class="string">&quot;true&quot;</span>)</span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table nationavgcmp</span></span><br><span class="line"><span class="string">        |select h.*,</span></span><br><span class="line"><span class="string">        |(case</span></span><br><span class="line"><span class="string">        |when h.avgprice &gt; h.allavgprice then &#x27;+&#x27;</span></span><br><span class="line"><span class="string">        |when h.avgprice = h.allavgprice then &#x27;=&#x27;</span></span><br><span class="line"><span class="string">        |when h.avgprice &lt; h.allavgprice then &#x27;-&#x27; end</span></span><br><span class="line"><span class="string">        |)</span></span><br><span class="line"><span class="string">        |from hive4 h</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mysqlExtract</span></span>(spark: <span class="type">SparkSession</span>, mysqlName: <span class="type">String</span>, tempName: <span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">      <span class="keyword">val</span> url = <span class="string">&quot;jdbc:mysql://192.168.23.89/shtd_store&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver = <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user = <span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password = <span class="string">&quot;123456&quot;</span></span><br><span class="line">      spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>, url)</span><br><span class="line">        .option(<span class="string">&quot;driver&quot;</span>, driver)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>, user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>, password)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>, mysqlName).load().createTempView(tempName)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æŒ‡æ ‡è®¡ç®—3">æŒ‡æ ‡è®¡ç®—3</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIGDATA</span>.subject1</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">DataMath3</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> spark = <span class="type">SparkSession</span>.builder().master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">      .appName(<span class="string">&quot;DataExtract&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition&quot;</span>, <span class="string">&quot;true&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.dynamic.partition.mode&quot;</span>, <span class="string">&quot;nonstrict&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .config(<span class="string">&quot;hive.exec.max.dynamic.partitions.pernode&quot;</span>, <span class="string">&quot;100000&quot;</span>)</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |with t1 as (</span></span><br><span class="line"><span class="string">        |select cust_key,</span></span><br><span class="line"><span class="string">        |cast(date_format(order_date,&#x27;yyyyMM&#x27;) as int) as month,</span></span><br><span class="line"><span class="string">        |sum(total_price) as total_price,</span></span><br><span class="line"><span class="string">        |count(1) as total_order</span></span><br><span class="line"><span class="string">        |from dwd.fact_orders</span></span><br><span class="line"><span class="string">        |group by cust_key,cast(date_format(order_date,&#x27;yyyyMM&#x27;) as int)</span></span><br><span class="line"><span class="string">        |),</span></span><br><span class="line"><span class="string">        |t2 as (</span></span><br><span class="line"><span class="string">        |select</span></span><br><span class="line"><span class="string">        |a.cust_key,</span></span><br><span class="line"><span class="string">        |concat(a.month,&#x27;_&#x27;,b.month) as month,</span></span><br><span class="line"><span class="string">        |a.total_price + b.total_price as total_price,</span></span><br><span class="line"><span class="string">        |a.total_order + b.total_order as total_order</span></span><br><span class="line"><span class="string">        |from t1 a</span></span><br><span class="line"><span class="string">        |left join t1 b</span></span><br><span class="line"><span class="string">        | on --åˆ¤æ–­è¿ç»­ä¸¤ä¸ªæœˆå¢é•¿</span></span><br><span class="line"><span class="string">        |a.cust_key=b.cust_key</span></span><br><span class="line"><span class="string">        |where</span></span><br><span class="line"><span class="string">        |a.month + 1 = b.month</span></span><br><span class="line"><span class="string">        |and</span></span><br><span class="line"><span class="string">        |a.total_price &lt; b.total_price)</span></span><br><span class="line"><span class="string">        |select c.cust_key,c.name,month,total_price,total_order</span></span><br><span class="line"><span class="string">        |from t2</span></span><br><span class="line"><span class="string">        |left join dwd.dim_customer c on c.cust_key=t2.cust_key</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createTempView(<span class="string">&quot;hiveOrders&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    mysqlExtract(spark,<span class="string">&quot;usercontinueorder&quot;</span>,<span class="string">&quot;order1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table order1</span></span><br><span class="line"><span class="string">        |select * from hiveOrders</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mysqlExtract</span></span>(spark: <span class="type">SparkSession</span>, mysqlName: <span class="type">String</span>, tempName: <span class="type">String</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">      <span class="keyword">val</span> url = <span class="string">&quot;jdbc:mysql://192.168.23.89/shtd_store&quot;</span></span><br><span class="line">      <span class="keyword">val</span> driver = <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">      <span class="keyword">val</span> user = <span class="string">&quot;root&quot;</span></span><br><span class="line">      <span class="keyword">val</span> password = <span class="string">&quot;123456&quot;</span></span><br><span class="line">      spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">        .option(<span class="string">&quot;url&quot;</span>, url)</span><br><span class="line">        .option(<span class="string">&quot;driver&quot;</span>, driver)</span><br><span class="line">        .option(<span class="string">&quot;user&quot;</span>, user)</span><br><span class="line">        .option(<span class="string">&quot;password&quot;</span>, password)</span><br><span class="line">        .option(<span class="string">&quot;dbtable&quot;</span>, mysqlName).load().createTempView(tempName)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-BUGç‚¹-4">4. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>æš‚æ— å‡ºbugçš„é‡ç‚¹</p><h2 id="6-æ€»ç»“-4">6.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>å‰é¢æ•°æ®æŠ½å– å’Œ æ¸…æ´— åŸºæœ¬å¾ˆé¡ºåˆ© åªå‡ºäº†ä¸€ç‚¹å°é—®é¢˜ï¼Œå½±å“ä¸å¤§ã€‚å› ä¸ºordersè¡¨ ç»å¸¸ä¼šå‡ºç°é—®é¢˜ï¼Œæ‰€ä»¥ç°åœ¨è‡ªå·±æ”¹å˜äº†ç­–ç•¥ï¼Œæ¸…æ´—å’ŒæŠ½å–çš„æ—¶å€™æŠŠorderså•ç‹¬å–å‡ºæ¥ï¼Œå› ä¸ºå®ƒåŠ¨æ€åˆ†åŒºï¼Œè¾ƒéº»çƒ¦ã€‚ç»å¸¸ä¼šæ‰“jaråŒ…çš„æ—¶å€™åˆ°ordersæŠ¥é”™ï¼Œä½†æ˜¯å‰é¢çš„è¡¨å·²ç»å¯¼å…¥äº†ã€‚date_format()ä¸­ç¬¬äºŒä¸ªå‚æ•° yyyyMMMddå¤šæ‰“äº†ä¸€ä¸ªM å°±å˜æˆäº†è‹±æ–‡çš„æœˆä»½ï¼Œä¹‹å‰æ¸…æ´—è¡¨çš„ä»£ç å‘ç°åˆ†åŒºä¿¡æ¯è¿˜åœ¨ï¼Œå‘ç°æˆ‘ä¹‹å‰åˆ é™¤è¡¨æ•°æ®çš„æ–¹æ³•ï¼Œåªèƒ½åˆ (é™¤è¡¨å†…ä¿¡æ¯ï¼Œä½†æ˜¯åˆ†åŒºæ˜¯è¿˜åœ¨çš„,æ‰€ä»¥æŸ¥çœ‹åˆ†åŒºçš„æ—¶å€™,é”™è¯¯çš„åˆ†åŒºä¹Ÿè¿˜æ˜¾ç¤º,åªèƒ½ç”¨alter table  ods.orders drop partition (etldate&gt;0 )æŠŠåˆ†åŒºåˆ å¹²å‡€,é‡æ–°æ‰“äº†ä¸€ä¸‹jaråŒ…ï¼Œæµªè´¹äº†è‡ªå·±20æ¥åˆ†é’Ÿã€‚æœ€åå¿«åšå®ŒèŠ±äº†2ä¸ªåŠå°æ—¶ï¼Œè¿˜å‰©ä¸‹æœ€åä¸€é¢˜çš„æœ€åä¸€å°é¢˜ï¼Œåƒå®Œé¥­å›æ¥ä¹Ÿé¡ºåˆ©æå®šäº†ï¼Œä»Šå¤©æŒ‡æ ‡è®¡ç®—ï¼Œå°±åˆç¢°åˆ°äº†å’Œæ˜¨å¤©å·®ä¸å¤šçš„é—®é¢˜ï¼Œåˆšå¥½æ˜¨å¤©å·²ç»è§£å†³äº†ï¼Œä»¥ååšç±»ä¼¼çš„é—®é¢˜é¢˜ç›®ï¼Œä¹Ÿä¸ä¼šæ€ä¹ˆçŠ¯é”™å¡ä½äº†ã€‚æŒ‡æ ‡è®¡ç®—çš„2å’Œ3èŠ±äº†ç‚¹æ—¶é—´ã€‚æ€»ä½“ä»Šå¤©å­¦ä¹ çŠ¶æ€ä¸é”™ã€‚</p><h1 id="9-14-æ–°ä»»åŠ¡">9.14-~~~ æ–°ä»»åŠ¡</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-7">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-7">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-6">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="greatest">greatest</h3><p>greatest(a,b,c,d) è¿”å›å‚æ•°ä¸­çš„æœ€å¤§å€¼</p><h3 id="coalesce">coalesce</h3><p>coalesce(null,a,b)è¿”å›a</p><p>è¿”å› ç¬¬ä¸€ä¸ªä¸ä¸ºnullçš„å€¼</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220918132338009.png" alt="image-20220918132338009"></p><p>æƒ³å¾—åˆ°è¿™æ ·çš„è¡¨</p><p>å¤šè¡Œå˜ä¸€è¡Œ</p><p>æœ‰å…¬å…±åˆ—</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDA4MDQ0NQ==,size_16,color_FFFFFF,t_70.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>1).å…ˆä½¿ç”¨collect_setå‡½æ•°ä½¿å¤šè¡Œæˆä¸ºä¸€è¡Œæ•°ç»„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; select name,collect_set(subject)  res1 ,</span><br><span class="line">    &gt; collect_set(cast(score as string)) res2 </span><br><span class="line">    &gt; from stu group by name;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202106191527505.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>2). åŠ ä¸Šconcat_wså‡½æ•°å¯ä»¥å–å‡ºæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ çš„å€¼åœ¨ç”¨åˆ†éš”ç¬¦è¿æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; select name,concat_ws(&#x27;@&#x27;,collect_set(subject))  res1 ,</span><br><span class="line">    &gt; concat_ws(&#x27;-&#x27;,collect_set(cast(score as string))) res2 </span><br><span class="line">    &gt; from stu group by name;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/20210619152910469.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hive&gt;select substr(&#x27;qwertyuio&#x27;,0,4)</span><br><span class="line">--qwerã€</span><br><span class="line">å¯¹å­—ç¬¦ä¸²çš„ </span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä»å“ªä¸ªä½ç½®å¼€å§‹</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°æ˜¯å–å‡ ä½æ•° </span><br></pre></td></tr></table></figure><h2 id="4-BUGç‚¹-5">4. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="hiveå¯¼å…¥mysqlæ—¶å€™ï¼Œä¸­æ–‡æ˜¾ç¤º-é—®é¢˜">hiveå¯¼å…¥mysqlæ—¶å€™ï¼Œä¸­æ–‡æ˜¾ç¤º???é—®é¢˜</h3><p>ç¼–ç æ ¼å¼çš„é—®é¢˜</p><p>è§£å†³æ–¹æ³•:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#<span class="operator">/</span><span class="operator">/</span>æŸ¥çœ‹æ•°æ®åº“ç¼–ç æ ¼å¼</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> database shtd_result</span><br><span class="line"><span class="comment">--#ä¿®æ”¹ä¸ºutf8</span></span><br><span class="line"><span class="keyword">alter</span> database shtd_result <span class="keyword">default</span> <span class="type">character</span> <span class="keyword">set</span> utf8;</span><br><span class="line"></span><br><span class="line">#æŸ¥çœ‹è¡¨çš„ç¼–ç æ ¼å¼</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> regiontopthree</span><br><span class="line">#ä¿®æ”¹ä¸ºutf<span class="number">-8</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> regiontopthree <span class="keyword">default</span> <span class="type">character</span> <span class="keyword">set</span> utf8;</span><br></pre></td></tr></table></figure><p>åœ¨scalaä¸­åˆ›å»ºmysqlä¸´æ—¶è¡¨çš„æ—¶å€™urléœ€è¦æ·»åŠ ç¼–ç æ ¼å¼</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jdbc:mysql:<span class="operator">/</span><span class="operator">/</span><span class="number">192.168</span><span class="number">.23</span><span class="number">.89</span><span class="operator">/</span>shtd_result?useUnicode<span class="operator">=</span><span class="literal">true</span><span class="operator">&amp;</span>characterEncoding<span class="operator">=</span>utf<span class="number">-8</span></span><br></pre></td></tr></table></figure><h2 id="6-æ€»ç»“-5">6.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©åšçš„æ˜¯7æœˆçš„æ–°æ•°æ®æ¯”ä¹‹å‰çš„æ•°æ®é€»è¾‘æ€§å¼ºäº†å¾ˆå¤šï¼Œå‰é¢ä¸¤é¢˜ä¹Ÿéš¾äº†ç‚¹ï¼Œä¸ç®—æ˜¯è‡ªå·±ç‹¬ç«‹å®Œæˆï¼ŒCSDNæœäº†å‡ ä¸ªæ–¹æ³•çš„ä½¿ç”¨ï¼Œç„¶åè§£å†³äº†ä¹‹å‰çš„æŸ¥è¯¢ä¸­æ–‡çš„æƒ…å†µã€‚ç£•ç£•ç»Šç»Šå·®ä¸å¤šä¸€å¤©æ‰åšäº†ä¸€ä¸ªä»»åŠ¡ä¹¦ï¼Œåé¢åº”è¯¥ä¼šå¥½å¾ˆå¤šï¼Œé¢˜ç›®è¡¨è¾¾çš„å’Œè‡ªå·±ç†è§£çš„ä¸çŸ¥é“ä¸€ä¸ä¸€æ ·ã€‚</p>]]></content>
    
    
    <summary type="html">å¤§æ•°æ®çœèµ›ä»»åŠ¡ä¹¦,åˆ†å¸ƒæ€»ç»“ä»¥åŠæ³¨æ„ç‚¹</summary>
    
    
    
    <category term="å¤§æ•°æ®è®­ç»ƒ" scheme="https://u7u7.top/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AE%AD%E7%BB%83/"/>
    
    
    <category term="Scala" scheme="https://u7u7.top/tags/Scala/"/>
    
    <category term="Spark" scheme="https://u7u7.top/tags/Spark/"/>
    
    <category term="Hive" scheme="https://u7u7.top/tags/Hive/"/>
    
    <category term="SQL" scheme="https://u7u7.top/tags/SQL/"/>
    
    <category term="å¤§æ•°æ®" scheme="https://u7u7.top/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>8æœˆæ€»ç»“</title>
    <link href="https://u7u7.top/posts/22conclusion08.html"/>
    <id>https://u7u7.top/posts/22conclusion08.html</id>
    <published>2023-03-11T07:45:25.000Z</published>
    <updated>2023-03-11T07:45:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="22å¹´æ€»ç»“8æœˆæ€»ç»“">22å¹´æ€»ç»“8æœˆæ€»ç»“</h1><h2 id="ä¸€ã€çŸ¥è¯†ç‚¹æ±‡æ€»">ä¸€ã€çŸ¥è¯†ç‚¹æ±‡æ€»</h2><h3 id="ç¬¬ä¸€å‘¨8-7-8-11">ç¬¬ä¸€å‘¨8.7-8.11</h3><ul><li><strong>è¿™å‘¨çš„å­¦ä¹ å†…å®¹</strong> ï¼šlinuxå…¥é—¨ å®æ“æ–‡ä»¶ Shellç¼–ç¨‹  Scalaçš„åŸºç¡€å…¥é—¨</li></ul><p>â€‹<strong>éš¾ç‚¹</strong>ï¼š ScalaåŸºç¡€è¯­æ³•   Shellç¼–ç¨‹</p><p>â€‹<strong>ä¸ªäººç†è§£</strong>ï¼š</p><p>**Shellç¼–ç¨‹ï¼š**shellåœ¨æˆ‘ç†è§£æœ‰ç‚¹åƒpythonï¼Œè„šæœ¬è¯­è¨€ã€‚ä½†æ˜¯å’Œpythonæ¯”ï¼Œè¯­è¨€çš„ç®€æ´æ€§,å¯è¯»æ€§éƒ½å¾ˆå·®ã€‚æ¯•ç«Ÿæ˜¯è„šæœ¬è¯­è¨€ï¼Œä¸€äº›æ¯”è¾ƒå¤æ‚çš„ä»£ç å’Œç¨‹åºï¼Œå†™å‡ºæ¥å°±å¾ˆéº»çƒ¦ç”¨shellã€‚å› æ­¤ç°åœ¨shellæ˜¯æœ‰ä¸€ä¸ªlet å¯ä»¥ç”¨cå’Œjavaçš„è¯­è¨€ï¼Œè¿˜æ˜¯æ–¹ä¾¿çš„ã€‚Shell ä¸»è¦ç”¨æ¥å¼€å‘ä¸€äº›å®ç”¨çš„ã€è‡ªåŠ¨åŒ–çš„å°å·¥å…·ï¼Œè€Œä¸æ˜¯ç”¨æ¥å¼€å‘å…·æœ‰å¤æ‚ä¸šåŠ¡é€»è¾‘çš„ä¸­å¤§å‹è½¯ä»¶ï¼Œå› ä¸ºä»–çš„ä»£ç æˆ‘è§‰å¾—å†™èµ·æ¥éå¸¸éš¾å—ï¼Œåº”è¯¥åœ¨æ­å»ºç¯å¢ƒå’Œåˆ†ææ—¥å¿—è¿™ç±»çš„åœºæ™¯ï¼Œshellä¼šæœ‰æ¯”è¾ƒå¥½çš„è¡¨ç°åŠ›å§ï¼Œåœ¨Linuxä¸­Shellåº”è¯¥æ˜¯å¾ˆé‡è¦çš„ä¸€ä¸ªç« èŠ‚ï¼Œæ¯•ç«Ÿè€å¸ˆè¯´ä½¿ç”¨ Shell çš„ç†Ÿç»ƒç¨‹åº¦åæ˜ äº†ä½ å¯¹ Linux çš„æŒæ¡ç¨‹åº¦ã€‚</p><p>**ScalaåŸºç¡€è¯­æ³•ï¼š**Scalaåˆšå…¥é—¨çš„æ—¶å€™ï¼Œä½¿ç”¨éå¸¸çš„éš¾å—ï¼Œåœ¨scalaä¸­æœ‰javaå’Œpythonçš„å½±å­ï¼Œä½†æ˜¯åˆä¸ä¸€æ ·ï¼Œå°±å¯¼è‡´åˆšå¼€å§‹ç»å¸¸å†™é”™ï¼Œå®ƒçš„è¯­è¨€å¾ˆç®€æ´ï¼ŒJava8ä¸­çš„lambdaå°±æ˜¯å€Ÿé‰´scalaçš„ï¼Œæ‰€ä»¥å¦‚æœå­¦Javaçš„æ—¶å€™Lambdaå­¦å¥½çš„è¯ï¼Œå…¥é—¨ä¸Šæ‰‹è¿˜æ˜¯è›®å¿«çš„ã€‚Scalaæ˜¯ä¸€ç§å¼ºæ•°æ®ç±»å‹çš„è¯­è¨€ï¼Œå˜é‡å£°æ˜äº†ç±»å‹ï¼Œå°±å˜ä¸äº†äº†ã€‚æ”¹å˜çš„è¯ï¼Œåªèƒ½åˆ›é€ æ–°çš„å˜é‡ï¼ŒåŸå˜é‡æ˜¯æ”¹ä¸äº†çš„ã€‚æ¯•ç«Ÿç§°ä¸ºJava++ï¼Œä¹Ÿæœ‰å¼ºè½¬ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œè¿™ç§è„šæœ¬è¯­è¨€ç±»ï¼Œå­¦æ˜ç™½äº†æŒæ¡è¿˜æ˜¯å®¹æ˜“çš„ï¼Œè€Œä¸”æ€è·¯å¯ä»¥æ¸…æ™°ã€‚</p><h4 id="è‡ªæˆ‘å‘¨æ€»ç»“ï¼š">è‡ªæˆ‘å‘¨æ€»ç»“ï¼š</h4><p>è¿™å‘¨æ—¶é—´æ¯”è¾ƒçŸ­ï¼ŒçŠ¶æ€è‡ªå·±è°ƒæ•´äº†ä¸¤å¤©ï¼Œä¸è¿‡å­¦ä¹ é€Ÿåº¦æ¯”ä¹‹å‰æœ‰å¾ˆå¤§çš„æé«˜ï¼Œåˆšæ¥é›†è®­ï¼ŒåŠ²å¤´æ¯”è¾ƒè¶³å§ï¼Œå¯å®¤å®¤å‹ä»€ä¹ˆçš„ä¹Ÿæ¯”è¾ƒèˆ’æœï¼Œå­¦ä¹ çŠ¶æ€å€’è¿˜æ˜¯å¾ˆæ»¡æ„çš„ï¼Œè¿™å‘¨ä¸»è¦æ˜¯3å¤©æŠŠLinuxçœ‹å®Œäº†ï¼ŒåŸºæœ¬æ“ä½œå•Šï¼Œå¯¹æ–‡ä»¶çš„å®æ“ã€‚è¿™æ–¹é¢ä¹‹å‰å°±çŸ¥é“ä¸€äº›ï¼Œçœ‹æ–‡æ¡£ï¼Œä¸€å¤©èƒ½æŠµä¸ƒå…«ä¸ªå°æ—¶çš„è§†é¢‘æ—¶é—´ï¼Œåé¢çš„Shellç¼–ç¨‹ï¼Œæ˜¯ä»”ç»†çœ‹äº†è§†é¢‘ï¼Œå› ä¸ºæœ‰ç‚¹å¥‡æ€ªï¼Œæ˜¯è„šæœ¬è¯­è¨€ï¼Œå†™èµ·æ¥è·Ÿå‘½ä»¤ä¸€æ ·ï¼Œç„¶åçœ‹äº†ä¸€å¤©çš„Scalaç¼–ç¨‹ï¼Œè‡ªå·±å¯¹è¯­è¨€å¯èƒ½æ¯”è¾ƒæ•æ„Ÿå§ï¼Œä¸Šåˆè¿˜ä¸ä¹ æƒ¯ï¼Œä¸‹åˆç”¨èµ·æ¥å°±èˆ’æœäº†ï¼Œæ„Ÿè§‰æ¯”pythonå†™èµ·æ¥è¿˜èˆ’æœï¼Œå°±æ˜¯å®ƒçš„ç±»å‹å£°æ˜æœ‰ç‚¹å¥‡æ€ªã€‚ä¸€å¤©æŠŠå‰é¢ä¸€èˆ¬è¯­è¨€éƒ½å…±æœ‰çš„éƒ¨åˆ†ï¼Œçœ‹æ‰äº†ï¼Œä¸»è¦éƒ½æ˜¯çœ‹æ–‡æ¡£ï¼Œçœ‹æ–‡æ¡£è·Ÿç€æ¡ˆä¾‹æ•²å­¦ä¹ è¯­è¨€ï¼Œé€Ÿåº¦å’Œæ•ˆç‡çœŸçš„å¿«ã€‚</p><h3 id="ç¬¬äºŒå‘¨8-12-8-17">ç¬¬äºŒå‘¨8.12-8.17</h3><p><strong>è¿™å‘¨çš„å­¦ä¹ å†…å®¹</strong> ï¼š hadooopåŸºæœ¬å…¥é—¨ hadoopå®Œå…¨åˆ†å¸ƒå¼  HDFS</p><p>â€‹<strong>éš¾ç‚¹ï¼š</strong> hadoopæ¦‚å¿µ  hadoopå…‹éš†ç¾¤èµ·</p><p><strong>ä¸ªäººç†è§£</strong>ï¼š</p><p>hadoopæ¦‚å¿µ:è¿™ä¸€å—ä¹Ÿä¸ç®—ä¸ªäººç†è§£å§ï¼Œå› ä¸ºå­¦hadoopå­¦äº†å¾ˆä¹…ï¼Œéƒ½ä¸çŸ¥é“hadoopæ˜¯ä»€ä¹ˆï¼Œå¹²å˜›ç”¨çš„ï¼Œå°±å»CSDNå»æœäº†ï¼Œ<a href="http://t.csdn.cn/J6cLT">http://t.csdn.cn/J6cLT</a> è¿™ä¸ªé“¾æ¥ï¼Œæˆ‘è§‰å¾—è®²çš„ç‰¹åˆ«å¥½ã€‚ä¹Ÿè®©æˆ‘å¼„æ‡‚äº†hadoopå’Œå¤§æ•°æ®ã€‚çœ‹æ–‡æ¡£å®Œäº†ï¼Œæ„Ÿè§‰HadoopæŠ€æœ¯å°±æ˜¯å¤§æ•°æ®è¿™è¡Œçš„æ ¸å¿ƒï¼Œåƒæˆ‘ä»¬è¿™æ¬¡æ¯”èµ›è¦å­¦çš„å¾ˆå¤šå†…å®¹éƒ½æ˜¯åŸºäºhadoopæˆ–è€…æ˜¯å’Œhadoopæœ‰å…³çš„ï¼Œæ€»ä¹‹æ˜¯ç¦»ä¸å¼€ï¼Œhiveï¼Œsparkéƒ½æ˜¯å¦‚æ­¤ï¼Œè¿™äº›ç®—æ˜¯hadoopçš„æ¨¡å—ï¼Œæ¨¡å—ä¹‹é—´åˆæœ‰å…³è”ã€‚hadoopåƒæ˜¯ä¸€ä¸ªç”Ÿæ€åœˆäº†ï¼Œä¹Ÿæœ‰äººè®²hadoopç”Ÿæ€ã€‚æ€»ç»“hadoopçš„è¯ï¼ŒHadoopå°±æ˜¯å­˜å‚¨æµ·é‡æ•°æ®å’Œåˆ†ææµ·é‡æ•°æ®çš„å·¥å…·ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯æˆ‘å­¦æ‰çš„HDFSå’Œæ²¡å­¦çš„MRï¼Œèµ¶è¿›åº¦MRå°±çœ‹çœ‹æ–‡æ¡£å°±å¥½äº†ï¼ŒHDFSæ˜¯å­˜å‚¨æ•°æ®çš„ï¼Œè€ŒMRå°±æ˜¯è®¡ç®—æ•°æ®çš„ï¼Œç†è§£ä¸ºè®¡ç®—å¼•æ“ã€‚</p><p>**hadoopå…‹éš†ï¼š**è¿™éƒ¨åˆ†ä¹Ÿä¸ç®—éš¾ç‚¹ï¼Œä½†æ˜¯æ€»æ˜¯ä¼šå‡ºç°é—®é¢˜ï¼Œç„¶åè‡ªå·±å»è§£å†³ï¼Œåé¢è‡ªå·±æ€»ç»“å‡ºäº†ä¸€å¥—é…ç½®æ­¥éª¤ï¼Œè™šæ‹Ÿæœºå…‹éš†è¿™éƒ¨åˆ†ï¼Œåˆ°é…ç½®IPã€‚ç¾¤èµ·é…ç½®åœ¨å¤šå¤ªè™šæ‹Ÿæœºçš„æ—¶å€™ï¼ŒçœŸçš„å¾ˆæ–¹ä¾¿ï¼Œåƒå¦‚æœä¸€å°è£…äº†javaï¼Œå¹¶é…ç½®å¥½äº†ç¯å¢ƒï¼Œåé¢å‡ å°åªè¦ï¼Œé…ç½®å®Œipå’Œæ˜ å°„ï¼Œä»¥ä¸»è™šæ‹Ÿæœºï¼Œç›´æ¥åˆ†å‘å°±å¥½äº†ã€‚å†™å®Œé…ç½®æ–‡ä»¶ï¼Œå¯åŠ¨hadoopå„é›†ç¾¤ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚1.å…‹éš†è™šæ‹Ÿæœº 2.ä¿®æ”¹é™æ€IP 3.ä¿®æ”¹ä¸»æœºååšæ˜ å°„ 4.å…³é—­é˜²ç«å¢™ ã€‚è¿™æ ·ä¸€å°æœ‰ipèƒ½ä¸Šå®Œçš„è™šæ‹Ÿæœºå°±é…ç½®å¥½äº†ã€‚åé¢ç¾¤èµ·ä»€ä¹ˆï¼Œä¸»è™šæ‹Ÿæœºåˆ†å‘ä¸€ä¸‹å°±å¥½äº†ï¼Œäº¤ç»™ç¯å¢ƒé…ç½®çš„åŒå­¦ã€‚</p><h4 id="è‡ªæˆ‘å‘¨æ€»ç»“ï¼š-2">è‡ªæˆ‘å‘¨æ€»ç»“ï¼š</h4><p>è¿™å‘¨å­¦ä¹ çš„æ•ˆç‡å°±è½ä¸‹æ¥äº†ï¼Œè¿™å‘¨æ˜¯hadoopç»“æŸï¼Œä»¥ä¸ºhadoopæ˜¯éƒ½è¦å­¦ä¹ çš„ï¼Œè‡ªå·±å°±å¾ˆè®¤çœŸçš„åœ¨æé…ç½®ä»€ä¹ˆçš„å‘½ä»¤ï¼Œä¹Ÿå‡ºç°äº†å¾ˆå¤šé—®é¢˜ï¼Œä¸€ä¸ªä¸€ä¸ªå»æ‰¾ï¼Œæœ‰é…ç½®æŠ¥é”™ï¼ŒCSDNè§£å†³ï¼Œæµªè´¹äº†å¾ˆå¤šæ—¶é—´ã€‚å‰é¢æ¦‚å¿µçš„æœ‰ç‚¹è«è®ºä¸¤å¯ï¼Œåé¢è·Ÿæ¦‚å¿µç›¸å…³çš„å°±æ¯”è¾ƒåƒåŠ›äº†ã€‚è¿™å‘¨åé¢å­¦HDFSï¼ŒJavaç”¨IDEAå……å½“å®¢æˆ·ç«¯é‚£å¤©å­¦ä¹ çŠ¶æ€è¿˜å¯ä»¥çš„ï¼Œè‡ªå·±å­¦ä¹ çŠ¶æ€å’Œå­¦ä¹ å†…å®¹æœ‰ç‚¹æŒ‚é’©å¤ªå¤šäº†ã€‚</p><h3 id="ç¬¬ä¸‰å‘¨8-18-8-24">ç¬¬ä¸‰å‘¨8.18-8.24</h3><p><strong>è¿™å‘¨çš„å­¦ä¹ å†…å®¹</strong> ï¼šScalaå‡½æ•°å¼ç¼–ç¨‹ Scalaé¢å‘å¯¹è±¡ æ•°ç»„é›†åˆ Sparkå…¥é—¨</p><p>Spark-RDD è½¬æ¢ç®—å­ è¿è¡Œç®—å­ SparkSQL</p><p><strong>éš¾ç‚¹ï¼š</strong> Scalaé›†åˆè®¡ç®—å‡½æ•°   å…ƒç»„  Sparkæ¦‚å¿µ</p><p><strong>ä¸ªäººç†è§£ï¼š</strong></p><p>å…ƒç»„ï¼šå…ƒç»„åœ¨æˆ‘ç†è§£å’Œjavaé‡Œé¢çš„å…ƒç»„å®Œå…¨ä¸ä¸€æ ·ï¼Œåœ¨Scalaå…ƒç»„æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå°†å¾ˆå¤šæ— å…³çš„æ•°æ®å°è£…ä¸ºä¸€ä¸ªæ•´ä½“ï¼Œå…ƒç»„æœ€å¤§åªèƒ½æœ‰22ä¸ªå…ƒç´ ã€‚å…ƒç»„å¯ä»¥å­˜ä¸åŒçš„å…ƒç´ ï¼Œä½†æ˜¯è°ƒç”¨çš„æ—¶å€™æ¯”è¾ƒæŠ½è±¡ï¼Œæ˜¯ç”¨._é¡ºåºå·,ä»–æ˜¯æœ‰åºçš„ï¼Œåœ¨åé¢é›†åˆè®¡ç®—é«˜çº§å‡½æ•°ä¸­ç»å¸¸ä½¿ç”¨ï¼Œç»“åˆMapï¼Œå’Œå¯¹è±¡å°±å¾ˆæŠ½è±¡ï¼Œä¸€å±‚åµŒä¸€å±‚çš„ã€‚</p><p>Scalaé›†åˆè®¡ç®—å‡½æ•°ï¼šçœ‹æ–‡æ¡£çš„ä»£ç å’Œæ‰å¹³åŒ–+æ˜ å°„çš„æ–¹æ³•ï¼ŒScalaçš„ä»£ç åˆç®€æ´ï¼Œæ›´åƒæŠ½è±¡ï¼Œä¸€ä¸‹å­çœ‹æ–‡æ¡£çœ‹ä¸æ˜ç™½ï¼Œä¸€å¥—åµŒä¸€å¥—çš„ï¼Œå¾ˆå¤šåœ°æ–¹çš„ç±»å‹ä»€ä¹ˆéƒ½çœç•¥äº†ï¼Œç”¨_ç›´æ¥ä»£æ›¿ï¼Œå¯¼è‡´æˆ‘è¿™ä¸€å—å¡äº†å¾ˆä¹…ï¼Œå»æ¢äº†IDEAè®¾ç½®ï¼Œè‡ªåŠ¨è¡¥é½ç±»å‹ï¼Œç†è§£èµ·æ¥æ–¹ä¾¿å¤šäº†ï¼Œåœ¨æˆ‘ç†è§£çš„flatMap ç›¸å½“äºå…ˆè¿›è¡Œ map æ“ä½œï¼Œåœ¨è¿›è¡Œ flattenæ“ä½œï¼Œè¿™é‡ŒåŸºæœ¬å°±æ˜¯æ‰å¹³åŒ–+æ˜ å°„çš„åŸç†ï¼Œåˆ°åé¢åˆ†åŒºä»€ä¹ˆåˆç»“åˆä¸€èµ·ï¼Œä»£ç å…¨éƒ¨å†™ä¸€è¡Œï¼Œè¦çœ‹å¥½ä¸€ä¼šæ‰è¡Œã€‚æ…¢æ…¢ä¹Ÿèƒ½æ‹æ¸…é™¤ã€‚</p><p>Sparkæ¦‚å¿µï¼šä¹‹å‰å­¦Scalaçš„æ—¶å€™å°±è¯´ï¼Œå­¦Scalaå°±æ˜¯ä¸ºäº†Sparkï¼Œåˆ°Sparkï¼Œå‘ç°å¼€å‘è¯­å¥éƒ½æ˜¯Scalaã€‚åœ¨æˆ‘çœ‹æ¥ï¼ŒSparkä¹Ÿæ˜¯ä¸€ç§å¤§æ•°æ®è®¡ç®—æ¡†æ¶ï¼Œå’ŒMRç±»ä¼¼ï¼Œä½†æ˜¯æ¯”MRå¼ºå¾ˆå¤šï¼Œä¸ç®¡æ˜¯è¿è¡Œè¿˜æ˜¯å„ç§æ–¹é¢ï¼Œæ•ˆç‡æ–¹é¢æ¯”MRå¼º100å€ï¼Œæœ‰è¿™ä¹ˆå¤¸å¼ ã€‚ä½†æ˜¯Sparkå› ä¸ºæ˜¯æ–°èµ·çš„ï¼Œæ‰€ä»¥æœ‰äº›åœ°æ–¹ä¸å¤Ÿå®Œå–„ï¼Œå®¹æ˜“å†…å­˜æº¢å‡ºï¼Œä½†æˆ‘åªé‡åˆ°è¿‡ä¸€æ¬¡ã€‚Sparkä¸»è¦ç”¨äºå¤§æ•°æ®çš„è®¡ç®—ï¼Œè€ŒHadoopä»¥åä¸»ç”¨äºå¤§æ•°æ®çš„å­˜å‚¨HDFSå’ŒHiveï¼Œä»¥åŠèµ„æºè°ƒåº¦ã€‚Spark+Hadoopçš„ç»„åˆï¼Œæ˜¯æœªæ¥å¤§æ•°æ®é¢†åŸŸæœ€çƒ­é—¨çš„ç»„åˆï¼Œä¹Ÿæ˜¯æœ€æœ‰å‰æ™¯çš„ç»„åˆï¼è¿‡æ–­æ—¶é—´æŠŠHadoopæ¢æˆSparkæ‰§è¡Œåº”è¯¥ä¼šå¿«ä¸Šä¸å°‘ã€‚</p><h4 id="è‡ªæˆ‘å‘¨æ€»ç»“ï¼š-3">è‡ªæˆ‘å‘¨æ€»ç»“ï¼š</h4><p>è¿™å‘¨å­¦å®Œäº†Scalaå’ŒSparkï¼Œå­¦ä¹ é€Ÿåº¦è¿˜æ˜¯å¾ˆæ»¡æ„çš„ã€‚ä½†æ˜¯å­¦ä¹ é¡ºåºå‡ºç°äº†ç‚¹é—®é¢˜ï¼Œæ²¡æœ‰å­¦Hiveï¼Œå°±å»çœ‹Sparkäº†ï¼Œå‰é¢å¬çš„å¾ˆæ‡µï¼Œåˆ°åé¢æœ€é‡è¦çš„SparkSQLï¼Œæ–‡æ¡£è®©ç”¨Hiveçš„ï¼Œæˆ‘è¿Hiveæ˜¯ä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼Œä¸‹å‘¨å¾—å»çœ‹å®ŒHiveæ‰å›å¤´æ¥çœ‹SparkSQLäº†ï¼Œè¿™å‘¨çš„å­¦ä¹ çŠ¶æ€æ˜¯å¾ˆä¸é”™çš„ï¼Œéƒ½æ˜¯æ•²ä»£ç ï¼Œä»£ç æ•²äº†å¾ˆå¤šï¼ŒSparkè¯­æ³•ä¹Ÿéƒ½è®°ä½äº†ï¼Œç»“åˆç¬”è®°ï¼Œä¹Ÿèƒ½è‡ªå·±å†™å‡ºç®€å•çš„æ¡ˆä¾‹ã€‚è¿™å‘¨BUGå‡ºç°è›®å¤šçš„ï¼Œéƒ½æ˜¯åœ¨Scalaçš„è¯­å¥ä¸­ï¼Œ._è¿™å—å‡ºç°äº†å¾ˆå¤šæ¬¡é—®é¢˜ï¼ŒScalaè¿˜æ˜¯æ²¡ç”¨é¡ºï¼Œä¸ºäº†ç®€æ´çš„è¯­æ³•ï¼Œæ˜æ˜æ˜¯ä¸€å±‚è°ƒç”¨ä¸€å±‚çš„ï¼Œå…¨éƒ¨å†™åœ¨ä¸€è¡Œï¼Œç„¶ååŒ–ç®€ï¼Œå¯¼è‡´è‡ªå·±æœ‰æ—¶å€™éƒ½å¾—çœ‹å¥½ä¸€ä¼šï¼Œæ‰èƒ½æ‹æ¸…é™¤ã€‚</p><h3 id="ç¬¬å››å‘¨8-25-8-31">ç¬¬å››å‘¨8.25-8.31</h3><p><strong>è¿™å‘¨çš„å­¦ä¹ å†…å®¹</strong> ï¼šHiveé…ç½® DDLè¯­å¥ DMLè¯­å¥ Joinè¯­å¥ å‡½æ•°</p><p><strong>éš¾ç‚¹ï¼š</strong> Hiveé…ç½®</p><h4 id="è‡ªæˆ‘å‘¨æ€»ç»“ï¼š-4">è‡ªæˆ‘å‘¨æ€»ç»“ï¼š</h4><p>è¿™å‘¨é…ç½®è¿™ä¸ªHiveçš„ç¯å¢ƒé…ç½®äº†ä¸¤å¤©åŠï¼Œæ‰ç£•ç£•ç»Šç»Šæå¥½ã€‚åŸæœ¬è‡ªå·±å¼„äº†ä¸€å¤©ï¼Œç¬¬äºŒå¤©çš„æ—¶å€™åˆä¸è¡Œäº†ï¼Œç„¶åä¸€æŠ¥é”™ï¼Œå°±å»CSDNæ‰¾è§£å†³æ–¹æ³•ï¼Œåˆ°JDBCçš„æ—¶å€™å®Œå…¨èµ·ä¸æ¥ï¼ŒJaråŒ…éƒ½æ‰¾ä¸åˆ°äº†ï¼Œä¸çŸ¥é“è¢«æåˆ°å“ªé‡Œäº†ï¼Œå°±è®©å–»ä¸­è´µé‡æ–°å¸®æˆ‘å…‹éš†é…ç½®äº†3å°æœ‰hadoopçš„è™šæ‹Ÿæœºï¼Œè‡ªå·±ä»å¤´åˆ°å°¾åˆæ ¹æ®ä¹‹å‰è§£å†³çš„æ€è·¯ï¼Œé…ç½®äº†ä¸€ä¸‹åˆï¼Œå…¨éƒ¨éƒ½æå¥½äº†ï¼Œä¹ŸèŠ±äº†ä¸¤å¤©å¤šæ—¶é—´ï¼Œå¯¼è‡´æœ¬æ¥æƒ³è¿™å‘¨å°±ç»“æŸHiveçš„ç°åœ¨æ‰å­¦äº†2/3ã€‚è¿™å—é…ç½®è¿˜æ˜¯ä¸è¦çæäº†ï¼Œå¤ªæµªè´¹æ—¶é—´äº†ï¼Œåé¢æ‰æ˜¯è‡ªå·±è¦çŸ¥é“çš„é‡ç‚¹ã€‚Hiveåé¢çš„ä»»åŠ¡ï¼Œæˆ‘è§‰å¾—æ²¡ä»€ä¹ˆéš¾çš„åœ°æ–¹ã€‚DDLå’ŒDMLè¯­å¥åŸºæœ¬å’ŒSQLè¯­å¥å·®ä¸å¤šï¼Œéƒ½æ˜¯SQLåŸºç¡€è¯­å¥ã€‚</p><h2 id="äºŒã€è‡ªæˆ‘æ€»ç»“">äºŒã€è‡ªæˆ‘æ€»ç»“</h2><p><strong>è‡ªæˆ‘åçœï¼š</strong></p><p>è‡ªå·±è§£å†³BUGçš„èƒ½åŠ›ä¸å¤ªè¡Œï¼Œç°åœ¨æ–‡æ¡£çš„é‡è¦æ€§æ˜¯ä½“ç°å‡ºæ¥äº†ï¼Œå› ä¸ºè€å¸ˆå¾ˆå¤šä¸œè¥¿éƒ½è°ƒæ•™å¥½äº†ï¼Œæˆ‘ä»¬ç”¨çš„æ—¶å€™ä¼šå‡ºç°å¾ˆå¤šé—®é¢˜ï¼Œè¦å»è§£å†³å°±æ˜¯è¦çœ‹åšå®¢ã€‚å¹³å¸¸è§£å†³ä¸€äº›BUGä¸é¡ºåˆ©çš„è¯éƒ½ä¼šèŠ±ä¸€å°æ—¶ç”šè‡³ä¸€ä¸Šåˆçš„æ—¶é—´å»è§£å†³ï¼Œè¿™æ ·å½±å“è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œä¸ç®¡æ˜¯è¿›åº¦è¿˜æ˜¯å¿ƒæ€ã€‚</p><p>é…ç½®Hiveé‚£ä¸¤å¤©çš„æ—¶å€™å‘ç°äº†è‡ªèº«çš„é—®é¢˜ï¼Œå¯èƒ½æˆ‘è‡ªå·±çš„é‚£å°æœºå­ï¼Œåº”è¯¥æ˜¯å¥½çš„ï¼Œå¯åŠ¨æ–¹å¼å’Œè€å¸ˆä¸ä¸€æ ·è€Œå·²ï¼Œå¯¼è‡´æˆ‘ç”¨è€å¸ˆé‚£ç§æ–¹å¼ï¼Œä¸€ç›´ç­‰ä¸åˆ°OKï¼Œè€Œä¸”å‘½ä»¤æ•²å®Œï¼Œæç¤ºä¿¡æ¯å’Œè€å¸ˆä¸ä¸€æ ·ï¼Œå°±è§‰å¾—è‡ªå·±ä¹‹å‰çš„é…ç½®å“ªé‡Œæœ‰äº†é—®é¢˜ï¼Œåˆæ‰¾ä¸åˆ°ï¼Œé‡å†™å¼„äº†ä¸‰å°ï¼Œä»å¤´åˆ°å°¾ java hadoop hive spark é‡é…ç½®ã€‚åé¢åˆ°JDBCçš„æ—¶å€™ï¼Œæç¤ºä¿¡æ¯è·Ÿä¹‹å‰è¿˜æ˜¯ä¸€æ ·ï¼Œä½†æ˜¯è‡ªå·±è¯•ç€å»è¿è¡Œäº†ä¸€ä¸‹ï¼Œå‘ç°å¥½äº†ã€‚æ„Ÿè§‰æµªè´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œå°±æ˜¯å› ä¸ºè‡ªå·±æ²¡æœ‰å»è¯•beelineå‘½ä»¤ï¼Œè®¤ä¸ºå‰é¢é”™ï¼Œåé¢ä¹Ÿé”™ã€‚</p><p>ç„¶åè‡ªå·±å­¦ä¹ çš„æ—¶å€™ï¼Œæ²¡å…ˆæå‰å»ææ‡‚è¿™ä¸œè¥¿æ˜¯å¹²å˜›çš„ï¼Œè¦åœ¨ä»€ä¹ˆçš„åŸºç¡€ä¹‹ä¸Šï¼Œæ‰€ä»¥å‡ºç°äº†å­¦ä¹ æ­¥éª¤çš„é—®é¢˜ï¼ŒSparkSQLä¹‹å‰è¦çœ‹Hiveï¼ŒHiveä¹‹å‰è¦çœ‹Hadoopï¼Œè¿™æ˜¯ä¸€æ¡çº¿ï¼Œæ•´åäº†ï¼Œå°±ä¼šå¬ä¸æ‡‚ã€‚åƒä¹‹å‰å­¦Hadoopçš„æ—¶å€™ï¼Œæ²¡å…ˆææ‡‚Hadoopæ˜¯ä»€ä¹ˆï¼Œå‰é¢è®²hadoopæ˜¯ä»€ä¹ˆå¹²å˜›çš„ï¼Œä¸ºäº†è¿›åº¦ï¼Œç›´æ¥è·³äº†ï¼Œå¯¼è‡´å­¦åˆ°åé¢ï¼Œéƒ½ä¸çŸ¥é“hadoopæ˜¯ä»€ä¹ˆå¹²å˜›çš„ï¼Œåˆå»çœ‹äº†åšå®¢ï¼Œå†å­¦çš„æ—¶å€™ä¼šç›¸å¯¹å®¹æ˜“ç‚¹ï¼Œæœ‰æ¸…æ™°çš„æ¡ç†ã€‚ä¸ç„¶å°±åƒæ— å¤´è‹è‡ä¸€æ ·ï¼Œä¸çŸ¥é“åœ¨å­¦ä»€ä¹ˆã€‚ä¸ºäº†è¿›åº¦ï¼Œè®²æ¦‚è¿°å¯ä»¥è·³ï¼Œæœ€å¥½è¿˜æ˜¯å¾—å…ˆå»åšå®¢äº†è§£ï¼Œçœ‹æ–‡æ¡£æ¯”è§†é¢‘å¿«å¾ˆå¤šï¼Œä¹Ÿèƒ½å¼„æ˜ç™½ä¸œè¥¿çš„ä½œç”¨ã€‚</p><p>ç°åœ¨å­¦ä¹ çš„æ—¶é—´ç›¸å¯¹ä¹‹å‰å¢åŠ äº†ï¼ŒåŠ ä¸Šå‘¨æœ«ä»¥åŠæ¯å¤©çš„æ—©å…«æ™šä¹ï¼Œä¸€å¤©å­¦ä¹ æ—¶é—´å¯ä»¥è¾¾åˆ°8ä¸ªå°æ—¶ï¼ŒåŠ ä¸Šè¦èµ¶è¿›åº¦ï¼Œå­¦ä¹ æ•ˆç‡æ¯”ä¹‹å‰é«˜ä¸Šä¸å°‘ï¼Œå› ä¸ºé…ç½®å’Œå­¦ä¹ é¡ºåºï¼Œæ‹–ç´¯çš„è¿™ä¸ªæœˆçš„è¿›åº¦ï¼Œæœ¬æ¥è¿™ä¸ªæœˆæ‰“ç®—Hiveå­¦å®Œçš„ï¼Œç„¶åèŠ±ä¸¤å¤©å›å¤´çœ‹ä¸‹SparkSQLå°±å¯ä»¥åˆ·é¢˜äº†ï¼Œç°åœ¨Hiveåªçœ‹äº†ä¸€åŠï¼Œå¸Œæœ›ä¸‹æ˜ŸæœŸèƒ½å­¦å®Œè‡ªå·±çš„ä»»åŠ¡ï¼Œç„¶åå­¦é•¿å‡ºé¢˜åšä¸€ä¸‹ï¼Œçœ‹ä¸€ç™¾éä¸å¦‚å»åšä¸€éã€‚è‡ªå·±æ¯”ä¹‹å‰çš„è¿›æ­¥ä¹Ÿè›®å¤§çš„ï¼Œå­¦ä¼šäº†çœ‹æ–‡æ¡£ï¼ŒçœŸçš„æ˜¯äº‹åŠåŠŸå€ï¼Œå­¦ä¼šä¸€ä¸ªè¯­è¨€çš„åŸºæœ¬ç”¨æ³•ï¼Œçœ‹æ–‡æ¡£ä¸éœ€è¦ä¸€ä¸ªæ˜ŸæœŸå°±èƒ½æå®šã€‚æ–‡æ¡£çš„é‡è¦è¿˜æ˜¯ä½“ç°å‡ºæ¥äº†ã€‚ç°åœ¨çš„å­¦ä¹ æ­¥éª¤å°±æ˜¯çœ‹æ–‡æ¡£ï¼Œåˆ°å‡ºBUGï¼Œæˆ–è€…çœ‹ä¸æ‡‚çš„åœ°æ–¹ï¼Œå†å»çœ‹è§†é¢‘ï¼Œè§†é¢‘ä¸è¡Œå°±å»CSDNæœã€‚ç„¶åè‡ªå·±çš„åšå®¢ä¹Ÿæ˜¯å¾ˆä¹…æ²¡æ›´æ–°äº†ï¼Œè™½ç„¶æ²¡ä»€ä¹ˆç‚¹å‡»é‡ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿˜æ˜¯è¦å†™èµ·æ¥çš„ï¼Œç­‰å¤§æ•°æ®ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½å†æŠŠåšå®¢å‘èµ·æ¥ï¼Œè‡ªå·±å¤„ç†BUGçš„è¿‡ç¨‹ä»€ä¹ˆï¼Œéƒ½å¯ä»¥å»å‘ï¼Œäº‰å–ä¸€å¤©ä¸€ç¯‡ã€‚å½“ä½œæ—¥å¸¸ä»»åŠ¡ä¸€æ ·ã€‚</p>]]></content>
    
    
    <summary type="html">åˆ›æ–°å·¥ä½œå®¤8æœˆæ€»ç»“</summary>
    
    
    
    <category term="å·¥ä½œå®¤æœˆæ€»ç»“" scheme="https://u7u7.top/categories/%E5%B7%A5%E4%BD%9C%E5%AE%A4%E6%9C%88%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="æ€»ç»“" scheme="https://u7u7.top/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>8æœˆç¬”è®°</title>
    <link href="https://u7u7.top/posts/c2f4db5d.html"/>
    <id>https://u7u7.top/posts/c2f4db5d.html</id>
    <published>2023-03-11T00:21:25.000Z</published>
    <updated>2023-03-11T00:21:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="8-1-Hiveå‹ç¼©å’Œå­˜å‚¨-ä»¥åŠä¼˜åŒ–">8.1 Hiveå‹ç¼©å’Œå­˜å‚¨ ä»¥åŠä¼˜åŒ–</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜">2.æ ‡é¢˜</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¹ç«  å‹ç¼©å’Œå­˜å‚¨</span><br><span class="line">ç¬¬åç«  hiveä¼˜åŒ–</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>hadoopå‹ç¼©é…ç½®</p><p>å‹ç¼©å‚æ•°é…ç½®</p><p>å¼€å¯Mapè¾“å‡ºé˜¶æ®µå‹ç¼© åˆ©ç”¨MR</p><p>ä¼ä¸šè°ƒä¼˜</p><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="ä¸ªäººç†è§£">ä¸ªäººç†è§£</h3><p>å‹ç¼©å’Œè§£å‹å’Œæˆ‘ä»¬å¹³å¸¸windowä½¿ç”¨çš„å·®ä¸å¤šï¼Œè™½ç„¶æ˜¯åœ¨hiveä¸­çš„å‹ç¼©å’Œè§£å‹ ä½†æ˜¯åº•å±‚è¿˜æ˜¯åˆ©ç”¨hadoopä¸­çš„MRï¼Œæ‰€ä»¥å‹ç¼©ç¼–ç ä¹Ÿæ˜¯MRæ‰€æ”¯æŒçš„ã€‚</p><p>æœ‰å“ªäº›æˆ‘æˆªå›¾å‡ºæ¥</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220904125544572.png" alt="image-20220904125544572"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220904125555816.png" alt="image-20220904125555816"></p><p>æ ¹æ®æ€§èƒ½æ¯”è¾ƒï¼Œå¯ä»¥çœ‹å‡º LZOçš„æ€§èƒ½è¿œè¿œé¢†å…ˆäºå…¶ä»–ä¸¤ä¸ª</p><p>åœ¨å®é™…çš„é¡¹ç›®å¼€å‘å½“ä¸­ï¼Œhive è¡¨çš„æ•°æ®å­˜å‚¨æ ¼å¼ä¸€èˆ¬é€‰æ‹©ï¼šorc æˆ– parquetã€‚å‹ç¼©æ–¹å¼ä¸€èˆ¬é€‰æ‹© snappyï¼Œlzoã€‚</p><h3 id="å¼€å¯Mapè¾“å‡ºé˜¶æ®µå‹ç¼©">å¼€å¯Mapè¾“å‡ºé˜¶æ®µå‹ç¼©</h3><p>å› ä¸ºmapè¾“å‡ºé˜¶æ®µå‹ç¼©ä¸­jobï¼Œæ•°æ®ä¼ è¾“é‡å¾ˆå¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬æ ¹æ®æ•ˆç‡éœ€è¦é€‚é‡å‡å°‘ï¼Œåœ¨jobä¸­å·¥ä½œçš„æ˜¯mapå’Œreduce taské—´æ•°æ®ä¼ è¾“ã€‚åˆ©ç”¨hiveä»£ç å¼€å¯</p><p>åˆ†4æ­¥ æœ€åä¸€æ­¥æ˜¯æŸ¥è¯¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">--1.å¼€å¯hiveä¸­é—´ä¼ è¾“æ•°æ®å‹ç¼©åŠŸèƒ½</span><br><span class="line">hive (default)&gt;set hive.exec.compress.intermediate=true;</span><br><span class="line">--2.å¼€å¯mapreduceä¸­mapçš„è¾“å‡ºå‹ç¼©åŠŸèƒ½</span><br><span class="line">hive (default)&gt;set mapreduce.map.output.compress=true;</span><br><span class="line">--3.è®¾ç½®mapreduceä¸­mapè¾“å‡ºæ•°æ®çš„å‹ç¼©æ–¹å¼</span><br><span class="line">hive (default)&gt;set mapreduce.map.output.compress.codec=</span><br><span class="line">org.apache.hadoop.io.compress.SnappyCodec;</span><br><span class="line">--4.æ‰§è¡ŒæŸ¥è¯¢è¯­å¥</span><br><span class="line">hive (default)&gt; select count(ename) name from emp;</span><br></pre></td></tr></table></figure><h3 id="å¼€å¯Reduceè¾“å‡ºé˜¶æ®µå‹ç¼©">å¼€å¯Reduceè¾“å‡ºé˜¶æ®µå‹ç¼©</h3><p>å¦‚æœhiveå·²ç»æŠŠæ•°æ®å¯¼å…¥çš„è¡¨ä¸­æ²¡è¿™ä¸ªæ—¶å€™æ€ä¹ˆå‹ç¼©ï¼Œå°±éœ€è¦ç”¨Reduce</p><p>hive.exec.compress.outputåœ¨hiveä¸­ é»˜è®¤è®¾ç½®ä¸ºfalse æ„æ€å°±æ˜¯è¾“å‡ºæ˜¯çº¯æ–‡æœ¬æ–‡ä»¶</p><p>è®¾ç½®ä¸ºtrue å°±æ˜¯å‹ç¼©æ–‡ä»¶</p><p>ä¹Ÿæ˜¯å››æ¡å‘½ä»¤ æœ€åä¸€æ¡æŸ¥è¯¢ å¯ä»¥æŸ¥è¯¢è¾“å‡ºæ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">--ï¼ˆ1ï¼‰å¼€å¯ hive æœ€ç»ˆè¾“å‡ºæ•°æ®å‹ç¼©åŠŸèƒ½</span><br><span class="line">hive (default)&gt;set hive.exec.compress.output=true;</span><br><span class="line">--ï¼ˆ2ï¼‰å¼€å¯ mapreduce æœ€ç»ˆè¾“å‡ºæ•°æ®å‹ç¼©</span><br><span class="line">hive (default)&gt;set mapreduce.output.fileoutputformat.compress=true;</span><br><span class="line">--ï¼ˆ3ï¼‰è®¾ç½® mapreduce æœ€ç»ˆæ•°æ®è¾“å‡ºå‹ç¼©æ–¹å¼</span><br><span class="line">hive (default)&gt; set mapreduce.output.fileoutputformat.compress.codec =</span><br><span class="line">org.apache.hadoop.io.compress.SnappyCodec;</span><br><span class="line">--ï¼ˆ4ï¼‰è®¾ç½® mapreduce æœ€ç»ˆæ•°æ®è¾“å‡ºå‹ç¼©ä¸ºå—å‹ç¼©</span><br><span class="line">hive (default)&gt; set </span><br><span class="line">mapreduce.output.fileoutputformat.compress.type=BLOCK;</span><br><span class="line">--ï¼ˆ5ï¼‰æµ‹è¯•ä¸€ä¸‹è¾“å‡ºç»“æœæ˜¯å¦æ˜¯å‹ç¼©æ–‡ä»¶</span><br><span class="line">hive (default)&gt; insert overwrite local directory</span><br><span class="line">&#x27;/opt/module/data/distribute-result&#x27; select * from emp distribute by </span><br><span class="line">deptno sort by empno desc;</span><br></pre></td></tr></table></figure><h3 id="ä¼ä¸šçº§è°ƒä¼˜">ä¼ä¸šçº§è°ƒä¼˜</h3><p>åœ¨å°šç¡…è°·ç»™çš„æ–‡æ¡£ä¸­æœ‰ï¼Œæ¯”è¾ƒå¤šï¼Œè€Œä¸”ç›®å‰å¯¹è‡ªå·±å­¦ä¹ ç”¨å¤„ä¸å¤§ã€‚å°±ä¸è®¡å…¥ç¬”è®°äº†ã€‚</p><h2 id="5-æ€»ç»“">5.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ ä»»åŠ¡ä¸æ˜¯å¾ˆé‡ï¼ŒåŸºæœ¬ç®—æ˜¯hiveçš„å®Œç»“äº†ã€‚ å‹ç¼©å’Œå­˜å‚¨ï¼Œè·Ÿç€æ–‡æ¡£è¯•ç€æ•´äº†ä¸€ä¸‹ï¼ŒèŠ±è´¹çš„æ—¶é—´æ¯”è¾ƒå¤šï¼Œä¸‰ä¸ªæ¥å°æ—¶ï¼Œç„¶åé™ä¸‹å¿ƒå»çœ‹äº†ä¼˜åŒ–çš„æ–‡æ¡£ï¼Œçœ‹å®Œï¼Œè®¤ä¸ºå¯¹ä»¥åhiveæ“ä½œï¼Œåº”è¯¥ç”¨å¤„æŒºå¤§çš„ï¼Œä¸»è¦å°±æ˜¯æé«˜æ•ˆç‡é—®é¢˜ï¼Œä½†æ˜¯æœ‰ä¸€äº›éº»çƒ¦ï¼Œè€Œä¸”æ¯”èµ›ä¹Ÿä¸ä¼šè®¾ç½®è¿™äº›å‚æ•°ï¼Œå°±å…ˆä¸å»çº ç»“äº†ï¼Œä»Šå¤©å€’æ˜¯æ²¡æœ‰ä»€ä¹ˆéš¾ç‚¹ï¼Œæ˜å¤©è¯•ç€å»åšhiveé¢˜åº“äº†ã€‚</p><h1 id="8-2-Hiveå¤ä¹ -sqoopå®Œç»“">8.2 Hiveå¤ä¹  sqoopå®Œç»“</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-2">1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-2">2.æ ‡é¢˜</h2><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">P101_å°šç¡…è°·<span class="variable">_Sqoop_</span>è¯¾ç¨‹ä»‹ç»</span><br><span class="line">P202_å°šç¡…è°·<span class="variable">_Sqoop_</span>å®‰è£…</span><br><span class="line">P303_å°šç¡…è°·<span class="variable">_Sqoop_</span>å…¨éƒ¨æ•°æ®å¯¼å…¥</span><br><span class="line">P404_å°šç¡…è°·<span class="variable">_Sqoop_</span>æŸ¥è¯¢å¯¼å…¥</span><br><span class="line">P505_å°šç¡…è°·<span class="variable">_Sqoop_</span>å¯¼å…¥æŒ‡å®šåˆ—</span><br><span class="line">P606_å°šç¡…è°·<span class="variable">_Sqoop_</span>æŸ¥è¯¢æ¡ä»¶å¯¼å…¥</span><br><span class="line">P707_å°šç¡…è°·<span class="variable">_Sqoop_</span>å¯¼å…¥æ•°æ®åˆ°Hive</span><br><span class="line">P808_å°šç¡…è°·<span class="variable">_Sqoop_</span>å¯¼å…¥æ•°æ®åˆ°HBase</span><br><span class="line">P909_å°šç¡…è°·<span class="variable">_Sqoop_</span>å¯¼å‡ºæ•°æ®</span><br><span class="line">P1010_å°šç¡…è°·<span class="variable">_Sqoop_</span>è„šæœ¬è°ƒç”¨                </span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-2">3-æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="å®‰è£…sqoop">å®‰è£…sqoop</h3><h4 id="å¯¼å…¥çš„å‡ ç§æ–¹å¼">å¯¼å…¥çš„å‡ ç§æ–¹å¼</h4><h4 id="å¯¼å‡ºæ•°æ®">å¯¼å‡ºæ•°æ®</h4><h4 id="è„šæœ¬è°ƒç”¨">è„šæœ¬è°ƒç”¨</h4><h2 id="æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°">æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="ä»€ä¹ˆæ˜¯Sqoop">ä»€ä¹ˆæ˜¯Sqoop</h3><p>Sqoopæ˜¯ä¸€æ¬¾å¼€æºçš„å·¥å…·ï¼Œä¸»è¦ç”¨äºåœ¨Hadoop(Hive)ä¸ä¼ ç»Ÿçš„æ•°æ®åº“mysqlé—´è¿›è¡Œæ•°æ®çš„ä¼ é€’ï¼Œå¯ä»¥å°†ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“Mysqlä¸­çš„æ•°æ®å¯¼è¿›åˆ°Hadoopçš„HDFSä¸­ï¼Œä¹Ÿå¯ä»¥å°†HDFSçš„æ•°æ®å¯¼è¿›åˆ°å…³ç³»å‹æ•°æ®åº“ä¸­ã€‚</p><p>æˆ‘ç†è§£å°±æ˜¯å¯¼å…¥å¯¼å‡ºæ•°æ®åº“æ–¹ä¾¿</p><h3 id="Sqoopå®‰è£…">Sqoopå®‰è£…</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä¸‹è½½å¹¶è§£å‹</span><br><span class="line">ä¿®æ”¹é…ç½®æ–‡ä»¶</span><br><span class="line">æ‹·è´<span class="keyword">JDBCé©±åŠ¨</span></span><br><span class="line"><span class="keyword"></span>éªŒè¯Sqoop</span><br><span class="line">æµ‹è¯•Sqoopæ˜¯å¦èƒ½å¤ŸæˆåŠŸè¿æ¥æ•°æ®åº“</span><br></pre></td></tr></table></figure><h3 id="å¯¼å…¥æ•°æ®">å¯¼å…¥æ•°æ®</h3><p>å¯¼å…¥æ•°æ®å°±æ˜¯ä»éå¤§æ•°æ®é›†ç¾¤ ä¹Ÿæ¿€ç´ RDBMS å‘å¤§æ•°æ®é›†ç¾¤ HDFS Hive Hbase è¿™äº› ä¼ è¾“æ•°æ® ä¿—ç§°å¯¼å…¥</p><p>ä»RDBMSåˆ°HDFS</p><p>1.å…¨éƒ¨å¯¼å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">bin/sqoop import \</span><br><span class="line">--connect jdbc:mysql://hadoop86:3306/company \</span><br><span class="line">--username root \</span><br><span class="line">--password 000000 \</span><br><span class="line">--table staff \</span><br><span class="line">--target-dir /user/company \</span><br><span class="line">--delete-target-dir \</span><br><span class="line">--num-mappers 1 \</span><br><span class="line">--fields-terminated-by &quot;\t&quot;</span><br></pre></td></tr></table></figure><p>2.æŸ¥è¯¢å¯¼å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">bin/sqoop import \</span><br><span class="line">--connect jdbc:mysql://hadoop86:3306/company \</span><br><span class="line">--username root \</span><br><span class="line">--password 000000 \</span><br><span class="line">--target-dir /user/company \</span><br><span class="line">--delete-target-dir \</span><br><span class="line">--num-mappers 1 \</span><br><span class="line">--fields-terminated-by &quot;\t&quot; \</span><br><span class="line">--query &#x27;select name,sex from staff where id &lt;=1 and $CONDITIONS;&#x27;</span><br></pre></td></tr></table></figure><p><strong>å¦‚æœqueryåä½¿ç”¨çš„æ˜¯åŒå¼•å·ï¼Œåˆ™$CONDITIONSå‰å¿…é¡»åŠ è½¬ç§»ç¬¦ï¼Œé˜²æ­¢shellè¯†åˆ«ä¸ºè‡ªå·±çš„å˜é‡ã€‚</strong></p><p>3.å¯¼å…¥æŒ‡å®šåˆ—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">bin/sqoop import \</span><br><span class="line">--connect jdbc:mysql://hadoop86:3306/company \</span><br><span class="line">--username root \</span><br><span class="line">--password 000000 \</span><br><span class="line">--target-dir /user/company \</span><br><span class="line">--delete-target-dir \</span><br><span class="line">--num-mappers 1 \</span><br><span class="line">--fields-terminated-by &quot;\t&quot; \</span><br><span class="line">--columns id,sex \</span><br><span class="line">--table staff</span><br></pre></td></tr></table></figure><p>columnsä¸­å¦‚æœæ¶‰åŠåˆ°å¤šåˆ—ï¼Œç”¨é€—å·åˆ†éš”ï¼Œåˆ†éš”æ—¶ä¸è¦æ·»åŠ ç©ºæ ¼</p><p>4.ä½¿ç”¨sqoopå…³é”®å­—ç­›é€‰æŸ¥è¯¢å¯¼å…¥æ•°æ®</p><p>å¯ä»¥è‡ªå®šä¹‰ç­›é€‰æˆ–è€…å¯¹æ•°æ®è¿›è¡Œå¤„ç†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">bin/sqoop import \</span><br><span class="line">--connect jdbc:mysql://hadoop86:3306/company \</span><br><span class="line">--username root \</span><br><span class="line">--password 000000 \</span><br><span class="line">--target-dir /user/company \</span><br><span class="line">--delete-target-dir \</span><br><span class="line">--num-mappers 1 \</span><br><span class="line">--fields-terminated-by &quot;\t&quot; \</span><br><span class="line">--table staff \</span><br><span class="line">--where &quot;id=1&quot;</span><br></pre></td></tr></table></figure><h4 id="RDBMSåˆ°Hive">RDBMSåˆ°Hive</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">bin/sqoop import \</span><br><span class="line">--connect jdbc:mysql://hadoop102:3306/company \</span><br><span class="line">--username root \</span><br><span class="line">--password 000000 \</span><br><span class="line">--table staff \</span><br><span class="line">--num-mappers 1 \</span><br><span class="line">--hive-import \</span><br><span class="line">--fields-terminated-by &quot;\t&quot; \</span><br><span class="line">--hive-overwrite \</span><br><span class="line">--hive-table staff_hive</span><br></pre></td></tr></table></figure><p>è¯¥è¿‡ç¨‹åˆ†ä¸ºä¸¤æ­¥ï¼Œç¬¬ä¸€æ­¥å°†æ•°æ®å¯¼å…¥åˆ°HDFSï¼Œç¬¬äºŒæ­¥å°†å¯¼å…¥åˆ°HDFSçš„æ•°æ®è¿ç§»åˆ°Hiveä»“åº“ï¼Œç¬¬ä¸€æ­¥é»˜è®¤çš„ä¸´æ—¶ç›®å½•æ˜¯/user/root/è¡¨å</p><h4 id="RDBMSåˆ°Hbase">RDBMSåˆ°Hbase</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">bin/sqoop import \</span><br><span class="line">--connect jdbc:mysql://hadoop102:3306/company \</span><br><span class="line">--username root \</span><br><span class="line">--password 000000 \</span><br><span class="line">--table company \</span><br><span class="line">--columns &quot;id,name,sex&quot; \</span><br><span class="line">--column-family &quot;info&quot; \</span><br><span class="line">--hbase-create-table \</span><br><span class="line">--hbase-row-key &quot;id&quot; \</span><br><span class="line">--hbase-table &quot;hbase_company&quot; \</span><br><span class="line">--num-mappers 1 \</span><br><span class="line">--split-by id</span><br></pre></td></tr></table></figure><p>æ‰‹åŠ¨åˆ›å»ºHBaseè¡¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hbase&gt; create &#x27;hbase_company,&#x27;info&#x27;</span><br></pre></td></tr></table></figure><p>HBaseæŸ¥çœ‹è¡¨scanå‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scan &#x27;hbase_company&#x27;</span><br></pre></td></tr></table></figure><h3 id="å¯¼å‡ºæ•°æ®-2">å¯¼å‡ºæ•°æ®</h3><p>å°±å’Œå¯¼å…¥åè¿‡æ¥äº† ä»å¤§æ•°æ®é›†ç¾¤åˆ°éå¤§æ•°æ®é›†ç¾¤ä¼ è¾“æ•°æ® å«åšå¯¼å‡º export å…³é”®å­—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">bin/sqoop export \</span><br><span class="line">--connect jdbc:mysql://hadoop102:3306/company \</span><br><span class="line">--username root \</span><br><span class="line">--password 000000 \</span><br><span class="line">--table staff \</span><br><span class="line">--num-mappers 1 \</span><br><span class="line">--export-dir /user/hive/warehouse/staff_hive \</span><br><span class="line">--input-fields-terminated-by &quot;\t&quot;</span><br></pre></td></tr></table></figure><h4 id="è„šæœ¬æ‰“åŒ…"><strong>è„šæœ¬æ‰“åŒ…</strong></h4><p>ä½¿ç”¨optæ ¼å¼çš„æ–‡ä»¶æ‰“åŒ…sqoopå‘½ä»¤ æˆ‘çš„ç†è§£å°±æ˜¯æŠŠå‘½ä»¤å°è£… ç„¶åè°ƒç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">vi opt/job_HDFS2RDBMS.opt</span><br><span class="line"></span><br><span class="line">export</span><br><span class="line">--connect</span><br><span class="line">jdbc:mysql://hadoop102:3306/company</span><br><span class="line">--username</span><br><span class="line">root</span><br><span class="line">--password</span><br><span class="line">000000</span><br><span class="line">--table</span><br><span class="line">staff</span><br><span class="line">--num-mappers</span><br><span class="line">1</span><br><span class="line">--export-dir</span><br><span class="line">/user/hive/warehouse/staff_hive</span><br><span class="line">--input-fields-terminated-by</span><br><span class="line">&quot;\t&quot;                 </span><br></pre></td></tr></table></figure><h2 id="æ‰©å±•å­¦ä¹ éƒ¨åˆ†">æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>Hiveç»ƒä¹ </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">--æŸ¥è¯¢å¹³å‡æˆç»©å¤§äºç­‰äº60åˆ†çš„åŒå­¦</span><br><span class="line">--çš„å­¦ç”Ÿç¼–å·å’Œå­¦ç”Ÿå§“åå’Œå¹³å‡æˆç»©</span><br><span class="line">SELECT stu.id,stu.name,AVG(sco.scores)</span><br><span class="line">from student stu join score sco</span><br><span class="line">on stu.id = sco.sid</span><br><span class="line">group by stu.id,stu.name</span><br><span class="line">having AVG(sco.scores) &gt;= 60;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4.æŸ¥è¯¢å¹³å‡æˆç»©å°äº60åˆ†çš„åŒå­¦çš„å­¦ç”Ÿç¼–å·å’Œå­¦ç”Ÿ</span><br><span class="line">å§“åå’Œå¹³å‡æˆç»© â€“ (åŒ…æ‹¬æœ‰æˆç»©çš„å’Œæ— æˆç»©çš„)</span><br><span class="line"></span><br><span class="line">SELECT stu.id, stu.name,ROUND(AVG(sco.scores)) as avg_scores</span><br><span class="line">from student stu join score sco</span><br><span class="line">on stu.id = sco.sid</span><br><span class="line">group by stu.id, stu.name</span><br><span class="line">having AVG(sco.scores) &lt; 60</span><br><span class="line">union all --åˆå¹¶æŸ¥è¯¢ç»“æœ</span><br><span class="line">SELECT stu1.id, stu1.name,0 as avg_scores</span><br><span class="line">from student stu1</span><br><span class="line">where stu1.id not IN</span><br><span class="line">(select sid from score);</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“">æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä¸Šåˆéƒ½åœ¨å®‰è£…ç¯å¢ƒï¼Œå› ä¸ºsqoopä¹‹å‰è¦å®‰è£…zookå’Œhbaseï¼Œå»çœ‹äº†å°šç¡…è°·ä¹‹å‰çš„å®‰è£…è§†é¢‘ï¼Œè¿˜æ˜¯æŒºé¡ºåˆ©çš„ï¼Œä¸€ä¸Šåˆå°±æå¥½äº†ï¼Œä½†æ˜¯åœ¨sqoopï¼Œä»HDFSå¯¼å‡ºæ•°æ®åˆ°Hiveçš„ç»ƒä¹ çš„æ—¶å€™ï¼Œå‡ºç°äº†é—®é¢˜ï¼Œå°±æ˜¯è¿è¡Œè¿‡ç¨‹ï¼Œåˆ°ä¸€åŠå¡ä½ä¸åŠ¨äº†ã€‚å»æœè§£å†³é—®é¢˜è¯´æ˜¯è™šæ‹ŸæœºCPUåˆ†é…é—®é¢˜ï¼Œä»¥åæ˜¯åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨çš„ï¼Œå°±æ²¡å»ç®¡äº†ï¼ŒçŸ¥é“æ€ä¹ˆå¯¼å‡ºå°±å¥½äº†ã€‚ä»Šå¤©çš„å­¦ä¹ çŠ¶æ€å¾ˆä¸é”™çš„ï¼Œéƒ½å¾ˆé¡ºåˆ©ï¼Œæ²¡æœ‰ä¹‹å‰å®‰è£…Hiveçš„é‚£ç§çƒ¦èºæ„Ÿï¼Œsqoopçš„ä½¿ç”¨ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œé‡ç‚¹åœ¨å¯¼å…¥æ•°æ®ï¼Œä¹Ÿæ˜¯è›®å®¹æ˜“çš„ï¼Œå…¨éƒ½æŒæ¡äº†ã€‚</p><h1 id="8-4-8-7-çœèµ›é¢˜ç›®åˆ†æ">8.4-8.7 çœèµ›é¢˜ç›®åˆ†æ</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-3">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>å¤§æ•°æ®çœèµ›å’Œå›½èµ›sparkä»£ç åˆ†æ</p><h2 id="3-æ€»ç»“">3.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>è¿™å‡ å¤©éƒ½æ˜¯çœ‹æ¯”èµ›æµç¨‹ï¼Œè¯»æ‡‚ä»»åŠ¡ä¹¦ä»€ä¹ˆçš„ï¼Œè¿˜æœ‰ææ˜Šæ¸…æ´—çš„ä»£ç å’Œsqlè¯­å¥ï¼Œå…ˆçœ‹å¤§è‡´çš„æµç¨‹ï¼Œæ¯ä¸ªæ¡ˆä¾‹éƒ½æ€ä¹ˆå¼„ã€‚æ¯ä¸€ä¸ªå‡½æ•°çš„ä½œç”¨ä»€ä¹ˆçš„ ï¼Œ åœ¨åˆšçœ‹åˆ°è¿™äº›ä»£ç éƒ½æ‡µé€¼äº†ï¼Œä¸€äº›å…³é”®å­—éƒ½ä¸çŸ¥é“æ˜¯å¹²å˜›ç”¨çš„ã€‚ä¸çŸ¥é“çš„å°±ä¸€ä¸ªä¸€ä¸ªå»æœï¼Œæ˜¯ä»€ä¹ˆä½œç”¨ï¼Œåæ­£å»ææ‡‚å¤§è‡´å…ˆäº†ï¼Œéš¾æ‡‚çš„ç‚¹åœ¨sparkçš„è‡ªå®šä¹‰çš„å‡½æ•°ï¼Œè¯»å–æ–‡ä»¶ä»€ä¹ˆçš„ï¼Œè¿™äº›å¼„äº†å¾ˆä¹…æ‰ææ˜ç™½ï¼Œè¿™ä¸¤å¤©å»é—®äº†ææ˜Šå¾ˆå¤šé—®é¢˜ï¼Œsqlå•Šsparkä»€ä¹ˆçš„ã€‚</p><h1 id="8-8-8-9-SparkSQLæ·±åº¦é›†æˆ">8.8-8.9 SparkSQLæ·±åº¦é›†æˆ</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-4">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-3">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>SparkSQLç”¨IDEAæ“ä½œHiveçš„è¿›é˜¶æ“ä½œ</p><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-2">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="å°è£…SparkSQLè¿Hiveæ–¹æ³•"><strong>å°è£…SparkSQLè¿Hiveæ–¹æ³•</strong></h3><p>å› ä¸ºæ¯æ¬¡å†™SparkSQLä»£ç çš„æ—¶å€™éƒ½éœ€è¦ï¼Œå†™ä¸€å¤§ä¸²è¿æ¥Hiveçš„ä»£ç ï¼Œæ‰€ä»¥è‡ªå·±ä¸ºäº†çœæ—¶é—´å°†ä»£ç å°è£…åˆ°ä¸€ä¸ªå·¥å…·ç±»äº†ï¼Œå†™SparkSQLä»£ç å‰è°ƒç”¨ä¸€ä¸‹å°±å¥½äº†</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.sparksql</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkConf</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">SQLUntilTools</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">Conf</span></span>: <span class="type">SparkSession</span> =&#123;</span><br><span class="line">    <span class="keyword">val</span> conf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local&quot;</span>).setAppName(<span class="string">&quot;SparkSQL1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–SparkSession</span></span><br><span class="line">    <span class="keyword">val</span> sparkSession: <span class="type">SparkSession</span> = <span class="type">SparkSession</span>.builder()</span><br><span class="line">      .config(conf)</span><br><span class="line">      <span class="comment">//å¼€å¯å¯¹Hiveçš„æ”¯æŒ</span></span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    sparkSession</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“ä½¿ç”¨</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220808093331230.png" alt="image-20220808093331230"></p><h4 id="ä½¿ç”¨insertIntoå‘hiveè¡¨ä¸­å†™å…¥æ•°æ®">ä½¿ç”¨insertIntoå‘hiveè¡¨ä¸­å†™å…¥æ•°æ®</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.sparksql</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.&#123;<span class="type">DataFrame</span>, <span class="type">SparkSession</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">SparkSQLWriteHive</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> sparkSessionConf: <span class="type">SparkSession</span> = <span class="type">SQLUntilTools</span>.<span class="type">SparkSessionConf</span></span><br><span class="line">    <span class="keyword">import</span> sparkSessionConf.sql</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">    <span class="keyword">val</span> resDf: <span class="type">DataFrame</span> = sql(<span class="string">&quot;select * from test6&quot;</span>)</span><br><span class="line"></span><br><span class="line">    resDf.write</span><br><span class="line">      <span class="comment">//æŒ‡å®šæ•°æ®å†™å…¥æ ¼å¼ append è¿½åŠ  overwriteè¦†ç›–</span></span><br><span class="line">      .mode(<span class="string">&quot;append&quot;</span>)</span><br><span class="line">    <span class="comment">//è¿™é‡Œéœ€è¦æŒ‡å®šæ•°æ®æ ¼å¼ parquet orc json csv text ä¸æŒ‡å®šé»˜è®¤æ˜¯parquet</span></span><br><span class="line">    <span class="comment">//é’ˆå¯¹insertIntoè€Œè¨€ å› ä¸ºæ˜¯å‘å·²ç»å­˜åœ¨çš„è¡¨å†™å…¥æ•°æ® æ‰€ä»¥formatå’Œoptionså‚æ•°ä¼šè¢«å¿½ç•¥</span></span><br><span class="line"><span class="comment">//      .format()</span></span><br><span class="line"><span class="comment">//      .options()</span></span><br><span class="line">      .insertInto(<span class="string">&quot;test7&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sparkSessionConf.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>è¿™ä¸¤å¤©å¤§éƒ¨åˆ†æ—¶é—´éƒ½åœ¨è°ƒé…ç½®ï¼Œä»£ç æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯IDEAä¸€ç›´è¿ä¸ä¸Šè™šæ‹Ÿæœºä¸­çš„hiveï¼Œæ™šä¸Šæ‰å‘ç°æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Œç¬¬äºŒå¤©å°±å»é‡è£…äº†ä¸‰å°ï¼Œlinuxä¸­sparkä¹Ÿå› ä¸ºç‰ˆæœ¬é—®é¢˜ï¼Œå¯¼è‡´è¦å…¨éƒ¨é‡è£…ï¼Œå› ä¸ºè‡ªå·±æŠŠHiveçš„è®¡ç®—æ¨¡å—ä»MRæ¢æˆäº†Sparkï¼Œæ¢Linuxçš„sparkæ¢äº†ä¸€ä¸Šåˆçš„æ—¶é—´ï¼Œä¸‹åˆæ‰å»åœ¨IDEAå­¦SparkSQLæ“ä½œhiveï¼Œå†…å®¹å€’æ˜¯ä¸éš¾ï¼ŒåŸºæœ¬å°±æ˜¯æŠŠhiveä¸­çš„ä»£ç æ”¾åˆ°SparkSQLçš„è¯­å¥ä¸­å»ï¼Œsql(â€œshow tablesâ€),è¿™ç§ç±»ä¼¼ï¼Œå”¯ä¸€çš„éš¾ç‚¹å°±æ˜¯IDEAè¿ä¸Šhiveäº†ã€‚</p><h1 id="8-10-Hiveå®æˆ˜ä¹‹å½±éŸ³æ•°æ®åˆ†æ">8.10 Hiveå®æˆ˜ä¹‹å½±éŸ³æ•°æ®åˆ†æ</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-5">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-3">2.æ ‡é¢˜</h2><figure class="highlight tp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">P</span><span class="number">119119</span>-å°šç¡…è°·-Hive-æ¡ˆä¾‹å®æ“ éœ€æ±‚ä¸€</span><br><span class="line"><span class="keyword">P</span><span class="number">120120</span>-å°šç¡…è°·-Hive-æ¡ˆä¾‹å®æ“ éœ€æ±‚äºŒ</span><br><span class="line"><span class="keyword">P</span><span class="number">121121</span>-å°šç¡…è°·-Hive-æ¡ˆä¾‹å®æ“ éœ€æ±‚ä¸‰</span><br><span class="line"><span class="keyword">P</span><span class="number">122122</span>-å°šç¡…è°·-Hive-æ¡ˆä¾‹å®æ“ éœ€æ±‚å››</span><br><span class="line"><span class="keyword">P</span><span class="number">123123</span>-å°šç¡…è°·-Hive-æ¡ˆä¾‹å®æ“ éœ€æ±‚äº”</span><br><span class="line"><span class="keyword">P</span><span class="number">124124</span>-å°šç¡…è°·-Hive-æ¡ˆä¾‹å®æ“ éœ€æ±‚å…­</span><br><span class="line"><span class="keyword">P</span><span class="number">125125</span>-å°šç¡…è°·-Hive-æ¡ˆä¾‹å®æ“ éœ€æ±‚ä¸ƒ</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-4">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>ä»Šæ—¥å­¦ä¹ éƒ¨åˆ†</p><p>SparkSQLå•†å“</p><p>Hiveå½±éŸ³</p><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-3">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="Sparké¡¹ç›®å®æˆ˜">Sparké¡¹ç›®å®æˆ˜</h3><h4 id="å„åŒºåŸŸçƒ­é—¨å•†å“Top3">å„åŒºåŸŸçƒ­é—¨å•†å“Top3</h4><p>æ•ˆæœå›¾</p><p>æ³¨æ„æ˜¯è¦è‡ªå®šä¹‰udafå‡½æ•° æ¯”è¾ƒéš¾ ä¸å¤ªå¥½æŒæ¡ æ‰€ä»¥æ˜¯è·Ÿç€è€å¸ˆæ•²çš„</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220810194109044.png" alt="image-20220810194109044"></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.sparksql</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkConf</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql._</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.expressions.&#123;<span class="type">Aggregator</span>, <span class="type">UserDefinedAggregateFunction</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable</span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ListBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">subjectTest2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> sparkSessionConf: <span class="type">SparkSession</span> = <span class="type">SQLUntilTools</span>.<span class="type">SparkSessionConf</span></span><br><span class="line">    <span class="keyword">import</span> sparkSessionConf.sql</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;use atguigu&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æŸ¥è¯¢åŸºæœ¬æ•°æ®</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |select p.product_name,ci.area,ci.city_name,a.* from user_visit_action a</span></span><br><span class="line"><span class="string">        |join product_info p on p.product_id=a.click_product_id</span></span><br><span class="line"><span class="string">        |join city_info ci on a.city_id = ci.city_id where product_id&lt;&gt;-1</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).createOrReplaceTempView(<span class="string">&quot;t1&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ ¹æ®åŒºåŸŸ å•†å“ è¿›è¡Œæ•°æ®çš„èšåˆ</span></span><br><span class="line"><span class="comment">//    sparkSessionConf.udf.register(&quot;city_remark&quot;,new CityRemarkUDAF())</span></span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |select area,product_name,count(*) as ct,</span></span><br><span class="line"><span class="string">        |cityRemark(city_name) as city_remark</span></span><br><span class="line"><span class="string">        |from t1 group by area, product_name</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).createOrReplaceTempView(<span class="string">&quot;t2&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åŒºåŸŸå†…å¯¹ç‚¹å‡»æ•°é‡æ’è¡Œ</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |select *,rank() over (partition by area order by ct desc) as rank from t2</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).createOrReplaceTempView(<span class="string">&quot;t3&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å–å‰ä¸‰å</span></span><br><span class="line">    sql(<span class="string">&quot;select * from t3 where t3.rank&lt;=3&quot;</span>).show(<span class="literal">false</span>) <span class="comment">//false å…¨éƒ¨æ˜¾ç¤º</span></span><br><span class="line"></span><br><span class="line">    sparkSessionConf.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">Buffer</span>(<span class="params"> var total : <span class="type">Long</span>, var cityMap:mutable.<span class="type">Map</span>[<span class="type">String</span>, <span class="type">Long</span>] </span>)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// è‡ªå®šä¹‰èšåˆå‡½æ•°ï¼šå®ç°åŸå¸‚å¤‡æ³¨åŠŸèƒ½</span></span><br><span class="line">  <span class="comment">// 1. ç»§æ‰¿Aggregator, å®šä¹‰æ³›å‹</span></span><br><span class="line">  <span class="comment">//    IN ï¼š åŸå¸‚åç§°</span></span><br><span class="line">  <span class="comment">//    BUF : Buffer =&gt;ã€æ€»ç‚¹å‡»æ•°é‡ï¼ŒMap[ï¼ˆcity, cntï¼‰, (city, cnt)]ã€‘</span></span><br><span class="line">  <span class="comment">//    OUT : å¤‡æ³¨ä¿¡æ¯</span></span><br><span class="line">  <span class="comment">// 2. é‡å†™æ–¹æ³•ï¼ˆ6ï¼‰</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">CityRemarkUDAF</span> <span class="keyword">extends</span> <span class="title">Aggregator</span>[<span class="type">String</span>, <span class="type">Buffer</span>, <span class="type">String</span>]</span>&#123;</span><br><span class="line">    <span class="comment">// ç¼“å†²åŒºåˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">zero</span></span>: <span class="type">Buffer</span> = &#123;</span><br><span class="line">      <span class="type">Buffer</span>(<span class="number">0</span>, mutable.<span class="type">Map</span>[<span class="type">String</span>, <span class="type">Long</span>]())</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ›´æ–°ç¼“å†²åŒºæ•°æ®</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">reduce</span></span>(buff: <span class="type">Buffer</span>, city: <span class="type">String</span>): <span class="type">Buffer</span> = &#123;</span><br><span class="line">      buff.total += <span class="number">1</span></span><br><span class="line">      <span class="keyword">val</span> newCount: <span class="type">Long</span> = buff.cityMap.getOrElse(city, <span class="number">0</span>L) + <span class="number">1</span></span><br><span class="line">      buff.cityMap.update(city, newCount)</span><br><span class="line">      buff</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå¹¶ç¼“å†²åŒºæ•°æ®</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">merge</span></span>(buff1: <span class="type">Buffer</span>, buff2: <span class="type">Buffer</span>): <span class="type">Buffer</span> = &#123;</span><br><span class="line">      buff1.total += buff2.total</span><br><span class="line"></span><br><span class="line">      <span class="keyword">val</span> map1: mutable.<span class="type">Map</span>[<span class="type">String</span>, <span class="type">Long</span>] = buff1.cityMap</span><br><span class="line">      <span class="keyword">val</span> map2: mutable.<span class="type">Map</span>[<span class="type">String</span>, <span class="type">Long</span>] = buff2.cityMap</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ä¸¤ä¸ªMapçš„åˆå¹¶æ“ä½œ</span></span><br><span class="line">      <span class="comment">//            buff1.cityMap = map1.foldLeft(map2) &#123;</span></span><br><span class="line">      <span class="comment">//                case ( map, (city, cnt) ) =&gt; &#123;</span></span><br><span class="line">      <span class="comment">//                    val newCount = map.getOrElse(city, 0L) + cnt</span></span><br><span class="line">      <span class="comment">//                    map.update(city, newCount)</span></span><br><span class="line">      <span class="comment">//                    map</span></span><br><span class="line">      <span class="comment">//                &#125;</span></span><br><span class="line">      <span class="comment">//            &#125;</span></span><br><span class="line">      map2.foreach&#123;</span><br><span class="line">        <span class="keyword">case</span> (city , cnt) =&gt; &#123;</span><br><span class="line">          <span class="keyword">val</span> newCount = map1.getOrElse(city, <span class="number">0</span>L) + cnt</span><br><span class="line">          map1.update(city, newCount)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      buff1.cityMap = map1</span><br><span class="line">      buff1</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å°†ç»Ÿè®¡çš„ç»“æœç”Ÿæˆå­—ç¬¦ä¸²ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">finish</span></span>(buff: <span class="type">Buffer</span>): <span class="type">String</span> = &#123;</span><br><span class="line">      <span class="keyword">val</span> remarkList = <span class="type">ListBuffer</span>[<span class="type">String</span>]()</span><br><span class="line"></span><br><span class="line">      <span class="keyword">val</span> totalcnt = buff.total</span><br><span class="line">      <span class="keyword">val</span> cityMap = buff.cityMap</span><br><span class="line"></span><br><span class="line">      <span class="comment">// é™åºæ’åˆ—</span></span><br><span class="line">      <span class="keyword">val</span> cityCntList = cityMap.toList.sortWith(</span><br><span class="line">        (left, right) =&gt; &#123;</span><br><span class="line">          left._2 &gt; right._2</span><br><span class="line">        &#125;</span><br><span class="line">      ).take(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">val</span> hasMore = cityMap.size &gt; <span class="number">2</span></span><br><span class="line">      <span class="keyword">var</span> rsum = <span class="number">0</span>L</span><br><span class="line">      cityCntList.foreach&#123;</span><br><span class="line">        <span class="keyword">case</span> ( city, cnt ) =&gt; &#123;</span><br><span class="line">          <span class="keyword">val</span> r = cnt * <span class="number">100</span> / totalcnt</span><br><span class="line">          remarkList.append(<span class="string">s&quot;<span class="subst">$&#123;city&#125;</span> <span class="subst">$&#123;r&#125;</span>%&quot;</span>)</span><br><span class="line">          rsum += r</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> ( hasMore ) &#123;</span><br><span class="line">        remarkList.append(<span class="string">s&quot;å…¶ä»– <span class="subst">$&#123;100 - rsum&#125;</span>%&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      remarkList.mkString(<span class="string">&quot;, &quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">bufferEncoder</span></span>: <span class="type">Encoder</span>[<span class="type">Buffer</span>] = <span class="type">Encoders</span>.product</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">outputEncoder</span></span>: <span class="type">Encoder</span>[<span class="type">String</span>] = <span class="type">Encoders</span>.<span class="type">STRING</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Hiveå½±éŸ³">Hiveå½±éŸ³</h3><h4 id="æ•°æ®æ¸…æ´—">æ•°æ®æ¸…æ´—</h4><p>å†™å¥½ETLä»£ç </p><p>åˆ©ç”¨mavenå°†è¿è¡Œçš„javaä»£ç æ‰“åŒ…</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">bin<span class="operator">/</span>yarn jar <span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>software<span class="operator">/</span>subject<span class="operator">/</span>sparksql<span class="number">-1.0</span><span class="operator">-</span>SNAPSHOT.jar com.atguigu.bigdata.sparksql.VideoETLRunner  <span class="comment">--è¿è¡Œä»£ç åŒ…å</span></span><br><span class="line"><span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>software<span class="operator">/</span>subject<span class="operator">/</span>video<span class="operator">/</span>video  <span class="comment">--hdfs éœ€è¦æ¸…æ´—çš„æ–‡ä»¶</span></span><br><span class="line"><span class="operator">/</span>opt<span class="operator">/</span><span class="keyword">module</span><span class="operator">/</span>software<span class="operator">/</span>subject<span class="operator">/</span>output <span class="comment">--æ¸…æ´—å æ–‡ä»¶æ”¾çš„ä½ç½®</span></span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºè¡¨å¯¼å…¥æ•°æ®">åˆ›å»ºè¡¨å¯¼å…¥æ•°æ®</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220810195710564.png" alt="image-20220810195710564"></p><h4 id="åšé¢˜">åšé¢˜</h4><p>ç­”æ¡ˆå’Œæ­¥éª¤éƒ½åœ¨IDEAé‡Œé¢ åŒ…åœ¨ bigdata package com.atguigu.bigdata.sparksql.day7SubjectTest</p><p>â€“ç»Ÿè®¡è§†é¢‘è§‚çœ‹æ•°Top10</p><p>â€“ç»Ÿè®¡è§†é¢‘ç±»åˆ«çƒ­åº¦Top10</p><p>â€“ç»Ÿè®¡è§†é¢‘è§‚çœ‹æ•°Top20æ‰€å±ç±»åˆ«</p><p>â€“ç»Ÿè®¡è§†é¢‘è§‚çœ‹æ•°Top50æ‰€å…³è”è§†é¢‘çš„æ‰€å±ç±»åˆ«Rank</p><p>â€“ç»Ÿè®¡æ¯ä¸ªç±»åˆ«ä¸­çš„è§†é¢‘çƒ­åº¦Top10</p><p>â€“ç»Ÿè®¡æ¯ä¸ªç±»åˆ«ä¸­è§†é¢‘æµé‡Top10</p><p>â€“ç»Ÿè®¡ä¸Šä¼ è§†é¢‘æœ€å¤šçš„ç”¨æˆ·Top10ä»¥åŠä»–ä»¬ä¸Šä¼ çš„è§†é¢‘</p><p>â€“ç»Ÿè®¡æ¯ä¸ªç±»åˆ«è§†é¢‘è§‚çœ‹æ•°Top10</p><h2 id="7-æ€»ç»“-2">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©å­¦ä¹ çš„ä»»åŠ¡ä¸æ˜¯å¾ˆé‡ï¼Œå®æˆ˜æ€§çš„ï¼Œä¸ŠåˆæŠŠä¸Šæ¬¡çš„SparkSQLæ“ä½œçš„å•†å“è¡¨çš„æŸ¥è¯¢ç­›é€‰å¤ä¹ äº†ä¸€ä¸‹ï¼ŒæŠŠHiveå®æˆ˜çš„ç”µå½±è¡¨å’Œç”¨æˆ·è¡¨å»ºäº†ä¸€ä¸‹ï¼Œä¸‹åˆå»æ•²ä»£ç ï¼Œè¿˜æ˜¯å¾ˆç®€å•ï¼Œè½»æ¾çš„ã€‚å› ä¸ºä¹‹å‰åå¤ç¢ç£¨äº†50é¢˜çš„hiveï¼Œåšäº†å››äº”å¤©å‘¢ï¼Œæ‰€ä»¥çœ‹æ¸…æ¥šè¡¨çš„ç»“æ„å’Œè¦æ±‚ï¼Œæ•²å‡ºæ¥ä¸éš¾ã€‚</p><h1 id="8-11-SparkSQLå‘hiveè¡¨å†™å…¥æ•°æ®">8.11 SparkSQLå‘hiveè¡¨å†™å…¥æ•°æ®</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-6">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-4">2.æ ‡é¢˜</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">1</span>-<span class="number">2</span>-<span class="number">2</span> ä½¿ç”¨saveAsTableå‘Hiveè¡¨ä¸­å†™å…¥æ•°æ®-<span class="number">1</span></span><br><span class="line"><span class="attribute">1</span>-<span class="number">2</span>-<span class="number">3</span> ä½¿ç”¨saveAsTableå‘Hiveè¡¨ä¸­å†™å…¥æ•°æ®-<span class="number">2</span></span><br><span class="line"><span class="attribute">1</span>-<span class="number">2</span>-<span class="number">4</span> ä½¿ç”¨SparkSQLå‘Hiveè¡¨ä¸­å†™å…¥æ•°æ®</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-5">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>SparkSQLå‘Hiveè¡¨å†™å…¥æ•°æ®çš„å‡ ç§æ–¹å¼</p><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-4">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="ä½¿ç”¨saveAsTabelå‘Hiveè¡¨ä¸­å†™å…¥æ•°æ®">ä½¿ç”¨saveAsTabelå‘Hiveè¡¨ä¸­å†™å…¥æ•°æ®</h3><p>è‡ªå·±å¤§éƒ¨åˆ†å¯¹ä»£ç çš„è§£é‡Šéƒ½ åœ¨ æ³¨è§£é‚£è¾¹</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.sparksql</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.&#123;<span class="type">DataFrame</span>, <span class="type">SparkSession</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨saveAsTable()å‘Hiveè¡¨ä¸­å†™å…¥æ•°æ®</span></span><br><span class="line"><span class="comment"> * Created by xuwei</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">SparkSQLWriteHive_2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> sparkSessionConf: <span class="type">SparkSession</span> = <span class="type">SQLUntilTools</span>.<span class="type">SparkSessionConf</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">import</span> sparkSessionConf.sql</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">    <span class="keyword">val</span> resDf: <span class="type">DataFrame</span> = sql(<span class="string">&quot;select * from student_score&quot;</span>)</span><br><span class="line">    <span class="comment">//2ï¼šsaveAsTable()</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œè¡¨ä¸å­˜åœ¨å’Œè¡¨å­˜åœ¨</span></span><br><span class="line"><span class="comment">     * 1ï¼šè¡¨ä¸å­˜åœ¨ï¼Œåˆ™ä¼šæ ¹æ®DataFrameä¸­çš„Schemaè‡ªåŠ¨åˆ›å»ºç›®æ ‡è¡¨å¹¶å†™å…¥æ•°æ®</span></span><br><span class="line"><span class="comment">     * 2ï¼šè¡¨å­˜åœ¨</span></span><br><span class="line"><span class="comment">     *  2.1ï¼šå¦‚æœmode=appendï¼Œå½“DataFrameä¸­çš„Schemaå’Œè¡¨ä¸­çš„Schemaç›¸åŒ(å­—æ®µé¡ºåºå¯ä»¥ä¸åŒ)ï¼Œåˆ™æ‰§è¡Œè¿½åŠ æ“ä½œã€‚</span></span><br><span class="line"><span class="comment">     *  å½“DataFrameä¸­çš„Schemaå’Œè¡¨ä¸­çš„Schemaä¸ç›¸åŒï¼Œåˆ™æŠ¥é”™ã€‚</span></span><br><span class="line"><span class="comment">     *  2.2ï¼šå¦‚æœmode=overwriteï¼Œå½“DataFrameä¸­çš„Schemaå’Œè¡¨ä¸­çš„Schemaç›¸åŒ(å­—æ®µé¡ºåºå¯ä»¥ä¸åŒ)ï¼Œåˆ™ç›´æ¥è¦†ç›–ã€‚</span></span><br><span class="line"><span class="comment">     *  å½“DataFrameä¸­çš„Schemaå’Œè¡¨ä¸­çš„Schemaä¸ç›¸åŒï¼Œåˆ™ä¼šåˆ é™¤ä¹‹å‰çš„è¡¨ï¼Œç„¶åæŒ‰ç…§DataFrameä¸­çš„Schemaé‡æ–°åˆ›å»ºè¡¨å¹¶å†™å…¥æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//è¡¨ä¸å­˜åœ¨</span></span><br><span class="line">    <span class="comment">/*resDf.write</span></span><br><span class="line"><span class="comment">      //æŒ‡å®šæ•°æ®å†™å…¥æ ¼å¼appendï¼šè¿½åŠ ã€‚overwriteï¼šè¦†ç›–ã€‚</span></span><br><span class="line"><span class="comment">      .mode(&quot;overwrite&quot;)</span></span><br><span class="line"><span class="comment">      //è¿™é‡Œéœ€è¦æŒ‡å®šæ•°æ®æ ¼å¼ï¼šparquet, orc, avro(éœ€è¦æ·»åŠ å¤–éƒ¨ä¾èµ–), json, csv, textã€‚ä¸æŒ‡å®šçš„è¯é»˜è®¤æ˜¯parquetæ ¼å¼ã€‚</span></span><br><span class="line"><span class="comment">      //æ³¨æ„ï¼štextæ•°æ®æ ¼å¼åœ¨è¿™é‡Œä¸æ”¯æŒintæ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment">      //é’ˆå¯¹æ™®é€šæ–‡æœ¬æ–‡ä»¶æ•°æ®æ ¼å¼(jsonã€csv)ï¼Œé»˜è®¤åˆ›å»ºçš„Hiveè¡¨ç¤ºSequenceFileæ ¼å¼çš„ï¼Œæ— æ³•è¯»å–ç”Ÿæˆçš„æ™®é€šæ–‡ä»¶ï¼Œä¸è¦ä½¿ç”¨è¿™ç§æ ¼å¼ã€‚</span></span><br><span class="line"><span class="comment">      //parquetã€orcæ•°æ®æ ¼å¼å¯ä»¥æ­£å¸¸ä½¿ç”¨</span></span><br><span class="line"><span class="comment">      .format(&quot;parquet&quot;)</span></span><br><span class="line"><span class="comment">      .saveAsTable(&quot;student_score_bak&quot;)*/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¡¨å­˜åœ¨</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |create table if not exists student_score_bak(</span></span><br><span class="line"><span class="string">        | id int,</span></span><br><span class="line"><span class="string">        | name string,</span></span><br><span class="line"><span class="string">        | sub string,</span></span><br><span class="line"><span class="string">        | score int</span></span><br><span class="line"><span class="string">        |)using hive</span></span><br><span class="line"><span class="string">        | OPTIONS(</span></span><br><span class="line"><span class="string">        |   fileFormat &#x27;parquet&#x27;</span></span><br><span class="line"><span class="string">        |   )</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line">    resDf.write</span><br><span class="line">      <span class="comment">//æŒ‡å®šæ•°æ®å†™å…¥æ ¼å¼appendï¼šè¿½åŠ ã€‚overwriteï¼šè¦†ç›–ã€‚</span></span><br><span class="line">      .mode(<span class="string">&quot;overwrite&quot;</span>)</span><br><span class="line">      <span class="comment">//è¿™é‡Œéœ€è¦æŒ‡å®šæ•°æ®æ ¼å¼ï¼šparquet, orc, avro(éœ€è¦æ·»åŠ å¤–éƒ¨ä¾èµ–), json, csv, textã€‚ä¸æŒ‡å®šçš„è¯é»˜è®¤æ˜¯parquetæ ¼å¼ã€‚</span></span><br><span class="line">      <span class="comment">//æ³¨æ„ï¼štextæ•°æ®æ ¼å¼åœ¨è¿™é‡Œä¸æ”¯æŒintæ•°æ®ç±»å‹</span></span><br><span class="line">      <span class="comment">//é’ˆå¯¹å·²å­˜åœ¨çš„è¡¨ï¼Œå½“modeä¸ºappendæ—¶ï¼Œè¿™é‡Œå¿…é¡»æŒ‡å®šä¸ºhiveã€‚</span></span><br><span class="line">      <span class="comment">//é’ˆå¯¹å·²å­˜åœ¨çš„è¡¨ï¼Œå½“modeä¸ºoverwriteæ—¶ï¼š</span></span><br><span class="line">      <span class="comment">//  è¿™é‡Œå¦‚æœæŒ‡å®šä¸ºhiveï¼Œåˆ™ä¼šç”Ÿæˆé»˜è®¤æ•°æ®å­˜å‚¨æ ¼å¼(TextFile)çš„Hiveè¡¨</span></span><br><span class="line">      <span class="comment">//  è¿™é‡Œå¦‚æœæŒ‡å®šä¸ºæ™®é€šæ–‡æœ¬æ–‡ä»¶æ•°æ®æ ¼å¼(jsonã€csv)ï¼Œé»˜è®¤åˆ›å»ºçš„Hiveè¡¨æ˜¯SequenceFileæ ¼å¼çš„ï¼Œæ— æ³•è¯»å–ç”Ÿæˆçš„æ™®é€šæ–‡ä»¶ï¼Œä¸éœ€è¦ä½¿ç”¨è¿™ç§æ–¹å¼</span></span><br><span class="line">      <span class="comment">//parquetã€orcæ•°æ®æ ¼å¼å¯ä»¥æ­£å¸¸ä½¿ç”¨</span></span><br><span class="line">      .format(<span class="string">&quot;parquet&quot;</span>)</span><br><span class="line">      .saveAsTable(<span class="string">&quot;student_score_bak&quot;</span>)</span><br><span class="line">    sparkSessionConf.stop()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°†ä»£ç æ‰“åŒ… æ”¾linuxæ‰§è¡Œ éœ€è¦ä¿®æ”¹ä¸€äº›é…ç½® ä»¥åŠåœ¨pom.xmlæ–‡ä»¶ä¸­ å¢åŠ  <scope>provided</scope></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.sparksql</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkConf</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨saveAsTable()å‘Hiveè¡¨ä¸­å†™å…¥æ•°æ®</span></span><br><span class="line"><span class="comment"> * Created by xuwei</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">SparkSQLWriteHive_2_cluster</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> conf = <span class="keyword">new</span> <span class="type">SparkConf</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–SparkSessionï¼Œä¸ºäº†æ“ä½œSparkSQL</span></span><br><span class="line">    <span class="keyword">val</span> sparkSession = <span class="type">SparkSession</span></span><br><span class="line">      .builder()</span><br><span class="line">      .appName(<span class="string">&quot;SparkSQLWriteHive_2_cluster&quot;</span>)</span><br><span class="line">      .config(conf)</span><br><span class="line">      <span class="comment">//å¼€å¯å¯¹Hiveçš„æ”¯æŒï¼Œæ”¯æŒè¿æ¥Hiveçš„MetaStoreã€Hiveçš„åºåˆ—åŒ–ã€Hiveçš„è‡ªå®šä¹‰å‡½æ•°</span></span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .getOrCreate()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">import</span> sparkSession.sql</span><br><span class="line">    <span class="comment">//æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">    <span class="keyword">val</span> resDf = sql(<span class="string">&quot;select * from student_score&quot;</span>)</span><br><span class="line">    <span class="comment">//2ï¼šsaveAsTable()</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œè¡¨ä¸å­˜åœ¨å’Œè¡¨å­˜åœ¨</span></span><br><span class="line"><span class="comment">     * 1ï¼šè¡¨ä¸å­˜åœ¨ï¼Œåˆ™ä¼šæ ¹æ®DataFrameä¸­çš„Schemaè‡ªåŠ¨åˆ›å»ºç›®æ ‡è¡¨å¹¶å†™å…¥æ•°æ®</span></span><br><span class="line"><span class="comment">     * 2ï¼šè¡¨å­˜åœ¨</span></span><br><span class="line"><span class="comment">     *  2.1ï¼šå¦‚æœmode=appendï¼Œå½“DataFrameä¸­çš„Schemaå’Œè¡¨ä¸­çš„Schemaç›¸åŒ(å­—æ®µé¡ºåºå¯ä»¥ä¸åŒ)ï¼Œåˆ™æ‰§è¡Œè¿½åŠ æ“ä½œã€‚</span></span><br><span class="line"><span class="comment">     *  å½“DataFrameä¸­çš„Schemaå’Œè¡¨ä¸­çš„Schemaä¸ç›¸åŒï¼Œåˆ™æŠ¥é”™ã€‚</span></span><br><span class="line"><span class="comment">     *  2.2ï¼šå¦‚æœmode=overwriteï¼Œå½“DataFrameä¸­çš„Schemaå’Œè¡¨ä¸­çš„Schemaç›¸åŒ(å­—æ®µé¡ºåºå¯ä»¥ä¸åŒ)ï¼Œåˆ™ç›´æ¥è¦†ç›–ã€‚</span></span><br><span class="line"><span class="comment">     *  å½“DataFrameä¸­çš„Schemaå’Œè¡¨ä¸­çš„Schemaä¸ç›¸åŒï¼Œåˆ™ä¼šåˆ é™¤ä¹‹å‰çš„è¡¨ï¼Œç„¶åæŒ‰ç…§DataFrameä¸­çš„Schemaé‡æ–°åˆ›å»ºè¡¨å¹¶å†™å…¥æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¡¨ä¸å­˜åœ¨</span></span><br><span class="line">    <span class="comment">/*resDf.write</span></span><br><span class="line"><span class="comment">      //æŒ‡å®šæ•°æ®å†™å…¥æ ¼å¼appendï¼šè¿½åŠ ã€‚overwriteï¼šè¦†ç›–ã€‚</span></span><br><span class="line"><span class="comment">      .mode(&quot;overwrite&quot;)</span></span><br><span class="line"><span class="comment">      //è¿™é‡Œéœ€è¦æŒ‡å®šæ•°æ®æ ¼å¼ï¼šparquet, orc, avro(éœ€è¦æ·»åŠ å¤–éƒ¨ä¾èµ–), json, csv, textã€‚ä¸æŒ‡å®šçš„è¯é»˜è®¤æ˜¯parquetæ ¼å¼ã€‚</span></span><br><span class="line"><span class="comment">      //æ³¨æ„ï¼štextæ•°æ®æ ¼å¼åœ¨è¿™é‡Œä¸æ”¯æŒintæ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment">      //é’ˆå¯¹æ™®é€šæ–‡æœ¬æ–‡ä»¶æ•°æ®æ ¼å¼(jsonã€csv)ï¼Œé»˜è®¤åˆ›å»ºçš„Hiveè¡¨ç¤ºSequenceFileæ ¼å¼çš„ï¼Œæ— æ³•è¯»å–ç”Ÿæˆçš„æ™®é€šæ–‡ä»¶ï¼Œä¸è¦ä½¿ç”¨è¿™ç§æ ¼å¼ã€‚</span></span><br><span class="line"><span class="comment">      //parquetã€orcæ•°æ®æ ¼å¼å¯ä»¥æ­£å¸¸ä½¿ç”¨</span></span><br><span class="line"><span class="comment">      .format(&quot;parquet&quot;)</span></span><br><span class="line"><span class="comment">      .saveAsTable(&quot;student_score_bak&quot;)*/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¡¨å­˜åœ¨</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |create table if not exists student_score_bak(</span></span><br><span class="line"><span class="string">        | id int,</span></span><br><span class="line"><span class="string">        | name string,</span></span><br><span class="line"><span class="string">        | sub string,</span></span><br><span class="line"><span class="string">        | score int</span></span><br><span class="line"><span class="string">        |)using hive</span></span><br><span class="line"><span class="string">        | OPTIONS(</span></span><br><span class="line"><span class="string">        |   fileFormat &#x27;parquet&#x27;</span></span><br><span class="line"><span class="string">        |   )</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line">    resDf.write</span><br><span class="line">      <span class="comment">//æŒ‡å®šæ•°æ®å†™å…¥æ ¼å¼appendï¼šè¿½åŠ ã€‚overwriteï¼šè¦†ç›–ã€‚</span></span><br><span class="line">      .mode(<span class="string">&quot;overwrite&quot;</span>)</span><br><span class="line">      <span class="comment">//è¿™é‡Œéœ€è¦æŒ‡å®šæ•°æ®æ ¼å¼ï¼šparquet, orc, avro(éœ€è¦æ·»åŠ å¤–éƒ¨ä¾èµ–), json, csv, textã€‚ä¸æŒ‡å®šçš„è¯é»˜è®¤æ˜¯parquetæ ¼å¼ã€‚</span></span><br><span class="line">      <span class="comment">//æ³¨æ„ï¼štextæ•°æ®æ ¼å¼åœ¨è¿™é‡Œä¸æ”¯æŒintæ•°æ®ç±»å‹</span></span><br><span class="line">      <span class="comment">//é’ˆå¯¹å·²å­˜åœ¨çš„è¡¨ï¼Œå½“modeä¸ºappendæ—¶ï¼Œè¿™é‡Œå¿…é¡»æŒ‡å®šä¸ºhiveã€‚</span></span><br><span class="line">      <span class="comment">//é’ˆå¯¹å·²å­˜åœ¨çš„è¡¨ï¼Œå½“modeä¸ºoverwriteæ—¶ï¼š</span></span><br><span class="line">      <span class="comment">//  è¿™é‡Œå¦‚æœæŒ‡å®šä¸ºhiveï¼Œåˆ™ä¼šç”Ÿæˆé»˜è®¤æ•°æ®å­˜å‚¨æ ¼å¼(TextFile)çš„Hiveè¡¨</span></span><br><span class="line">      <span class="comment">//  è¿™é‡Œå¦‚æœæŒ‡å®šä¸ºæ™®é€šæ–‡æœ¬æ–‡ä»¶æ•°æ®æ ¼å¼(jsonã€csv)ï¼Œé»˜è®¤åˆ›å»ºçš„Hiveè¡¨æ˜¯SequenceFileæ ¼å¼çš„ï¼Œæ— æ³•è¯»å–ç”Ÿæˆçš„æ™®é€šæ–‡ä»¶ï¼Œä¸éœ€è¦ä½¿ç”¨è¿™ç§æ–¹å¼</span></span><br><span class="line">      <span class="comment">//parquetã€orcæ•°æ®æ ¼å¼å¯ä»¥æ­£å¸¸ä½¿ç”¨</span></span><br><span class="line">      .format(<span class="string">&quot;parquet&quot;</span>)</span><br><span class="line">      .saveAsTable(<span class="string">&quot;student_score_bak&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    sparkSession.stop()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ©ç”¨SparkSQLå‘hiveè¡¨å†™å…¥æ•°æ®-ï¼ˆæ¨èï¼‰">åˆ©ç”¨SparkSQLå‘hiveè¡¨å†™å…¥æ•°æ® ï¼ˆæ¨èï¼‰</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.sparksql</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkConf</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨SparkSQLå‘Hiveè¡¨ä¸­å†™å…¥æ•°æ®</span></span><br><span class="line"><span class="comment"> * Created by xuwei</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">SparkSQLWriteHive_3</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> conf = <span class="keyword">new</span> <span class="type">SparkConf</span>()</span><br><span class="line">      .setMaster(<span class="string">&quot;local&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–SparkSessionï¼Œä¸ºäº†æ“ä½œSparkSQL</span></span><br><span class="line">    <span class="keyword">val</span> sparkSession = <span class="type">SparkSession</span></span><br><span class="line">      .builder()</span><br><span class="line">      .appName(<span class="string">&quot;SparkSQLWriteHive_3&quot;</span>)</span><br><span class="line">      .config(conf)</span><br><span class="line">      <span class="comment">//å¼€å¯å¯¹Hiveçš„æ”¯æŒï¼Œæ”¯æŒè¿æ¥Hiveçš„MetaStoreã€Hiveçš„åºåˆ—åŒ–ã€Hiveçš„è‡ªå®šä¹‰å‡½æ•°</span></span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .getOrCreate()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">import</span> sparkSession.sql</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3ï¼šSparkSQLè¯­å¥</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼šè¡¨ä¸å­˜åœ¨å’Œè¡¨å­˜åœ¨</span></span><br><span class="line"><span class="comment">     * 1ï¼šè¡¨ä¸å­˜åœ¨ï¼Œä½¿ç”¨create table as select</span></span><br><span class="line"><span class="comment">     * 2ï¼šè¡¨å­˜åœ¨ï¼Œä½¿ç”¨insert into select</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="comment">//è¡¨ä¸å­˜åœ¨</span></span><br><span class="line">    <span class="comment">/*sql(</span></span><br><span class="line"><span class="comment">      &quot;&quot;&quot;</span></span><br><span class="line"><span class="comment">        |create table student_score_bak</span></span><br><span class="line"><span class="comment">        |as</span></span><br><span class="line"><span class="comment">        |select * from student_score</span></span><br><span class="line"><span class="comment">        |&quot;&quot;&quot;.stripMargin)*/</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¡¨å­˜åœ¨</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |create table if not exists student_score_bak(</span></span><br><span class="line"><span class="string">        | id int,</span></span><br><span class="line"><span class="string">        | name string,</span></span><br><span class="line"><span class="string">        | sub string,</span></span><br><span class="line"><span class="string">        | score int</span></span><br><span class="line"><span class="string">        |)using hive</span></span><br><span class="line"><span class="string">        | OPTIONS(</span></span><br><span class="line"><span class="string">        |   fileFormat &#x27;textfile&#x27;,</span></span><br><span class="line"><span class="string">        |   fieldDelim &#x27;,&#x27;</span></span><br><span class="line"><span class="string">        |   )</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert into student_score_bak</span></span><br><span class="line"><span class="string">        |select * from student_score</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    sparkSession.stop()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-BUGç‚¹">5. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>çœ‹æŠ¥é”™ç‚¹æ˜¯æœ€åä¸€è¡Œçš„stored as orc ç¿»è¯‘è¯´æ˜¯sqlä¸èƒ½ç”¨orcæ–‡ä»¶ CSDNæœç´¢</p><p>å®˜æ–¹å»ºè®®åœ¨hiveä¸­å»ºè¡¨ åœ¨SparkSQLä¸­ä½¿ç”¨ï¼Œå› ä¸ºåœ¨spaekåªèƒ½é»˜è®¤textfile æƒ³è¦æŒ‡å®šéœ€è¦ä½¿ç”¨using</p><p>æœ‰æ•ˆæŒ‡å®š create tablet1(id int)  <strong>using hive</strong> options(fileformatâ€™textfileâ€™)</p><p>fileformatæ”¯æŒçš„å…­ç§å‚æ•° sequencefile rcfile orc parquet textfile avro</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220811091010618.png" alt="image-20220811091010618"></p><h2 id="7-æ€»ç»“-3">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©å­¦ä¹ äº†Sparkçš„è¿›é˜¶æ“ä½œå§ï¼Œå‘hiveè¡¨ä¸­æ·»åŠ å¤„ç†æ•°æ®ï¼Œè¿™æ ·çš„æ·»åŠ æ–¹å¼ã€‚å¯ä»¥åœ¨å°†æ•°æ®è¿‡æ»¤ä»¥åï¼Œ  æŠŠæ–°è¿‡æ»¤å¥½çš„æ•°æ®ï¼Œå»ºç«‹æˆæ–°çš„è¡¨ã€‚ è€å¸ˆè®²è¯¾è¯´saveAtTableè¿™ç§æ–¹æ³•å¤ªéº»çƒ¦äº†ï¼Œå¹³å¸¸è¿˜æ˜¯ä½¿ç”¨SparkSQLæ¯”è¾ƒå¤šã€‚ä½†æ˜¯çœ‹å¤§ä¸‰çš„çœèµ›å¤§æ•°æ®æ•°æ®æ¸…æ´—çš„ä»£ç æ˜¯æœ‰ç”¨åˆ°saveAtTableçš„.</p><h1 id="8-12-with-â€¦-as-Hive-sqlç†è§£">8.12 with â€¦ as Hive sqlç†è§£</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-7">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="http://t.csdn.cn/KSKLW">http://t.csdn.cn/KSKLW</a></p><p><a href="http://t.csdn.cn/WMTZN">http://t.csdn.cn/WMTZN</a></p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-6">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h4 id="with-â€¦-as">with â€¦ as</h4><p>å‚è€ƒåšå®¢å¦‚ä¸Š</p><p><em><strong>with as</strong></em> ä¹Ÿå«åšå­æŸ¥è¯¢éƒ¨åˆ†ï¼Œé¦–å…ˆå®šä¹‰ä¸€ä¸ªsqlç‰‡æ®µï¼Œè¯¥sqlç‰‡æ®µä¼šè¢«æ•´ä¸ª<strong>sql</strong>è¯­å¥æ‰€ç”¨åˆ°ï¼Œä¸ºäº†è®©<strong>sql</strong>è¯­å¥çš„å¯è¯»æ€§æ›´é«˜äº›ï¼Œä½œä¸ºæä¾›æ•°æ®çš„éƒ¨åˆ†ï¼Œä¹Ÿå¸¸å¸¸ç”¨åœ¨unionç­‰é›†åˆæ“ä½œä¸­ã€‚</p><p>with aså°±ç±»ä¼¼äºä¸€ä¸ªè§†å›¾æˆ–ä¸´æ—¶è¡¨ï¼Œå¯ä»¥ç”¨æ¥å­˜å‚¨ä¸€éƒ¨åˆ†çš„sqlè¯­å¥ä½œä¸ºåˆ«åï¼Œä¸åŒçš„æ˜¯<strong>with as å±äºä¸€æ¬¡æ€§çš„ï¼Œè€Œä¸”å¿…é¡»è¦å’Œå…¶ä»–sqlä¸€èµ·ä½¿ç”¨æ‰å¯ä»¥</strong>ï¼</p><p>å…¶æœ€å¤§çš„å¥½å¤„å°±æ˜¯é€‚å½“çš„æé«˜ä»£ç å¯è¯»æ€§ï¼Œè€Œä¸”å¦‚æœwithå­å¥åœ¨åé¢è¦å¤šæ¬¡ä½¿ç”¨åˆ°ï¼Œè¿™å¯ä»¥å¤§å¤§çš„ç®€åŒ–SQLï¼›æ›´é‡è¦çš„æ˜¯ï¼šä¸€æ¬¡åˆ†æï¼Œå¤šæ¬¡ä½¿ç”¨ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¼šæä¾›æ€§èƒ½çš„åœ°æ–¹ï¼Œè¾¾åˆ°äº†â€œå°‘è¯»â€çš„ç›®æ ‡ã€‚</p><p>ç®€å•ä½¿ç”¨ è¯­æ³•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">WITH</span> t1 <span class="keyword">AS</span> (</span><br><span class="line">  <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">  <span class="keyword">FROM</span> carinfo</span><br><span class="line"> ), </span><br><span class="line"> t2 <span class="keyword">AS</span> (</span><br><span class="line">  <span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line">  <span class="keyword">FROM</span> car_blacklist</span><br><span class="line"> )</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">FROM</span> t1, t2</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>--<span class="keyword">with</span>å­å¥å¿…é¡»åœ¨å¼•ç”¨çš„<span class="keyword">select</span>è¯­å¥ä¹‹å‰å®šä¹‰,åŒçº§<span class="keyword">with</span>å…³é”®å­—åªèƒ½ä½¿ç”¨ä¸€æ¬¡,å¤šä¸ªåªèƒ½ç”¨é€—å·åˆ†å‰²ï¼›æœ€åä¸€ä¸ª<span class="keyword">with</span> å­å¥ä¸ä¸‹é¢çš„æŸ¥è¯¢ä¹‹é—´ä¸èƒ½æœ‰é€—å·ï¼Œåªé€šè¿‡å³æ‹¬å·åˆ†å‰²,<span class="keyword">with</span> å­å¥çš„æŸ¥è¯¢å¿…é¡»ç”¨æ‹¬å·æ‹¬èµ·æ¥.</span><br><span class="line"><span class="number">2</span>--å¦‚æœå®šä¹‰äº†<span class="keyword">with</span>å­å¥ï¼Œä½†å…¶åæ²¡æœ‰è·Ÿ<span class="keyword">select</span>æŸ¥è¯¢ï¼Œåˆ™ä¼šæŠ¥é”™ï¼</span><br></pre></td></tr></table></figure><p>è‡ªå·±ä½¿ç”¨åˆ†æ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ä¸ä½¿ç”¨with as*/</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span></span><br><span class="line">(<span class="keyword">select</span> <span class="operator">*</span>,<span class="built_in">rank</span>() <span class="keyword">over</span> (<span class="keyword">partition</span> <span class="keyword">by</span> area <span class="keyword">order</span> <span class="keyword">by</span> ct <span class="keyword">desc</span>) <span class="keyword">as</span> rank <span class="keyword">from</span></span><br><span class="line">(<span class="keyword">select</span> area,product_name,<span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> ct <span class="keyword">from</span></span><br><span class="line">(<span class="keyword">select</span> p.product_name,ci.area,ci.city_name,a.<span class="operator">*</span> <span class="keyword">from</span> user_visit_action a</span><br><span class="line"><span class="keyword">join</span> product_info p <span class="keyword">on</span> p.product_id<span class="operator">=</span>a.click_product_id</span><br><span class="line"><span class="keyword">join</span> city_info ci <span class="keyword">on</span> a.city_id <span class="operator">=</span> ci.city_id <span class="keyword">where</span> product_id<span class="operator">&lt;&gt;</span><span class="number">-1</span>) t1</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> area, product_name) t2</span><br><span class="line">) t3 <span class="keyword">where</span> t3.rank<span class="operator">&lt;=</span><span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*--ä½¿ç”¨with ..as*/</span></span><br><span class="line"><span class="keyword">with</span>  t1 <span class="keyword">as</span> ( <span class="keyword">select</span> p.product_name,ci.area,ci.city_name,a.<span class="operator">*</span> <span class="keyword">from</span> user_visit_action a</span><br><span class="line">          <span class="keyword">join</span> product_info p <span class="keyword">on</span> p.product_id<span class="operator">=</span>a.click_product_id</span><br><span class="line">          <span class="keyword">join</span> city_info ci <span class="keyword">on</span> a.city_id <span class="operator">=</span> ci.city_id <span class="keyword">where</span> product_id<span class="operator">&lt;&gt;</span><span class="number">-1</span> ),</span><br><span class="line">     t2 <span class="keyword">as</span> ( <span class="keyword">select</span> area,product_name,<span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">as</span> ct <span class="keyword">from</span> t1 <span class="keyword">group</span> <span class="keyword">by</span> area, product_name),</span><br><span class="line">     t3 <span class="keyword">as</span> ( <span class="keyword">select</span> <span class="operator">*</span>,<span class="built_in">rank</span>() <span class="keyword">over</span> (<span class="keyword">partition</span> <span class="keyword">by</span> area <span class="keyword">order</span> <span class="keyword">by</span> ct <span class="keyword">desc</span>) <span class="keyword">as</span> rank <span class="keyword">from</span> t2 )</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t3 <span class="keyword">where</span> t3.rank<span class="operator">&lt;=</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šæ¡ˆä¾‹å¯è§ï¼Œwith å¯¹Hiveå¯è¯»æ€§çš„æå‡æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚</p><p><strong>å…¶å®ä¸€äº›æ—¶å€™æ˜¯å¯ä»¥ç”¨with as ä»£æ›¿ join on çš„ä½†æ˜¯æˆ‘è§‰å¾—join onæ›´æ–¹ä¾¿è€Œä¸”ä»£ç é‡æ¯”è¾ƒå°‘ æ‰€ä»¥åƒè¡¨æ ¼åµŒå¥—å»æŸ¥çš„æ—¶å€™ï¼Œæˆ‘æ‰ä¼šå»ä½¿ç”¨with asæ¥æé«˜å¯è¯»æ€§</strong></p><h3 id="HiveæŸ¥è¯¢ç»“æ„å®Œæ•´">HiveæŸ¥è¯¢ç»“æ„å®Œæ•´</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">select distinct....</span><br><span class="line">from leftTable....</span><br><span class="line">join rightTable.... on ....</span><br><span class="line">where ....</span><br><span class="line">group by ....</span><br><span class="line">having ....</span><br><span class="line">order by ....</span><br><span class="line">limit ....</span><br><span class="line">union [all]....</span><br></pre></td></tr></table></figure><h4 id="hiveæ‰§è¡Œé¡ºåº">hiveæ‰§è¡Œé¡ºåº</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> å…ˆæ‰§è¡Œ <span class="keyword">from</span> å­å¥ </span><br><span class="line"><span class="number">2.</span> å†æ‰§è¡Œ <span class="keyword">on</span> å…³è”æ¡ä»¶</span><br><span class="line"><span class="number">3.</span> ç„¶åå†å…³è”å³è¡¨ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œ join....</span><br><span class="line"><span class="number">4.</span> å†æ‰§è¡Œ where....</span><br><span class="line"><span class="number">5.</span> æ‰§è¡Œ <span class="keyword">group</span> by.....</span><br><span class="line"><span class="number">6.</span> å†æ‰§è¡Œ having....</span><br><span class="line"><span class="number">7.</span> ç„¶åæ‰§è¡Œ select....</span><br><span class="line"><span class="number">8.</span> å¦‚æœæœ‰ <span class="keyword">distinct</span>ï¼Œåˆ™ä¼šå¯¹ <span class="keyword">select</span> é€‰æ‹©çš„æ‰€æœ‰å­—æ®µçš„å€¼çš„ç»„åˆå»é‡</span><br><span class="line"><span class="number">9.</span> å†æ‰§è¡Œ <span class="keyword">order</span> by....</span><br><span class="line"><span class="number">10.</span> å†æ‰§è¡Œ limit è¿›è¡Œé™åˆ¶æ¡æ•°æŸ¥è¯¢(åˆ†é¡µæŸ¥è¯¢)</span><br><span class="line"><span class="number">11.</span> æœ€åæ‰§è¡Œä¸¤ä¸ª <span class="keyword">sql</span> çš„åˆå¹¶ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šåˆ—åˆ«åå’Œè¡¨åˆ«åå°½é‡æ­£ç¡®ä½¿ç”¨ï¼Œåœ¨hiveä¸­ï¼Œéå¸¸ä¸¥æ ¼ï¼Œæœ‰çš„æ—¶å€™å¿…é¡»åŠ åˆ«åã€‚</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">1. hqlä»€ä¹ˆæ—¶å€™ä¸ä¼šè¢«ç¿»è¯‘æˆmrç¨‹åº</span><br><span class="line"> -- select * from tablename;</span><br><span class="line"> -- select * from tablename limit [m,]n;</span><br><span class="line">2. hqlå¯¹å­æŸ¥è¯¢æ”¯æŒçš„ä¸å¤Ÿå‹å¥½</span><br><span class="line"> (1) hqlæœ‰å­æŸ¥è¯¢æ—¶ï¼Œé€šå¸¸éƒ½ä¼šæœ‰è¡¨åˆ«åå’Œåˆ—åˆ«åçš„åº”ç”¨</span><br><span class="line"> (2) å­æŸ¥è¯¢å¯ä»¥åœ¨fromå­å¥ä¸­ï¼Œä¸mysqlçš„ç”¨æ³•ä¸€è‡´</span><br><span class="line"> (3) å­æŸ¥è¯¢å¯ä»¥åœ¨whereå­å¥ä¸­ï¼Œä½†æ˜¯åªèƒ½åº”ç”¨[not] in æˆ–è€… [not] exists</span><br><span class="line"> (4) å­æŸ¥è¯¢å¯ä»¥åœ¨havingå­å¥ä¸­ï¼Œä½†æ˜¯åªèƒ½åº”ç”¨[not] in æˆ–è€… [not] exists</span><br><span class="line"> (5) å­æŸ¥è¯¢åœ¨havingå­å¥ä¸­æ—¶ï¼Œå¦‚æœç”¨çš„æ˜¯inï¼Œå¹¶ä¸”æœ‰èšåˆå‡½æ•°ï¼Œé‚£ä¹ˆèšåˆå‡½æ•°åº”è¯¥åœ¨selectå­å¥å‡ºç°</span><br><span class="line"> (6) å­æŸ¥è¯¢ä¸æ”¯æŒåœ¨selectå­å¥ä¸­ã€‚</span><br><span class="line">--3. æŸ¥è¯¢åŸåˆ™</span><br><span class="line"> ï¼ˆ1ï¼‰èƒ½ä¸ä½¿ç”¨å­æŸ¥è¯¢ï¼Œå°±ä¸ç”¨å­æŸ¥è¯¢ï¼Œé€šå¸¸å­æŸ¥è¯¢éƒ½å¯ä»¥ä½¿ç”¨joinæ¥æ›¿æ¢</span><br><span class="line"> ï¼ˆ2ï¼‰èƒ½ä¸ç”¨joinå°±åˆ«ç”¨joinï¼Œä½†æ˜¯é€šå¸¸é¿å…ä¸äº†</span><br><span class="line"> ï¼ˆ3ï¼‰[not] in é€šå¸¸è¦æ›¿æ¢æˆ [not] exists</span><br><span class="line"> ï¼ˆ4ï¼‰joinæ—¶ï¼Œä¸€å®šè¦æ³¨æ„å°è¡¨é©±åŠ¨å¤§è¡¨</span><br><span class="line">--4ï¼Œèšåˆå‡½æ•°çš„countçš„ä¼˜åŒ–</span><br><span class="line"> #1. æ‰§è¡Œæ•ˆæœä¸Šï¼š</span><br><span class="line"> - count(*)åŒ…æ‹¬äº†æ‰€æœ‰çš„åˆ—ï¼Œç›¸å½“äºè¡Œæ•°ï¼Œåœ¨ç»Ÿè®¡ç»“æœçš„æ—¶å€™ä¸ä¼šå¿½ç•¥nullå€¼</span><br><span class="line"> - count(1)åŒ…æ‹¬äº†æ‰€æœ‰åˆ—ï¼Œç”¨1ä»£è¡¨è¡Œï¼Œåœ¨ç»Ÿè®¡ç»“æœçš„æ—¶å€™ä¹Ÿä¸ä¼šå¿½ç•¥nullå€¼</span><br><span class="line"> - count(åˆ—å)åªåŒ…æ‹¬åˆ—åé‚£ä¸€åˆ—ï¼Œåœ¨ç»Ÿè®¡ç»“æœæ—¶ï¼Œä¼šå¿½ç•¥nullå€¼</span><br><span class="line"></span><br><span class="line"> #2. æ‰§è¡Œæ•ˆç‡ä¸Šï¼š</span><br><span class="line"> - åˆ—åä¸ºä¸»é”®ï¼Œcount(åˆ—å)ä¼šæ¯”count(1)å¿«ï¼Œcount(ä¸»é”®)æ•ˆç‡æ˜¯æœ€é«˜çš„</span><br><span class="line"> - åˆ—åä¸ä¸ºä¸»é”®ï¼Œcount(1)ä¼šæ¯”count(åˆ—å)å¿«</span><br><span class="line"> - å¦‚æœè¡¨ä¸­æœ‰å¤šä¸ªåˆ—å¹¶ä¸”æ²¡æœ‰ä¸»é”®ï¼Œcountï¼ˆ1ï¼‰çš„æ•ˆç‡é«˜äºcount(*)</span><br><span class="line"> - å¦‚æœè¡¨ä¸­åªæœ‰ä¸€ä¸ªå­—æ®µcount(*)æ•ˆç‡æœ€é«˜</span><br></pre></td></tr></table></figure><h3 id="5-BUGç‚¹-2">5. BUGç‚¹</h3><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>å½“æˆ‘ç­›é€‰count å–å¤§äº5çš„æ—¶å€™ï¼ŒæŠ¥é”™äº†ã€‚åé¢æ³¨æ„åˆ° ï¼Œcountæ˜¯èšåˆå‡½æ•° éœ€è¦åˆ†ç»„æ‰èƒ½ä½¿ç”¨ã€‚å¿˜è®°åŠ äº†group by åˆ†ç»„</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220812192832083.png" alt="image-20220812192832083"></p><h3 id="æ€»ç»“-2">æ€»ç»“</h3><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©ä¸Šåˆåœ¨çœ‹çœèµ›æ•°æ®æ¸…æ´—ä¸­sparksqlé‚£è¾¹çš„ä»£ç ç­”æ¡ˆï¼Œå­¦é•¿å†™çš„ï¼Œå‘ç°æ¯”è¾ƒå¸¸ç”¨çš„with asè¿™éƒ¨åˆ†è§†é¢‘æ²¡è®²ï¼Œèƒ½å¾ˆå¥½çš„å¢å¼ºå¯è¯»æ€§ï¼Œå°±å»CSDNå»æœäº†ä¸€ä¸‹ï¼Œsqlä¸‹é¢è¿˜æœ‰readè¯»æ•°æ®çš„ä»£ç ã€‚æ€»ä¹‹å°±æ˜¯ä»£ç çœ‹ä¸æ‡‚çš„åœ°æ–¹å°±ä¸€ä¸ªä¸€ä¸ªå»æœè¿‡æ¥ï¼Œææ‡‚ä½œç”¨ï¼Œä¸è¡Œå°±é—®å­¦é•¿ï¼Œä¸‹åˆåˆå»åšäº†å‡ é“hiveçš„æ¡ˆä¾‹ï¼Œå¤šç”¨äº†with as åŸæœ¬ join é‡Œé¢ï¼ˆï¼‰t1è¿™æ ·çš„æ–¹å¼ï¼ŒæŸ¥è¯¢åµŒå¥—çœŸçš„ä¸å¤ªçœ‹å¾—æ‡‚ï¼Œç”¨äº†with as è‡ªå·±å†™çš„sqlè¯­å¥ï¼Œæ€è·¯ä¹Ÿæ¸…æ™°ä¸å°‘ï¼Œåˆ«åå‡ºç°çš„å‡ æ¬¡BUGä¹Ÿå»çœ‹äº†ä¸€ä¸‹ï¼Œä»¥åè¦å¤šåŠ æ³¨æ„ã€‚</p><h1 id="8-13-8-17-hive-50é¢˜">8.13-8.17 hive 50é¢˜</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-8">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="http://t.csdn.cn/kVN4d">http://t.csdn.cn/kVN4d</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-2">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="hive-50é¢˜è‡ªå†™-æ”¹è¿›-ç”¨with-as">hive 50é¢˜è‡ªå†™ æ”¹è¿› ç”¨with as</h3><h2 id="3-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°">3.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><p>å› ä¸ºä¹‹å‰hiveåˆšçœ‹å®Œçš„æ—¶å€™ï¼Œç›´æ¥å»çœ‹çœèµ›é¢˜ç›®ï¼Œææ˜Šçœèµ›çš„sparkä»£ç åªèƒ½çœ‹ä¸ªä¸ƒå…«åï¼Œè‡ªå·±å†™ä¼°è®¡æ˜¯ä¸å¤§å†™çš„å‡ºæ¥ï¼Œé—®å­¦é•¿è¯´sqlè¯­å¥æ¯”è¾ƒé‡è¦ï¼Œcsdnæœhive sql ç»ƒä¹ é¢˜ å¾ˆå¤šéƒ½æ˜¯50é“ç»å…¸é¢˜ï¼Œä½†æ˜¯éƒ½æ˜¯ç”¨å¾ˆéº»çƒ¦çš„æ–¹æ³•ï¼Œçœ‹å­¦é•¿çš„with as   å¥ï¼Œå°±ç›´æ¥æ‰“ç®—è‡ªå·±ç”¨with as è‡ªå·±å†™ã€‚</p><p>sql è¯­å¥ å¦‚ä¸‹</p><p>åƒ25é¢˜æœ‰å¾ˆå¤šç§è§£æ³•ï¼Œæˆ‘è‡ªå·±å°±åˆ—å‡ºæ¥äº†3ç§ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br></pre></td><td class="code"><pre><span class="line">-- 4.æŸ¥è¯¢å¹³å‡æˆç»©å°äº60åˆ†çš„åŒå­¦çš„å­¦ç”Ÿç¼–å·å’Œå­¦ç”Ÿ</span><br><span class="line">-- å§“åå’Œå¹³å‡æˆç»© â€“ (åŒ…æ‹¬æœ‰æˆç»©çš„å’Œæ— æˆç»©çš„)</span><br><span class="line">select stu.name,stu.id,round(avg(score.scores),2) as avg_scores from student stu</span><br><span class="line">                                                                         left join score on score.sid=stu.id</span><br><span class="line">group by stu.name, stu.id</span><br><span class="line">having avg(score.scores) &lt; 60</span><br><span class="line">union all</span><br><span class="line">select stu1.id, stu1.name,0 as avg_scores from student stu1</span><br><span class="line">where stu1.id not in (select sid from score);</span><br><span class="line"></span><br><span class="line">-- 5.æŸ¥è¯¢æ‰€æœ‰åŒå­¦çš„å­¦ç”Ÿç¼–å·ã€å­¦ç”Ÿå§“åã€é€‰è¯¾æ€»æ•°ã€æ‰€æœ‰è¯¾ç¨‹çš„æ€»æˆç»©</span><br><span class="line">select stu.id,stu.name,count(cid),nvl(sum(scores),0) from student stu</span><br><span class="line">                                                              left join score sco on sco.sid=stu.id</span><br><span class="line">group by id,name;</span><br><span class="line"></span><br><span class="line">-- 6.æŸ¥è¯¢&quot;æ&quot;å§“è€å¸ˆçš„æ•°é‡</span><br><span class="line">select *,count(tname) as num from teacher</span><br><span class="line">where tname like &quot;æ%&quot;</span><br><span class="line">group by tid,tname;</span><br><span class="line"></span><br><span class="line">-- 7.æŸ¥è¯¢å­¦è¿‡&quot;å¼ ä¸‰&quot;è€å¸ˆæˆè¯¾çš„åŒå­¦çš„ä¿¡æ¯</span><br><span class="line">select student.* from student</span><br><span class="line">left join score on score.sid=student.id</span><br><span class="line">left join course c on score.cid = c.cid</span><br><span class="line">left join teacher t on c.tid = t.tid</span><br><span class="line">where t.tname=&quot;å¼ ä¸‰&quot;;</span><br><span class="line"></span><br><span class="line">-- 8.æŸ¥è¯¢æ²¡å­¦è¿‡&quot;å¼ ä¸‰&quot;è€å¸ˆæˆè¯¾çš„åŒå­¦çš„ä¿¡æ¯</span><br><span class="line">select *</span><br><span class="line">from student where student.id not in (</span><br><span class="line">select student.id from student</span><br><span class="line">left join score on score.sid=student.id</span><br><span class="line">left join course c on score.cid = c.cid</span><br><span class="line">left join teacher t on c.tid = t.tid</span><br><span class="line">where t.tname=&quot;å¼ ä¸‰&quot;);</span><br><span class="line"></span><br><span class="line">-- 9.æŸ¥è¯¢å­¦è¿‡ç¼–å·ä¸º&quot;01&quot;å¹¶ä¸”ä¹Ÿå­¦è¿‡ç¼–å·ä¸º&quot;02&quot;çš„è¯¾ç¨‹çš„åŒå­¦çš„ä¿¡æ¯</span><br><span class="line">select student.* from student</span><br><span class="line">left join(</span><br><span class="line">select * from score</span><br><span class="line">where cid=1</span><br><span class="line">union all</span><br><span class="line">select * from score</span><br><span class="line">where cid=2) cc on cc.sid=student.id</span><br><span class="line">group by student.id,name,sex,birthday</span><br><span class="line">having count(cc.sid)=2;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 10.æŸ¥è¯¢å­¦è¿‡ç¼–å·ä¸º&quot;01&quot;ä½†æ˜¯æ²¡æœ‰å­¦è¿‡ç¼–å·ä¸º&quot;02&quot;çš„è¯¾ç¨‹çš„åŒå­¦çš„ä¿¡æ¯</span><br><span class="line">select student.* from student</span><br><span class="line">join score on score.sid=student.id</span><br><span class="line">where cid=1 and score.sid not in (</span><br><span class="line">select sid from score sco where sco.cid=2);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 11ã€æŸ¥è¯¢æ²¡æœ‰å­¦å…¨æ‰€æœ‰è¯¾ç¨‹çš„åŒå­¦çš„ä¿¡æ¯</span><br><span class="line">select student.* from student</span><br><span class="line">left join (select sid from score</span><br><span class="line">      group by sid</span><br><span class="line">      having count(cid)=3) tmp on tmp.sid=student.id</span><br><span class="line">where tmp.sid is null;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 12ã€æŸ¥è¯¢è‡³å°‘æœ‰ä¸€é—¨è¯¾ä¸å­¦å·ä¸º&quot;01&quot;</span><br><span class="line">-- çš„åŒå­¦æ‰€å­¦ç›¸åŒçš„åŒå­¦çš„ä¿¡æ¯</span><br><span class="line">select student.* from score</span><br><span class="line">right join student on student.id=score.sid</span><br><span class="line">where score.cid in (</span><br><span class="line">    select sco.cid</span><br><span class="line">    from score sco</span><br><span class="line">    where sco.sid=1) and score.sid&lt;&gt;1</span><br><span class="line">group by student.id,name,birthday,sex;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 15ã€æŸ¥è¯¢ä¸¤é—¨åŠå…¶ä»¥ä¸Šä¸åŠæ ¼è¯¾ç¨‹</span><br><span class="line">-- çš„åŒå­¦çš„å­¦å·ï¼Œå§“ååŠå…¶å¹³å‡æˆç»©</span><br><span class="line">select student.id,name,pingjun from student</span><br><span class="line">join (</span><br><span class="line">select sid,round(avg(scores),1) pingjun from score</span><br><span class="line">where scores&lt;60</span><br><span class="line">group by sid</span><br><span class="line">having count(scores)&gt;=2) tmp on tmp.sid=student.id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--16ã€æ£€ç´¢&quot;01&quot;è¯¾ç¨‹åˆ†æ•°å°äº80ï¼ŒæŒ‰åˆ†æ•°é™åºæ’åˆ—çš„å­¦ç”Ÿä¿¡æ¯</span><br><span class="line">select student.*,tmp.scores from student</span><br><span class="line">join (select sid,scores from score where cid=1 and scores&lt;60) tmp on tmp.sid=student.id</span><br><span class="line">ORDER BY tmp.scores desc ;</span><br><span class="line"></span><br><span class="line">--     17ã€æŒ‰å¹³å‡æˆç»©ä»é«˜åˆ°ä½æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿ</span><br><span class="line">-- çš„æ‰€æœ‰è¯¾ç¨‹çš„æˆç»©ä»¥åŠå¹³å‡æˆç»©</span><br><span class="line">select student.id,student.name,nvl(tmp1.scores,&quot;æœªè€ƒ&quot;) as c1,nvl(tmp2.scores,&quot;æœªè€ƒ&quot;) as c2,nvl(tmp3.scores,&quot;æœªè€ƒ&quot;) as c3,tmp.avg_sc</span><br><span class="line">from student</span><br><span class="line">left join (select sid,round(avg(scores),1) avg_sc from score group by sid) tmp on tmp.sid=student.id</span><br><span class="line">left join (select sid,scores  from score s1 where  cid=&#x27;01&#x27;)tmp1 on  tmp1.sid=student.id</span><br><span class="line">left join (select sid,scores  from score s2 where  cid=&#x27;02&#x27;)tmp2 on  tmp2.sid=student.id</span><br><span class="line">left join (select sid,scores  from score s3 where  cid=&#x27;03&#x27;)tmp3 on  tmp3.sid=student.id</span><br><span class="line">order by tmp.avg_sc desc;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 18.æŸ¥è¯¢å„ç§‘æˆç»©æœ€é«˜åˆ†ã€æœ€ä½åˆ†å’Œå¹³å‡åˆ†ï¼šä»¥å¦‚ä¸‹å½¢å¼æ˜¾ç¤ºï¼š</span><br><span class="line">-- è¯¾ç¨‹IDï¼Œè¯¾ç¨‹nameï¼Œæœ€é«˜åˆ†ï¼Œæœ€ä½åˆ†ï¼Œå¹³å‡åˆ†ï¼ŒåŠæ ¼ç‡ï¼Œä¸­ç­‰ç‡ï¼Œä¼˜è‰¯ç‡ï¼Œä¼˜ç§€ç‡</span><br><span class="line">select score.cid,c.cname,</span><br><span class="line">       max(scores) as                                                                  maxScore,</span><br><span class="line">       min(scores) as                                                                  minScore,</span><br><span class="line">       round(avg(scores),2)                                                            avgScore,</span><br><span class="line">       round(sum(if(scores &gt;= 60, 1, 0))/count(c.cid),2)                               passRate,</span><br><span class="line">       round(sum(if(scores &gt;= 60 and scores &lt; 70, 1, 0))/ count(c.cid), 2)             moderate,</span><br><span class="line">       round(sum(case when scores&gt;=70 and scores&lt;80 then 1 else 0 end)/count(c.cid),2) goodRate,</span><br><span class="line">       round(sum(case when scores&gt;=80 and scores&lt;90 then 1 else 0 end)/count(c.cid),2) excellentRates</span><br><span class="line">from score</span><br><span class="line">join course c on score.cid = c.cid</span><br><span class="line">group by score.cid,c.cname;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 19ã€æŒ‰å„ç§‘æˆç»©è¿›è¡Œæ’åºï¼Œå¹¶æ˜¾ç¤ºæ’å:</span><br><span class="line">select c.cid,c.cname,s.name,rank() over (partition by score.cid order by scores) from score</span><br><span class="line">left join course c on score.cid = c.cid</span><br><span class="line">left join student s on s.id=score.sid;</span><br><span class="line"></span><br><span class="line">-- 20ã€æŸ¥è¯¢å­¦ç”Ÿçš„æ€»æˆç»©å¹¶è¿›è¡Œæ’å</span><br><span class="line">select student.id,student.name,nvl(sum(scores),&#x27;ç¼ºè€ƒ&#x27;) as sum_sc,rank() over (order by sum(scores) desc )from score</span><br><span class="line">right join student on student.id=score.sid</span><br><span class="line">group by student.id, student.name;</span><br><span class="line"></span><br><span class="line">-- 21ã€æŸ¥è¯¢ä¸åŒè€å¸ˆæ‰€æ•™ä¸åŒè¯¾</span><br><span class="line">-- ç¨‹å¹³å‡åˆ†ä»é«˜åˆ°ä½æ˜¾ç¤º</span><br><span class="line">select score.cid,c.cname,t.tname,round(avg(scores),1) as avg_sc from score</span><br><span class="line">join course c on score.cid = c.cid</span><br><span class="line">join teacher t on c.tid = t.tid</span><br><span class="line">group by score.cid,cname,tname</span><br><span class="line">order by avg_sc desc;</span><br><span class="line"></span><br><span class="line">-- 22ã€æŸ¥è¯¢æ‰€æœ‰è¯¾ç¨‹çš„æˆç»©ç¬¬2ååˆ°ç¬¬3åçš„å­¦ç”Ÿä¿¡æ¯åŠè¯¥è¯¾ç¨‹æˆç»©</span><br><span class="line">select course.cname,student.*,tmp.cid,tmp.scores,tmp.cno from student</span><br><span class="line">join (select *,row_number() over (partition by cid order by scores desc)cno from score) tmp on tmp.sid=student.id</span><br><span class="line">join course on course.cid=tmp.cid</span><br><span class="line">where tmp.cno between 2 and 3;</span><br><span class="line"></span><br><span class="line">-- 23ã€ç»Ÿè®¡å„ç§‘æˆç»©å„åˆ†æ•°æ®µäººæ•°ï¼šè¯¾ç¨‹ç¼–å·,è¯¾ç¨‹åç§°,[100-85],[85-70],[70-60],[0-60]åŠæ‰€å ç™¾åˆ†æ¯”</span><br><span class="line">select score.cid,cname,</span><br><span class="line">       sum(if(score.scores &gt;= 85 and score.scores &lt;= 100, 1, 0))              as sum_85,</span><br><span class="line">       round(sum(if(score.scores &gt;= 85 and score.scores &lt;= 100, 1, 0))/ count(c.cid), 2),</span><br><span class="line">       sum(if(score.scores &gt;= 70 and score.scores &lt;= 85, 1, 0))               as sum_70,</span><br><span class="line">       round(sum(if(score.scores &gt;= 70 and score.scores &lt;= 85, 1, 0))/ count(c.cid), 2),</span><br><span class="line">       sum(case when score.scores&gt;=60 and score.scores&lt;=70 then 1 else 0 end) as sum_60,</span><br><span class="line">       round(sum(case when score.scores&gt;=60 and score.scores&lt;=70 then 1 else 0 end)/count(c.cid),2),</span><br><span class="line">       sum(if(scores&gt;=0 and scores&lt;60,1,0)) as sum_0,</span><br><span class="line">       round(sum(if(score.scores &gt;= 0 and score.scores &lt;= 60, 1, 0))/ count(c.cid), 2)</span><br><span class="line"></span><br><span class="line">from score</span><br><span class="line">join course c on score.cid = c.cid</span><br><span class="line">group by score.cid,cname;</span><br><span class="line"></span><br><span class="line">-- 24ã€æŸ¥è¯¢å­¦ç”Ÿå¹³å‡æˆç»©åŠå…¶åæ¬¡</span><br><span class="line">select id,name,round(avg(scores),2),rank() over (order by round(avg(scores),2) desc) from score</span><br><span class="line">right join student on student.id=score.sid</span><br><span class="line">group by id,name;</span><br><span class="line"></span><br><span class="line">-- 25ã€æŸ¥è¯¢å„ç§‘æˆç»©å‰ä¸‰åçš„è®°å½•</span><br><span class="line">select course.cname,student.*,tmp.cid,tmp.scores,tmp.cno from student</span><br><span class="line">join (select *,row_number() over (partition by cid order by scores desc)cno from score) tmp on tmp.sid=student.id</span><br><span class="line">join course on course.cid=tmp.cid</span><br><span class="line">where tmp.cno &lt;= 3;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">select * from</span><br><span class="line">(select *,rank() over (partition by area order by ct desc) as rank from</span><br><span class="line">(select area,product_name,count(*) as ct from</span><br><span class="line">(select p.product_name,ci.area,ci.city_name,a.* from user_visit_action a</span><br><span class="line">join product_info p on p.product_id=a.click_product_id</span><br><span class="line">join city_info ci on a.city_id = ci.city_id where product_id&lt;&gt;-1) t1</span><br><span class="line">group by area, product_name) t2</span><br><span class="line">) t3 where t3.rank&lt;=3;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">with  t1 as ( select p.product_name,ci.area,ci.city_name,a.* from user_visit_action a</span><br><span class="line">          join product_info p on p.product_id=a.click_product_id</span><br><span class="line">          join city_info ci on a.city_id = ci.city_id where product_id&lt;&gt;-1 ),</span><br><span class="line">     t2 as ( select area,product_name,count(*) as ct from t1 group by area, product_name),</span><br><span class="line">     t3 as ( select *,rank() over (partition by area order by ct desc) as rank from t2 )</span><br><span class="line">select * from t3 where t3.rank&lt;=3;</span><br><span class="line"></span><br><span class="line">use default;</span><br><span class="line"></span><br><span class="line">-- 26ã€æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹è¢«é€‰ä¿®çš„å­¦ç”Ÿæ•°</span><br><span class="line">select cid,count(*) `å­¦ç”Ÿæ•°` from score group by cid</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 27ã€æŸ¥è¯¢å‡ºåªæœ‰ä¸¤é—¨è¯¾ç¨‹çš„å…¨éƒ¨å­¦ç”Ÿçš„å­¦å·å’Œå§“å</span><br><span class="line">select id,name from score</span><br><span class="line">join student on student.id=score.sid</span><br><span class="line">group by id,name</span><br><span class="line">having count(cid)=2;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 28ã€æŸ¥è¯¢ç”·ç”Ÿã€å¥³ç”Ÿäººæ•°</span><br><span class="line">select sex,count(sex) from student</span><br><span class="line">group by sex;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 29ã€æŸ¥è¯¢åå­—ä¸­å«æœ‰&quot;é£&quot;å­—çš„å­¦ç”Ÿä¿¡æ¯</span><br><span class="line">select * from  student</span><br><span class="line">where name like &quot;%é£%&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 30ã€æŸ¥è¯¢åŒååŒæ€§å­¦ç”Ÿåå•ï¼Œå¹¶ç»Ÿè®¡åŒåäººæ•°</span><br><span class="line">select stu1.name,count(*) from student stu1</span><br><span class="line">join student stu2 on stu1.name=stu2.name</span><br><span class="line">where  stu1.id&lt;&gt;stu2.id and stu1.sex=stu2.sex</span><br><span class="line"> group by stu1.name;</span><br><span class="line"></span><br><span class="line">-- 31ã€æŸ¥è¯¢1990å¹´å‡ºç”Ÿçš„å­¦ç”Ÿåå•</span><br><span class="line">select * from student</span><br><span class="line">where year(student.birthday)=&quot;1990&quot;;</span><br><span class="line"></span><br><span class="line">-- 32ã€æŸ¥è¯¢æ¯é—¨è¯¾ç¨‹çš„å¹³å‡æˆç»©ï¼Œç»“æœæŒ‰å¹³å‡æˆç»©é™åºæ’åˆ—ï¼Œå¹³å‡æˆç»©ç›¸åŒæ—¶ï¼ŒæŒ‰è¯¾ç¨‹ç¼–å·å‡åºæ’åˆ—</span><br><span class="line">select cid,avg(scores) `å¹³å‡æˆç»©`</span><br><span class="line">from score</span><br><span class="line">group by cid</span><br><span class="line">order by `å¹³å‡æˆç»©` desc ,cid;</span><br><span class="line"></span><br><span class="line">-- 33ã€æŸ¥è¯¢å¹³å‡æˆç»©å¤§äºç­‰äº85çš„æ‰€æœ‰å­¦ç”Ÿçš„å­¦å·ã€å§“åå’Œå¹³å‡æˆç»©</span><br><span class="line">select id,name,round(avg(scores),2)  `å¹³å‡æˆç»©`from score</span><br><span class="line">join student on student.id=score.sid</span><br><span class="line">group by id,name</span><br><span class="line">having round(avg(scores),2) &gt;= 85;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 34ã€æŸ¥è¯¢è¯¾ç¨‹åç§°ä¸º&quot;æ•°å­¦&quot;ï¼Œä¸”åˆ†æ•°ä½äº60çš„å­¦ç”Ÿå§“åå’Œåˆ†æ•°</span><br><span class="line"></span><br><span class="line">select sid,name,scores from score</span><br><span class="line">left join course c on score.cid = c.cid</span><br><span class="line">join student on student.id=score.sid</span><br><span class="line">where cname=&quot;æ•°å­¦&quot; and scores&lt;=60;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 35ã€æŸ¥è¯¢æ‰€æœ‰å­¦ç”Ÿçš„è¯¾ç¨‹åŠåˆ†æ•°æƒ…å†µï¼›</span><br><span class="line">with t1 as ( select sid,</span><br><span class="line">                    sum(case cid when &#x27;1&#x27; then scores else 0 end ) as `è¯­æ–‡`,</span><br><span class="line">                    sum(case cid when &#x27;2&#x27; then scores else 0 end ) as `æ•°å­¦`,</span><br><span class="line">                    sum(case cid when &#x27;3&#x27; then scores else 0 end ) as `è‹±è¯­`</span><br><span class="line">                    from score</span><br><span class="line">    group by sid)</span><br><span class="line">select id,name,t1. `è¯­æ–‡`, `æ•°å­¦`, `è‹±è¯­` from student</span><br><span class="line">left join t1 on t1.sid=student.id;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 36ã€æŸ¥è¯¢ä»»ä½•ä¸€é—¨è¯¾ç¨‹æˆç»©åœ¨70åˆ†ä»¥ä¸Šçš„å§“åã€è¯¾ç¨‹åç§°å’Œåˆ†æ•°ï¼›</span><br><span class="line">with t as ( select sid,</span><br><span class="line">                    sum(case cid when &#x27;1&#x27; then scores else 0 end ) as `è¯­æ–‡`,</span><br><span class="line">                    sum(case cid when &#x27;2&#x27; then scores else 0 end ) as `æ•°å­¦`,</span><br><span class="line">                    sum(case cid when &#x27;3&#x27; then scores else 0 end ) as `è‹±è¯­`</span><br><span class="line">             from score</span><br><span class="line">             group by sid)</span><br><span class="line">select id,name,t. `è¯­æ–‡`, `æ•°å­¦`, `è‹±è¯­` from student</span><br><span class="line">left join t on t.sid=student.id</span><br><span class="line">where t.`è¯­æ–‡`&gt;70 or t.`æ•°å­¦`&gt;70 or t.`è‹±è¯­`&gt;70;</span><br><span class="line"></span><br><span class="line">-- 37ã€æŸ¥è¯¢ä¸åŠæ ¼çš„è¯¾ç¨‹</span><br><span class="line">select name,cid,scores from score</span><br><span class="line">join student on student.id=score.sid</span><br><span class="line">where scores &lt; 60;</span><br><span class="line"></span><br><span class="line">-- 38ã€æŸ¥è¯¢è¯¾ç¨‹ç¼–å·ä¸º01ä¸”è¯¾ç¨‹æˆç»©åœ¨80åˆ†ä»¥ä¸Šçš„å­¦ç”Ÿçš„å­¦å·å’Œå§“åï¼›</span><br><span class="line">select id,name,cid,scores from</span><br><span class="line">student stu</span><br><span class="line">join score sco on sco.sid=stu.id</span><br><span class="line">where sco.scores&gt;60 and sco.cid=&quot;1&quot;;</span><br><span class="line"></span><br><span class="line">-- 39ã€æ±‚æ¯é—¨è¯¾ç¨‹çš„å­¦ç”Ÿäººæ•°</span><br><span class="line">select cid,count(*) from score</span><br><span class="line">group by cid;</span><br><span class="line"></span><br><span class="line">-- 40ã€æŸ¥è¯¢é€‰ä¿®&quot;å¼ ä¸‰&quot;è€å¸ˆæ‰€æˆè¯¾ç¨‹çš„å­¦ç”Ÿä¸­ï¼Œæˆç»©æœ€é«˜çš„å­¦ç”Ÿä¿¡æ¯åŠå…¶æˆç»©</span><br><span class="line">with tmp as (</span><br><span class="line">select stu.*, scores,rank() over (order by scores desc ) as rkdesc from student stu</span><br><span class="line">join score sc on sc.sid=stu.id</span><br><span class="line">join course c on sc.cid = c.cid</span><br><span class="line">join teacher t on c.tid = t.tid</span><br><span class="line">where tname=&quot;å¼ ä¸‰&quot;)</span><br><span class="line">select * from tmp</span><br><span class="line">where tmp.rkdesc=&quot;1&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 41ã€æŸ¥è¯¢ä¸åŒè¯¾ç¨‹æˆç»©ç›¸åŒçš„å­¦ç”Ÿçš„å­¦ç”Ÿç¼–å·ã€è¯¾ç¨‹ç¼–å·ã€å­¦ç”Ÿæˆç»©</span><br><span class="line">select sco1.sid, sco1.cid, sco1.scores from score sco1</span><br><span class="line">join score sco2 on sco2.sid=sco1.sid</span><br><span class="line">where sco1.cid&lt;&gt;sco2.cid and sco1.scores=sco2.scores</span><br><span class="line">group by sco1.sid, sco1.cid, sco1.scores;</span><br><span class="line"></span><br><span class="line">-- 42ã€æŸ¥è¯¢æ¯é—¨æˆç»©æœ€å¥½çš„å‰ä¸¤å</span><br><span class="line">with tmp as</span><br><span class="line">(select name,cname,scores,row_number()  over (partition by score.cid order by scores desc )  Toptwo from score</span><br><span class="line">join student on student.id=score.sid</span><br><span class="line">join course c on score.cid = c.cid)</span><br><span class="line">select * from tmp</span><br><span class="line">where tmp.Toptwo&lt;=2;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 43ã€ç»Ÿè®¡æ¯é—¨è¯¾ç¨‹çš„å­¦ç”Ÿé€‰ä¿®äººæ•°ï¼ˆè¶…è¿‡5äººçš„è¯¾ç¨‹æ‰ç»Ÿè®¡ï¼‰ã€‚</span><br><span class="line">-- è¦æ±‚è¾“å‡ºè¯¾ç¨‹å·å’Œé€‰ä¿®äººæ•°ï¼ŒæŸ¥è¯¢ç»“æœæŒ‰äººæ•°é™åºæ’åˆ—ï¼Œè‹¥äººæ•°ç›¸åŒï¼ŒæŒ‰è¯¾ç¨‹å·å‡åºæ’åˆ—</span><br><span class="line">select c.cid,cname,count(1) c from score</span><br><span class="line">join course c on score.cid = c.cid</span><br><span class="line">group by c.cid, cname</span><br><span class="line">having count(1) &gt; 5</span><br><span class="line">order by c desc , cid;</span><br><span class="line"></span><br><span class="line">-- 44ã€æ£€ç´¢è‡³å°‘é€‰ä¿®ä¸¤é—¨è¯¾ç¨‹çš„å­¦ç”Ÿå­¦å·</span><br><span class="line">select sid,name,count(cid) `æ¬¡æ•°`</span><br><span class="line">from score</span><br><span class="line">join student on student.id=score.sid</span><br><span class="line">group by sid,name</span><br><span class="line">having count(cid) &gt;= 2;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 45ã€æŸ¥è¯¢é€‰ä¿®äº†å…¨éƒ¨è¯¾ç¨‹çš„å­¦ç”Ÿä¿¡æ¯</span><br><span class="line">with tmp as ( select count(1) num from course )</span><br><span class="line">select student.*,count(1) `æ¬¡æ•°`</span><br><span class="line">from score</span><br><span class="line">join student</span><br><span class="line">join tmp</span><br><span class="line">on student.id=score.sid</span><br><span class="line">group by student.id,birthday,name,sex,tmp.num</span><br><span class="line">having count(1)=tmp.num;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 46ã€æŸ¥è¯¢å„å­¦ç”Ÿçš„å¹´é¾„ï¼šæŒ‰ç…§å‡ºç”Ÿæ—¥æœŸæ¥ç®—ï¼Œå½“å‰æœˆæ—¥ &lt; å‡ºç”Ÿå¹´æœˆçš„æœˆæ—¥åˆ™ï¼Œå¹´é¾„å‡ä¸€</span><br><span class="line">select *,</span><br><span class="line">       year(current_date())-year(birthday)-</span><br><span class="line">(case when month(current_date()) &lt; month(birthday) then 1</span><br><span class="line">    when month(current_date()) = month(birthday) and day(current_date())&gt;day(birthday) then 1 else 0 end ) as age</span><br><span class="line">       from student;</span><br><span class="line"></span><br><span class="line">select * ,</span><br><span class="line">       year(current_date())-year(birthday)-if(current_date()&gt;to_date(concat(&quot;2022-&quot;,substr(birthday,6))),0,1) as `age`</span><br><span class="line">from student;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- 47ã€æŸ¥è¯¢æœ¬å‘¨è¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ</span><br><span class="line">select *,weekofyear(birthday) from student</span><br><span class="line">where weekofyear(birthday)=weekofyear(current_date());</span><br><span class="line"></span><br><span class="line">-- 48ã€æŸ¥è¯¢ä¸‹å‘¨è¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ</span><br><span class="line">select *,weekofyear(birthday) from student</span><br><span class="line">where weekofyear(birthday)=weekofyear(current_date())+1;</span><br><span class="line">-- 49ã€æŸ¥è¯¢æœ¬æœˆè¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ</span><br><span class="line">select *,month(birthday) from student</span><br><span class="line">where month(birthday)=month(current_date());</span><br><span class="line">-- 50ã€æŸ¥è¯¢ä¸Šæœˆè¿‡ç”Ÿæ—¥çš„å­¦ç”Ÿ</span><br><span class="line">select *,month(birthday) from student</span><br><span class="line">where month(birthday)=month(current_date())-1;</span><br></pre></td></tr></table></figure><h2 id="4-æ€»ç»“">4.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>è¿™å‡ å¤©ä»»åŠ¡é‡ä¹Ÿä¸ç®—å¤§ï¼Œå…¶å®è¶…å‡ºäº†è‡ªå·±çš„æ—¶é—´ï¼Œæœ¬æ¥æ‰“ç®—3å¤©å†™å®Œï¼Œç„¶å1å¤©å»æ€»ç»“çš„ã€‚ä½†æ˜¯å‘ç°hiveè¿™äº›è¯­å¥å’ŒBç«™è®²çš„éƒ½ä¸å¤ªä¸€æ ·ï¼Œè€å¸ˆæ‰€è®²çš„è‡ªå·±æ²¡æœ‰å»å®æ“è¿‡ï¼Œè€å¸ˆç»™çš„é¢˜ç›®éƒ½æ˜¯å¾ˆç®€å•çš„ã€‚åƒè¿™ç§ç¨å¾®æœ‰ç‚¹éš¾åº¦çš„ï¼Œéœ€è¦ç”¨å¤§é‡çš„join å’Œ over() è¿™ä¸¤ä¸ªæ¯”è¾ƒéš¾çš„ç‚¹ï¼Œè‡ªå·±å»æ‰¾äº†å¾ˆå¤šæ–‡æ¡£ï¼Œå†çœ‹äº†å‡ éï¼Œè§‰å¾—å·®ä¸å¤šäº†æ‰å»åšé¢˜ç›®ã€‚å‰é¢ç¬¬ä¸€é¢˜å°±åšäº†ä¸‰é¢˜ï¼Œåˆ°åé¢ä¸Šæ‰‹äº†ä¸€å¤©èƒ½åš15 é“ï¼Œæœ€åä¸€å¤©17å·æ—©ä¸Šå†™å®Œäº†ï¼Œä¸‹åˆåˆæŠŠè¯­å¥ä¸€ä¸ªä¸€ä¸ªè¿è¡Œï¼Œå»åˆ†ææ¯ä¸€ä¸ªå…³é”®å­—çš„ä½œç”¨ï¼Œå½“æ—¶æ˜¯æ€ä¹ˆæƒ³çš„ï¼Œå†™å‡ºæ¥çš„ï¼Œæ¨¡ç³Šçš„ï¼Œå°±å†å†™ä¸€éã€‚</p><h1 id="8-18-8-25-hiveæé«˜é¢˜-15">8.18-8.25 hiveæé«˜é¢˜ 15</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-9">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°">2.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><p>é¢˜ç›®å‡ºè‡ª<a href="http://t.csdn.cn/ojSHo">http://t.csdn.cn/ojSHo</a></p><p>ti1</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220825154825546.png" alt="image-20220825154825546"></p><p>å»ºè¡¨è¯­å¥å’ŒSparkSQLä»£ç </p><p>åé¢è™šæ‹Ÿæœºæ‰“å¼€ï¼Œå†å¼€IDEAæœ‰ç‚¹åƒä¸æ¶ˆäº†ï¼Œhive sqlè¯­å¥å°±æ”¾è™šæ‹Ÿæœºé‡Œé¢äº†ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.<span class="type">SparksqlTest15</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.atguigu.bigdata.sparksql.<span class="type">SQLUntilTools</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkConf</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">CreateTable</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">     <span class="comment">//è·å–sparkè¿æ¥</span></span><br><span class="line">    <span class="keyword">val</span> sparkSession: <span class="type">SparkSession</span> = <span class="type">SQLUntilTools</span>.<span class="type">SparkSessionConf</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">import</span> sparkSession.sql</span><br><span class="line">     <span class="comment">//åˆ‡æ¢db_hive_1æ•°æ®åº“</span></span><br><span class="line">    sql(<span class="string">&quot;use db_hive_1&quot;</span>)</span><br><span class="line"> <span class="comment">//å»ºç«‹è¡¨æ ¼</span></span><br><span class="line">    sql(<span class="string">&quot;&quot;&quot;create table action</span></span><br><span class="line"><span class="string">          |(userId string,</span></span><br><span class="line"><span class="string">          |visitDate string,</span></span><br><span class="line"><span class="string">          |visitCount int)</span></span><br><span class="line"><span class="string">          |row format delimited fields terminated by &quot;\t&quot;</span></span><br><span class="line"><span class="string">          |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"> <span class="comment">//æ·»åŠ æ•°æ®</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert into action values(&#x27;u01&#x27;,&#x27;2017/1/21&#x27;,5)</span></span><br><span class="line"><span class="string">        |insert into action values(&#x27;u02&#x27;,&#x27;2017/1/23&#x27;,6)</span></span><br><span class="line"><span class="string">        |insert into action values(&#x27;u03&#x27;,&#x27;2017/1/22&#x27;,8)</span></span><br><span class="line"><span class="string">        |insert into action values(&#x27;u04&#x27;,&#x27;2017/1/20&#x27;,3)</span></span><br><span class="line"><span class="string">        |insert into action values(&#x27;u01&#x27;,&#x27;2017/1/23&#x27;,6)</span></span><br><span class="line"><span class="string">        |insert into action values(&#x27;u01&#x27;,&#x27;2017/2/21&#x27;,8)</span></span><br><span class="line"><span class="string">        |insert into action values(&#x27;u02&#x27;,&#x27;2017/1/23&#x27;,6)</span></span><br><span class="line"><span class="string">        |insert into action values(&#x27;u01&#x27;,&#x27;2017/2/22&#x27;,4)</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"> <span class="comment">//æŸ¥çœ‹actionæ•°æ®æ˜¯å¦å»ºç«‹</span></span><br><span class="line">    sql(<span class="string">&quot;select * from action&quot;</span>).show()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.atguigu.bigdata.<span class="type">SparksqlTest15</span></span><br><span class="line"><span class="keyword">import</span> com.atguigu.bigdata.sparksql.<span class="type">SQLUntilTools</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">subject1</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> conf: <span class="type">SparkSession</span> = <span class="type">SQLUntilTools</span>.<span class="type">SparkSessionConf</span></span><br><span class="line">    <span class="keyword">import</span> conf.sql</span><br><span class="line"></span><br><span class="line">    sql(<span class="string">&quot;use db_hive_1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä»»åŠ¡ä¸€</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |with t1 as (</span></span><br><span class="line"><span class="string">        |    select</span></span><br><span class="line"><span class="string">        |        userId,</span></span><br><span class="line"><span class="string">        |        date_format(regexp_replace(visitDate,&#x27;/&#x27;,&#x27;-&#x27;),&#x27;yyyy-MM&#x27;) mn,</span></span><br><span class="line"><span class="string">        |        visitCount</span></span><br><span class="line"><span class="string">        |    from</span></span><br><span class="line"><span class="string">        |        action),</span></span><br><span class="line"><span class="string">        |     t2 as (</span></span><br><span class="line"><span class="string">        |         select userid,mn,sum(visitcount) mn_count</span></span><br><span class="line"><span class="string">        |         from t1 group by userid, mn)</span></span><br><span class="line"><span class="string">        |select userid,mn,mn_count,sum(mn_count) over (partition by userid order by mn) count_mn from t2 order by userid</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).show()</span><br><span class="line">    <span class="comment">//ä»»åŠ¡äºŒ</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |select shop,</span></span><br><span class="line"><span class="string">        |       user_id,</span></span><br><span class="line"><span class="string">        |       ct</span></span><br><span class="line"><span class="string">        |from (select shop,</span></span><br><span class="line"><span class="string">        |             user_id,</span></span><br><span class="line"><span class="string">        |             ct,</span></span><br><span class="line"><span class="string">        |             rank() over (partition by shop order by ct) rk</span></span><br><span class="line"><span class="string">        |      from (select shop,</span></span><br><span class="line"><span class="string">        |                   user_id,</span></span><br><span class="line"><span class="string">        |                   count(*) ct</span></span><br><span class="line"><span class="string">        |            from visit</span></span><br><span class="line"><span class="string">        |            group by shop,</span></span><br><span class="line"><span class="string">        |                     user_id) t1</span></span><br><span class="line"><span class="string">        |     ) t2</span></span><br><span class="line"><span class="string">        |where rk &lt;= 3;</span></span><br><span class="line"><span class="string">        |&quot;&quot;&quot;</span>.stripMargin).show()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-BUGç‚¹">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="SparkSQLæ·»åŠ æ•°æ®BUG">SparkSQLæ·»åŠ æ•°æ®BUG</h3><p>åˆšå¼€å§‹ç”¨sparkSQLå‘actionè¡¨æ·»åŠ æ•°æ®æŠ¥é”™ï¼Œ å°±ç›´æ¥å»hiveé‡Œé¢ç›´æ¥è¾“å…¥è¯­å¥äº†</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220818103459749.png" alt="image-20220818103459749"></p><p>è™šæ‹ŸæœºLinuxä¸­Hiveå¯åŠ¨ç›´æ¥æ·»åŠ </p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220818103652166.png" alt="image-20220818103652166"></p><p>æˆåŠŸ</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220818103705385.png" alt="image-20220818103705385"></p><h2 id="4-æ€»ç»“-2">4.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>å› ä¸ºè‡ªå·±çš„ä»»åŠ¡ä¸»è¦æ˜¯å¯¹æ•°æ®çš„å¤„ç†ï¼Œä¹Ÿå°±æ˜¯sqlè¯­å¥ç”¨çš„æ¯”è¾ƒå¤šï¼Œåˆšå¥½CSDNçœ‹åˆ°hiveæé«˜é¢˜ï¼Œç‚¹è¿›å»çœ‹ï¼Œæ„Ÿè§‰è¿˜ä¸é”™ï¼Œæ•°æ®ä¹Ÿè›®ç»å…¸çš„ï¼Œå°±æƒ³ç€å‰©ä¸‹æ¥çš„æ—¶é—´åˆ·çœèµ›é¢˜ä¹‹å‰ï¼Œåˆ·ä¸€ä¸‹hive sqlè¯­å¥ï¼Œèƒ½èŠ‚çœä¸€ç‚¹åšé¢˜æ—¶é—´ã€‚è¿™æ˜ŸæœŸéƒ½åœ¨åˆ·hiveçš„é¢˜ç›®ï¼Œéš¾åº¦è¿˜æ˜¯å¾ˆå¤§æˆ‘è§‰å¾—ï¼Œå‰é¢å‡ å¤©åŸºæœ¬ä¸€å¤©ä¸€é“ï¼Œåé¢å·®ä¸å¤šä¸€å¤©ä¸¤ä¸‰é¢˜ï¼Œå»åšå®Œï¼Œè‡ªå·±æ•²å®Œï¼Œå’Œç­”æ¡ˆå¯¹ä¸€å¯¹ï¼Œçœ‹çœ‹ç»“æœæœ‰ä»€ä¹ˆä¸ä¸€æ ·çš„åœ°æ–¹ã€‚ç”¨sparkæ·»åŠ æ•°æ®è¿™ä¸€å—ä¼šæŠ¥é”™ï¼Œå°±ç›´æ¥æŠŠè¯­å¥æ”¾åˆ°æ–‡ä»¶ä¸­ï¼Œä¼ åˆ°è™šæ‹Ÿæœºé‡Œé¢ï¼Œç›´æ¥ç”¨hiveæ‰§è¡Œï¼ŒæŠŠæ•°æ®æ·»åŠ å¥½å°±è¡Œäº†ã€‚</p><h1 id="8-26-8-27-sqoopå¢é‡å¯¼å…¥">8.26-8.27 sqoopå¢é‡å¯¼å…¥</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-10">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-5">2.æ ‡é¢˜</h2><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">01</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">è½¯ä»¶ä»‹ç»</span></span><br><span class="line"><span class="comment">02</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">å®‰è£…éƒ¨ç½²</span></span><br><span class="line"><span class="comment">03</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">å¯¼å…¥import</span><span class="literal">--</span><span class="comment">å…¨é‡æ•°æ®å¯¼å…¥hdfs</span></span><br><span class="line"><span class="comment">04</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">å¯¼å…¥import</span><span class="literal">--</span><span class="comment">å…¨é‡æ•°æ®å¯¼å…¥hdfs</span><span class="literal">--</span><span class="comment">å¹¶è¡Œåº¦è®¾ç½®&amp;æ³¨æ„äº‹é¡¹</span></span><br><span class="line"><span class="comment">05</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">å¯¼å…¥import</span><span class="literal">--</span><span class="comment">å…¨é‡æ•°æ®å¯¼å…¥hive</span></span><br><span class="line"><span class="comment">06</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">å¯¼å…¥import</span><span class="literal">--</span><span class="comment">è¡¨å­é›†æ•°æ®å¯¼å…¥</span></span><br><span class="line"><span class="comment">07</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">å¯¼å…¥import</span><span class="literal">--</span><span class="comment">å¢é‡å¯¼å…¥</span><span class="literal">--</span><span class="comment">appendæ¨¡å¼</span></span><br><span class="line"><span class="comment">08</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">å¯¼å…¥import</span><span class="literal">--</span><span class="comment">å¢é‡å¯¼å…¥</span><span class="literal">--</span><span class="comment">lastmodifiedæ¨¡å¼ï¼ˆé™„åŠ æ•°æ®ï¼‰</span></span><br><span class="line"><span class="comment">10</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">å¯¼å‡ºexport</span><span class="literal">--</span><span class="comment">é»˜è®¤æ¨¡å¼å¯¼å‡ºï¼ˆinsertï¼‰</span></span><br><span class="line"><span class="comment">11</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">å¯¼å‡ºexport</span><span class="literal">--</span><span class="comment">é»˜è®¤æ¨¡å¼å¯¼å‡ºï¼ˆinsertï¼‰</span><span class="literal">--</span><span class="comment">é…ç½®å‚æ•°</span></span><br><span class="line"><span class="comment">12</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">å¯¼å‡ºexport</span><span class="literal">--</span><span class="comment">æ›´æ–°æ¨¡å¼å¯¼å‡ºï¼ˆinsertï¼‰</span><span class="literal">--</span><span class="comment">updateonly</span></span><br><span class="line"><span class="comment">13</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">å¯¼å‡ºexport</span><span class="literal">--</span><span class="comment">æ›´æ–°æ¨¡å¼å¯¼å‡ºï¼ˆinsertï¼‰</span><span class="literal">--</span><span class="comment">allowinsert</span></span><br><span class="line"><span class="comment">14</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">jobä½œä¸šçš„ä½¿ç”¨</span><span class="literal">--</span><span class="comment">åˆ›å»ºã€æŸ¥çœ‹ã€æ‰§è¡Œã€åˆ é™¤</span></span><br><span class="line"><span class="comment">15</span><span class="literal">--</span><span class="comment">Apache Sqoop</span><span class="literal">--</span><span class="comment">jobä½œä¸šçš„ä½¿ç”¨</span><span class="literal">--</span><span class="comment">å…å¯†æ‰§è¡Œ</span></span><br></pre></td></tr></table></figure><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-5">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><p>åœ¨å®é™…å·¥ä½œå½“ä¸­ï¼Œæ•°æ®çš„å¯¼å…¥ï¼Œå¾ˆå¤šæ—¶å€™éƒ½æ˜¯åªéœ€è¦å¯¼å…¥å¢é‡æ•°æ®å³å¯ï¼Œå¹¶ä¸éœ€è¦å°†è¡¨ä¸­çš„æ•°æ®æ¯æ¬¡éƒ½å…¨éƒ¨å¯¼å…¥åˆ° hive æˆ–è€… hdfs å½“ä¸­å»ï¼Œè¿™æ ·ä¼šé€ æˆæ•°æ®é‡å¤çš„é—®é¢˜ã€‚å› æ­¤ä¸€èˆ¬éƒ½æ˜¯é€‰ç”¨ä¸€äº›å­—æ®µè¿›è¡Œå¢é‡çš„å¯¼å…¥ï¼Œ sqoop æ”¯æŒå¢é‡çš„å¯¼å…¥æ®ã€‚</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¤§ç™½è¯è®² å°±æ˜¯æ•°æ®éšç€å¢åŠ çš„ï¼Œå¯¼å…¥</span><br><span class="line">å¯¼å…¥è¡¨çš„è¡Œ</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--incremental append \</span></span><br><span class="line">#ä¸Šé¢çš„é€‰æ¨¡å¼ sqoopæœ‰ä¸¤ç§</span><br><span class="line">#appendï¼šè¿½åŠ ï¼Œæ¯”å¦‚å¯¹å¤§äº <span class="keyword">last</span><span class="operator">-</span><span class="keyword">value</span> æŒ‡å®šçš„å€¼ä¹‹åçš„è®°å½•è¿›è¡Œè¿½åŠ å¯¼å…¥ã€‚</span><br><span class="line">#lastmodifiedï¼šæœ€åçš„ä¿®æ”¹æ—¶é—´ï¼Œè¿½åŠ  <span class="keyword">last</span><span class="operator">-</span><span class="keyword">value</span> æŒ‡å®šçš„æ—¥æœŸä¹‹åçš„è®°å½•</span><br><span class="line"><span class="comment">--check-column id \</span></span><br><span class="line">#æ ¹æ®idè¿™åˆ— å¢é‡æ•°æ® ï¼è¿™äº›è¢«æŒ‡å®šçš„åˆ—çš„ç±»å‹ä¸èƒ½ä½¿ä»»æ„å­—ç¬¦ç±»å‹ï¼Œå¦‚ <span class="type">char</span>ã€<span class="type">varchar</span> ç­‰ç±»</span><br><span class="line">#å‹éƒ½æ˜¯ä¸å¯ä»¥çš„ï¼ŒåŒæ—¶<span class="comment">-- check-column å¯ä»¥å»æŒ‡å®šå¤šä¸ªåˆ—ã€‚</span></span><br><span class="line"><span class="comment">--last-value 1205</span></span><br><span class="line">#æŒ‡å®šåˆ—çš„å€¼ä»¥åçš„æ•°æ®æ‰èƒ½å¯¼å…¥</span><br><span class="line">#æŒ‡å®šè‡ªä»ä¸Šæ¬¡å¯¼å…¥ååˆ—çš„æœ€å¤§å€¼ï¼ˆå¤§äºè¯¥æŒ‡å®šçš„å€¼ï¼‰ï¼Œä¹Ÿå¯ä»¥è‡ªå·±è®¾å®šæŸä¸€å€¼</span><br></pre></td></tr></table></figure><p>Append<strong>æ¨¡å¼å¯¼å…¥</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">bin<span class="operator">/</span>sqoop import \</span><br><span class="line"><span class="comment">--connect jdbc:mysql://node-1:3306/userdb \</span></span><br><span class="line"><span class="comment">--username root --password hadoop \</span></span><br><span class="line"><span class="comment">--table emp --m 1 \</span></span><br><span class="line"><span class="comment">--target-dir /appendresult \</span></span><br><span class="line"><span class="comment">--incremental append \</span></span><br><span class="line"><span class="comment">--check-column id \</span></span><br><span class="line"><span class="comment">--last-value 1205</span></span><br></pre></td></tr></table></figure><p>å¯¼å…¥è¿‡åhdfsä¼šå¤šå‡ºä¸€ä¸ªæ–‡ä»¶ è¿™ä¸ªæ–‡ä»¶å°±æ˜¯å¢é‡ä»¥åçš„æ•°æ®  ä¹Ÿå°±æ˜¯ID 1205åé¢çš„æ•°æ®  ä¸åŒ…æ‹¬1205</p><p>lastmodified<strong>æ¨¡å¼å¯¼å…¥</strong>ã€</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">bin<span class="operator">/</span>sqoop import \</span><br><span class="line"><span class="comment">--connect jdbc:mysql://node-1:3306/userdb \</span></span><br><span class="line"><span class="comment">--username root \</span></span><br><span class="line"><span class="comment">--password hadoop \</span></span><br><span class="line"><span class="comment">--table customertest \</span></span><br><span class="line"><span class="comment">--target-dir /lastmodifiedresult \</span></span><br><span class="line"><span class="comment">--check-column last_mod \</span></span><br><span class="line"><span class="comment">--incremental lastmodified \</span></span><br><span class="line"><span class="comment">--last-value &quot;2019-05-28 18:42:06&quot; \</span></span><br><span class="line"><span class="comment">--m 1 \</span></span><br><span class="line"><span class="comment">--append</span></span><br></pre></td></tr></table></figure><p>å¯¼å…¥ä¹Ÿä¼šæœ‰ä¸€ä¸ªæ–‡ä»¶</p><p>check-columnåˆ—çš„æ•°æ®éœ€è¦æ˜¯æ—¶é—´æˆ³</p><p>last-valueçš„å€¼ å¢é‡å¯¼å…¥ä»¥å æ˜¯æ—¶é—´åé¢çš„å€¼ åŒ…æ‹¬è¯¥æ—¶é—´</p><p><strong>lastmodified æ¨¡å¼å»å¤„ç†å¢é‡æ—¶ï¼Œä¼šå°†å¤§äºç­‰äº last</strong>value å€¼çš„æ•°æ®å½“åšå¢é‡æ’å…¥ã€‚</p><h2 id="7-æ€»ç»“-4">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>å› ä¸ºè‡ªå·±åœ¨çœ‹sqoopçš„é‚£ä¸ªè§†é¢‘å¾ˆçŸ­ï¼Œå°±ä¸¤ä¸ªå°æ—¶ï¼Œæ²¡æœ‰è®²è¿‡å¢é‡å¯¼å…¥è¿™ä¸€ç« èŠ‚ï¼Œä½†æ˜¯çœèµ›ä»»åŠ¡ä¹¦æ˜¯ç¬¬ä¸€ç‚¹æ˜¯æ•°æ®æŠ½å–ï¼Œè€Œä¸”æ˜¯è¦æ±‚ä½¿ç”¨sqoopè¿›è¡ŒæŠ½å–ï¼Œå› ä¸ºè¦æŠ½8ä¸ªè¡¨æ ¼ï¼Œå‰é¢6ä¸ªéƒ½æ˜¯æ¯”è¾ƒæ™®é€šçš„å…¨é‡æŠ½å–ï¼Œä¹‹å‰è‡ªå·±å­¦çš„ä¹Ÿèƒ½åšå‡ºæ¥ï¼Œä½†æ˜¯åˆ°å¢é‡å¯¼å…¥çš„æ—¶å€™ï¼Œ æˆ‘ç”¨sqoopå°±ä¸çŸ¥é“æ€ä¹ˆå¼„äº†ï¼Œé—®ææ˜Šï¼Œä»–ä»¬æ¯”èµ›æ˜¯ç»™åé¢å¯è§†åŒ–çš„ï¼Œæ‰€ä»¥æ²¡å­¦sqoopï¼Œè‡ªå·±æ•´ä¹Ÿæ•´ä¸å‡ºæ¥ï¼Œä»»åŠ¡ä¹¦æè¿°çš„è¿˜æ¨¡ç³Šï¼Œä¸¤å¤©ä¹Ÿæ²¡æ•´å‡ºæ¥ã€‚</p><h1 id="8-28-8-31sparkç¦»çº¿æ•°æ®æŠ½å–">8.28-8.31sparkç¦»çº¿æ•°æ®æŠ½å–</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-11">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-3">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="IDEAä¸­spark-ä»£ç -packageæ‰“åŒ…">IDEAä¸­spark ä»£ç   packageæ‰“åŒ…</h3><p>sparkSQL jaråœ¨linuxæ‰§è¡Œ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spark<span class="operator">-</span>submit <span class="comment">--master spark://192.168.23.89:7077 --executor-memory 2g --total-executor-cores 10  --driver-memory 4G  --class com.atguigu.bigdata.Test.subjectTwoData --name subjectTwoData /opt/XXXX.jar</span></span><br></pre></td></tr></table></figure><p><strong>æ‰“åŒ…è¿‡ç¨‹</strong></p><p>è¦åŠ Mavenæ’ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>bigdata<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dataClear<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/scala<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.alchim31.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>scala-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">recompileMode</span>&gt;</span>incremental<span class="tag">&lt;/<span class="name">recompileMode</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">executions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">execution</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">goals</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>compile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">goal</span>&gt;</span>testCompile<span class="tag">&lt;/<span class="name">goal</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">goals</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">execution</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">executions</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">source</span>&gt;</span>8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">target</span>&gt;</span>8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.38<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-core_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-sql_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-yarn_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-hive_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.4.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.13.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-clients_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.13.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-streaming-java_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.13.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-connector-kafka_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.13.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-streaming-scala_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.13.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-scala<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.10.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.bahir<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-connector-redis_2.10<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ•°æ®æŠ½å–çš„ä»£ç ">æ•°æ®æŠ½å–çš„ä»£ç </h3><p>çœèµ›ä»»åŠ¡ä¹¦æ¨¡å—D</p><p>sparkå¢é‡ åªç”¨sql è¿™ç§where å°±æ¯”sqoop æˆ‘è§‰å¾—æ–¹ä¾¿å¾ˆå¤šè€Œä¸”å®¹æ˜“ç†è§£</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIGDATA</span></span><br><span class="line"><span class="keyword">import</span>  org.apache.spark.sql.<span class="type">SparkSession</span></span><br><span class="line"><span class="keyword">import</span> java.text.<span class="type">SimpleDateFormat</span></span><br><span class="line"><span class="keyword">import</span> java.util.&#123;<span class="type">Calendar</span>, <span class="type">Date</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">subjectTwoData</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> <span class="type">MYSQLIP</span> = <span class="string">&quot;192.168.23.89&quot;</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">DATABASE</span> = <span class="string">&quot;shtd_store&quot;</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">MYSQLDBURL</span>: <span class="type">String</span> = <span class="string">&quot;jdbc:mysql://&quot;</span> + <span class="type">MYSQLIP</span> + <span class="string">&quot;:3306/&quot;</span> + <span class="type">DATABASE</span> + <span class="string">&quot;?characterEncoding=UTF-8&quot;</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">MYSQLDRIVER</span> = <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">MYSQLUSER</span> = <span class="string">&quot;root&quot;</span></span><br><span class="line">  <span class="keyword">val</span> <span class="type">MYSQLPASSWORD</span> = <span class="string">&quot;123456&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//MYSQLå‚æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å»ºç«‹sparkè¿æ¥ hiveæ”¯æŒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkBuilder: <span class="type">SparkSession</span>.<span class="type">Builder</span> = <span class="type">SparkSession</span>.builder()</span><br><span class="line">    <span class="keyword">if</span> ((args.length &gt; <span class="number">0</span> &amp;&amp; args(<span class="number">0</span>).equals(<span class="string">&quot;local&quot;</span>)) || args.length == <span class="number">0</span>) &#123;</span><br><span class="line">      sparkBuilder.master(<span class="string">&quot;local[*]&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = sparkBuilder.appName(<span class="string">&quot;subjectTwoData&quot;</span>)</span><br><span class="line">      .enableHiveSupport()</span><br><span class="line">      .getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.sql</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    è¿æ¥mysql</span></span><br><span class="line"><span class="comment">     ç»™è¡¨æ ¼èµ·åˆ«å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;url&quot;</span>, <span class="type">MYSQLDBURL</span>)</span><br><span class="line">      .option(<span class="string">&quot;driver&quot;</span>, <span class="type">MYSQLDRIVER</span>)</span><br><span class="line">      .option(<span class="string">&quot;user&quot;</span>, <span class="type">MYSQLUSER</span>)</span><br><span class="line">      .option(<span class="string">&quot;password&quot;</span>, <span class="type">MYSQLPASSWORD</span>)</span><br><span class="line">      .option(<span class="string">&quot;dbtable&quot;</span>, <span class="string">&quot;CUSTOMER&quot;</span>).load().createTempView(<span class="string">&quot;mysql_customer&quot;</span>)</span><br><span class="line"></span><br><span class="line">    spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;url&quot;</span>, <span class="type">MYSQLDBURL</span>)</span><br><span class="line">      .option(<span class="string">&quot;driver&quot;</span>, <span class="type">MYSQLDRIVER</span>)</span><br><span class="line">      .option(<span class="string">&quot;user&quot;</span>, <span class="type">MYSQLUSER</span>)</span><br><span class="line">      .option(<span class="string">&quot;password&quot;</span>, <span class="type">MYSQLPASSWORD</span>)</span><br><span class="line">      .option(<span class="string">&quot;dbtable&quot;</span>, <span class="string">&quot;NATION&quot;</span>).load().createTempView(<span class="string">&quot;mysql_nation&quot;</span>)</span><br><span class="line"></span><br><span class="line">    spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;url&quot;</span>, <span class="type">MYSQLDBURL</span>)</span><br><span class="line">      .option(<span class="string">&quot;driver&quot;</span>, <span class="type">MYSQLDRIVER</span>)</span><br><span class="line">      .option(<span class="string">&quot;user&quot;</span>, <span class="type">MYSQLUSER</span>)</span><br><span class="line">      .option(<span class="string">&quot;password&quot;</span>, <span class="type">MYSQLPASSWORD</span>)</span><br><span class="line">      .option(<span class="string">&quot;dbtable&quot;</span>, <span class="string">&quot;PART&quot;</span>).load().createTempView(<span class="string">&quot;mysql_part&quot;</span>)</span><br><span class="line"></span><br><span class="line">    spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;url&quot;</span>, <span class="type">MYSQLDBURL</span>)</span><br><span class="line">      .option(<span class="string">&quot;driver&quot;</span>, <span class="type">MYSQLDRIVER</span>)</span><br><span class="line">      .option(<span class="string">&quot;user&quot;</span>, <span class="type">MYSQLUSER</span>)</span><br><span class="line">      .option(<span class="string">&quot;password&quot;</span>, <span class="type">MYSQLPASSWORD</span>)</span><br><span class="line">      .option(<span class="string">&quot;dbtable&quot;</span>, <span class="string">&quot;PARTSUPP&quot;</span>).load().createTempView(<span class="string">&quot;mysql_partsupp&quot;</span>)</span><br><span class="line"></span><br><span class="line">    spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;url&quot;</span>, <span class="type">MYSQLDBURL</span>)</span><br><span class="line">      .option(<span class="string">&quot;driver&quot;</span>, <span class="type">MYSQLDRIVER</span>)</span><br><span class="line">      .option(<span class="string">&quot;user&quot;</span>, <span class="type">MYSQLUSER</span>)</span><br><span class="line">      .option(<span class="string">&quot;password&quot;</span>, <span class="type">MYSQLPASSWORD</span>)</span><br><span class="line">      .option(<span class="string">&quot;dbtable&quot;</span>, <span class="string">&quot;REGION&quot;</span>).load().createTempView(<span class="string">&quot;mysql_region&quot;</span>)</span><br><span class="line"></span><br><span class="line">    spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;url&quot;</span>, <span class="type">MYSQLDBURL</span>)</span><br><span class="line">      .option(<span class="string">&quot;driver&quot;</span>, <span class="type">MYSQLDRIVER</span>)</span><br><span class="line">      .option(<span class="string">&quot;user&quot;</span>, <span class="type">MYSQLUSER</span>)</span><br><span class="line">      .option(<span class="string">&quot;password&quot;</span>, <span class="type">MYSQLPASSWORD</span>)</span><br><span class="line">      .option(<span class="string">&quot;dbtable&quot;</span>, <span class="string">&quot;SUPPLIER&quot;</span>).load().createTempView(<span class="string">&quot;mysql_supplier&quot;</span>)</span><br><span class="line"></span><br><span class="line">    spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;url&quot;</span>, <span class="type">MYSQLDBURL</span>)</span><br><span class="line">      .option(<span class="string">&quot;driver&quot;</span>, <span class="type">MYSQLDRIVER</span>)</span><br><span class="line">      .option(<span class="string">&quot;user&quot;</span>, <span class="type">MYSQLUSER</span>)</span><br><span class="line">      .option(<span class="string">&quot;password&quot;</span>, <span class="type">MYSQLPASSWORD</span>)</span><br><span class="line">      .option(<span class="string">&quot;dbtable&quot;</span>, <span class="string">&quot;ORDERS&quot;</span>).load().createTempView(<span class="string">&quot;mysql_orders&quot;</span>)</span><br><span class="line"></span><br><span class="line">    spark.read.format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;url&quot;</span>, <span class="type">MYSQLDBURL</span>)</span><br><span class="line">      .option(<span class="string">&quot;driver&quot;</span>, <span class="type">MYSQLDRIVER</span>)</span><br><span class="line">      .option(<span class="string">&quot;user&quot;</span>, <span class="type">MYSQLUSER</span>)</span><br><span class="line">      .option(<span class="string">&quot;password&quot;</span>, <span class="type">MYSQLPASSWORD</span>)</span><br><span class="line">      .option(<span class="string">&quot;dbtable&quot;</span>, <span class="string">&quot;LINEITEM&quot;</span>).load().createTempView(<span class="string">&quot;mysql_lineitem&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¾ç½®æ—¶é—´ä¸ºä»Šå¤©</span></span><br><span class="line">    <span class="keyword">val</span> sdf = <span class="keyword">new</span> <span class="type">SimpleDateFormat</span>(<span class="string">&quot;yyyyMMdd&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> calendar: <span class="type">Calendar</span> = <span class="type">Calendar</span>.getInstance()</span><br><span class="line">    calendar.add(<span class="type">Calendar</span>.<span class="type">DATE</span>,<span class="number">0</span>) <span class="comment">//0ä»£è¡¨ä»Šå¤© æ­£æ•°æ˜¯æœªæ¥ è´Ÿæ•°æ˜¯ä»¥å‰çš„æ—¥æœŸ</span></span><br><span class="line">    <span class="keyword">val</span> todayTime: <span class="type">Date</span> = calendar.getTime <span class="comment">//è·å–æ—¶é—´ æ ¼å¼ ï¼šMon Aug 29 00:01:10 CST 2022</span></span><br><span class="line">    <span class="keyword">val</span> dateStr: <span class="type">String</span> = sdf.format(todayTime) <span class="comment">//string ç±»å‹æ—¶é—´ ä½œåˆ†åŒºetldate</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//hiveå¼€å¯åŠ¨æ€åˆ†åŒºæ”¯æŒ</span></span><br><span class="line">    sql(<span class="string">&quot;set hive.exec.dynamic.partition=true&quot;</span>)</span><br><span class="line">    sql(<span class="string">&quot;set hive.exec.dynamic.partition.mode=nonstrict&quot;</span>)</span><br><span class="line">    sql(<span class="string">&quot;set hive.exec.max.dynamic.partitions=50000&quot;</span>)</span><br><span class="line">    sql(<span class="string">&quot;set hive.exec.max.dynamic.partitions.pernode=10000&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æŠ½å–CUSTOMER åˆ°hiveçš„odsè®¾ç½®åˆ†åŒºdateStr</span></span><br><span class="line">    <span class="comment">//ä»¥ä¸‹éƒ½æ˜¯å…¨é‡æŠ½å–</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table ods.customer partition (etldate=&#x27;$dateStr&#x27;)</span></span><br><span class="line"><span class="string">         |select * from mysql_customer</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æŠ½å–NATION åˆ°hiveçš„odsè®¾ç½®åˆ†åŒº</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.nation partition (etldate=&#x27;$dateStr&#x27;)</span></span><br><span class="line"><span class="string">        |select * from mysql_nation</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æŠ½å–PART åˆ°hiveçš„odsè®¾ç½®åˆ†åŒº</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table ods.part partition (etldate=&#x27;$dateStr&#x27;)</span></span><br><span class="line"><span class="string">         |select * from mysql_part</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æŠ½å–PARTSUPP åˆ°hiveçš„odsè®¾ç½®åˆ†åŒº</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table ods.partsupp partition (etldate=&#x27;$dateStr&#x27;)</span></span><br><span class="line"><span class="string">         |select * from mysql_partsupp</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æŠ½å–REGION åˆ°hiveçš„odsè®¾ç½®åˆ†åŒº</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table ods.region partition (etldate=&#x27;$dateStr&#x27;)</span></span><br><span class="line"><span class="string">         |select * from mysql_region</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    <span class="comment">//æŠ½å–SUPPLIER</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |insert overwrite table ods.supplier partition (etldate=&#x27;$dateStr&#x27;)</span></span><br><span class="line"><span class="string">         |select * from mysql_supplier</span></span><br><span class="line"><span class="string">         |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¢é‡æŠ½å– 1997 12 1ä»¥åçš„æ•°æ®orderkeyä¸ºå¢é‡å­—æ®µ etldateä¸ºåŠ¨æ€åˆ†åŒºåˆ—</span></span><br><span class="line">    spark.sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">         |select</span></span><br><span class="line"><span class="string">         |orderkey,custkey,orderstatus,totalprice,orderdate,</span></span><br><span class="line"><span class="string">         |orderpriority,clerk,shippriority,comment,regexp_replace(orderdate,&quot;</span>-<span class="string">&quot;,&quot;</span><span class="string">&quot;)</span></span><br><span class="line"><span class="string">         | from mysql_orders a</span></span><br><span class="line"><span class="string">         |left join</span></span><br><span class="line"><span class="string">         |(select COALESCE(max(orderkey),-1) as maxid from  ods.orders ) b</span></span><br><span class="line"><span class="string">         |on 1=1 where cast(a.orderkey as int)&gt;cast(b.maxid as int)</span></span><br><span class="line"><span class="string">         |and regexp_replace(a.orderdate,&quot;</span>-<span class="string">&quot;,&quot;</span><span class="string">&quot;)&gt;= &#x27;19971201&#x27;</span></span><br><span class="line"><span class="string">         |</span></span><br><span class="line"><span class="string">      &quot;</span><span class="string">&quot;&quot;</span>.stripMargin).coalesce(<span class="number">50</span>).createOrReplaceTempView(<span class="string">&quot;mysql_order_coalesce&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‡ºè¿‡å‡ æ¬¡BUGçš„ç‚¹ ä»»åŠ¡ä¹¦çš„è¦æ±‚æ˜¯çœ‹dealdateè¿™åˆ—ä¸ºåŠ¨æ€åˆ†åŒº ä½†æ˜¯hiveè¡¨ä¸­æ˜æ˜¾ä½œä¸ºåŠ¨æ€åˆ†åŒºçš„åˆ— æœ€åä¸€åˆ—</span></span><br><span class="line"><span class="comment">     * æ˜¯orders.etldate å°±æŠŠåŸæ¥ä»£ç ä¸­çš„dealdateæ”¹æˆetldate</span></span><br><span class="line"><span class="comment">     * æŠ¥é”™ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * exception in thread main org.apache.spark.sql.analysisException dealdate is not a valid partition column in table `ods`.`orders`</span></span><br><span class="line"><span class="comment">     * çº¿ç¨‹ä¸»org.apache.spark.sqlä¸­å‡ºç°å¼‚å¸¸ã€‚analysisException dealdateä¸æ˜¯è¡¨â€œodsâ€ä¸­çš„æœ‰æ•ˆåˆ†åŒºåˆ—</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    spark.sql(</span><br><span class="line">      <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        |insert overwrite table ods.orders partition (etldate)</span></span><br><span class="line"><span class="string">        |select * from mysql_order_coalesce</span></span><br><span class="line"><span class="string">        |</span></span><br><span class="line"><span class="string">      &quot;&quot;&quot;</span>.stripMargin)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¢é‡æŠ½å– lineitem orderkeyä¸ºå¢é‡å­—æ®µ é™æ€åˆ†åŒºä¸ºå½“å¤©æ—¥æœŸdateStr</span></span><br><span class="line">    sql(</span><br><span class="line">      <span class="string">s&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">        |insert into table ods.lineitem partition (etldate=&#x27;$dateStr&#x27;)</span></span><br><span class="line"><span class="string">        |select a.* from mysql_lineitem a</span></span><br><span class="line"><span class="string">        |left join</span></span><br><span class="line"><span class="string">        |(select coalesce(max(orderkey),-1) as maxid from ods.lineitem) b on 1=1</span></span><br><span class="line"><span class="string">        |where cast(a.orderkey as int)&gt;cast(b.maxid as int)</span></span><br><span class="line"><span class="string">        |&quot;</span><span class="string">&quot;&quot;</span>.stripMargin)</span><br><span class="line">    spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-æ€»ç»“-2">3.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>å‰æ®µæ—¶é—´å› ä¸ºsqoopå¢é‡è‡ªå·±æ•´ä¸æ¥ï¼Œç„¶åææ˜Šè®©æˆ‘åŸºæœ¬çš„sqoopå­¦ä¼šå°±å¥½äº†ï¼Œç»ƒä¹ é¢˜ç›®å°±ç”¨sparkï¼Œè€Œä¸”çœèµ›è¯´æ˜¯ä¸è€ƒsqoopçš„ï¼Œæ‰€ä»¥æˆ‘å°±ç›´æ¥ç”¨sparksqlè¿hiveï¼ŒæŠ½å–æ•°æ®äº†ï¼Œå°±æ˜¯ç›´æ¥ç”¨hive æŸ¥è¯¢å¯¼å…¥åˆ°MySQL æˆ–è€… ä»MySQLåˆ°hive  hiveåˆ°hiveéƒ½æ˜¯å¯ä»¥çš„ï¼ŒåŠ¨æ€åˆ†åŒºä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œéƒ½ä¼šé»˜è®¤åˆ†åŒºã€‚è¿™å‡ å¤©sparksqlä½¿ç”¨çš„æ¯”è¾ƒå¤šï¼Œä¹Ÿå‡ºç°äº†å¾ˆå¤šå¤§å¤§å°å°çš„é—®é¢˜å§ï¼Œéº»çƒ¦çš„ç‚¹åœ¨æ‰“åŒ…æ”¾linuxï¼Œé‡Œé¢ä¹‹å‰å› ä¸ºæ²¡åŠ Mavenæ’ä»¶ï¼Œå¯¼è‡´æŠ¥é”™äº†ï¼Œé‡æ–°æ‰“åŒ…è¿˜æ˜¯ä¼šæŠ¥é”™ï¼Œä»£ç å¹¶æ²¡æœ‰æ›´æ–°ã€‚</p>]]></content>
    
    
    <summary type="html">å¤§æ•°æ®å®æˆ˜â€”â€”hive,SparkSQL,HiveSQLå®æˆ˜50é¢˜,Sqoop</summary>
    
    
    
    <category term="å·¥ä½œå®¤æœˆç¬”è®°" scheme="https://u7u7.top/categories/%E5%B7%A5%E4%BD%9C%E5%AE%A4%E6%9C%88%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="æœˆç¬”è®°" scheme="https://u7u7.top/tags/%E6%9C%88%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Scala" scheme="https://u7u7.top/tags/Scala/"/>
    
    <category term="Spark" scheme="https://u7u7.top/tags/Spark/"/>
    
    <category term="Hive" scheme="https://u7u7.top/tags/Hive/"/>
    
  </entry>
  
  <entry>
    <title>7æœˆç¬”è®°</title>
    <link href="https://u7u7.top/posts/33ff80d0.html"/>
    <id>https://u7u7.top/posts/33ff80d0.html</id>
    <published>2023-03-10T14:21:25.000Z</published>
    <updated>2023-03-10T14:21:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="7-7-linuxå…¥é—¨-åŸºç¡€">7.7 linuxå…¥é—¨ åŸºç¡€</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜">2.æ ‡é¢˜</h2><p>P1001_è¯¾ç¨‹ä»‹ç»<br>P2002_å…¥é—¨ç¯‡_Linuxæ¦‚è¿°ï¼ˆä¸€ï¼‰_Linuxçš„è¯ç”Ÿ<br>P3003_å…¥é—¨ç¯‡_Linuxæ¦‚è¿°ï¼ˆäºŒï¼‰_Unix<br>P4004_å…¥é—¨ç¯‡_Linuxæ¦‚è¿°ï¼ˆä¸‰ï¼‰_Linuxå’ŒUnixçš„æ¸Šæº<br>P5005_å…¥é—¨ç¯‡_Linuxæ¦‚è¿°ï¼ˆå››ï¼‰_GNU-Linux<br>P6006_å…¥é—¨ç¯‡_Linuxæ¦‚è¿°ï¼ˆäº”ï¼‰_Linuxå‘è¡Œç‰ˆ<br>P7007_å…¥é—¨ç¯‡_Linuxæ¦‚è¿°ï¼ˆå…­ï¼‰_Linux vs Windows<br>P8008_å…¥é—¨ç¯‡_Linuxå®‰è£…ï¼ˆä¸€ï¼‰_CentOSçš„ç‰ˆæœ¬é€‰æ‹©å’Œä¸‹è½½<br>P9009_å…¥é—¨ç¯‡_Linuxå®‰è£…ï¼ˆäºŒï¼‰_VMwareä¸‹è½½å®‰è£…<br>P10010_å…¥é—¨ç¯‡_Linuxå®‰è£…ï¼ˆä¸‰ï¼‰_åˆ›å»ºè™šæ‹Ÿæœº<br>P11011_å…¥é—¨ç¯‡_Linuxå®‰è£…ï¼ˆå››ï¼‰_å®‰è£…CentOS<br>P12012_åŸºç¡€ç¯‡_æ¡Œé¢å’Œç»ˆç«¯åŸºæœ¬æ“ä½œ<br>P13013_åŸºç¡€ç¯‡_Linuxæ–‡ä»¶ç³»ç»Ÿï¼ˆä¸€ï¼‰_æ–‡ä»¶ç³»ç»Ÿå’ŒæŒ‚è½½ç‚¹<br>P14014_åŸºç¡€ç¯‡_Linuxæ–‡ä»¶ç³»ç»Ÿï¼ˆäºŒï¼‰_ç›®å½•ç»“æ„<br>P15015_åŸºç¡€ç¯‡_VIMç¼–è¾‘å™¨ï¼ˆä¸€ï¼‰_æ•´ä½“ä»‹ç»å’Œæ¨¡å¼è½¬æ¢<br>P16016_åŸºç¡€ç¯‡_VIMç¼–è¾‘å™¨ï¼ˆäºŒï¼‰_æ™®é€šæ¨¡å¼<br>P17017_åŸºç¡€ç¯‡_VIMç¼–è¾‘å™¨ï¼ˆä¸‰ï¼‰_ç¼–è¾‘æ¨¡å¼<br>P18018_åŸºç¡€ç¯‡_VIMç¼–è¾‘å™¨ï¼ˆå››ï¼‰_å‘½ä»¤æ¨¡å¼<br>P19019_åŸºç¡€ç¯‡_ç½‘ç»œé…ç½®ï¼ˆä¸€ï¼‰_ç½‘ç»œè¿æ¥æµ‹è¯•<br>P20020_åŸºç¡€ç¯‡_ç½‘ç»œé…ç½®ï¼ˆäºŒï¼‰_ç½‘ç»œè¿æ¥æ¨¡å¼<br>P21021_åŸºç¡€ç¯‡_ç½‘ç»œé…ç½®ï¼ˆä¸‰ï¼‰_ä¿®æ”¹é™æ€IP<br>P22022_åŸºç¡€ç¯‡_ç½‘ç»œé…ç½®ï¼ˆå››ï¼‰_é…ç½®ä¸»æœºå<br>P23023_åŸºç¡€ç¯‡_è¿œç¨‹ç™»å½•<br>P24024_åŸºç¡€ç¯‡_ç³»ç»Ÿç®¡ç†ï¼ˆä¸€ï¼‰_LinuxæœåŠ¡ç®¡ç†<br>P25025_åŸºç¡€ç¯‡_ç³»ç»Ÿç®¡ç†ï¼ˆäºŒï¼‰_ç³»ç»Ÿè¿è¡Œçº§åˆ«<br>P26026_åŸºç¡€ç¯‡_ç³»ç»Ÿç®¡ç†ï¼ˆä¸‰ï¼‰_é…ç½®æœåŠ¡å¼€æœºå¯åŠ¨å’Œå…³é—­é˜²ç«å¢™<br>P27027_åŸºç¡€ç¯‡_ç³»ç»Ÿç®¡ç†ï¼ˆå››ï¼‰_å…³æœºé‡å¯<br>P28028_å®æ“ç¯‡_Shellå‘½ä»¤æ•´ä½“ä»‹ç»åŠå¸®åŠ©å‘½ä»¤</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="Linux-æ–‡ä»¶ä¸ç›®å½•ç»“æ„"><strong>Linux</strong> <strong>æ–‡ä»¶ä¸ç›®å½•ç»“æ„</strong></h3><h3 id="VI-VIM-ç¼–è¾‘å™¨ï¼ˆé‡è¦ï¼‰"><strong>VI/VIM</strong> <strong>ç¼–è¾‘å™¨ï¼ˆé‡è¦ï¼‰</strong></h3><h3 id="ç½‘ç»œé…ç½®"><strong>ç½‘ç»œé…ç½®</strong></h3><h3 id="ç³»ç»Ÿç®¡ç†">ç³»ç»Ÿç®¡ç†</h3><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="Linux-æ–‡ä»¶ä¸ç›®å½•ç»“æ„-2"><strong>Linux</strong> <strong>æ–‡ä»¶ä¸ç›®å½•ç»“æ„</strong></h3><p>æ¯”è¾ƒæ€»ç»“çš„ä¸€å¥è¯ï¼ŒLinuxç³»ç»Ÿä¸­ä¸€åˆ‡çš†æ–‡ä»¶ã€‚ä¸€äº›ä»£ç </p><p>Linuxå†…è®¡ç®—æœºæ–‡ä»¶ç›®å½•å¦‚å›¾æ‰€ç¤º</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220707191931958.png" alt="image-20220707191931958"></p><p>æ³¨æ„ï¼š<code>å¸¦ç®­å¤´æ˜¯é“¾æ¥ï¼ŒæŸ¥çœ‹å±æ€§å¯ä»¥æ‰¾åˆ°å…¶æ‰€æŒ‡å‘ç›®å½•</code></p><p>ç›®å½•ç»“æ„(æ ‘å½¢å›¾)</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220707192104440.png" alt="image-20220707192104440"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">å¸¸è§ç›®å½•è¯´æ˜</span><br><span class="line">     â‘ . /bin ï¼šå­˜æ”¾å¸¸ç”¨å‘½ä»¤ï¼ˆå³äºŒè¿›åˆ¶å¯æ‰§è¡Œç¨‹åºï¼‰</span><br><span class="line"></span><br><span class="line">     â‘¡. /etc ï¼šå­˜æ”¾ç³»ç»Ÿé…ç½®æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">     â‘¢. /home ï¼šæ‰€æœ‰æ™®é€šç”¨æˆ·çš„å®¶ç›®å½•</span><br><span class="line"></span><br><span class="line">     â‘£. /root ï¼šç®¡ç†å‘˜ç”¨æˆ·çš„å®¶ç›®å½•</span><br><span class="line"></span><br><span class="line">     â‘¤. /usr ï¼šå­˜æ”¾ç³»ç»Ÿåº”ç”¨ç¨‹åºåŠæ–‡æ¡£</span><br><span class="line"></span><br><span class="line">     â‘¥. /proc ï¼šè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿç›®å½•ï¼Œä»¥è¿›ç¨‹ä¸ºå•ä½å­˜å‚¨å†…å­˜çš„æ˜ å°„</span><br><span class="line"></span><br><span class="line">     â‘¦. /dev ï¼šå­˜æ”¾è®¾å¤‡æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">     â‘§. /mnt ï¼šä¸´æ—¶æŒ‚è½½ç‚¹</span><br><span class="line"></span><br><span class="line">     â‘¨. /lib ï¼šå­˜æ”¾åº“æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">     â‘©. /boot ï¼šç³»ç»Ÿå†…æ ¸åŠå¯åŠ¨æœ‰å…³çš„æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">     â‘ª. /tmp ï¼šå­˜æ”¾å„ç§ä¸´æ—¶æ–‡ä»¶ï¼Œæ˜¯æ‰€æœ‰ç”¨æˆ·å‡å¯è®¿é—®çš„åœ°ç‚¹</span><br><span class="line"></span><br><span class="line">     â‘«. /<span class="keyword">var</span> ï¼šå­˜æ”¾ç³»ç»Ÿè¿è¡Œä¸­å¸¸æ”¹å˜çš„æ–‡ä»¶ï¼Œå¦‚ç³»ç»Ÿæ—¥å¿—</span><br></pre></td></tr></table></figure><h3 id="VI-VIM-ç¼–è¾‘å™¨ï¼ˆé‡è¦ï¼‰-2"><strong>VI/VIM</strong> <strong>ç¼–è¾‘å™¨ï¼ˆé‡è¦ï¼‰</strong></h3><h4 id="ç®€ä»‹">ç®€ä»‹</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">VI æ˜¯ Unix æ“ä½œç³»ç»Ÿå’Œç±» Unix æ“ä½œç³»ç»Ÿä¸­æœ€é€šç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚ </span><br><span class="line">VIM ç¼–è¾‘å™¨æ˜¯ä» VI å‘å±•å‡ºæ¥çš„ä¸€ä¸ªæ€§èƒ½æ›´å¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚å¯ä»¥ä¸»åŠ¨çš„ä»¥å­—ä½“é¢œ è‰²è¾¨åˆ«è¯­æ³•çš„æ­£ç¡®æ€§ï¼Œæ–¹ä¾¿ç¨‹åºè®¾è®¡ã€‚VIM ä¸ VI ç¼–è¾‘å™¨å®Œå…¨å…¼å®¹</span><br></pre></td></tr></table></figure><p>VI/VIMç¼–è¾‘å™¨åˆ†ä¸ºä¸‰ä¸ªæ¨¡å¼ï¼Œä¸€èˆ¬æ¨¡å¼ï¼Œç¼–è¾‘æ¨¡å¼å’Œå‘½ä»¤æ¨¡å¼å¯ä»¥äº’ç›¸è½¬æ¢ï¼ˆé»˜è®¤è¿›å…¥æ˜¯ä¸€èˆ¬æ¨¡å¼ï¼‰</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220707193310385.png" alt="image-20220707193310385"></p><h4 id="ä¸€èˆ¬æ¨¡å¼">ä¸€èˆ¬æ¨¡å¼</h4><p>è¯­æ³•ï¼Œä½¿ç”¨æŒ‡å—</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220707193349361.png" alt="image-20220707193349361"></p><h4 id="ç¼–è¾‘æ¨¡å¼">ç¼–è¾‘æ¨¡å¼</h4><p>å’Œwindowsä¸­çš„è®°äº‹æœ¬å·®ä¸å¤šï¼Œå¼¥è¡¥ä¸€èˆ¬æ¨¡å¼ä¸­æ— æ³•ç¼–è¾‘æ–‡ä»¶å†…å®¹çš„ç¼ºç‚¹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åœ¨ä¸€èˆ¬æ¨¡å¼ä¸­å¯ä»¥è¿›è¡Œåˆ é™¤ã€å¤åˆ¶ã€ç²˜è´´ç­‰çš„åŠ¨ä½œï¼Œä½†æ˜¯å´æ— æ³•ç¼–è¾‘æ–‡ä»¶å†…å®¹çš„ï¼è¦ ç­‰åˆ°ä½ æŒ‰ä¸‹ã€<span class="selector-tag">i</span>, <span class="selector-tag">I</span>, o, O, <span class="selector-tag">a</span>, <span class="selector-tag">A</span>ã€ç­‰ä»»ä½•ä¸€ä¸ªå­—æ¯ä¹‹åæ‰ä¼šè¿›å…¥ç¼–è¾‘æ¨¡å¼</span><br></pre></td></tr></table></figure><p>[ESC]é€€å‡ºç¼–è¾‘æ¨¡å¼åˆ°ä¸€èˆ¬æ¨¡å¼</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220707193840898.png" alt="image-20220707193840898"></p><h4 id="æŒ‡ä»¤æ¨¡å¼"><strong>æŒ‡ä»¤æ¨¡å¼</strong></h4><p>åœ¨ä¸€èˆ¬æ¨¡å¼å½“ä¸­ï¼Œè¾“å…¥ã€ : / ?ã€3ä¸ªä¸­çš„ä»»ä½•ä¸€ä¸ªæŒ‰é’®ï¼Œå°±å¯ä»¥å°†å…‰æ ‡ç§»åŠ¨åˆ°æœ€åº•ä¸‹é‚£ ä¸€è¡Œ</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220707194023022.png" alt="image-20220707194023022"></p><h3 id="ç½‘ç»œé…ç½®-2"><strong>ç½‘ç»œé…ç½®</strong></h3><h4 id="æŸ¥çœ‹ç½‘ç»œ-IP-å’Œ-ç½‘å…³"><strong>æŸ¥çœ‹ç½‘ç»œ</strong> <strong>IP</strong> <strong>å’Œ ç½‘å…³</strong></h4><p>VMwareè‡ªå¸¦è™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ï¼Œå¯ä»¥ä¿®æ”¹å’ŒæŸ¥çœ‹IPåœ°å€å’Œç½‘å…³,<code>åœ¨è™šæ‹Ÿæœºä¾¿ç­¾é‡Œ</code></p><h4 id="é…ç½®ç½‘ç»œipåœ°å€">é…ç½®ç½‘ç»œipåœ°å€</h4><p>æŸ¥çœ‹ipåœ°å€(Linux)</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ifconfig</span></span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹-IP-åœ°å€"><strong>ä¿®æ”¹</strong> <strong>IP</strong> <strong>åœ°å€</strong></h4><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop100 æ¡Œé¢]#vim <span class="regexp">/etc/</span>sysconfig<span class="regexp">/network-scripts/i</span>fcfg-ens33</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220707200446620.png" alt="image-20220707200446620"></p><p>å…ˆæŠŠè‡ªåŠ¨æ”¹æˆé™æ€çš„ï¼Œç„¶åæ·»åŠ ipå’Œç½‘å…³å’ŒDNSï¼Œç»ˆç«¯è¾“å…¥<strong>æ‰§è¡Œ</strong> <strong>service network restart</strong></p><p>ç„¶åpingä¸‹ä¸»æœºï¼Œä¸»æœºpingä¸‹linuxï¼Œæ­£å¸¸å³å¯</p><h4 id="ä¿®æ”¹ä¸»æœºåç§°">ä¿®æ”¹ä¸»æœºåç§°</h4><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@hadoop100</span> æ¡Œé¢]<span class="meta"># vi /etc/hostname</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œ<code>reboot</code>é‡å¯</p><h4 id="ä¸‹è½½äº†xshellå’Œxfip">ä¸‹è½½äº†xshellå’Œxfip</h4><p>è¿œç¨‹ç™»å½•å·¥å…·</p><h3 id="ç³»ç»Ÿç®¡ç†-2"><strong>ç³»ç»Ÿç®¡ç†</strong></h3><p>ç³»ç»Ÿç®¡ç†ä¸€äº›åŸºæœ¬å‘½ä»¤CSDNä¸Šé¢éƒ½æœ‰</p><h4 id="Linux-ä¸­çš„è¿›ç¨‹å’ŒæœåŠ¡"><strong>Linux</strong> <strong>ä¸­çš„è¿›ç¨‹å’ŒæœåŠ¡</strong></h4><p>è®¡ç®—æœºä¸­ï¼Œä¸€ä¸ªæ­£åœ¨æ‰§è¡Œçš„ç¨‹åºæˆ–å‘½ä»¤ï¼Œè¢«å«åšâ€œè¿›ç¨‹â€ï¼ˆprocessï¼‰ã€‚</p><p>å¯åŠ¨ä¹‹åä¸€ç›´å­˜åœ¨ã€å¸¸é©»å†…å­˜çš„è¿›ç¨‹ï¼Œä¸€èˆ¬è¢«ç§°ä½œâ€œæœåŠ¡â€ï¼ˆserviceï¼‰</p><h4 id="systemctl">systemctl</h4><p>åœ¨centos7ä¸­systemctlæ˜¯å¾ˆé‡è¦çš„æŸ¥çœ‹å‘½ä»¤</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220707202700316.png" alt="image-20220707202700316"></p><h4 id="å¸¸ç”¨å…³æœºé‡å¯å‘½ä»¤å¦‚ä¸‹">å¸¸ç”¨å…³æœºé‡å¯å‘½ä»¤å¦‚ä¸‹</h4><p>è¿™ä¸ªåœ¨åé¢è¿˜æ˜¯å°‘ç”¨ï¼Œè€æ˜¯è¯´åœ¨linuxä¸­å¤§å¤šç”¨åœ¨æœåŠ¡å™¨ä¸Šï¼Œå¾ˆå°‘é‡åˆ°å…³æœºçš„æ“ä½œã€‚æ¯•ç«ŸæœåŠ¡å™¨ä¸Šè·‘ä¸€ä¸ªæœåŠ¡æ˜¯æ°¸æ— æ­¢å¢ƒçš„ï¼Œé™¤éç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä¸å¾—å·²æ‰ä¼šå…³æœºã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220707201601515.png" alt="image-20220707201601515"></p><h2 id="5-æ€»ç»“">5.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>å¼€å§‹å­¦ä¹ linuxï¼Œå› ä¸ºä¹‹å‰å­¦pythonç”¨è¿‡ä¸€æ®µæ—¶é—´çš„ubuntuï¼Œéƒ½æ˜¯åŸºäºlinuxç³»ç»Ÿçš„ï¼Œä¸€äº›åŸºæœ¬å‘½ä»¤éƒ½æ˜¯äº’é€šçš„ï¼ŒæŸ¥çœ‹lsä¹‹ç±»çš„ï¼Œä¸Šæ‰‹å¾ˆå¿«ï¼Œä»Šå¤©å­¦ä¹ å†…å®¹æ¯”è¾ƒç®€å•ï¼Œå…¥é—¨ç¯‡å’ŒåŸºç¡€ç¯‡ï¼Œäº†è§£åˆ°linuxä¸€åˆ‡çš†æ–‡ä»¶ï¼Œæ¯”è¾ƒæœ‰æ„æ€ï¼Œé‡ç‚¹ä¸­çš„éš¾ç‚¹æ²¡æœ‰ï¼ŒVIå’ŒVIMå‘½ä»¤è®°ä½çš„è¯ï¼Œé‡ç‚¹å°±æå®šäº†ï¼Œç½‘ç»œé…ç½®èŠ±äº†ä¼šæ—¶é—´ï¼Œæœ€åä¸‹åˆæŠŠç³»ç»Ÿç®¡ç†ä¸­é‡è¦çš„å‘½ä»¤è‡ªå·±å¤šæ•²äº†å‡ éï¼Œä»Šå¤©å­¦ä¹ çŠ¶æ€è¿˜å¯ä»¥ï¼Œä¹Ÿæ²¡æœ‰ä»€ä¹ˆåœ°æ–¹å¡ä½å¾ˆä¹…ï¼Œæ²¡å‡ºBUGï¼ŒæŠŠubuntuæ¢åˆ°äº†18.04ã€‚</p><h1 id="7-8-å®æ“ç¯‡-æ–‡ä»¶å’Œç”¨æˆ·ç®¡ç†">7.8 å®æ“ç¯‡ æ–‡ä»¶å’Œç”¨æˆ·ç®¡ç†</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-2">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-2">2.æ ‡é¢˜</h2><p>P28028_å®æ“ç¯‡_Shellå‘½ä»¤æ•´ä½“ä»‹ç»åŠå¸®åŠ©å‘½ä»¤<br>P29029_å®æ“ç¯‡_æ–‡ä»¶ç›®å½•ç±»ï¼ˆä¸€ï¼‰_ç›®å½•æ“ä½œå‘½ä»¤ï¼ˆä¸€ï¼‰_æŸ¥çœ‹å’Œåˆ‡æ¢å·¥ä½œç›®å½•<br>P30030_å®æ“ç¯‡_æ–‡ä»¶ç›®å½•ç±»ï¼ˆä¸€ï¼‰_ç›®å½•æ“ä½œå‘½ä»¤ï¼ˆäºŒï¼‰_åˆ—å‡ºç›®å½•å†…å®¹<br>P31031_å®æ“ç¯‡_æ–‡ä»¶ç›®å½•ç±»ï¼ˆä¸€ï¼‰_ç›®å½•æ“ä½œå‘½ä»¤ï¼ˆä¸‰ï¼‰_åˆ›å»ºå’Œåˆ é™¤ç›®å½•<br>P32032_å®æ“ç¯‡_æ–‡ä»¶ç›®å½•ç±»ï¼ˆäºŒï¼‰_æ–‡ä»¶æ“ä½œå‘½ä»¤ï¼ˆä¸€ï¼‰_åˆ›å»ºæ–‡ä»¶<br>P33033_å®æ“ç¯‡_æ–‡ä»¶ç›®å½•ç±»ï¼ˆäºŒï¼‰_æ–‡ä»¶æ“ä½œå‘½ä»¤ï¼ˆäºŒï¼‰_å¤åˆ¶æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹<br>P34034_å®æ“ç¯‡_æ–‡ä»¶ç›®å½•ç±»ï¼ˆäºŒï¼‰_æ–‡ä»¶æ“ä½œå‘½ä»¤ï¼ˆä¸‰ï¼‰_åˆ é™¤å’Œç§»åŠ¨æ–‡ä»¶<br>P35035_å®æ“ç¯‡_æ–‡ä»¶ç›®å½•ç±»ï¼ˆäºŒï¼‰_æ–‡ä»¶æ“ä½œå‘½ä»¤ï¼ˆå››ï¼‰_æŸ¥çœ‹æ–‡ä»¶<br>P36036_å®æ“ç¯‡_æ–‡ä»¶ç›®å½•ç±»ï¼ˆä¸‰ï¼‰_å…¶å®ƒå‘½ä»¤ï¼ˆä¸€ï¼‰_æ§åˆ¶å°æ˜¾ç¤ºå’Œè¾“å‡ºé‡å®šå‘<br>P37037_å®æ“ç¯‡_æ–‡ä»¶ç›®å½•ç±»ï¼ˆä¸‰ï¼‰_å…¶å®ƒå‘½ä»¤ï¼ˆäºŒï¼‰_ç›‘æ§æ–‡ä»¶å˜åŒ–<br>P38038_å®æ“ç¯‡_æ–‡ä»¶ç›®å½•ç±»ï¼ˆä¸‰ï¼‰_å…¶å®ƒå‘½ä»¤ï¼ˆä¸‰ï¼‰_è½¯é“¾æ¥<br>P39039_å®æ“ç¯‡_æ–‡ä»¶ç›®å½•ç±»ï¼ˆä¸‰ï¼‰_å…¶å®ƒå‘½ä»¤ï¼ˆå››ï¼‰_æŸ¥çœ‹å†å²å‘½ä»¤<br>P40040_å®æ“ç¯‡_æ—¶é—´æ—¥æœŸç±»<br>P41041_å®æ“ç¯‡_ç”¨æˆ·æƒé™ç±»ï¼ˆä¸€ï¼‰_ç”¨æˆ·ç®¡ç†ï¼ˆä¸€ï¼‰_æ·»åŠ å’ŒæŸ¥çœ‹ç”¨æˆ·<br>P42042_å®æ“ç¯‡_ç”¨æˆ·æƒé™ç±»ï¼ˆä¸€ï¼‰_ç”¨æˆ·ç®¡ç†ï¼ˆäºŒï¼‰_è·å–rootæƒé™å’Œåˆ é™¤ç”¨æˆ·<br>P43043_å®æ“ç¯‡_ç”¨æˆ·æƒé™ç±»ï¼ˆäºŒï¼‰_ç”¨æˆ·ç»„ç®¡ç†<br>P44044_å®æ“ç¯‡_ç”¨æˆ·æƒé™ç±»ï¼ˆä¸‰ï¼‰_æ–‡ä»¶å±æ€§å’Œæƒé™<br>P45045_å®æ“ç¯‡_ç”¨æˆ·æƒé™ç±»ï¼ˆå››ï¼‰_æ›´æ”¹æ–‡ä»¶æƒé™<br>P46046_å®æ“ç¯‡_ç”¨æˆ·æƒé™ç±»ï¼ˆäº”ï¼‰_ç»¼åˆåº”ç”¨æ¡ˆä¾‹<br>P47047_å®æ“ç¯‡_æœç´¢æŸ¥æ‰¾ç±»ï¼ˆä¸€ï¼‰_æŸ¥æ‰¾å®šä½æ–‡ä»¶<br>P48048_å®æ“ç¯‡_æœç´¢æŸ¥æ‰¾ç±»ï¼ˆäºŒï¼‰_å†…å®¹è¿‡æ»¤æŸ¥æ‰¾å’Œç®¡é“æ“ä½œ<br>P49049_å®æ“ç¯‡_å‹ç¼©è§£å‹ç±»<br>P50050_å®æ“ç¯‡_ç£ç›˜ç®¡ç†ç±»ï¼ˆä¸€ï¼‰_æŸ¥çœ‹ç›®å½•å ç”¨ç©ºé—´å¤§å°<br>P51051_å®æ“ç¯‡_ç£ç›˜ç®¡ç†ç±»ï¼ˆäºŒï¼‰_æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ<br>P52052_å®æ“ç¯‡_ç£ç›˜ç®¡ç†ç±»ï¼ˆä¸‰ï¼‰_æŸ¥çœ‹è®¾å¤‡æŒ‚è½½æƒ…å†µ<br>P53053_å®æ“ç¯‡_ç£ç›˜ç®¡ç†ç±»ï¼ˆå››ï¼‰_æŒ‚è½½å’Œå¸è½½<br>P54054_å®æ“ç¯‡_ç£ç›˜ç®¡ç†ç±»ï¼ˆäº”ï¼‰_ç£ç›˜åˆ†åŒº</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-2">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="å¸®åŠ©å‘½ä»¤">å¸®åŠ©å‘½ä»¤</h3><h3 id="æ–‡ä»¶ç›®å½•ç±»">æ–‡ä»¶ç›®å½•ç±»</h3><h3 id="æ—¶é—´æ—¥æœŸç±»">æ—¶é—´æ—¥æœŸç±»</h3><h3 id="ç”¨æˆ·ç®¡ç†å‘½ä»¤">ç”¨æˆ·ç®¡ç†å‘½ä»¤</h3><h3 id="ç”¨æˆ·ç»„ç®¡ç†å‘½ä»¤">ç”¨æˆ·ç»„ç®¡ç†å‘½ä»¤</h3><h3 id="æ–‡ä»¶æƒé™ç±»">æ–‡ä»¶æƒé™ç±»</h3><h3 id="æœç´¢æŸ¥æ‰¾ç±»">æœç´¢æŸ¥æ‰¾ç±»</h3><h3 id="å‹ç¼©å’Œè§£å‹ç±»">å‹ç¼©å’Œè§£å‹ç±»</h3><h3 id="ç£ç›˜æŸ¥çœ‹å’Œåˆ†åŒºç±»">ç£ç›˜æŸ¥çœ‹å’Œåˆ†åŒºç±»</h3><h3 id="è¿›ç¨‹ç®¡ç†ç±»">è¿›ç¨‹ç®¡ç†ç±»</h3><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-2">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="å¸®åŠ©å‘½ä»¤-2">å¸®åŠ©å‘½ä»¤</h3><p><code>man  help</code></p><p>åé¢è·Ÿå‘½ä»¤æˆ–é…ç½®æ–‡ä»¶ helpåªèƒ½æ˜¾ç¤ºå†…ç½®çš„è€Œä¸”æ˜¯å…¨è‹±æ–‡</p><p>ä¸‹è½½äº†manä¸­æ–‡åŒ…ï¼Œæ¨èè‡ªå·±ä½¿ç”¨manï¼Œç›¸å½“äºè‡ªå¸¦çš„ä¸€ä¸ªtoolsæŸ¥çœ‹</p><h3 id="æ–‡ä»¶ç›®å½•ç±»-2">æ–‡ä»¶ç›®å½•ç±»</h3><h4 id="pwd">pwd</h4><p>æ˜¾ç¤ºå½“å‰ç›®å½•çš„ç»å¯¹è·¯å¾„<code>pwd</code></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708092158199.png" alt="image-20220708092158199"></p><h4 id="ls">ls</h4><p><strong>æŸ¥çœ‹ç›®å½•æ–‡ä»¶</strong></p><p><strong>æ˜¾ç¤ºè¯´æ˜</strong></p><p><code>æ¯è¡Œåˆ—å‡ºçš„ä¿¡æ¯ä¾æ¬¡æ˜¯:æ–‡ä»¶ç±»å‹ä¸æƒé™ é“¾æ¥æ•° æ–‡ä»¶å±ä¸» æ–‡ä»¶å±ç»„ æ–‡ä»¶å¤§å°ç”¨byte </code></p><p><code>æ¥è¡¨ç¤º å»ºç«‹æˆ–æœ€è¿‘ä¿®æ”¹çš„æ—¶é—´ åå­—</code></p><p>-a  <strong>å…¨éƒ¨çš„æ–‡ä»¶ï¼Œè¿åŒéšè—æ¡£( å¼€å¤´ä¸º . çš„æ–‡ä»¶) ä¸€èµ·åˆ—å‡ºæ¥(å¸¸ç”¨)</strong></p><p>-l  <strong>é•¿æ•°æ®ä¸²åˆ—å‡ºï¼ŒåŒ…å«æ–‡ä»¶çš„å±æ€§ä¸æƒé™ç­‰ç­‰æ•°æ®ï¼›(å¸¸ç”¨)ç­‰ä»·äºâ€œllâ€</strong></p><p>è¯­æ³•</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ls</span> -<span class="keyword">al</span></span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708093550842.png" alt="image-20220708093550842"></p><h4 id="cd">cd</h4><p>åˆ‡æ¢ç›®å½•</p><h5 id="åŸºæœ¬ç”¨æ³•">åŸºæœ¬ç”¨æ³•</h5><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708093638995.png" alt="image-20220708093638995"></p><h4 id="åˆ›å»º-åˆ é™¤-æŸ¥æ‰¾æ–‡ä»¶ä»¥åŠç›®å½•">åˆ›å»º åˆ é™¤ æŸ¥æ‰¾æ–‡ä»¶ä»¥åŠç›®å½•</h4><h5 id="åˆ›å»º">åˆ›å»º</h5><p><code>mkdir æ–‡ä»¶å¤¹å</code></p><p>ç‰¹æ®Šç”¨æ³• -på¤šçº§åˆ›å»ºç›®å½•</p><p><code>mkdir -p hello/world/java</code></p><h5 id="åˆ é™¤">åˆ é™¤</h5><p>åªèƒ½åˆ é™¤ç©ºçš„ç›®å½•</p><p><code>rmdir æ–‡ä»¶å¤¹å</code></p><h5 id="åˆ›å»ºæ–‡ä»¶">åˆ›å»ºæ–‡ä»¶</h5><p><code>touch æ–‡ä»¶å</code>åªå¸¦æ–‡ä»¶åé»˜è®¤æ˜¯æ–‡æœ¬æ–‡ä»¶</p><p>å¯åŠ è·¯å¾„ touch æ³¨æ„:<code>å‘½ä»¤åé¢ ç›´æ¥æœ‰/å°±æ˜¯ç»å¯¹è·¯å¾„ å¦åˆ™æ˜¯ç›¸å¯¹è·¯å¾„</code></p><h5 id="åˆ é™¤æ–‡ä»¶">åˆ é™¤æ–‡ä»¶</h5><p><code>rm æ–‡ä»¶å</code></p><p>ä¼šæç¤ºæ˜¯å¦åˆ é™¤ è¾“å…¥yesæˆ–è€…y   æˆ–è€…åŠ å…¥ -f å¼ºåˆ¶åˆ é™¤å°±æ²¡æœ‰æç¤ºäº† <code>rm -rf</code>å¼ºåˆ¶åˆ é™¤æ–‡ä»¶å†…æ‰€æœ‰ç›®å½•</p><p><strong>åˆ åº“è·‘è·¯ <code>rm -rf /*</code>ä¸è¦å°è¯•ï¼</strong></p><h5 id="å¤åˆ¶æ–‡ä»¶">å¤åˆ¶æ–‡ä»¶</h5><p>cp</p><p>é€’å½’å¤åˆ¶ <code>-r</code></p><p>å–æ¶ˆæç¤º <code>/cp</code></p><h5 id="ç§»åŠ¨æ–‡ä»¶">ç§»åŠ¨æ–‡ä»¶</h5><p><code>mv</code></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708100810241.png" alt="image-20220708100810241"></p><h5 id="æŸ¥çœ‹æ–‡ä»¶">æŸ¥çœ‹æ–‡ä»¶</h5><p><code>cat more less</code></p><p>æ¨èä½¿ç”¨less</p><p>less æŒ‡ä»¤ç”¨æ¥åˆ†å±æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œå®ƒçš„åŠŸèƒ½ä¸ more æŒ‡ä»¤ç±»ä¼¼ï¼Œä½†æ˜¯æ¯” more æŒ‡ä»¤æ›´åŠ  å¼ºå¤§ï¼Œæ”¯æŒå„ç§æ˜¾ç¤ºç»ˆç«¯ã€‚less æŒ‡ä»¤åœ¨æ˜¾ç¤ºæ–‡ä»¶å†…å®¹æ—¶ï¼Œå¹¶ä¸æ˜¯ä¸€æ¬¡å°†æ•´ä¸ªæ–‡ä»¶åŠ è½½ä¹‹å æ‰æ˜¾ç¤ºï¼Œè€Œæ˜¯æ ¹æ®æ˜¾ç¤ºéœ€è¦åŠ è½½å†…å®¹ï¼Œå¯¹äºæ˜¾ç¤ºå¤§å‹æ–‡ä»¶å…·æœ‰è¾ƒé«˜çš„æ•ˆç‡ã€‚</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;less -e&quot;</span> å½“æ–‡ä»¶æ˜¾ç¤ºç»“æŸåï¼Œè‡ªåŠ¨ç¦»å¼€ï¼Œæ— éœ€è¾“å…¥<span class="string">&quot;q&quot;</span></span><br><span class="line"><span class="string">&quot;less -f&quot;</span> å¼ºè¿«æ‰“å¼€ç‰¹æ®Šæ–‡ä»¶ï¼Œä¾‹å¦‚å¤–å›´è®¾å¤‡ä»£å·ã€ç›®å½•å’ŒäºŒè¿›åˆ¶æ–‡ä»¶</span><br><span class="line"><span class="string">&quot;less -m&quot;</span> æ˜¾ç¤ºç±»ä¼¼<span class="keyword">more</span>å‘½ä»¤çš„ç™¾åˆ†æ¯”</span><br><span class="line"><span class="string">&quot;less -N&quot;</span> æ˜¾ç¤ºæ¯è¡Œçš„è¡Œå·</span><br><span class="line"><span class="string">&quot;less -s&quot;</span> å°†è¿ç»­çš„ç©ºè¡Œåˆå¹¶æˆä¸€è¡Œæ˜¾ç¤º</span><br><span class="line"><span class="string">&quot;less -S&quot;</span> è¡Œä¿¡æ¯è¿‡é•¿æ—¶ï¼Œå°†è¶…å‡ºéƒ¨åˆ†èˆå¼ƒ</span><br></pre></td></tr></table></figure><p><strong>æ“ä½œè¯´æ˜</strong></p><p>=å¯ä»¥æŸ¥çœ‹ä¿¡æ¯</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708101628404.png" alt="image-20220708101628404"></p><p>gå›åˆ°å¼€å¤´ Gåˆ°æœ€åä¸€è¡Œ</p><h4 id="è¾“å‡ºé‡å®šå‘">è¾“å‡ºé‡å®šå‘</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708102658336.png" alt="image-20220708102658336"></p><h5 id="echo">echo</h5><p>åé¢è·Ÿä»€ä¹ˆæ§åˆ¶å°è¾“å‡ºä»€ä¹ˆ</p><p>-e è½¬ä¹‰å¯ç”¨</p><p><code>echo -e &quot;hello   \nworld&quot;</code></p><h5 id="tail">tail</h5><p>è¾“å‡ºæ–‡ä»¶å°¾éƒ¨å†…å®¹</p><p>é‡è¦ç‚¹æ˜¯<code>tail -f </code>æ–‡ä»¶å®æ—¶è¿½è¸ªè¯¥æ–‡æ¡£çš„æ‰€æœ‰æ›´æ–°å†…å®¹</p><p>åœ¨å¼€å‘ç¯å¢ƒè°ƒè¯•ç¨‹åºï¼Œçœ‹å®æ—¶æ—¥å¿—å¾ˆæœ‰ç”¨çš„ã€‚</p><h4 id="è½¯é“¾æ¥">è½¯é“¾æ¥</h4><p>è½¯é“¾æ¥ä¹Ÿç§°ä¸ºç¬¦å·é“¾æ¥ï¼Œç±»ä¼¼äº windows é‡Œçš„å¿«æ·æ–¹å¼ï¼Œæœ‰è‡ªå·±çš„æ•°æ®å—ï¼Œä¸»è¦å­˜æ”¾ äº†é“¾æ¥å…¶ä»–æ–‡ä»¶çš„è·¯å¾„</p><p><strong>åŸºæœ¬è¯­æ³•</strong></p><p><code>ln -s </code>[åŸæ–‡ä»¶æˆ–ç›®å½•] [è½¯é“¾æ¥å] ï¼ˆåŠŸèƒ½æè¿°ï¼šç»™åŸæ–‡ä»¶åˆ›å»ºä¸€ä¸ªè½¯é“¾æ¥ï¼‰</p><p><strong>åˆ é™¤å’ŒæŸ¥è¯¢</strong></p><p>åˆ é™¤è½¯é“¾æ¥ï¼š rm -rf è½¯é“¾æ¥åï¼Œè€Œä¸æ˜¯ rm -rf è½¯é“¾æ¥å/</p><p>å¦‚æœä½¿ç”¨ rm -rf è½¯é“¾æ¥å/ åˆ é™¤ï¼Œä¼šæŠŠè½¯é“¾æ¥å¯¹åº”çš„çœŸå®ç›®å½•ä¸‹å†…å®¹åˆ æ‰</p><p>æŸ¥è¯¢ï¼šé€šè¿‡ ll å°±å¯ä»¥æŸ¥çœ‹ï¼Œåˆ—è¡¨å±æ€§ç¬¬ 1 ä½æ˜¯ lï¼Œå°¾éƒ¨ä¼šæœ‰ä½ç½®æŒ‡å‘ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708104911398.png" alt="image-20220708104911398"></p><h4 id="æŸ¥çœ‹å†å²å‘½ä»¤">æŸ¥çœ‹å†å²å‘½ä»¤</h4><p><code>history</code>åœ¨ç»ˆç«¯æ•²è¿‡çš„æ‰€æœ‰å‘½ä»¤</p><h3 id="æ—¶é—´æ—¥æœŸç±»-2">æ—¶é—´æ—¥æœŸç±»</h3><p>ä¸»è¦å°±æ˜¯dateå‘½ä»¤å¾ˆç®€å•</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">date</span> ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºå½“å‰æ—¶é—´ï¼‰ </span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰<span class="keyword">date</span> +%Y ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºå½“å‰å¹´ä»½ï¼‰ </span><br><span class="line">ï¼ˆ<span class="number">3</span>ï¼‰<span class="keyword">date</span> +%m ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºå½“å‰æœˆä»½ï¼‰ </span><br><span class="line">ï¼ˆ<span class="number">4</span>ï¼‰<span class="keyword">date</span> +%d ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºå½“å‰æ˜¯å“ªä¸€å¤©ï¼‰ </span><br><span class="line">ï¼ˆ<span class="number">5</span>ï¼‰<span class="keyword">date</span> <span class="string">&quot;+%Y-%m-%d %H:%M:%S&quot;</span> ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºå¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼‰</span><br><span class="line">ï¼ˆ<span class="number">1</span>ï¼‰<span class="keyword">date</span> -d <span class="string">&#x27;1 days ago&#x27;</span> ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºå‰ä¸€å¤©æ—¶é—´ï¼‰ </span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰<span class="keyword">date</span> -d <span class="string">&#x27;-1 days ago&#x27;</span> ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºæ˜å¤©æ—¶é—´ï¼‰</span><br></pre></td></tr></table></figure><p><code>cal </code>æŸ¥çœ‹æœ¬æœˆæ—¥æœŸ  <code>cal 2003</code>æŸ¥çœ‹2003å¹´æ—¥å†</p><h3 id="ç”¨æˆ·ç®¡ç†å‘½ä»¤-2">ç”¨æˆ·ç®¡ç†å‘½ä»¤</h3><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">useradd ç”¨æˆ·å<span class="comment">(æ·»åŠ æ–°ç”¨æˆ·)</span></span><br><span class="line">passwd ç”¨æˆ·å<span class="comment">(è®¾ç½®è¯¥ç”¨æˆ·å¯†ç )</span></span><br><span class="line">id ç”¨æˆ·å<span class="comment">(è¯¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨)</span></span><br><span class="line">cat /etc/passwd<span class="comment">(æŸ¥çœ‹åˆ›å»ºäº†ä»€ä¹ˆç”¨æˆ·)</span></span><br><span class="line">su ç”¨æˆ·åç§° ï¼ˆåŠŸèƒ½æè¿°ï¼šåˆ‡æ¢ç”¨æˆ·ï¼Œåªèƒ½è·å¾—ç”¨æˆ·çš„æ‰§è¡Œæƒé™ï¼Œä¸èƒ½è·å¾—ç¯å¢ƒå˜é‡ï¼‰ </span><br><span class="line">su - ç”¨æˆ·åç§° ï¼ˆåŠŸèƒ½æè¿°ï¼šåˆ‡æ¢åˆ°ç”¨æˆ·å¹¶è·å¾—è¯¥ç”¨æˆ·çš„ç¯å¢ƒå˜é‡åŠæ‰§è¡Œæƒé™ï¼‰</span><br><span class="line">userdel ç”¨æˆ·å<span class="comment">(åˆ é™¤ç”¨æˆ·)</span></span><br><span class="line">userdel -r ç”¨æˆ·å<span class="comment">(åˆ é™¤ç”¨æˆ·ï¼Œä»¥åŠç›¸å…³æ–‡ä»¶)</span></span><br><span class="line">whoæŸ¥çœ‹ç™»å½•ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">whoami ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºè‡ªèº«ç”¨æˆ·åç§°ï¼‰</span><br><span class="line">who am i ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºç™»å½•ç”¨æˆ·çš„ç”¨æˆ·åä»¥åŠç™»é™†æ—¶é—´ï¼‰</span><br><span class="line">usermod -g ç”¨æˆ·ç»„ ç”¨æˆ·å<span class="comment">(ä¿®æ”¹ç”¨æˆ·çš„åˆå§‹ç™»å½•ç»„)</span></span><br></pre></td></tr></table></figure><h4 id="åˆ©ç”¨sudoå‘½ä»¤ç»™ç”¨æˆ·rootæƒé™">åˆ©ç”¨sudoå‘½ä»¤ç»™ç”¨æˆ·rootæƒé™</h4><p>éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708152311189.png" alt="image-20220708152311189"></p><h3 id="æ–‡ä»¶æƒé™ç±»-2">æ–‡ä»¶æƒé™ç±»</h3><p>è®¤è¯†æ–‡ä»¶æƒé™</p><p>ï¼ˆ1ï¼‰0 é¦–ä½è¡¨ç¤ºç±»å‹</p><p>åœ¨Linuxä¸­ç¬¬ä¸€ä¸ªå­—ç¬¦ä»£è¡¨è¿™ä¸ªæ–‡ä»¶æ˜¯ç›®å½•ã€æ–‡ä»¶æˆ–é“¾æ¥æ–‡ä»¶ç­‰ç­‰</p><p>- ä»£è¡¨æ–‡ä»¶   d ä»£è¡¨ç›®å½•   l é“¾æ¥æ–‡æ¡£(link file)ï¼›</p><p>2ï¼‰ç¬¬1-3ä½ç¡®å®šå±ä¸»ï¼ˆè¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ã€‚â€”User</p><p>3ï¼‰ç¬¬4-6ä½ç¡®å®šå±ç»„ï¼ˆæ‰€æœ‰è€…çš„åŒç»„ç”¨æˆ·ï¼‰æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ï¼Œâ€”Group</p><p>4ï¼‰ç¬¬7-9ä½ç¡®å®šå…¶ä»–ç”¨æˆ·æ‹¥æœ‰è¯¥æ–‡ä»¶çš„æƒé™ â€”Other</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708145803901.png" alt="image-20220708145803901"></p><h4 id="rewåœ¨æ–‡ä»¶å’Œç›®å½•çš„è§£é‡Š">rewåœ¨æ–‡ä»¶å’Œç›®å½•çš„è§£é‡Š</h4><p>ï¼ˆ1ï¼‰ä½œç”¨åˆ°æ–‡ä»¶ï¼š</p><p>[ r ]ä»£è¡¨å¯è¯»(read): å¯ä»¥è¯»å–ï¼ŒæŸ¥çœ‹</p><p>[ w ]ä»£è¡¨å¯å†™(write): å¯ä»¥ä¿®æ”¹ï¼Œä½†æ˜¯ä¸ä»£è¡¨å¯ä»¥åˆ é™¤è¯¥æ–‡ä»¶ï¼Œåˆ é™¤ä¸€ä¸ªæ–‡ä»¶çš„å‰ ææ¡ä»¶æ˜¯å¯¹è¯¥æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•æœ‰å†™æƒé™ï¼Œæ‰èƒ½åˆ é™¤è¯¥æ–‡ä»¶</p><p>[ x ]ä»£è¡¨å¯æ‰§è¡Œ(execute):å¯ä»¥è¢«ç³»ç»Ÿæ‰§è¡Œ</p><p>2ï¼‰ä½œç”¨åˆ°ç›®å½•ï¼š</p><p>[ r ]ä»£è¡¨å¯è¯»(read): å¯ä»¥è¯»å–ï¼ŒlsæŸ¥çœ‹ç›®å½•å†…å®¹</p><p>[ w ]ä»£è¡¨å¯å†™(write): å¯ä»¥ä¿®æ”¹ï¼Œç›®å½•å†…åˆ›å»º+åˆ é™¤+é‡å‘½åç›®å½•</p><p>[ x ]ä»£è¡¨å¯æ‰§è¡Œ(execute):å¯ä»¥è¿›å…¥è¯¥ç›®å½•</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chmodæ”¹å˜æƒé™</span><br><span class="line">ç¬¬ä¸€ç§æ–¹å¼å˜æ›´æƒé™ chmod [&#123;ugoa&#125;&#123;+-=&#125;&#123;rwx&#125;] æ–‡ä»¶æˆ–ç›®å½• </span><br><span class="line">ç¬¬äºŒç§æ–¹å¼å˜æ›´æƒé™ chmod [<span class="attribute">mode</span>=421 ] [æ–‡ä»¶æˆ–ç›®å½•]</span><br><span class="line">ç¬¬äºŒç§ç»éªŒ</span><br><span class="line"><span class="attribute">r</span>=4 <span class="attribute">w</span>=2 <span class="attribute">x</span>=1 <span class="attribute">rwx</span>=4+2+1=7 <span class="attribute">rw</span>=4+2=6</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708151136770.png" alt="image-20220708151136770"></p><p>ä¿®æ”¹æ‰€å±ç»„å’Œç”¨æˆ·(æ³¨æ„æƒé™)</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æ‰€å±ç”¨æˆ· é€’å½’-R</span><br><span class="line"><span class="keyword">chown</span></span><br><span class="line">[root@hadoop82 hello]<span class="comment"># chown sjh2 123.txt </span></span><br><span class="line">[root@hadoop82 hello]<span class="comment"># ll</span></span><br><span class="line">æ€»ç”¨é‡ <span class="number">208</span></span><br><span class="line">-rw-r--r--. <span class="number">1</span> sjh2 root     <span class="number">41</span> <span class="number">7</span>æœˆ   <span class="number">7</span> <span class="number">10</span>:<span class="number">00</span> <span class="number">123</span>.txt</span><br></pre></td></tr></table></figure><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æ‰€å±ç»„</span><br><span class="line">chgrp</span><br><span class="line">[root@hadoop82 hello]<span class="comment"># chgrp sjh2 123.txt </span></span><br><span class="line">[root@hadoop82 hello]<span class="comment"># ll</span></span><br><span class="line">æ€»ç”¨é‡ 208</span><br><span class="line">-rw-r--r--.<span class="number"> 1 </span>sjh2 sjh2    <span class="number"> 41 </span>7æœˆ  <span class="number"> 7 </span>10:00 123.txt</span><br></pre></td></tr></table></figure><h3 id="æœç´¢æŸ¥æ‰¾ç±»-2">æœç´¢æŸ¥æ‰¾ç±»</h3><p>findæŸ¥æ‰¾æ–‡ä»¶æˆ–è€…ç›®å½•</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">find</span> -name <span class="built_in">info</span></span><br><span class="line"><span class="built_in">find</span> /root -name <span class="string">&quot;*.cfg&quot;</span> (åœ¨rootç›®å½•ä¸‹ç»“å°¾æ˜¯cfgçš„æ–‡ä»¶)</span><br><span class="line"><span class="built_in">find</span> /home -size +204800/homeç›®å½•ä¸‹æŸ¥æ‰¾å¤§äº200mçš„æ–‡ä»¶)</span><br></pre></td></tr></table></figure><p><strong>locate</strong> <strong>å¿«é€Ÿå®šä½æ–‡ä»¶è·¯å¾„</strong></p><p>locate æŒ‡ä»¤åˆ©ç”¨äº‹å…ˆå»ºç«‹çš„ç³»ç»Ÿä¸­æ‰€æœ‰æ–‡ä»¶åç§°åŠè·¯å¾„çš„ locate æ•°æ®åº“å®ç°å¿«é€Ÿå®šä½ç»™ å®šçš„æ–‡ä»¶ã€‚Locate æŒ‡ä»¤æ— éœ€éå†æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼ŒæŸ¥è¯¢é€Ÿåº¦è¾ƒå¿«ã€‚ä¸ºäº†ä¿è¯æŸ¥è¯¢ç»“æœçš„å‡†ç¡® åº¦ï¼Œç®¡ç†å‘˜å¿…é¡»å®šæœŸæ›´æ–° locate æ—¶åˆ»ã€‚<code>updatedb</code></p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">locate</span> <span class="number">123</span>.txt</span><br></pre></td></tr></table></figure><p><strong>grep</strong>è¿‡æ»¤æŸ¥æ‰¾åŠ **â€œ|â€ **ç®¡é“ç¬¦</p><p><code>-n</code>æ˜¾ç¤ºåŒ¹é…è¡Œä»¥åŠè¡Œå·</p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -<span class="built_in">n</span> <span class="built_in">info</span> MyU7.txt</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708155140955.png" alt="image-20220708155140955"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> | grep .txt(å½“å‰ç›®å½•ä¸­ä»¥æœ‰.txtçš„æ–‡ä»¶)</span><br><span class="line"><span class="built_in">wc</span>æŸ¥æ‰¾æ˜¾ç¤ºè¡Œæ•° å•è¯ å­—èŠ‚ </span><br></pre></td></tr></table></figure><h3 id="å‹ç¼©å’Œè§£å‹ç±»-2">å‹ç¼©å’Œè§£å‹ç±»</h3><h4 id="æœ€å¸¸ç”¨çš„æ‰“åŒ…tar">æœ€å¸¸ç”¨çš„æ‰“åŒ…tar</h4><p>tar [é€‰é¡¹] XXX.tar.gz å°†è¦æ‰“åŒ…è¿›å»çš„å†…å®¹ ï¼ˆæ‰“åŒ…ç›®å½•ï¼Œå‹ç¼©åçš„æ–‡ä»¶å¼.tar.gzï¼‰</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708161541045.png" alt="image-20220708161541045"></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tar -zcvf hello<span class="selector-class">.tar</span><span class="selector-class">.gz</span> hello/ <span class="number">1</span><span class="selector-class">.jpg</span></span><br><span class="line">å°†helloç›®å½•å’Œ<span class="number">1</span>.jpgå›¾ç‰‡æ‰“åŒ…å‹ç¼©</span><br><span class="line">tar -zxvf hello<span class="selector-class">.tar</span><span class="selector-class">.gz</span> -C /tmp</span><br><span class="line">å°†hello<span class="selector-class">.tar</span>.gzå‹ç¼©åŒ…ï¼Œè§£å‹åˆ°tmpç›®å½•ä¸‹</span><br></pre></td></tr></table></figure><h3 id="ç£ç›˜æŸ¥çœ‹å’Œåˆ†åŒºç±»-2">ç£ç›˜æŸ¥çœ‹å’Œåˆ†åŒºç±»</h3><p><code>du</code>å‘½ä»¤</p><p>du ç›®å½•/æ–‡ä»¶ ï¼ˆåŠŸèƒ½æè¿°ï¼šæ˜¾ç¤ºç›®å½•ä¸‹æ¯ä¸ªå­ç›®å½•çš„ç£ç›˜ä½¿ç”¨æƒ…å†µï¼‰</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708163438401.png" alt="image-20220708163438401"></p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@hadoop82</span> ~]<span class="meta"># du --max-depth=1 -ah</span></span><br><span class="line">æŸ¥çœ‹ç›®å½•ä¸‹ä¸€çº§çš„æ–‡ä»¶çš„å¤§å°å’Œæ€»è®¡ç£ç›˜ç©ºé—´å¤§å°</span><br></pre></td></tr></table></figure><p>df<strong>æŸ¥çœ‹ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µ</strong></p><p><code>df</code>  <code>-h</code>è½¬æ¢ä¸ºæ•°æ®å†…å­˜æ ¼å¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span> -h /ç›®å½•</span><br><span class="line"><span class="built_in">df</span> -h /(æ ¹ç›®å½•)</span><br><span class="line"><span class="built_in">df</span> -h(å½“å‰ç›®å½•)</span><br></pre></td></tr></table></figure><p><code>free -h</code>å½“å‰å†…å­˜ä½¿ç”¨æƒ…å†µ</p><p><strong>lsblk</strong> <strong>æŸ¥çœ‹è®¾å¤‡æŒ‚è½½æƒ…å†µ</strong>(äº†è§£)</p><p><code>-f</code>æŸ¥çœ‹è¯¦ç»†çš„è®¾å¤‡æŒ‚è½½æƒ…å†µï¼Œæ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿä¿¡æ¯</p><h4 id="ç£ç›˜åˆ†åŒº">ç£ç›˜åˆ†åŒº</h4><p><strong>fdiskåˆ†åŒº</strong></p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">fdisk</span> -l ï¼ˆåŠŸèƒ½æè¿°ï¼šæŸ¥çœ‹ç£ç›˜åˆ†åŒºè¯¦æƒ…ï¼‰ </span><br><span class="line">fdisk ç¡¬ç›˜è®¾å¤‡å ï¼ˆåŠŸèƒ½æè¿°ï¼šå¯¹æ–°å¢ç¡¬ç›˜è¿›è¡Œåˆ†åŒºæ“ä½œï¼‰</span><br></pre></td></tr></table></figure><p><strong>è¦åœ¨rootç”¨æˆ·ä¸‹è¿›è¡Œ</strong></p><h3 id="è¿›ç¨‹ç®¡ç†ç±»-2">è¿›ç¨‹ç®¡ç†ç±»</h3><h4 id="ps-æŸ¥çœ‹å½“å‰ç³»ç»Ÿè¿›ç¨‹çŠ¶æ€"><strong>ps</strong> <strong>æŸ¥çœ‹å½“å‰ç³»ç»Ÿè¿›ç¨‹çŠ¶æ€</strong></h4><p><code>ps aux</code>åŠŸèƒ½æè¿°ï¼šæŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰è¿›ç¨‹</p><p><code>ps -ef</code>åŠŸèƒ½æè¿°ï¼šå¯ä»¥æŸ¥çœ‹å­çˆ¶è¿›ç¨‹ä¹‹é—´çš„å…³ç³»</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708201715785.png" alt="image-20220708201715785"></p><p>ä½¿ç”¨æ—¶æœº</p><p>å¦‚æœæƒ³æŸ¥çœ‹è¿›ç¨‹çš„ CPU å ç”¨ç‡å’Œå†…å­˜å ç”¨ç‡ï¼Œå¯ä»¥ä½¿ç”¨ aux;</p><p>å¦‚æœæƒ³æŸ¥çœ‹è¿›ç¨‹çš„çˆ¶è¿›ç¨‹ ID å¯ä»¥ä½¿ç”¨ -ef;</p><h4 id="ç»ˆæ­¢è¿›ç¨‹">ç»ˆæ­¢è¿›ç¨‹</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">kill</span> [é€‰é¡¹] è¿›ç¨‹å· ï¼ˆåŠŸèƒ½æè¿°ï¼šé€šè¿‡è¿›ç¨‹å·æ€æ­»è¿›ç¨‹ï¼‰ </span><br><span class="line">killall è¿›ç¨‹åç§° ï¼ˆåŠŸèƒ½æè¿°ï¼šé€šè¿‡è¿›ç¨‹åç§°æ€æ­»è¿›ç¨‹ï¼Œä¹Ÿæ”¯æŒé€šé…ç¬¦ï¼Œè¿™ åœ¨ç³»ç»Ÿå› è´Ÿè½½è¿‡å¤§è€Œå˜å¾—å¾ˆæ…¢æ—¶å¾ˆæœ‰ç”¨ï¼‰ </span><br></pre></td></tr></table></figure><p><code>kill -9</code>å¼ºåˆ¶åœæ­¢ è°¨æ…ä½¿ç”¨</p><p>ï¼ˆ1ï¼‰æ€æ­»æµè§ˆå™¨è¿›ç¨‹</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@hadoop101</span> æ¡Œé¢]<span class="meta"># kill -9 5102 </span></span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰é€šè¿‡è¿›ç¨‹åç§°æ€æ­»è¿›ç¨‹</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@hadoop101</span> æ¡Œé¢]<span class="meta"># killall firefox</span></span><br></pre></td></tr></table></figure><h4 id="pstreeæŸ¥çœ‹è¿›ç¨‹æ ‘">pstreeæŸ¥çœ‹è¿›ç¨‹æ ‘</h4><p>æ˜¾ç¤ºè¿›ç¨‹pid</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@hadoop101</span> datas]<span class="meta"># pstree -p</span></span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºè¿›ç¨‹æ‰€å±ç”¨æˆ·</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@hadoop101</span> datas]<span class="meta"># pstree -u</span></span><br></pre></td></tr></table></figure><h2 id="5-BUGç‚¹">5. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>åœ¨åˆ†ç›˜æ“ä½œçš„æ—¶å€™ï¼ŒæŠ¥é”™åˆšå¼€å§‹ä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼Œå»CSDNæ‰¾ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå…ˆä¾‹ï¼Œçœ‹å°šç¡…è°·çš„ç¬”è®°ï¼Œå‘ç°åˆ†ç›˜åªèƒ½åœ¨rootç”¨æˆ·ä¸‹ï¼Œè‡ªå·±ä¸æ˜¯rootç”¨æˆ·ï¼Œå› æ­¤ä¼šæŠ¥é”™ï¼Œæ¢å›rootç”¨æˆ·å°±æ­£å¸¸äº†ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220708193913260.png" alt="image-20220708193913260"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="ç¡¬é“¾æ¥">ç¡¬é“¾æ¥</h3><p><a href="http://t.csdn.cn/g8hbC%E6%9D%A5%E8%87%AA">http://t.csdn.cn/g8hbCæ¥è‡ª</a> CSDN è§£é‡Šæ¸…æ™°</p><p>ç¡¬é“¾æ¥çš„æœ¬è´¨å°±æ˜¯ä¸€æ¡æ–‡ä»¶åå’Œiç»“ç‚¹çš„å…³è”è®°å½•</p><p>ç»“ç‚¹å°±æ˜¯inode</p><p>å’Œè½¯é“¾æ¥çš„åŒºåˆ«ï¼š<code>ç¡¬é“¾æ¥çš„æ–‡ä»¶æŒ‡å‘çš„ç»“ç‚¹å’Œæºæ–‡ä»¶çš„ç»“ç‚¹æ˜¯ä¸€æ ·çš„ï¼Œè€Œè½¯é“¾æ¥åˆ™æ˜¯é‡æ–°å»ºç«‹äº†ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶</code></p><p><code>å½“æˆ‘ä»¬åˆ é™¤äº†æºæ–‡ä»¶ä¹‹åï¼Œå‘ç°ç¡¬é“¾æ¥è¿˜èƒ½æ­£å¸¸æ˜¾ç¤ºåŸæœ¬çš„å†…å®¹ï¼Œè€Œè½¯é“¾æ¥åˆ™æç¤ºæ–‡ä»¶ä¸å­˜åœ¨</code></p><p>ç¡¬é“¾æ¥å…³è”ç€æˆ‘ä»¬çš„æºæ–‡ä»¶ï¼Œæ‰€ä»¥æºæ–‡ä»¶çš„å¤§å°æ˜¯å¤šå¤§ï¼Œå®ƒä»¬å°±æ˜¯å¤šå¤§</p><p>ä½†æ˜¯è½¯é“¾æ¥æŒ‡å‘çš„æ˜¯æ–‡ä»¶åï¼Œå®ƒçš„å¤§å°å°±æ˜¯æ–‡ä»¶åçš„å­—èŠ‚æ•°</p><h2 id="7-æ€»ç»“">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©å­¦ä¹ çš„Linuxå‘½ä»¤é‡æ¯”è¾ƒå¤šï¼Œä¸€ä¸‹å­è®°ä¸ä½è¿™ä¹ˆå¤šï¼Œæ¯”è¾ƒå¸¸ç”¨çš„å€’æ˜¯éƒ½æŒæ¡äº†ï¼Œåœ¨å®æ“ç¯‡çš„å†…å®¹ï¼Œæ•²çš„ä¹Ÿæ¯”è¾ƒå¤šã€‚éš¾åº¦å…¶å®ä¸€èˆ¬ï¼Œéœ€è¦æŒæ¡çš„éƒ½æŒæ¡äº†ï¼Œéš¾ç‚¹éƒ½æ˜¯è€å¸ˆè¯´ä¸éœ€è¦æ­»é’»æ˜ç™½çš„ï¼Œæœ€åçš„ç£ç›˜åˆ†åŒºï¼Œå…¶å®å®ç°åŸç†å¹¶ä¸å¤ªæ¸…é™¤ï¼Œä½†æ˜¯å®ç°æ–¹æ³•æ˜¯çŸ¥é“äº†ï¼Œå°±è¿‡äº†ã€‚æ²¡ä»€ä¹ˆå¾ˆå¤§çš„bugï¼Œæ˜¯è‡ªå·±ç–å¿½å¤§æ„äº†ï¼Œå¿˜è®°è‡ªå·±åœ¨ä»€ä¹ˆç”¨æˆ·ä¸‹ï¼Œæƒé™ä¸å¤Ÿå¯¼è‡´æ— æ³•åˆ†åŒºã€‚æ–‡ä»¶ç›®å½•ç±»è¿™éƒ¨åˆ†æ˜¯é‡ç‚¹ï¼Œä¹Ÿæ˜¯èŠ±äº†ä¸€ä¸Šåˆï¼Œè¿™éƒ¨åˆ†èŠ±è´¹çš„æ—¶é—´å’Œç²¾åŠ›æ¯”è¾ƒå¤šï¼Œæ¬¡æ•°æ•²å¤šäº†ï¼ŒæŒæ¡èµ·æ¥è›®ç†Ÿç»ƒçš„ï¼Œå¿˜è®°çš„å‘½ä»¤å¯ä»¥å†çœ‹ä¸‹ç¬”è®°ã€‚</p><h1 id="7-9-æ‰©å±•ç¯‡-Shellç¼–ç¨‹">7.9 æ‰©å±•ç¯‡ Shellç¼–ç¨‹</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-3">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-3">2.æ ‡é¢˜</h2><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-3">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="è½¯ä»¶åŒ…ç®¡ç†">è½¯ä»¶åŒ…ç®¡ç†</h3><p><strong>YUMï¼</strong></p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">YUMï¼ˆå…¨ç§°ä¸º Yellow dog Updater, Modifiedï¼‰æ˜¯ä¸€ä¸ªåœ¨ Fedora å’Œ RedHat ä»¥åŠ CentOS ä¸­çš„ <span class="keyword">Shell</span><span class="language-bash"> å‰ç«¯è½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚åŸºäº RPM åŒ…ç®¡ç†ï¼Œèƒ½å¤Ÿä»æŒ‡å®šçš„æœåŠ¡å™¨è‡ªåŠ¨ä¸‹è½½ RPM åŒ… å¹¶ä¸”å®‰è£…ï¼Œå¯ä»¥è‡ªåŠ¨å¤„ç†ä¾èµ–æ€§å…³ç³»ï¼Œå¹¶ä¸”ä¸€æ¬¡å®‰è£…æ‰€æœ‰ä¾èµ–çš„è½¯ä»¶åŒ…ï¼Œæ— é¡»ç¹çåœ°ä¸€æ¬¡ æ¬¡ä¸‹è½½ã€å®‰è£…</span></span><br></pre></td></tr></table></figure><p>ç›¸å½“äºæ˜¯Linuxä¸­å‘½ä»¤è¡Œç‰ˆæœ¬çš„åº”ç”¨å•†åº—ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220710231632302.png" alt="image-20220710231632302"></p><p>æ¯”å¦‚å®‰è£…ç«ç‹æµè§ˆå™¨</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y <span class="keyword">install</span> firefox</span><br></pre></td></tr></table></figure><p>å¸è½½ç«ç‹æµè§ˆå™¨</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y <span class="built_in">remove</span> firefox</span><br></pre></td></tr></table></figure><h3 id="Shell">Shell</h3><h4 id="æ¦‚è¿°">æ¦‚è¿°</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220710232213761.png" alt="image-20220710232213761"></p><p><code>shellé»˜è®¤çš„è§£é‡Šå™¨æ˜¯bash</code></p><p>æŸ¥çœ‹å‘½ä»¤æ˜¯<code>  echo $SHELL</code></p><h4 id="Shellè„šæœ¬">Shellè„šæœ¬</h4><p>åˆ›å»ºä¸€ä¸ªhello.shæ–‡ä»¶ï¼ŒåŠ å…¥å†…å®¹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash </span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;helloworld&quot;</span></span><br></pre></td></tr></table></figure><p><strong>æ‰§è¡Œ</strong></p><p>ç¬¬ä¸€ç§ï¼šé‡‡ç”¨ bash æˆ– sh+è„šæœ¬çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ï¼ˆä¸ç”¨èµ‹äºˆè„šæœ¬+x æƒé™ï¼‰</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bash </span>+è·¯å¾„ æˆ–è€…su +è·¯å¾„</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§ï¼šé‡‡ç”¨è¾“å…¥è„šæœ¬çš„ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹è·¯å¾„æ‰§è¡Œè„šæœ¬ï¼ˆå¿…é¡»å…·æœ‰å¯æ‰§è¡Œæƒé™+xï¼‰</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@hadoop82</span> ~]<span class="meta"># chmod +x scripts/hello.sh </span></span><br></pre></td></tr></table></figure><p>å†æ‰§è¡Œè„šæœ¬</p><p>ç›´æ¥è¾“å…¥è·¯å¾„</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hello.sh   <span class="regexp">/root/</span>script/hello.sh</span><br></pre></td></tr></table></figure><h4 id="å˜é‡">å˜é‡</h4><p>åŸºæœ¬è¯­æ³•</p><p>ï¼ˆ1ï¼‰å®šä¹‰å˜é‡ï¼šå˜é‡å=å˜é‡å€¼ï¼Œæ³¨æ„ï¼Œ=å·å‰åä¸èƒ½æœ‰ç©ºæ ¼</p><p>ï¼ˆ2ï¼‰æ’¤é”€å˜é‡ï¼šunset å˜é‡å</p><p>å˜é‡å®šä¹‰è§„åˆ™</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220711004712936.png" alt="image-20220711004712936"></p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@hadoop82</span> scripts]<span class="meta"># my_var=<span class="string">&quot;hello,  world&quot;</span></span></span><br><span class="line">[root<span class="symbol">@hadoop82</span> scripts]<span class="meta"># echo $my_var</span></span><br><span class="line">hello, world</span><br></pre></td></tr></table></figure><p>å‡çº§æˆå…¨å±€å˜é‡</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> my_var</span><br></pre></td></tr></table></figure><p>åªè¯»(é™æ€å˜é‡)</p><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">readonly</span> my_var</span><br></pre></td></tr></table></figure><p>ç‰¹æ®Šå˜é‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$n åŠŸèƒ½æè¿°ï¼šn ä¸ºæ•°å­—ï¼Œ$<span class="number">0</span> ä»£è¡¨è¯¥è„šæœ¬åç§°ï¼Œ$<span class="number">1</span>-$<span class="number">9</span> ä»£è¡¨ç¬¬ä¸€åˆ°ç¬¬ä¹ä¸ªå‚æ•°ï¼Œåä»¥ ä¸Šçš„å‚æ•°ï¼Œåä»¥ä¸Šçš„å‚æ•°éœ€è¦ç”¨å¤§æ‹¬å·åŒ…å«ï¼Œ<span class="comment">#å¦‚$&#123;10&#125;</span></span><br><span class="line">$<span class="comment"># ï¼ˆåŠŸèƒ½æè¿°ï¼šè·å–æ‰€æœ‰è¾“å…¥å‚æ•°ä¸ªæ•°ï¼Œå¸¸ç”¨äºå¾ªç¯,åˆ¤æ–­å‚æ•°çš„ä¸ªæ•°æ˜¯å¦æ­£ç¡®ä»¥åŠ åŠ å¼ºè„šæœ¬çš„å¥å£®æ€§</span></span><br><span class="line">$* åŠŸèƒ½æè¿°ï¼šè¿™ä¸ªå˜é‡ä»£è¡¨å‘½ä»¤è¡Œä¸­æ‰€æœ‰çš„å‚æ•°ï¼Œ<span class="comment">#$*æŠŠæ‰€æœ‰çš„å‚æ•°çœ‹æˆä¸€ä¸ªæ•´ä½“</span></span><br><span class="line">$@ åŠŸèƒ½æè¿°ï¼šè¿™ä¸ªå˜é‡ä»£è¡¨å‘½ä»¤è¡Œä¸­æ‰€æœ‰çš„å‚æ•°ï¼Œ<span class="comment">#$*æŠŠæ‰€æœ‰çš„å‚æ•°çœ‹æˆä¸€ä¸ªæ•´ä½“</span></span><br><span class="line">$? åŠŸèƒ½æè¿°ï¼šæœ€åä¸€æ¬¡æ‰§è¡Œçš„å‘½ä»¤çš„è¿”å›çŠ¶æ€ã€‚å¦‚æœè¿™ä¸ªå˜é‡çš„å€¼ä¸º <span class="number">0</span>ï¼Œè¯æ˜ä¸Šä¸€ ä¸ªå‘½ä»¤æ­£ç¡®æ‰§è¡Œï¼›å¦‚æœè¿™ä¸ªå˜é‡çš„å€¼ä¸ºé <span class="number">0</span>ï¼ˆå…·ä½“æ˜¯å“ªä¸ªæ•°ï¼Œç”±å‘½ä»¤è‡ªå·±æ¥å†³å®šï¼‰ï¼Œåˆ™è¯æ˜ ä¸Šä¸€ä¸ªå‘½ä»¤æ‰§è¡Œä¸æ­£ç¡®äº†ã€‚</span><br></pre></td></tr></table></figure><h4 id="æ¡ä»¶åˆ¤æ–­">æ¡ä»¶åˆ¤æ–­</h4><p>è¯­æ³•</p><p>ï¼ˆ1ï¼‰test condition</p><p>ï¼ˆ2ï¼‰[ condition ]<strong>ï¼ˆæ³¨æ„ condition å‰åè¦æœ‰ç©ºæ ¼ï¼‰</strong></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220711110339052.png" alt="image-20220711110339052"></p><p><code>å¤šæ¡ä»¶åˆ¤æ–­ï¼ˆ&amp;&amp; è¡¨ç¤ºå‰ä¸€æ¡å‘½ä»¤æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œæ‰æ‰§è¡Œåä¸€æ¡å‘½ä»¤ï¼Œ|| è¡¨ç¤ºä¸Šä¸€ æ¡å‘½ä»¤æ‰§è¡Œå¤±è´¥åï¼Œæ‰æ‰§è¡Œä¸‹ä¸€æ¡å‘½ä»¤ï¼‰</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop101 ~]$ [ atguigu ] &amp;&amp; <span class="built_in">echo</span> OK || <span class="built_in">echo</span> notOK </span><br><span class="line">OK</span><br><span class="line">[atguigu@hadoop101 shells]$ [ ] &amp;&amp; <span class="built_in">echo</span> OK || <span class="built_in">echo</span> notOK </span><br><span class="line">notOK</span><br></pre></td></tr></table></figure><h4 id="æµç¨‹æ§åˆ¶">æµç¨‹æ§åˆ¶</h4><h5 id="ifè¯­å¥">if<strong>è¯­å¥</strong></h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if [ æ¡ä»¶åˆ¤æ–­å¼ ] </span><br><span class="line">then</span><br><span class="line">ç¨‹åº </span><br><span class="line">elif [ æ¡ä»¶åˆ¤æ–­å¼ ] </span><br><span class="line">then</span><br><span class="line">ç¨‹åº </span><br><span class="line">else</span><br><span class="line">ç¨‹åº </span><br><span class="line">fi</span><br></pre></td></tr></table></figure><h5 id="case"><strong>case</strong></h5><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">case $å˜é‡å in </span><br><span class="line"><span class="string">&quot;å€¼ 1&quot;</span>ï¼‰</span><br><span class="line">å¦‚æœå˜é‡çš„å€¼ç­‰äºå€¼ <span class="number">1</span>ï¼Œåˆ™æ‰§è¡Œç¨‹åº <span class="number">1</span> </span><br><span class="line"><span class="comment">;;</span></span><br><span class="line"><span class="string">&quot;å€¼ 2&quot;</span>ï¼‰</span><br><span class="line">å¦‚æœå˜é‡çš„å€¼ç­‰äºå€¼ <span class="number">2</span>ï¼Œåˆ™æ‰§è¡Œç¨‹åº <span class="number">2</span> </span><br><span class="line"><span class="comment">;; </span></span><br><span class="line">â€¦çœç•¥å…¶ä»–åˆ†æ”¯â€¦ </span><br><span class="line">*ï¼‰ </span><br><span class="line">å¦‚æœå˜é‡çš„å€¼éƒ½ä¸æ˜¯ä»¥ä¸Šçš„å€¼ï¼Œåˆ™æ‰§è¡Œæ­¤ç¨‹åº </span><br><span class="line"><span class="comment">;;</span></span><br><span class="line">esac</span><br></pre></td></tr></table></figure><h5 id="forå¾ªç¯">for<strong>å¾ªç¯</strong></h5><p>ä»1åŠ åˆ°100</p><p>ç¬¬ä¸€ç§</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sum=0 </span><br><span class="line">for((i=0;i&lt;=100;i++)) </span><br><span class="line">do </span><br><span class="line">sum=$[$sum+$i] </span><br><span class="line">done </span><br><span class="line">echo $sum</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sum=0</span><br><span class="line">for i in &#123;1..100&#125;</span><br><span class="line">do </span><br><span class="line">sum=$[$sum+$i]</span><br><span class="line">done</span><br><span class="line">echo $sum</span><br></pre></td></tr></table></figure><h5 id="whileå¾ªç¯">whileå¾ªç¯</h5><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sum=0 </span><br><span class="line">i=1 </span><br><span class="line">while [ $i -le 100 ] </span><br><span class="line">do </span><br><span class="line">    sum=$[$sum+$i] </span><br><span class="line">    i=$[$i+1] </span><br><span class="line">done </span><br><span class="line">echo $sum</span><br></pre></td></tr></table></figure><h4 id="readè¯»å–æ§åˆ¶å°è¾“å…¥">readè¯»å–æ§åˆ¶å°è¾“å…¥</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-pï¼šæŒ‡å®šè¯»å–å€¼æ—¶çš„æç¤ºç¬¦ï¼› </span><br><span class="line">-tï¼šæŒ‡å®šè¯»å–å€¼æ—¶ç­‰å¾…çš„æ—¶é—´ï¼ˆç§’ï¼‰å¦‚æœ-t ä¸åŠ è¡¨ç¤ºä¸€ç›´ç­‰å¾…</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">read -t 7 -p &quot;Enter your name in 7 seconds :&quot; NN</span><br></pre></td></tr></table></figure><h4 id="å‡½æ•°">å‡½æ•°</h4><p>ç³»ç»Ÿå‡½æ•°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">basename (æ˜¾ç¤ºæ–‡ä»¶çš„åç§°)åŸç†å°±æ˜¯å–/çš„æœ€åä¸€ä½</span><br><span class="line">dirname (æ˜¾ç¤ºæ–‡ä»¶çš„è·¯å¾„) åŸç†æ˜¯å–æœ€åä¸€ä½/çš„å‰é¢</span><br></pre></td></tr></table></figure><p>è‡ªå®šä¹‰å‡½æ•°</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span> </span><br><span class="line">function sum() </span><br><span class="line">&#123;</span><br><span class="line">s=0</span><br><span class="line">s=$[$1+$2]</span><br><span class="line">echo &quot;$s&quot; </span><br><span class="line">&#125;</span><br><span class="line">read -p &quot;è¯·è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—: &quot; n1; </span><br><span class="line">read -p &quot;è¯·è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—: &quot; n2; </span><br><span class="line">sum $n1 $n2;</span><br></pre></td></tr></table></figure><p><code>å‡½æ•°è¿”å›å€¼ï¼Œåªèƒ½é€šè¿‡$?ç³»ç»Ÿå˜é‡è·å¾—ï¼Œå¯ä»¥æ˜¾ç¤ºåŠ ï¼šreturn è¿”å›ï¼Œå¦‚æœä¸åŠ ï¼Œå°† ä»¥æœ€åä¸€æ¡å‘½ä»¤è¿è¡Œç»“æœï¼Œä½œä¸ºè¿”å›å€¼ã€‚return åè·Ÿæ•°å€¼ n(0-255)</code></p><h2 id="5-æ€»ç»“-2">5.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©å­¦ä¹ å†…å®¹æ¯”è¾ƒå¤šï¼Œæ˜¨å¤©çš„æ‰©å±•ç¯‡æ”¶å°¾ï¼Œè½¯ä»¶åŒ…ç®¡ç†yumå’Œä¸€äº›è¿›ç¨‹ç®¡ç†ç±»çš„å†æ¬¡äº†è§£ã€‚ç„¶åä»Šå¤©å°±æ˜¯shelléƒ¨åˆ†çš„å­¦ä¹ å®Œæ¯•ï¼Œshellåœ¨æˆ‘ç†è§£æœ‰ç‚¹åƒpythonï¼Œè„šæœ¬è¯­è¨€ã€‚ä½†æ˜¯å’Œpythonæ¯”ï¼Œè¯­è¨€çš„ç®€æ´æ€§,å¯è¯»æ€§éƒ½å¾ˆå·®ã€‚æ¯•ç«Ÿæ˜¯è„šæœ¬è¯­è¨€ï¼Œä¸€äº›æ¯”è¾ƒå¤æ‚çš„ä»£ç å’Œç¨‹åºï¼Œå†™å‡ºæ¥å°±å¾ˆéº»çƒ¦ç”¨shellã€‚å› æ­¤ç°åœ¨shellæ˜¯æœ‰ä¸€ä¸ªlet å¯ä»¥ç”¨cå’Œjavaçš„è¯­è¨€ï¼Œè¿˜æ˜¯æ–¹ä¾¿çš„ï¼Œshellä»Šå¤©å­¦ä¹ å°±å’Œä¹‹å‰çš„ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œå˜é‡ï¼Œè¯­æ³•ï¼Œæµç¨‹å’Œå‡½æ•°è¿™äº›åŸºæœ¬çš„ã€‚æ¯”è¾ƒç®€å•ä¹Ÿå°±è¿‡æ‰äº†ï¼Œåœ¨å¯å®¤å­¦ä¹ é›€æ°æ˜¯æ²¡æœ‰å·¥ä½œå®¤å­¦ä¹ çš„æ•ˆç‡é«˜ï¼Œæ°›å›´ä¹Ÿæœ‰å·®å¼‚ï¼Œä½†æ˜¯åœ¨å¯å®¤çš„å­¦ä¹ ä»Šå¤©ç®—æ˜¯æ»¡æ„äº†ã€‚</p><h1 id="7-11-ScalaåŸºç¡€å…¥é—¨">7.11 ScalaåŸºç¡€å…¥é—¨</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-4">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-4">2.æ ‡é¢˜</h2><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">P1001_å°šç¡…è°·<span class="variable">_Scala_</span>è¯¾ç¨‹ç®€ä»‹</span><br><span class="line">P2002_å°šç¡…è°·<span class="variable">_Scala_Scala</span>æ¦‚è¿°ï¼ˆä¸€ï¼‰<span class="variable">_Scala</span>å‘å±•å†å²</span><br><span class="line">P3003_å°šç¡…è°·<span class="variable">_Scala_Scala</span>æ¦‚è¿°ï¼ˆäºŒï¼‰<span class="variable">_Scala</span>å’ŒJavaçš„å…³ç³»</span><br><span class="line">P4004_å°šç¡…è°·<span class="variable">_Scala_Scala</span>æ¦‚è¿°ï¼ˆä¸‰ï¼‰<span class="variable">_Scala</span>ç‰¹ç‚¹æ€»ç»“</span><br><span class="line">P5005_å°šç¡…è°·<span class="variable">_Scala_Scala</span>ç¯å¢ƒæ­å»ºï¼ˆä¸€ï¼‰<span class="variable">_Scala</span>å®‰è£…å’Œäº¤äº’å¼å‘½ä»¤è¡Œæµ‹è¯•</span><br><span class="line">P6006_å°šç¡…è°·<span class="variable">_Scala_Scala</span>ç¯å¢ƒæ­å»ºï¼ˆäºŒï¼‰<span class="variable">_Scala</span>æºæ–‡ä»¶ç¼–å†™å’Œè¿è¡Œ</span><br><span class="line">P7007_å°šç¡…è°·<span class="variable">_Scala_Scala</span>ç¯å¢ƒæ­å»ºï¼ˆä¸‰ï¼‰<span class="variable">_Scala</span>ç¼–è¯‘ç»“æœçš„åç¼–è¯‘æ·±å…¥åˆ†æ</span><br><span class="line">P8008_å°šç¡…è°·<span class="variable">_Scala_</span>åœ¨IDEä¸­ç¼–å†™HelloWorldï¼ˆä¸€ï¼‰_é¡¹ç›®åˆ›å»ºå’Œç¯å¢ƒé…ç½®</span><br><span class="line">P9009_å°šç¡…è°·<span class="variable">_Scala_</span>åœ¨IDEä¸­ç¼–å†™HelloWorldï¼ˆäºŒï¼‰_ç¼–å†™ä»£ç </span><br><span class="line">P10010_å°šç¡…è°·<span class="variable">_Scala_</span>åœ¨IDEä¸­ç¼–å†™HelloWorldï¼ˆä¸‰ï¼‰_ä»£ç ä¸­è¯­æ³•çš„ç®€å•è¯´æ˜</span><br><span class="line">P11011_å°šç¡…è°·<span class="variable">_Scala_</span>åœ¨IDEä¸­ç¼–å†™HelloWorldï¼ˆå››ï¼‰_ä¼´ç”Ÿå¯¹è±¡çš„æ‰©å±•è¯´æ˜</span><br><span class="line">P12012_å°šç¡…è°·<span class="variable">_Scala_</span>åœ¨IDEä¸­ç¼–å†™HelloWorldï¼ˆäº”ï¼‰_å…³è”æºç å’ŒæŸ¥çœ‹å®˜æ–¹æŒ‡å—</span><br><span class="line">P13013_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆä¸€ï¼‰_æ³¨é‡Šå’ŒåŸºæœ¬ç¼–ç¨‹ä¹ æƒ¯</span><br><span class="line">P14014_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆäºŒï¼‰_å˜é‡å’Œå¸¸é‡</span><br><span class="line">P15015_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆä¸‰ï¼‰_æ ‡è¯†ç¬¦</span><br><span class="line">P16016_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆå››ï¼‰_å­—ç¬¦ä¸²</span><br><span class="line">P17017_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆäº”ï¼‰_æ§åˆ¶å°æ ‡å‡†è¾“å…¥</span><br><span class="line">P18018_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆå…­ï¼‰_è¯»å†™æ–‡ä»¶</span><br><span class="line">P19019_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆä¸ƒï¼‰_æ•°æ®ç±»å‹ç³»ç»Ÿ</span><br><span class="line">P20020_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆå…«ï¼‰_æ•´å‹å’Œæµ®ç‚¹ç±»å‹</span><br><span class="line">P21021_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆä¹ï¼‰_å­—ç¬¦å’Œå¸ƒå°”ç±»å‹</span><br><span class="line">P22022_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆåï¼‰_ç©ºç±»å‹</span><br><span class="line">P23023_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆåä¸€ï¼‰<span class="variable">_Unit</span>ç±»å‹çš„æºç å®ç°</span><br><span class="line">P24024_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆåäºŒï¼‰_ç±»å‹è½¬æ¢ï¼ˆä¸€ï¼‰<span class="variable">_Java</span>ç±»å‹è½¬æ¢å¤ä¹ </span><br><span class="line">P25025_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆåäºŒï¼‰_ç±»å‹è½¬æ¢ï¼ˆä¸‰ï¼‰<span class="variable">_Scala</span>è‡ªåŠ¨ç±»å‹è½¬æ¢</span><br><span class="line">P26026_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆåäºŒï¼‰_ç±»å‹è½¬æ¢ï¼ˆå››ï¼‰<span class="variable">_Scala</span>å¼ºåˆ¶ç±»å‹è½¬æ¢</span><br><span class="line">P27027_å°šç¡…è°·<span class="variable">_Scala_</span>å˜é‡å’Œæ•°æ®ç±»å‹ï¼ˆåäºŒï¼‰_ç±»å‹è½¬æ¢ï¼ˆäº”ï¼‰_å¼ºè½¬æº¢å‡ºé¢è¯•é¢˜</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-4">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>æ¡ˆå‘èˆ’æœæ¡ˆå‘åˆ†å¼€</p><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-2">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><p>fff</p><h3 id="Scalaæ¦‚è¿°">Scalaæ¦‚è¿°</h3><p>å› ä¸ºSpark æ‰€ä»¥è¦å­¦Scala<code>Sparkçš„å…´èµ·ï¼Œå¸¦åŠ¨Scalaè¯­è¨€çš„å‘å±•ï¼</code></p><p>ScalaåŸºäºJavaï¼ŒScalaå’ŒJavaæœ‰å¯†ä¸å¯åˆ†çš„å…³ç³» å…³ç³»å›¾å¦‚ä¸‹</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220713181600104.png" alt="image-20220713181600104"></p><h4 id="Scalaç‰¹ç‚¹">Scalaç‰¹ç‚¹</h4><p>Scalaæ˜¯ä¸€é—¨ä»¥Javaè™šæ‹Ÿæœºä¸ºè¿è¡Œç¯å¢ƒé¢å‘å¯¹è±¡å’Œå‡½æ•°å¼ç¼–ç¨‹ç»“åˆçš„é™æ€ç±»å‹çš„<code>ç¼–ç¨‹è¯­è¨€</code>ï¼Œscalaè·Ÿjavaå·®ä¸å¤šï¼Œæºä»£ç ç¼–è¯‘æˆå­—èŠ‚ç æ–‡ä»¶ã€‚</p><p>æˆ‘ä½¿ç”¨Scalaä¸‹æ¥ï¼Œæ„Ÿè§‰Scalaåƒæ˜¯pythonå’Œjavaçš„ç»“åˆï¼Œå¾ˆç®€æ´ï¼Œå¾ˆå¤šåœ°æ–¹çœ‹åˆ°äº†pythonçš„å½±å­ã€‚</p><h4 id="Scalaç¯å¢ƒæ­å»º">Scalaç¯å¢ƒæ­å»º</h4><p>æ­å»ºè¿‡è¿™ä¹ˆå¤šçš„ç¯å¢ƒï¼ŒScalaä¹Ÿä¸å¤æ‚ï¼Œä¸¤ä¸‰åˆ†é’Ÿå°±å®Œæˆäº†ã€‚</p><p>IDEAä¸­å¯¼å…¥Scalaç¨å¾®è€—è´¹äº†ç‚¹æ—¶é—´ï¼Œè¦å¼•å…¥æ¡†æ¶ã€‚</p><h3 id="Scalaå…¥é—¨">Scalaå…¥é—¨</h3><p>Scalaæ³¨è§£å’Œjavaå®Œå…¨ä¸€æ · /* /** å’Œ//</p><h4 id="å˜é‡å’Œå¸¸é‡">å˜é‡å’Œå¸¸é‡</h4><p>å¤§ä½“å’Œå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œä½†æ˜¯è¦æå‰å£°æ˜æ˜¯å˜é‡è¿˜æ˜¯å¸¸é‡</p><p>åŸºæœ¬è¯­æ³•</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//var å˜é‡å [: å˜é‡ç±»å‹] = åˆå§‹å€¼ </span></span><br><span class="line"><span class="keyword">var</span> i:<span class="type">Int</span> = <span class="number">10</span></span><br><span class="line"><span class="comment">//val å¸¸é‡å [: å¸¸é‡ç±»å‹] = åˆå§‹å€¼ </span></span><br><span class="line"><span class="keyword">val</span> j:<span class="type">Int</span> = <span class="number">20</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ<span class="number">1</span>ï¼‰å£°æ˜å˜é‡æ—¶ï¼Œç±»å‹å¯ä»¥çœç•¥ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨æ¨å¯¼ï¼Œå³ç±»å‹æ¨å¯¼</span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰ç±»å‹ç¡®å®šåï¼Œå°±ä¸èƒ½ä¿®æ”¹ï¼Œè¯´æ˜ Scala æ˜¯å¼ºæ•°æ®ç±»å‹è¯­è¨€ã€‚</span><br><span class="line">ï¼ˆ<span class="number">3</span>ï¼‰å˜é‡å£°æ˜æ—¶ï¼Œå¿…é¡»è¦æœ‰åˆå§‹å€¼</span><br><span class="line">ï¼ˆ<span class="number">4</span>ï¼‰åœ¨å£°æ˜/å®šä¹‰ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <span class="keyword">var</span> æˆ–è€… <span class="keyword">val</span> æ¥ä¿®é¥°ï¼Œ<span class="keyword">var</span> ä¿®é¥°çš„å˜é‡å¯æ”¹å˜ï¼Œ</span><br><span class="line"><span class="keyword">val</span> ä¿®é¥°çš„å˜é‡ä¸å¯æ”¹ã€‚</span><br></pre></td></tr></table></figure><h4 id="æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒ">æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒ</h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Scala </span>å¯¹å„ç§å˜é‡ã€æ–¹æ³•ã€å‡½æ•°ç­‰å‘½åæ—¶ä½¿ç”¨çš„å­—ç¬¦åºåˆ—ç§°ä¸ºæ ‡è¯†ç¬¦ã€‚å³ï¼šå‡¡æ˜¯è‡ªå·±å¯ä»¥èµ·åå­—çš„åœ°æ–¹éƒ½å«æ ‡è¯†ç¬¦ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å’ŒjavaåŸºæœ¬å·®ä¸å¤šï¼Œ</span><br><span class="line">ï¼ˆ<span class="number">1</span>ï¼‰ä»¥å­—æ¯æˆ–è€…ä¸‹åˆ’çº¿å¼€å¤´ï¼Œåæ¥å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿</span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰ä»¥æ“ä½œç¬¦å¼€å¤´ï¼Œä¸”åªåŒ…å«æ“ä½œç¬¦ï¼ˆ+ - * / # !ç­‰ï¼‰</span><br><span class="line">ï¼ˆ<span class="number">3</span>ï¼‰ç”¨åå¼•å·`....`åŒ…æ‹¬çš„ä»»æ„å­—ç¬¦ä¸²ï¼Œå³ä½¿æ˜¯ Scala å…³é”®å­—ï¼ˆ<span class="number">39</span> ä¸ªï¼‰ä¹Ÿå¯ä»¥</span><br></pre></td></tr></table></figure><h4 id="å­—ç¬¦ä¸²è¾“å‡º">å­—ç¬¦ä¸²è¾“å‡º</h4><p>å…³é”®å­—<code>println</code></p><h3 id="æ•°æ®ç±»å‹-é‡ç‚¹"><strong>æ•°æ®ç±»å‹(é‡ç‚¹)</strong></h3><p>Scalaä¸€åˆ‡æ˜¯æ•°æ®éƒ½æ˜¯å¯¹è±¡ï¼Œæ˜¯Anyçš„å­ç±» å¦‚ä¸‹å›¾</p><p>Scalaä¸¤å¤§æ•°æ®ç±»å‹ï¼Œå¼•ç”¨ç±»AnyRefå’Œæ•°å€¼ç±»å‹çš„AnyVal</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220713191734135.png" alt="image-20220713191734135"></p><p>æ•°å€¼ç±»å‹å’Œå…¶ä»–è¯­è¨€å¤§å·®ä¸å·®ï¼Œè¯­æ³•ä¸ä¸€æ ·è€Œå·²</p><p>å¦‚æœå˜é‡æˆ–è€…å¸¸é‡åé¢æ²¡æœ‰å£°æ˜ç±»å‹ï¼Œç›´æ¥ç­‰äºå·ï¼Œä¸æŠ¥é”™ï¼Œæ˜¯Scalaè‡ªåŠ¨ç»™ä½ åŒ¹é…äº†å¯¹åº”çš„ç±»å‹ï¼Œå°±å’Œpythonä¸€æ ·ï¼Œè¿˜æ˜¯äººæ€§åŒ–çš„ï¼Œä½†æ˜¯æœ€å¥½åŠ ä¸Šå§ï¼Œå¯è¯»æ€§å¼ºä¸€äº›ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£ç¡®</span></span><br><span class="line"> <span class="keyword">var</span> n1:<span class="type">Byte</span> = <span class="number">127</span></span><br><span class="line"> <span class="keyword">var</span> n2:<span class="type">Byte</span> = <span class="number">-128</span></span><br><span class="line"> <span class="comment">// é”™è¯¯</span></span><br><span class="line"> <span class="comment">// var n3:Byte = 128</span></span><br><span class="line"> <span class="comment">// var n4:Byte = -129</span></span><br><span class="line"> <span class="comment">// ä¸å¸¦æ•°æ®ç±»å‹æ•´å‹æ•°æ®é»˜è®¤æ˜¯int</span></span><br><span class="line"> <span class="keyword">var</span> n5 = <span class="number">10</span></span><br><span class="line"> println(n5)</span><br><span class="line"> <span class="keyword">var</span> n6 = <span class="number">9223372036854775807</span>L</span><br><span class="line"> println(n6)</span><br><span class="line"><span class="comment">//ä¸å¸¦æ•°æ®ç±»å‹ æµ®ç‚¹å‹é»˜è®¤æ˜¯Double</span></span><br><span class="line"><span class="comment">// å»ºè®®ï¼Œåœ¨å¼€å‘ä¸­éœ€è¦é«˜ç²¾åº¦å°æ•°æ—¶ï¼Œè¯·é€‰æ‹© Double</span></span><br><span class="line"> <span class="keyword">var</span> n7 = <span class="number">2.2345678912</span>f</span><br><span class="line"> <span class="keyword">var</span> n8 = <span class="number">2.2345678912</span></span><br><span class="line"> println(<span class="string">&quot;n7=&quot;</span> + n7)</span><br><span class="line"> println(<span class="string">&quot;n8=&quot;</span> + n8)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ï¼ˆ1ï¼‰å­—ç¬¦å¸¸é‡æ˜¯ç”¨å•å¼•å· &#x27; &#x27; æ‹¬èµ·æ¥çš„å•ä¸ªå­—ç¬¦ã€‚</span></span><br><span class="line"> <span class="keyword">var</span> c1: <span class="type">Char</span> = &#x27;a&#x27;</span><br><span class="line"> println(<span class="string">&quot;c1=&quot;</span> + c1)</span><br><span class="line"><span class="comment">//æ³¨æ„ï¼šè¿™é‡Œæ¶‰åŠè‡ªåŠ¨ç±»å‹æå‡ï¼Œå…¶å®ç¼–è¯‘å™¨å¯ä»¥è‡ªå®šåˆ¤æ–­æ˜¯å¦è¶…å‡ºèŒƒå›´ï¼Œ</span></span><br><span class="line"> <span class="comment">//ä¸è¿‡ idea æç¤ºæŠ¥é”™</span></span><br><span class="line"><span class="keyword">var</span> c2:<span class="type">Char</span> = &#x27;a&#x27; + <span class="number">1</span></span><br><span class="line">println(c2)</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//ï¼ˆ2ï¼‰\t ï¼šä¸€ä¸ªåˆ¶è¡¨ä½ï¼Œå®ç°å¯¹é½çš„åŠŸèƒ½</span></span><br><span class="line"> println(<span class="string">&quot;å§“å\t å¹´é¾„&quot;</span>)</span><br><span class="line"> <span class="comment">//ï¼ˆ3ï¼‰\n ï¼šæ¢è¡Œç¬¦</span></span><br><span class="line"> println(<span class="string">&quot;è¥¿é—¨åº†\n æ½˜é‡‘è²&quot;</span>)</span><br><span class="line"> <span class="comment">//ï¼ˆ4ï¼‰\\ ï¼šè¡¨ç¤º\</span></span><br><span class="line"> println(<span class="string">&quot;c:\\å²›å›½\\avi&quot;</span>)</span><br><span class="line"> <span class="comment">//ï¼ˆ5ï¼‰\&quot; ï¼šè¡¨ç¤º&quot;</span></span><br><span class="line"> println(<span class="string">&quot;åŒå­¦ä»¬éƒ½è¯´ï¼š\&quot;å¤§æµ·å“¥æœ€å¸…\&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¸ƒå°”ç±» åªèƒ½falseå’Œtrueå ç”¨ä¸€ä¸ªå­—èŠ‚</span></span><br><span class="line"><span class="keyword">var</span> isResult : <span class="type">Boolean</span> = <span class="literal">false</span></span><br><span class="line"> <span class="keyword">var</span> isResult2 : <span class="type">Boolean</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="5-æ€»ç»“-3">5.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©æ˜¯è¿›å…¥Scalaçš„å­¦ä¹ ï¼ŒScalaç®—æ˜¯ä¸€ä¸ªåŠæ–°çš„è¯­è¨€ï¼ŒåŸºäºjavaçš„ã€‚ä¹Ÿç®—æ˜¯java++ï¼Œä¸€äº›è¯­æ³•å’Œè§„åˆ™ä¸å¤ªä¸€æ ·ï¼ŒåŸºæœ¬è¿è¡ŒåŸç†è¿˜æ˜¯å·®ä¸å¤šçš„ï¼Œå­¦ä¹ æ­¥éª¤ä¸»è¦æ˜¯çœ‹æ–‡æ¡£ï¼Œå› ä¸ºæ˜¯è¯­è¨€ï¼Œè‡ªå·±å­¦äº†å¾ˆå¤šç§äº†ï¼Œå‰é¢åŸºæœ¬çš„éƒ¨åˆ†ï¼Œå¤§å¤šè¯­è¨€éƒ½å¤§å·®ä¸å·®ï¼Œçœ‹çœ‹æ–‡æ¡£è¿˜æ˜¯æ¯”è¾ƒå¿«çš„ï¼Œä»£ç æ•²äº†å››äº”ä¸ªå§ï¼Œå…³äºå˜é‡çš„éƒ¨åˆ†ä¸æ˜¯å¾ˆå¤šï¼Œä»Šå¤©å­¦ä¹ çš„ä»»åŠ¡ä¹Ÿä¸æ˜¯å¾ˆé‡ï¼Œé¡ºä¾¿æŠŠå‰å‡ å¤©çš„centOSä¸­çš„å‘½ä»¤ï¼Œåœ¨ubuntuä¸­ï¼Œåˆä½¿ç”¨äº†ä¸€äº›ï¼Œubuntuå®‰è£…æ˜¯ç”¨aptçš„,ä¸æ˜¯ç”¨Centosçš„yumï¼Œubuntuä¸‹äº†ä¸€ä¸ªjavaã€‚</p><h1 id="7-13-hadoopåŸºç¡€å…¥é—¨">7.13 hadoopåŸºç¡€å…¥é—¨</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-5">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-5">2.æ ‡é¢˜</h2><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">01</span>_å°šç¡…è°·_è¯¾ç¨‹ç®€ä»‹_å¤§æ•°æ®è¯¾ç¨‹</span><br><span class="line"><span class="number">02</span>_å°šç¡…è°·_è¯¾ç¨‹ç®€ä»‹<span class="variable">_Hadoop</span>è¯¾ç¨‹</span><br><span class="line"><span class="number">03</span>_å°šç¡…è°·_å…¥é—¨_å¤§æ•°æ®æ¦‚å¿µ</span><br><span class="line"><span class="number">04</span>_å°šç¡…è°·_å…¥é—¨_å¤§æ•°æ®ç‰¹ç‚¹ï¼ˆ<span class="number">4</span>Vï¼‰</span><br><span class="line"><span class="number">05</span>_å°šç¡…è°·_å…¥é—¨_å¤§æ•°æ®åº”ç”¨åœºæ™¯</span><br><span class="line"><span class="number">06</span>_å°šç¡…è°·_å…¥é—¨_å¤§æ•°æ®å‘å±•å‰æ™¯</span><br><span class="line"><span class="number">07</span>_å°šç¡…è°·_å…¥é—¨_å¤§æ•°æ®éƒ¨é—¨ä¸šåŠ¡æµç¨‹åˆ†æ</span><br><span class="line"><span class="number">08</span>_å°šç¡…è°·_å…¥é—¨_å¤§æ•°æ®éƒ¨é—¨ç»„ç»‡ç»“æ„ï¼ˆé‡ç‚¹ï¼‰</span><br><span class="line"><span class="number">09</span>_å°šç¡…è°·<span class="variable">_Hadoop_</span>æ˜¯ä»€ä¹ˆ</span><br><span class="line"><span class="number">10</span>_å°šç¡…è°·<span class="variable">_Hadoop_</span>å‘å±•å†å²</span><br><span class="line"><span class="number">11</span>_å°šç¡…è°·<span class="variable">_Hadoop_</span>ä¸‰å¤§å‘è¡Œç‰ˆæœ¬</span><br><span class="line"><span class="number">12</span>_å°šç¡…è°·<span class="variable">_Hadoop_</span>ä¼˜åŠ¿ï¼ˆ<span class="number">4</span>é«˜ï¼‰</span><br><span class="line"><span class="number">13</span>_å°šç¡…è°·<span class="variable">_Hadoop_1</span>.xå’Œ<span class="number">2</span>.xåŒºåˆ«</span><br><span class="line"><span class="number">14</span>_å°šç¡…è°·<span class="variable">_Hadoop_</span>ç»„æˆ</span><br><span class="line"><span class="number">15</span>_å°šç¡…è°·<span class="variable">_Hadoop_</span>å¤§æ•°æ®æŠ€æœ¯ç”Ÿæ€ä½“ç³»</span><br><span class="line"><span class="number">16</span>_å°šç¡…è°·<span class="variable">_Hadoop_</span>æ¨èç³»ç»Ÿæ¡†æ¶å›¾</span><br><span class="line"><span class="number">17</span>_å°šç¡…è°·_ç¯å¢ƒæ­å»º_è™šæ‹Ÿæœºå‡†å¤‡</span><br><span class="line"><span class="number">18</span>_å°šç¡…è°·_ç¯å¢ƒæ­å»º<span class="variable">_JDK</span>å®‰è£…</span><br><span class="line"><span class="number">19</span>_å°šç¡…è°·_ç¯å¢ƒæ­å»º<span class="variable">_Hadoop</span>å®‰è£…</span><br><span class="line"><span class="number">20</span>_å°šç¡…è°·_ç¯å¢ƒæ­å»º<span class="variable">_Hadoop</span>ç›®å½•ç»“æ„</span><br><span class="line"><span class="number">21</span>_å°šç¡…è°·_ç¯å¢ƒæ­å»º<span class="variable">_Hadoop</span>å®˜ç½‘æ‰‹å†Œ</span><br><span class="line"><span class="number">22</span>_å°šç¡…è°·_æœ¬åœ°æ¨¡å¼<span class="variable">_Grep</span>å®˜æ–¹æ¡ˆä¾‹</span><br><span class="line"><span class="number">23</span>_å°šç¡…è°·_æœ¬åœ°æ¨¡å¼<span class="variable">_WordCount</span>å®˜æ–¹æ¡ˆä¾‹</span><br><span class="line"><span class="number">24</span>_å°šç¡…è°·_ä¼ªåˆ†å¸ƒå¼_å¯åŠ¨HDFSå¹¶è¿è¡ŒMRç¨‹åº</span><br><span class="line"><span class="number">25</span>_å°šç¡…è°·_ä¼ªåˆ†å¸ƒå¼<span class="variable">_Log</span>æ—¥å¿—æŸ¥çœ‹å’ŒNNæ ¼å¼åŒ–å‰å¼ºè°ƒ</span><br><span class="line"><span class="number">26</span>_å°šç¡…è°·_ä¼ªåˆ†å¸ƒå¼<span class="variable">_NameNode</span>æ ¼å¼åŒ–æ³¨æ„äº‹é¡¹</span><br><span class="line"><span class="number">27</span>_å°šç¡…è°·_ä¼ªåˆ†å¸ƒå¼_å¯åŠ¨YARNå¹¶è¿è¡ŒMRç¨‹åº</span><br><span class="line"><span class="number">28</span>_å°šç¡…è°·_ä¼ªåˆ†å¸ƒå¼_é…ç½®å†å²æœåŠ¡å™¨</span><br><span class="line"><span class="number">29</span>_å°šç¡…è°·_ä¼ªåˆ†å¸ƒå¼_é…ç½®æ—¥å¿—èšé›†</span><br><span class="line"><span class="number">30</span>_å°šç¡…è°·_ä¼ªåˆ†å¸ƒå¼_é…ç½®æ–‡ä»¶è¯´æ˜</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-5">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>å¤§æ•°æ®å…¥é—¨</p><p>hadoopæ¦‚è¿°å…¥é—¨</p><p>ç¯å¢ƒæ­å»º</p><p>æœ¬åœ°æ¨¡å¼</p><p>ä¼ªåˆ†å¸ƒå¼</p><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-3">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="hadoopæ¦‚è¿°">hadoopæ¦‚è¿°</h3><p><code>hadoopæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„åŸºç¡€æ¶æ„ï¼Œç”¨äºå­˜å‚¨å’Œåˆ†æè®¡ç®—æ•°æ®ï¼Œè§£å†³æ•°æ®é—®é¢˜ã€‚</code></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/wps1.png" alt="img"></p><p><strong>hadoopçš„ç»„æˆ</strong></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/wps2.png" alt="img"></p><p><code>MapReduceå’ŒHDFSæ˜¯é‡ç‚¹</code></p><h3 id="è™šæ‹Ÿæœºç¯å¢ƒæ­å»ºå‡†å¤‡"><strong>è™šæ‹Ÿæœºç¯å¢ƒæ­å»ºå‡†å¤‡</strong></h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span>å…‹éš†è™šæ‹Ÿæœº</span><br><span class="line"><span class="bullet">2.</span>ä¿®æ”¹å…‹éš†è™šæ‹Ÿæœºçš„é™æ€IP</span><br><span class="line"><span class="bullet">3.</span>ä¿®æ”¹ä¸»æœºå</span><br><span class="line"><span class="bullet">4.</span>å…³é—­é˜²ç«å¢™</span><br><span class="line"><span class="bullet">5.</span>åˆ›å»ºatguiguç”¨æˆ·</span><br><span class="line"><span class="bullet">6.</span>é…ç½®atguiguç”¨æˆ·å…·æœ‰rootæƒé™</span><br><span class="line">å®‰è£…JDK å’Œ hadoop</span><br></pre></td></tr></table></figure><p>å®‰è£…Jdkå’ŒHadoopæ—¶å€™æ³¨æ„è·¯å¾„ï¼Œé…å¥½ç¯å¢ƒå˜é‡ï¼Œéœ€è¦æ£€æŸ¥ã€‚</p><p><code>java -version</code>å’Œ<code>hadoop</code>å¯ä»¥æ£€æŸ¥ç¯å¢ƒå˜é‡æœ‰æ²¡æœ‰é…ç½®å¥½</p><h3 id="hadoopç›®å½•ç»“æ„">hadoopç›®å½•ç»“æ„</h3><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ<span class="number">1</span>ï¼‰<span class="keyword">binç›®å½•ï¼šå­˜æ”¾å¯¹Hadoopç›¸å…³æœåŠ¡ï¼ˆHDFS,YARNï¼‰è¿›è¡Œæ“ä½œçš„è„šæœ¬</span></span><br><span class="line"><span class="keyword"></span>ï¼ˆ<span class="number">2</span>ï¼‰etcç›®å½•ï¼šHadoopçš„é…ç½®æ–‡ä»¶ç›®å½•ï¼Œå­˜æ”¾Hadoopçš„é…ç½®æ–‡ä»¶</span><br><span class="line">ï¼ˆ<span class="number">3</span>ï¼‰libç›®å½•ï¼šå­˜æ”¾Hadoopçš„æœ¬åœ°åº“ï¼ˆå¯¹æ•°æ®è¿›è¡Œå‹ç¼©è§£å‹ç¼©åŠŸèƒ½ï¼‰</span><br><span class="line">ï¼ˆ<span class="number">4</span>ï¼‰<span class="keyword">sbinç›®å½•ï¼šå­˜æ”¾å¯åŠ¨æˆ–åœæ­¢Hadoopç›¸å…³æœåŠ¡çš„è„šæœ¬</span></span><br><span class="line"><span class="keyword"></span>ï¼ˆ<span class="number">5</span>ï¼‰<span class="keyword">shareç›®å½•ï¼šå­˜æ”¾Hadoopçš„ä¾èµ–jaråŒ…ã€æ–‡æ¡£ã€å’Œå®˜æ–¹æ¡ˆä¾‹</span></span><br></pre></td></tr></table></figure><h3 id="Hadoopè¿è¡Œæ¨¡å¼">Hadoopè¿è¡Œæ¨¡å¼</h3><h4 id="æœ¬åœ°è¿è¡Œ">æœ¬åœ°è¿è¡Œ</h4><p>æ‰§è¡Œå‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.2.jar wordcount wcinput wcoutput</span><br></pre></td></tr></table></figure><h4 id="ä¼ªåˆ†å¸ƒå¼è¿è¡Œæ¨¡å¼">ä¼ªåˆ†å¸ƒå¼è¿è¡Œæ¨¡å¼</h4><p>å…·ä½“é…ç½®ä»¥åŠæµ‹è¯•å‘½ä»¤è§ æ–‡æ¡£</p><p>é…ç½®é›†ç¾¤æ–‡æ¡£ä¸€å®šè¦æ³¨æ„å‘½ä»¤ä»¥åŠä¸»æœºå</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ<span class="number">1</span>ï¼‰é…ç½®é›†ç¾¤</span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰å¯åŠ¨ã€æµ‹è¯•é›†ç¾¤å¢ã€åˆ ã€æŸ¥</span><br><span class="line">ï¼ˆ<span class="number">3</span>ï¼‰æ‰§è¡Œ<span class="built_in">WordCount</span>æ¡ˆä¾‹</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹é›†ç¾¤å¯åŠ¨æˆåŠŸç”¨<code>jps</code></p><p>MapReduceå’ŒYARNå¤§åŒå°å¼‚</p><h4 id="é…ç½®å†å²æœåŠ¡å™¨-æ—¥å¿—èšé›†">é…ç½®å†å²æœåŠ¡å™¨ æ—¥å¿—èšé›†</h4><p>æ­¥éª¤éƒ½æ˜¯é…ç½®yarn-site.xmlæ–‡ä»¶ç„¶åæ·»åŠ é…ç½®</p><p>å¯åŠ¨é›†ç¾¤ æ‰§è¡Œå³å¯</p><p><strong>è¿è¡Œæƒ…å†µ</strong></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220714002441191.png" alt="image-20220714002441191"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-2">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>è¯´ä¸‹è¿™ä¸€æ˜ŸæœŸæ“ä½œlinuxç³»ç»Ÿå‡ºç°çš„ä¸€äº›å¸¸è§é—®é¢˜å§ï¼Œæœ€å¸¸è§çš„å°±æ˜¯è·¯å¾„é—®é¢˜ï¼Œç»å¸¸cdæˆ–è€…è§£å‹åŒ…çš„æ—¶å€™ï¼Œvimå’Œcatæ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œå¤§å¤šæ•°å°±æ˜¯è‡ªå·±è·¯å¾„çš„é—®é¢˜ã€‚è‡ªå·±å‡ºç°äº†çš„ä¸€æ¬¡é—®é¢˜ï¼šæˆ‘åœ¨hadoop-2.7.1ä¸­æœ‰ä¸ªæ–‡ä»¶åå«etcï¼Œä½†æ˜¯åœ¨Linuxä¸­æ ¹ç›®å½•ä¹Ÿæœ‰ä¸€ä¸ªæ–‡ä»¶åå«etcï¼Œæ‰€ä»¥æœ‰å¥½å‡ æ¬¡ï¼Œcdå’Œè°ƒç”¨å‘½ä»¤çš„æ—¶å€™ï¼ŒæŠ¥é”™ï¼Œè¯´æ‰¾ä¸åˆ°è·¯å¾„ï¼Œé—²ä¸‹æ¥çš„æ—¶å€™å»CSDNæœäº†ä¸€ä¸‹ï¼Œè·¯å¾„çš„é—®é¢˜ï¼Œ<code>å•ç‹¬ä¸€ä¸ª/ä»£è¡¨è·Ÿæ ¹ç›®å½•</code>ï¼Œåƒ<code>/etc/hadoop</code>å°±æ˜¯è¿›å…¥æ ¹ç›®å½•çš„etcä¸­çš„hadoopç›®å½•ï¼Œå¦‚æœ<code>etc/hadoop</code>å°±æ˜¯å½“å‰ç›®å½•æœ‰ä¸ªæ–‡ä»¶å«etcï¼Œæ˜¯ç›¸å¯¹çš„è·¯å¾„ï¼Œè€Œetcä¸­çš„hadoopå‰é¢å¸¦/å°±æ˜¯ç»å¯¹è·¯å¾„ï¼Œç®—æ˜¯ä¸¤ç§è·¯å¾„ç»“åˆåœ¨ä¸€èµ·ï¼Œå¯¼è‡´è‡ªå·±å¥½å‡ æ¬¡ä¸æˆåŠŸï¼Œå‡ æ¬¡çš„ç»éªŒå°±æ˜¯æ¢ä¸€ä¸ªæ–°çš„è·¯å¾„çš„æ—¶å€™ï¼Œllçœ‹ä¸€ä¸‹è·¯å¾„çš„æ–‡ä»¶ï¼Œé˜²æ­¢è§£å‹ç­‰æ“ä½œçš„æ—¶å€™ï¼Œé€ æˆä¸å¿…è¦çš„éº»çƒ¦ã€‚</p><h3 id="å¤§æ•°æ®çš„æŠ€æœ¯ç”Ÿæ€ç³»ç»Ÿä½“ç³»">å¤§æ•°æ®çš„æŠ€æœ¯ç”Ÿæ€ç³»ç»Ÿä½“ç³»</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220714002628742.png" alt="image-20220714002628742"></p><figure class="highlight tp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>ï¼‰Sqoopï¼šSqoopæ˜¯ä¸€æ¬¾å¼€æºçš„å·¥å…·ï¼Œä¸»è¦ç”¨äºåœ¨Hadoopã€Hiveä¸ä¼ ç»Ÿçš„æ•°æ®åº“(MySql)é—´è¿›è¡Œæ•°æ®çš„ä¼ é€’ï¼Œå¯ä»¥å°†ä¸€ä¸ªå…³ç³»å‹æ•°æ®åº“ï¼ˆä¾‹å¦‚ ï¼šMySQLï¼ŒOracle ç­‰ï¼‰ä¸­çš„æ•°æ®å¯¼è¿›åˆ°Hadoopçš„HDFSä¸­ï¼Œä¹Ÿå¯ä»¥å°†HDFSçš„æ•°æ®å¯¼è¿›åˆ°å…³ç³»å‹æ•°æ®åº“ä¸­ã€‚</span><br><span class="line"><span class="number">2</span>ï¼‰Flumeï¼šFlumeæ˜¯Clouderaæä¾›çš„ä¸€ä¸ªé«˜å¯ç”¨çš„ï¼Œé«˜å¯é çš„ï¼Œåˆ†å¸ƒå¼çš„æµ·é‡æ—¥å¿—é‡‡é›†ã€èšåˆå’Œä¼ è¾“çš„ç³»ç»Ÿï¼ŒFlumeæ”¯æŒåœ¨æ—¥å¿—ç³»ç»Ÿä¸­å®šåˆ¶å„ç±»æ•°æ®å‘é€æ–¹ï¼Œç”¨äºæ”¶é›†æ•°æ®ï¼›åŒæ—¶ï¼ŒFlumeæä¾›å¯¹æ•°æ®è¿›è¡Œç®€å•å¤„ç†ï¼Œå¹¶å†™åˆ°å„ç§æ•°æ®æ¥å—æ–¹ï¼ˆå¯å®šåˆ¶ï¼‰çš„èƒ½åŠ›ã€‚</span><br><span class="line"><span class="number">3</span>ï¼‰Kafkaï¼šKafkaæ˜¯ä¸€ç§é«˜ååé‡çš„åˆ†å¸ƒå¼å‘å¸ƒè®¢é˜…æ¶ˆæ¯ç³»ç»Ÿï¼Œæœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š</span><br><span class="line">ï¼ˆ<span class="number">1</span>ï¼‰é€šè¿‡O(<span class="number">1</span>)çš„ç£ç›˜æ•°æ®ç»“æ„æä¾›æ¶ˆæ¯çš„æŒä¹…åŒ–ï¼Œè¿™ç§ç»“æ„å¯¹äºå³ä½¿æ•°ä»¥<span class="keyword">TB</span>çš„æ¶ˆæ¯å­˜å‚¨ä¹Ÿèƒ½å¤Ÿä¿æŒé•¿æ—¶é—´çš„ç¨³å®šæ€§èƒ½ã€‚</span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰é«˜ååé‡ï¼šå³ä½¿æ˜¯éå¸¸æ™®é€šçš„ç¡¬ä»¶Kafkaä¹Ÿå¯ä»¥æ”¯æŒæ¯ç§’æ•°ç™¾ä¸‡çš„æ¶ˆæ¯ã€‚</span><br><span class="line">ï¼ˆ<span class="number">3</span>ï¼‰æ”¯æŒé€šè¿‡KafkaæœåŠ¡å™¨å’Œæ¶ˆè´¹æœºé›†ç¾¤æ¥åˆ†åŒºæ¶ˆæ¯ã€‚</span><br><span class="line">ï¼ˆ<span class="number">4</span>ï¼‰æ”¯æŒHadoopå¹¶è¡Œæ•°æ®åŠ è½½ã€‚</span><br><span class="line"><span class="number">4</span>ï¼‰Stormï¼šStormç”¨äºâ€œè¿ç»­è®¡ç®—â€ï¼Œå¯¹æ•°æ®æµåšè¿ç»­æŸ¥è¯¢ï¼Œåœ¨è®¡ç®—æ—¶å°±å°†ç»“æœä»¥æµçš„å½¢å¼è¾“å‡ºç»™ç”¨æˆ·ã€‚</span><br><span class="line"><span class="number">5</span>ï¼‰Sparkï¼šSparkæ˜¯å½“å‰æœ€æµè¡Œçš„å¼€æºå¤§æ•°æ®å†…å­˜è®¡ç®—æ¡†æ¶ã€‚å¯ä»¥åŸºäºHadoopä¸Šå­˜å‚¨çš„å¤§æ•°æ®è¿›è¡Œè®¡ç®—ã€‚</span><br><span class="line"><span class="number">6</span>ï¼‰Oozieï¼šOozieæ˜¯ä¸€ä¸ªç®¡ç†Hdoopä½œä¸šï¼ˆjobï¼‰çš„å·¥ä½œæµç¨‹è°ƒåº¦ç®¡ç†ç³»ç»Ÿã€‚</span><br><span class="line"><span class="number">7</span>ï¼‰Hbaseï¼šHBaseæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„ã€é¢å‘åˆ—çš„å¼€æºæ•°æ®åº“ã€‚HBaseä¸åŒäºä¸€èˆ¬çš„å…³ç³»æ•°æ®åº“ï¼Œå®ƒæ˜¯ä¸€ä¸ªé€‚åˆäºéç»“æ„åŒ–æ•°æ®å­˜å‚¨çš„æ•°æ®åº“ã€‚</span><br><span class="line"><span class="number">8</span>ï¼‰Hiveï¼šHiveæ˜¯åŸºäºHadoopçš„ä¸€ä¸ªæ•°æ®ä»“åº“å·¥å…·ï¼Œå¯ä»¥å°†ç»“æ„åŒ–çš„æ•°æ®æ–‡ä»¶æ˜ å°„ä¸ºä¸€å¼ æ•°æ®åº“è¡¨ï¼Œå¹¶æä¾›ç®€å•çš„SQLæŸ¥è¯¢åŠŸèƒ½ï¼Œå¯ä»¥å°†SQLè¯­å¥è½¬æ¢ä¸ºMapReduceä»»åŠ¡è¿›è¡Œè¿è¡Œã€‚ å…¶ä¼˜ç‚¹æ˜¯å­¦ä¹ æˆæœ¬ä½ï¼Œå¯ä»¥é€šè¿‡ç±»SQLè¯­å¥å¿«é€Ÿå®ç°ç®€å•çš„MapReduceç»Ÿè®¡ï¼Œä¸å¿…å¼€å‘ä¸“é—¨çš„MapReduceåº”ç”¨ï¼Œååˆ†é€‚åˆæ•°æ®ä»“åº“çš„ç»Ÿè®¡åˆ†æã€‚</span><br><span class="line"><span class="number">10</span>ï¼‰<span class="keyword">R</span>è¯­è¨€ï¼š<span class="keyword">R</span>æ˜¯ç”¨äºç»Ÿè®¡åˆ†æã€ç»˜å›¾çš„è¯­è¨€å’Œæ“ä½œç¯å¢ƒã€‚<span class="keyword">R</span>æ˜¯å±äºGNUç³»ç»Ÿçš„ä¸€ä¸ªè‡ªç”±ã€å…è´¹ã€æºä»£ç å¼€æ”¾çš„è½¯ä»¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨äºç»Ÿè®¡è®¡ç®—å’Œç»Ÿè®¡åˆ¶å›¾çš„ä¼˜ç§€å·¥å…·ã€‚</span><br><span class="line"><span class="number">11</span>ï¼‰Mahoutï¼šApache Mahoutæ˜¯ä¸ªå¯æ‰©å±•çš„æœºå™¨å­¦ä¹ å’Œæ•°æ®æŒ–æ˜åº“ã€‚</span><br><span class="line"><span class="number">12</span>ï¼‰ZooKeeperï¼šZookeeperæ˜¯Googleçš„Chubbyä¸€ä¸ªå¼€æºçš„å®ç°ã€‚å®ƒæ˜¯ä¸€ä¸ªé’ˆå¯¹å¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¯é åè°ƒç³»ç»Ÿï¼Œæä¾›çš„åŠŸèƒ½åŒ…æ‹¬ï¼šé…ç½®ç»´æŠ¤ã€åå­—æœåŠ¡ã€ åˆ†å¸ƒå¼åŒæ­¥ã€ç»„æœåŠ¡ç­‰ã€‚ZooKeeperçš„ç›®æ ‡å°±æ˜¯å°è£…å¥½å¤æ‚æ˜“å‡ºé”™çš„å…³é”®æœåŠ¡ï¼Œå°†ç®€å•æ˜“ç”¨çš„æ¥å£å’Œæ€§èƒ½é«˜æ•ˆã€åŠŸèƒ½ç¨³å®šçš„ç³»ç»Ÿæä¾›ç»™ç”¨æˆ·ã€‚</span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-2">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©ä»Scalaåˆæ¥çœ‹hadoopäº†ï¼Œhadoopçš„æ¦‚å¿µæ€§ä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œåœ¨æˆ‘çœ‹æ¥hadoopæ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œè€Œä¸”æ˜¯å¼€æºçš„ã€‚ç›¸å½“äºä¸€ä¸ªæ€æƒ³ï¼Œå®ƒæœ‰æä¾›æ¨¡å—å’Œè½¯ä»¶åšæ”¯æ’‘ï¼Œæ˜¯å¤§æ•°æ®å¿…å­¦çš„ä¸œè¥¿ã€‚ä»Šå¤©çš„å†…å®¹æœ‰ç‚¹éš¾åº¦ï¼Œä»£ç ä¼šæ•²ï¼Œä½†æ˜¯å†…å®¹å’Œä»£ç å®ç°çš„åŸå› ï¼Œä¸æ˜¯å¾ˆç†è§£é€å½»ï¼Œä»Šå¤©é…ç½®javaå’Œhadoopçš„æ—¶å€™ï¼Œè·¯å¾„å‡ºç°äº†ä¸€äº›é—®é¢˜ï¼Œå­¦ä¹ å†…å®¹ä¹Ÿæ˜¯åæ¦‚å¿µæ€§çš„ï¼Œhadoopçš„ç›®å½•ç»“æ„ä½œç”¨ç­‰ï¼Œä¸€äº›å‘½ä»¤å·²ç»ç†Ÿæ‚‰äº†ï¼Œä¼ªåˆ†å¸ƒå¼è¿è¡Œè¿™é‡Œé—®é¢˜æœ‰ç‚¹å¤§ï¼Œä¸ç†è§£è¿™æ ·åšçš„åŸç†å’ŒåŸå› ã€‚</p><h1 id="7-14-hadoopå®Œå…¨åˆ†å¸ƒå¼">7.14 hadoopå®Œå…¨åˆ†å¸ƒå¼</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-6">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-6">2.æ ‡é¢˜</h2><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">31</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼<span class="literal">_</span>è™šæ‹Ÿæœºç¯å¢ƒå‡†å¤‡</span><br><span class="line"><span class="number">32</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼_scpæ¡ˆä¾‹</span><br><span class="line"><span class="number">33</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼_rsyncæ¡ˆä¾‹</span><br><span class="line"><span class="number">34</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼<span class="literal">_</span>é›†ç¾¤åˆ†å‘è„šæœ¬xsync</span><br><span class="line"><span class="number">35</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼<span class="literal">_</span>é›†ç¾¤é…ç½®</span><br><span class="line"><span class="number">36</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼<span class="literal">_</span>é›†ç¾¤å•èŠ‚ç‚¹å¯åŠ¨</span><br><span class="line"><span class="number">37</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼<span class="literal">_</span>é›†ç¾¤sshé…ç½®</span><br><span class="line"><span class="number">38</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼<span class="literal">_</span>é›†ç¾¤ç¾¤èµ·</span><br><span class="line"><span class="number">39</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼<span class="literal">_</span>é›†ç¾¤æ–‡ä»¶å­˜å‚¨è·¯å¾„è¯´æ˜</span><br><span class="line"><span class="number">40</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼<span class="literal">_</span>é›†ç¾¤å¯åŠ¨åœæ­¢æ–¹å¼æ€»ç»“</span><br><span class="line"><span class="number">41</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>æ¯æ—¥å›é¡¾</span><br><span class="line"><span class="number">42</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼_RMå¯åŠ¨æ³¨æ„äº‹é¡¹</span><br><span class="line"><span class="number">43</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼_Crondtabå®šæ—¶ä»»åŠ¡è°ƒåº¦</span><br><span class="line"><span class="number">44</span><span class="literal">_</span>å°šç¡…è°·<span class="literal">_</span>å®Œå…¨åˆ†å¸ƒå¼<span class="literal">_</span>é›†ç¾¤æ—¶é—´åŒæ­¥</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-6">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="å‡†å¤‡è™šæ‹Ÿæœºå…‹éš†">å‡†å¤‡è™šæ‹Ÿæœºå…‹éš†</h3><h4 id="ç¼–å†™é›†ç¾¤åˆ†å‘è„šæœ¬">ç¼–å†™é›†ç¾¤åˆ†å‘è„šæœ¬</h4><h4 id="é›†ç¾¤é…ç½®">é›†ç¾¤é…ç½®</h4><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-4">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°.</h2><h3 id="å‡†å¤‡è™šæ‹Ÿæœºå…‹éš†-2">å‡†å¤‡è™šæ‹Ÿæœºå…‹éš†</h3><p>è™šæ‹Ÿæœºå…‹éš†å›æ¥éœ€è¦è¿›è¡Œipé…ç½®ï¼Œçœ‹é‚£ä¸ªè€å¸ˆå…‹éš†æ­¥éª¤å’Œè‡ªå·±çš„å¯¹ä¸ä¸Šï¼Œæ–‡ä»¶éƒ½ä¸ä¸€æ ·ï¼Œè‡ªå·±æ˜¯å¯¹ç€å®éªŒæŒ‡å¯¼ä¹¦é…çš„ã€‚æŸ¥äº†èµ„æ–™ï¼Œæ€»ç»“äº†è‡ªå·±çš„æ­¥éª¤,åé¢ä¹Ÿæ˜¯å…¨éƒ¨å¯¹çš„ä¸Šçš„éƒ½æˆåŠŸçš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">é…ç½®ip</span><br><span class="line">[root@localhost ~]<span class="comment"># vim /etc/sysconfig/network-scripts/ifcfg-ens33 </span></span><br><span class="line"><span class="comment">#å°†IPADDRè¿™é‡Œä¿®æ”¹æˆè‡ªå·±éœ€è¦çš„ipæœ€å¥½ä¸€ä¸ªé›†ç¾¤åœ¨ä¸€ä¸ªç½‘æ®µ ç„¶åæŠŠ BOOTPROTO=staticæ”¹æˆé™æ€çš„ï¼ŒåŸæœ¬æ˜¯none</span></span><br><span class="line">systemctl restart network</span><br><span class="line">systemctl restart NetworkManager</span><br><span class="line"><span class="comment">#è¿™ä¸¤æ¡æ˜¯é‡å¯ç½‘ç»œé…ç½® å¦‚æœè¿™ç§ä¸è¡Œï¼Œå°±æŠŠnetworkå…³äº†ï¼Œå†åªé‡å¯NetworkManagerï¼ŒæˆåŠŸçš„è¯ï¼Œrebooté‡å¯ä¸€æ¬¡å°±å¥½</span></span><br><span class="line">è™šæ‹Ÿæœºçš„ç½‘ç»œé…ç½®å°±å¦‚ä¸Š</span><br></pre></td></tr></table></figure><h3 id="ç¼–å†™é›†ç¾¤åˆ†å‘é…ç½®">ç¼–å†™é›†ç¾¤åˆ†å‘é…ç½®</h3><p>å…‹éš†æœºçš„é…ç½®å’ŒåŸæ¥æ˜¯ä¸€æ ·çš„ï¼Œæ˜æ˜¾æ˜¯ä¸å¦¥å½“çš„ï¼Œä¸€ä¸ªä¸€ä¸ªæ”¹åˆå¾ˆéº»çƒ¦ï¼Œå°±éœ€è¦é›†ç¾¤åˆ†å‘ã€‚ç”¨xsync</p><h4 id="xsyncé›†ç¾¤åˆ†å‘è„šæœ¬">xsyncé›†ç¾¤åˆ†å‘è„šæœ¬</h4><p>åœ¨/usr/sjh/binè¿™ä¸ªç›®å½•ä¸‹å­˜æ”¾çš„è„šæœ¬ï¼Œsjhç”¨æˆ·å¯ä»¥åœ¨ç³»ç»Ÿä»»ä½•åœ°æ–¹ç›´æ¥æ‰§è¡Œã€‚</p><p>ï¼ˆaï¼‰åœ¨/home/atguiguç›®å½•ä¸‹åˆ›å»ºbinç›®å½•ï¼Œå¹¶åœ¨binç›®å½•ä¸‹xsyncåˆ›å»ºæ–‡ä»¶ï¼Œæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p><p><code>åŸæ¥çš„æ•™ç¨‹æ˜¯åœ¨/home/sjhç›®å½• è¯•äº†ä¸è¡Œ æ”¹åˆ°äº†/usr/sjh å°±å¥½äº†</code></p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="variable">@hadoop83</span> ~]<span class="variable">$ </span>mkdir bin</span><br><span class="line">[root<span class="variable">@hadoop83</span> ~]<span class="variable">$ </span>cd bin/</span><br><span class="line">[root<span class="variable">@hadoop83</span> bin]<span class="variable">$ </span>touch xsync</span><br><span class="line">[root<span class="variable">@hadoop83</span> bin]<span class="variable">$ </span>vi xsync</span><br></pre></td></tr></table></figure><p>å†™å…¥xsync</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="comment">#1 è·å–è¾“å…¥å‚æ•°ä¸ªæ•°ï¼Œå¦‚æœæ²¡æœ‰å‚æ•°ï¼Œç›´æ¥é€€å‡º</span></span><br><span class="line">pcount=$<span class="comment">#</span></span><br><span class="line"><span class="keyword">if</span>((pcount==<span class="number">0</span>)); then</span><br><span class="line">echo no args;</span><br><span class="line">exit;</span><br><span class="line">fi</span><br><span class="line"><span class="comment">#2 è·å–æ–‡ä»¶åç§°</span></span><br><span class="line">p1=$<span class="number">1</span></span><br><span class="line">fname=`basename $p1`</span><br><span class="line">echo fname=$fname</span><br><span class="line"><span class="comment">#3 è·å–ä¸Šçº§ç›®å½•åˆ°ç»å¯¹è·¯å¾„</span></span><br><span class="line">pdir=`cd -P $(dirname $p1); pwd`</span><br><span class="line">echo pdir=$pdir</span><br><span class="line"><span class="comment">#4 è·å–å½“å‰ç”¨æˆ·åç§°</span></span><br><span class="line">user=`whoami`</span><br><span class="line"><span class="comment">#5 å¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span>((host=<span class="number">103</span>; host&lt;<span class="number">105</span>; host++)); do</span><br><span class="line">echo ------------------- hadoop$host --------------</span><br><span class="line">rsync -rvl $pdir/$fname $user@hadoop$host:$pdir</span><br><span class="line">done</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹è„šæœ¬çš„æƒé™ ä¸»è¦æ˜¯æ·»åŠ æ‰§è¡Œæƒé™ ä»¥åŠå„ç”¨æˆ·èƒ½è°ƒç”¨</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[sjh<span class="symbol">@hadoop83</span> bin]<span class="meta"># chmod 777 xsync</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹è„šæœ¬å½¢å¼</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[sjh<span class="symbol">@hadoop83</span> bin]<span class="meta"># xsync /usr/sjh/bin</span></span><br></pre></td></tr></table></figure><h3 id="é›†ç¾¤é…ç½®-2">é›†ç¾¤é…ç½®</h3><p>éƒ¨ç½²è§„åˆ’</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220714194338973.png" alt="image-20220714194338973"></p><p>ä»¥ä¸‹é…ç½®æ–‡ä»¶ç›´æ¥copyå°šç¡…è°·çš„ è‡ªå·±çš„é›†ç¾¤æ­å»º æ³¨æ„è‡ªå·±è·¯å¾„å’Œæ–‡ä»¶å</p><h4 id="æ ¸å¿ƒé…ç½®æ–‡ä»¶">æ ¸å¿ƒé…ç½®æ–‡ä»¶</h4><p>é…ç½®core-site.xml</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop]<span class="variable">$ </span>vi core-site.xml</span><br></pre></td></tr></table></figure><p>åœ¨è¯¥æ–‡ä»¶ä¸­ç¼–å†™å¦‚ä¸‹é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æŒ‡å®šHDFSä¸­NameNodeçš„åœ°å€ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>fs.defaultFS<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>hdfs://hadoop102:9000<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šHadoopè¿è¡Œæ—¶äº§ç”Ÿæ–‡ä»¶çš„å­˜å‚¨ç›®å½• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>hadoop.tmp.dir<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>/opt/module/hadoop-2.7.2/data/tmp<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="HDFSé…ç½®æ–‡ä»¶">HDFSé…ç½®æ–‡ä»¶</h4><p><a href="http://xn--hadoop-env-o150at28m.sh">é…ç½®hadoop-env.sh</a></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop]$ vi hadoop-env.sh</span><br><span class="line"><span class="built_in">export</span> <span class="attribute">JAVA_HOME</span>=/opt/module/jdk1.8.0_144</span><br></pre></td></tr></table></figure><p>é…ç½®hdfs-site.xml</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop]<span class="variable">$ </span>vi hdfs-site.xml</span><br></pre></td></tr></table></figure><p>é…ç½®å¦‚ä¸‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.replication<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>3<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šHadoopè¾…åŠ©åç§°èŠ‚ç‚¹ä¸»æœºé…ç½® --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>dfs.namenode.secondary.http-address<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop104:50090<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="YARNé…ç½®">YARNé…ç½®</h4><p><a href="http://xn--yarn-env-vz2ve12k.sh">é…ç½®yarn-env.sh</a></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop]$ vi yarn-env.sh</span><br><span class="line"><span class="built_in">export</span> <span class="attribute">JAVA_HOME</span>=/opt/module/jdk1.8.0_144</span><br></pre></td></tr></table></figure><p>é…ç½®yarn-site.xml</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop]<span class="variable">$ </span>vi yarn-site.xml</span><br></pre></td></tr></table></figure><p>é…ç½®å¦‚ä¸‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Reducerè·å–æ•°æ®çš„æ–¹å¼ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.nodemanager.aux-services<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>mapreduce_shuffle<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æŒ‡å®šYARNçš„ResourceManagerçš„åœ°å€ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>yarn.resourcemanager.hostname<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>hadoop103<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="MapReduceé…ç½®æ–‡ä»¶">MapReduceé…ç½®æ–‡ä»¶</h4><p><a href="http://xn--mapred-env-o150at28m.sh">é…ç½®mapred-env.sh</a></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop]$ vi mapred-env.sh</span><br><span class="line"><span class="built_in">export</span> <span class="attribute">JAVA_HOME</span>=/opt/module/jdk1.8.0_144</span><br></pre></td></tr></table></figure><p>é…ç½®mapred-site.xml</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[atguigu@hadoop102 hadoop]</span>$ cp mapred-site<span class="selector-class">.xml</span><span class="selector-class">.template</span> mapred-site<span class="selector-class">.xml</span></span><br><span class="line"><span class="selector-attr">[atguigu@hadoop102 hadoop]</span>$ vi mapred-site.xml</span><br></pre></td></tr></table></figure><p>åœ¨è¯¥æ–‡ä»¶ä¸­å¢åŠ å¦‚ä¸‹é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æŒ‡å®šMRè¿è¡Œåœ¨Yarnä¸Š --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">name</span>&gt;</span>mapreduce.framework.name<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span>yarn<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="åœ¨é›†ç¾¤ä¸Šåˆ†å‘é…ç½®å¥½çš„Hadoopé…ç½®æ–‡ä»¶">åœ¨é›†ç¾¤ä¸Šåˆ†å‘é…ç½®å¥½çš„Hadoopé…ç½®æ–‡ä»¶</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop]$ xsync <span class="regexp">/opt/m</span>odule<span class="regexp">/hadoop-2.7.2/</span></span><br></pre></td></tr></table></figure><p>åˆ†å‘å®Œæ¯• å»å…‹éš†æœºæŸ¥çœ‹åˆ†å‘é…ç½®æƒ…å†µ</p><h3 id="é›†ç¾¤å•ç‚¹å¯åŠ¨">é›†ç¾¤å•ç‚¹å¯åŠ¨</h3><p>è¿™ä¸ªå¾ˆå¸¸è§„ï¼Œä¹‹å‰çš„ç¬”è®°æœ‰</p><p>æ¯æ¬¡éƒ½ä¸€ä¸ªä¸€ä¸ªèŠ‚ç‚¹å¯åŠ¨ï¼Œå¦‚æœèŠ‚ç‚¹æ•°å¢åŠ åˆ°1000ä¸ªæ€ä¹ˆåŠã€‚æ‰€ä»¥è¦å­¦ä¸€èµ·å¯åŠ¨åˆ©ç”¨é›†ç¾¤ ç¾¤èµ·</p><p>é¦–å…ˆè¦è§£å†³SSHæ— å¯†ç™»é™†é…ç½® ä¸ç„¶æ¯æ¬¡ç¾¤èµ·è¦è¾“å…¥å¾ˆå¤šæ¬¡å¯†ç </p><h4 id="SShæ— å¯†ç™»å½•é…ç½®">SShæ— å¯†ç™»å½•é…ç½®</h4><p>è¿›å…¥å¦å¤–ä¸€å°ç”µè„‘ sshè¯­æ³•</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">ssh</span> <span class="built_in">IP</span>åœ°å€ æˆ–è€… è½¯è¿æ¥</span><br></pre></td></tr></table></figure><p>æ— å¯†é’¥ç™»å½•åŸç†</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/wps1-16578004146091.png" alt="img"></p><p>ç¬¬ä¸€æ­¥ç”Ÿæˆå…¬é’¥å’Œç§é’¥ï¼š</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> .ssh]<span class="variable">$ </span>ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><p>åœ¨/root/.sshä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶id_rsaï¼ˆç§é’¥ï¼‰ã€id_rsa.pubï¼ˆå…¬é’¥ï¼‰</p><p>æ‹·è´åˆ°å…å¯†çš„æœºå™¨ä¸Š è‡ªèº«ä¹Ÿéœ€è¦</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 .ssh]$ ssh-<span class="keyword">copy</span>-<span class="built_in">id</span> hadoop102</span><br><span class="line">[atguigu@hadoop102 .ssh]$ ssh-<span class="keyword">copy</span>-<span class="built_in">id</span> hadoop103</span><br><span class="line">[atguigu@hadoop102 .ssh]$ ssh-<span class="keyword">copy</span>-<span class="built_in">id</span> hadoop104</span><br></pre></td></tr></table></figure><p>.sshæ–‡ä»¶å¤¹æ–‡ä»¶åŠŸèƒ½è§£é‡Š</p><figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">known_hostsè®°å½•sshè®¿é—®è¿‡è®¡ç®—æœºçš„å…¬é’¥(<span class="keyword">public</span> <span class="built_in">key</span>)</span><br><span class="line">id_rsaç”Ÿæˆçš„ç§é’¥</span><br><span class="line">id_rsa.<span class="property">pub</span>ç”Ÿæˆçš„å…¬é’¥</span><br><span class="line">authorized_keyså­˜æ”¾æˆæƒè¿‡å¾—æ— å¯†ç™»å½•æœåŠ¡å™¨å…¬é’¥</span><br></pre></td></tr></table></figure><h3 id="ç¾¤èµ·é›†ç¾¤">ç¾¤èµ·é›†ç¾¤</h3><p>é…ç½®Slaves</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/opt/m</span>odule<span class="regexp">/hadoop-2.7.2/</span>etc<span class="regexp">/hadoop/</span>slaves</span><br><span class="line">[atguigu@hadoop102 hadoop]$ vi slaves</span><br></pre></td></tr></table></figure><p>è¯¥æ–‡ä»¶å¢åŠ å†…å®¹</p><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hadoop83</span><br><span class="line">hadoop84</span><br><span class="line">hadoop85</span><br></pre></td></tr></table></figure><p>åŒæ­¥æ‰€æœ‰èŠ‚ç‚¹é…ç½®æ–‡ä»¶</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop]<span class="variable">$ </span>xsync slaves</span><br></pre></td></tr></table></figure><p>å¯åŠ¨é›†ç¾¤</p><p>åœ¨hadoop83ä¸­ æ”¾é›†ç¾¤çš„å…‹éš†æœº</p><p>æ ¼å¼åŒ–</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop-<span class="number">2.7</span>.<span class="number">2</span>]<span class="variable">$ </span>bin/hdfs namenode -format</span><br></pre></td></tr></table></figure><p>å¯åŠ¨HDFS</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop-<span class="number">2.7</span>.<span class="number">2</span>]<span class="variable">$ </span>sbin/start-dfs.sh</span><br></pre></td></tr></table></figure><p>å¯åŠ¨YARN</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop103</span> hadoop-<span class="number">2.7</span>.<span class="number">2</span>]<span class="variable">$ </span>sbin/start-yarn.sh</span><br></pre></td></tr></table></figure><h4 id="é›†ç¾¤åŸºæœ¬æµ‹è¯•">é›†ç¾¤åŸºæœ¬æµ‹è¯•</h4><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hdfs dfs -mkdir -p <span class="regexp">/user/</span>atguigu/input</span><br><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hdfs dfs -put wcinput<span class="regexp">/wc.input /u</span>ser<span class="regexp">/atguigu/i</span>nput</span><br></pre></td></tr></table></figure><p>ä¸Šä¼ å¤§æ–‡ä»¶</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ bin/hadoop fs -put</span><br><span class="line"><span class="regexp">/opt/</span>software<span class="regexp">/hadoop-2.7.2.tar.gz  /u</span>ser<span class="regexp">/atguigu/i</span>nput</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç£ç›˜å­˜å‚¨æ–‡ä»¶å†…å®¹</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> subdir0]<span class="variable">$ </span>cat blk_1073741825</span><br><span class="line">hadoop yarn</span><br><span class="line">hadoop mapreduce </span><br><span class="line">atguigu</span><br><span class="line">atguigu</span><br></pre></td></tr></table></figure><h3 id="é›†ç¾¤å¯åŠ¨-åœæ­¢æ–¹å¼æ€»ç»“">é›†ç¾¤å¯åŠ¨/åœæ­¢æ–¹å¼æ€»ç»“</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ<span class="number">1</span>ï¼‰åˆ†åˆ«å¯åŠ¨/åœæ­¢HDFSç»„ä»¶</span><br><span class="line">hadoop-daemon.sh  start <span class="regexp">/ stop  namenode /</span> datanode / secondarynamenode</span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰å¯åŠ¨/åœæ­¢YARN</span><br><span class="line">yarn-daemon.sh  start <span class="regexp">/ stop  resourcemanager /</span> nodemanager</span><br></pre></td></tr></table></figure><h4 id="é›†ç¾¤æ—¶é—´åŒæ­¥">é›†ç¾¤æ—¶é—´åŒæ­¥</h4><p>æ£€æŸ¥ntpæ˜¯å¦å®‰è£…</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@hadoop102</span> æ¡Œé¢]<span class="meta"># rpm -qa|grep ntp</span></span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220714212915085.png" alt="image-20220714212915085"></p><h4 id="å…¶ä»–æœºå™¨é…ç½®ï¼ˆå¿…é¡»rootï¼‰">å…¶ä»–æœºå™¨é…ç½®ï¼ˆå¿…é¡»rootï¼‰</h4><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@hadoop103</span>æ¡Œé¢]<span class="meta"># crontab -e</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æ–‡ä»¶æ—¶é—´ Linuxä¸­æœ‰ï¼ŒæŒ‡æ¯ååˆ†é’Ÿåˆ‡æ¢ä¸€æ¬¡</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="emphasis">*/10 *</span> * * <span class="emphasis">*</span></span><br></pre></td></tr></table></figure><h2 id="5-BUGç‚¹-2">5. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>å…‹éš†æœºçš„æ—¶å€™ï¼Œå› ä¸ºè·¯å¾„å’Œè€å¸ˆä¸ä¸€æ ·ï¼Œä»£ç æ‰“å‡ºæ¥ï¼Œè€å¸ˆæœ‰çš„æ–‡ä»¶æ‰“å¼€æ˜¯æœ‰çš„ï¼Œä½†æ˜¯æˆ‘æ‰“å¼€æ˜¯æ²¡çš„ï¼Œä½†æ˜¯æœ€ç»ˆç›®æ ‡éƒ½æ˜¯è¿æ¥é…ç½®é™æ€ipåœ°å€ï¼Œå’Œèƒ½æ­£å¸¸ä¸Šç½‘ï¼Œè‡ªå·±æ‰¾linuxå°šç¡…è°·çš„èµ„æ–™ï¼Œçœ‹ç€é…ç½®çš„ï¼Œæ–¹æ³•å¾ˆä¸ä¸€æ ·ï¼Œç›®çš„æ˜¯æ­£å¸¸è¾¾æˆäº†ï¼Œè¯¦æƒ…åœ¨ç¬”è®° è™šæ‹Ÿæœºç¯å¢ƒå‡†å¤‡æœ‰ã€‚</p><p>è¿˜æœ‰ä¸ªæŠ¥é”™çš„é—®é¢˜ã€‚å°±æ˜¯åœ¨æ‰§è¡Œsshå‘½ä»¤çš„æ—¶å€™ï¼Œæç¤ºlias cman='man -M /usr//share/man/zh_CNâ€™æŠ¥é”™ï¼Œçœ‹æç¤ºä¿¡æ¯æ˜¯åœ¨etc/profile.d/cman.shè¿™ä¸ªæ–‡ä»¶ä¸‹çš„é—®é¢˜ï¼Œsshæˆ‘ä½¿ç”¨çš„æ—¶å€™æ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯ä¼šæŠ¥å‡ºè¿™ä¸ªé”™è¯¯ï¼Œç™¾åº¦æ‰¾äº†ï¼Œç„¶åè¿›è¯¥æ–‡ä»¶æ¯”å¯¹ï¼Œå‘ç°æœ€å‰é¢å°‘ä¸ªaç„¶åè·¯å¾„//ä¸­é—´å°‘äº†localã€‚åŠ ä¸Šä»¥åsshå°±æ²¡æŠ¥é”™ä¿¡æ¯äº†ï¼Œå¥½åƒæ˜¯è‡ªå·±æœ€å¼€å§‹å®‰è£…ä¸­æ–‡è¯­è¨€åŒ…çš„æ—¶å€™å¤åˆ¶è¿›å»çš„æ—¶å€™å…‰æ ‡çš„åŸå› å§ï¼Œä¸å¤ªæ¸…æ¥šã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220714235620184.png" alt="image-20220714235620184"></p><h2 id="6-æ€»ç»“">6.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ å†…å®¹ä¸æ˜¯å¾ˆå¤šï¼Œä½†æ˜¯æœ‰ä¸€å®šçš„éš¾åº¦ï¼Œå’Œå°é—®é¢˜æ¯”è¾ƒå¤šï¼Œä½†éƒ½è§£å†³äº†ã€‚é—®é¢˜ä¸å¤§ï¼Œé›†ç¾¤çš„é…ç½®æ¯”è¾ƒéº»çƒ¦ï¼Œä½†æ˜¯å•æœºå¼€å¯å’Œæ˜¨å¤©çš„å‘½ä»¤æ˜¯ä¸€æ ·çš„ã€‚æ— éæ˜¯é…ç½®å¤šé›†ç¾¤çš„æ—¶å€™ï¼Œç¨å¾®éº»çƒ¦äº†ç‚¹ï¼Œè€Œä¸”é…ç½®æ–‡ä»¶å’Œè€å¸ˆå·®å¼‚æ¯”è¾ƒå¤§ï¼Œæºè¢«å…‹éš†çš„æœºå­å’Œè€å¸ˆé…ç½®å¾ˆå¤šä¸ä¸€æ ·ï¼Œå…‹éš†å‡ºæ¥çš„æœºå­å¾ˆå¤šéƒ½æ˜¯è¦è‡ªå·±å»æœå‘½ä»¤ã€‚å¥½åœ¨é¡ºåˆ©å¯åŠ¨RMäº†ã€‚ä¹Ÿèƒ½æ­£å¸¸ä½¿ã€‚è¿˜æ˜¯åå‘æ¦‚å¿µæ€§å¤šç‚¹ï¼Œç†è§£é›†ç¾¤è¿è¡Œçš„åŸç†ï¼Œä»£ç å°±é‚£ä¹ˆæ¥å›å‡ æ¡ï¼Œå¤šæ•²å‡ éå°±OKäº†ï¼Œæ–‡ä»¶ä¹Ÿæ˜¯é…ç½®ä¸€æ¬¡ä»¥åï¼Œç”¨é›†ç¾¤é…ç½®å°±æ–¹ä¾¿äº†å¾ˆå¤šã€‚</p><h1 id="7-16-HDFS">7.16 HDFS</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-7">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-7">2.æ ‡é¢˜</h2><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">70</span>_å°šç¡…è°·<span class="variable">_HDFS_</span>æœºæ¶æ„ŸçŸ¥-å‰¯æœ¬å­˜å‚¨èŠ‚ç‚¹é€‰æ‹©</span><br><span class="line">P71 <span class="number">71</span>_å°šç¡…è°·<span class="variable">_HDFS_</span>è¯»æ•°æ®æµç¨‹ï¼ˆé¢è¯•é‡ç‚¹ï¼‰</span><br><span class="line"><span class="number">72</span>_å°šç¡…è°·<span class="variable">_HDFS_NN</span>å’Œ<span class="number">2</span>NNå·¥ä½œæœºåˆ¶ï¼ˆé¢è¯•é‡ç‚¹ï¼‰</span><br><span class="line"><span class="number">73</span>_å°šç¡…è°·<span class="variable">_HDFS_Fsimage</span>å’ŒEditsè§£æ</span><br><span class="line"><span class="number">74</span>_å°šç¡…è°·<span class="variable">_HDFS_CheckPoint</span>æ—¶é—´è®¾ç½®</span><br><span class="line"><span class="number">75</span>_å°šç¡…è°·<span class="variable">_HDFS_NN</span>æ•…éšœå¤„ç†_æ¡ˆä¾‹</span><br><span class="line"><span class="number">76</span>_å°šç¡…è°·<span class="variable">_HDFS_</span>å®‰å…¨æ¨¡å¼</span><br><span class="line"><span class="number">77</span>_å°šç¡…è°·<span class="variable">_HDFS_</span>é›†ç¾¤å®‰å…¨æ¨¡å¼_æ¡ˆä¾‹</span><br><span class="line"><span class="number">78</span>_å°šç¡…è°·<span class="variable">_HDFS_NN</span>å¤šç›®å½•é…ç½®_æ¡ˆä¾‹</span><br><span class="line"><span class="number">79</span>_å°šç¡…è°·_æ¯æ—¥å›é¡¾</span><br><span class="line"><span class="number">80</span>_å°šç¡…è°·<span class="variable">_HDFS_DN</span>å·¥ä½œæœºåˆ¶ï¼ˆé¢è¯•é‡ç‚¹ï¼‰</span><br><span class="line"><span class="number">81</span>_å°šç¡…è°·<span class="variable">_HDFS_</span>æ•°æ®å®Œæ•´æ€§</span><br><span class="line"><span class="number">82</span>_å°šç¡…è°·<span class="variable">_HDFS_</span>æ‰çº¿æ—¶é™å‚æ•°è®¾ç½®</span><br><span class="line"><span class="number">83</span>_å°šç¡…è°·<span class="variable">_HDFS_</span>æœå½¹æ–°èŠ‚ç‚¹_æ¡ˆä¾‹</span><br><span class="line"><span class="number">84</span>_å°šç¡…è°·<span class="variable">_HDFS_</span>æ·»åŠ ç™½åå•_æ¡ˆä¾‹</span><br><span class="line"><span class="number">85</span>_å°šç¡…è°·<span class="variable">_HDFS_</span>é»‘åå•é€€å½¹_æ¡ˆä¾‹</span><br><span class="line"><span class="number">86</span>_å°šç¡…è°·<span class="variable">_HDFS_DN</span>å¤šç›®å½•é…ç½®_æ¡ˆä¾‹</span><br><span class="line"><span class="number">87</span>_å°šç¡…è°·<span class="variable">_HDFS</span>æ–°ç‰¹æ€§_é›†ç¾¤é—´æ•°æ®æ‹·è´</span><br><span class="line"><span class="number">88</span>_å°šç¡…è°·<span class="variable">_HDFS</span>æ–°ç‰¹æ€§_å°æ–‡ä»¶å½’æ¡£æ¡ˆä¾‹</span><br><span class="line"><span class="number">89</span>_å°šç¡…è°·<span class="variable">_HDFS</span>æ–°ç‰¹æ€§_å›æ”¶ç«™æ¡ˆä¾‹</span><br><span class="line"><span class="number">90</span>_å°šç¡…è°·<span class="variable">_HDFS</span>æ–°ç‰¹æ€§_å¿«ç…§ç®¡ç†</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-7">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="HDFSæ¦‚è¿°">HDFSæ¦‚è¿°</h3><h4 id="HDFSçš„shellæ“ä½œ">HDFSçš„shellæ“ä½œ</h4><h4 id="HDFSå®¢æˆ·ç«¯ç¯å¢ƒå‡†å¤‡">HDFSå®¢æˆ·ç«¯ç¯å¢ƒå‡†å¤‡</h4><h4 id="HDFSçš„APIæ“ä½œ">HDFSçš„APIæ“ä½œ</h4><h4 id="HDFSçš„I-Oæµæ“ä½œ">HDFSçš„I/Oæµæ“ä½œ</h4><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-5">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="HDFSæ¦‚è¿°-2">HDFSæ¦‚è¿°</h3><p>HDFSæ˜¯åˆ†å¸ƒå¼æ–‡ä»¶ç®¡ç†ç³»ç»Ÿçš„ä¸€ç§ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220715084956748.png" alt="image-20220715084956748"></p><h4 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h4><p>é«˜å®¹é”™ <code>æ•°æ®è‡ªåŠ¨ä¿å­˜å¤šä¸ªå‰¯æœ¬ å‰¯æœ¬ä¸¢å¤±ä»¥åå¯ä»¥è‡ªåŠ¨æ¢å¤</code></p><p>é€‚åˆå¤„ç†å¤§æ•°æ®</p><p><code>æ•°æ®è§„æ¨¡ èƒ½å¤„ç†æ•°æ®è§„æ¨¡è¾¾åˆ°GB TB ç”šè‡³PBçš„æ•°æ®</code></p><p><code>æ–‡ä»¶è§„æ¨¡ï¼šèƒ½å¤„ç†ç™¾ä¸‡è§„æ¨¡ä»¥ä¸Šçš„æ–‡ä»¶æ•°é‡ï¼Œæ•°é‡ç›¸å½“ä¹‹å¤§</code></p><p>å¯ä»¥æ„å»ºåœ¨å»‰ä»·æœºå™¨ä¸Š</p><p><code>é€šè¿‡å¤šå‰¯æœ¬æœºåˆ¶ï¼Œæé«˜å¯é æ€§</code></p><h4 id="ç¼ºç‚¹">ç¼ºç‚¹</h4><p>ä¸é€‚åˆä½å»¶è¿Ÿæ•°æ®è®¿é—®ï¼Œæ¯«ç§’è¿™ç§æ•°æ®å­˜å‚¨ï¼Œåšä¸åˆ°</p><p>å¯¹å°æ–‡ä»¶å­˜å‚¨ï¼Œä¸å¤Ÿé«˜æ•ˆ</p><p>ä»…ä»…æ”¯æŒæ•°æ®è¿½åŠ append ä¸æ”¯æŒä¿®æ”¹</p><h4 id="HDFSç»„æˆæ¶æ„">HDFSç»„æˆæ¶æ„</h4><p>åˆ†ä¸º4ä¸ªæ–¹é¢ NameNode DataNode Clientå®¢æˆ·ç«¯ å’Œ Secondary NameNode</p><p><code>Secondary NameNode</code>è¾…åŠ©NameNodeï¼Œå¯ä»¥å®šæœŸåˆå¹¶Editså’ŒFsmingï¼Œå¿…è¦çš„æ—¶å€™å¯ä»¥è¾…åŠ©æ¢å¤NameNodeï¼Œæé«˜å®‰å…¨æ€§ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/wps2-16578472731763.png" alt="img"></p><h3 id="HDFSçš„Shellæ“ä½œï¼ˆå¼€å‘é‡ç‚¹ï¼‰">HDFSçš„Shellæ“ä½œï¼ˆå¼€å‘é‡ç‚¹ï¼‰</h3><p>åŸºæœ¬è¯­æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bin</span>/hadoop fs - å…·ä½“å‘½ä»¤</span><br><span class="line"><span class="built_in">bin</span>/hdfs dfs å…·ä½“å‘½ä»¤</span><br><span class="line"><span class="comment">#dfsæ˜¯fsçš„å®ç°ç±»</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹å‘½ä»¤å¤§å…¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bin/hadoop fs</span><br></pre></td></tr></table></figure><p>åŸºæœ¬å¸¸ç”¨å‘½ä»¤åˆé›†</p><p>ï¼ˆ0ï¼‰å¯åŠ¨Hadoopé›†ç¾¤ï¼ˆæ–¹ä¾¿åç»­çš„æµ‹è¯•ï¼‰</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop-<span class="number">2.7</span>.<span class="number">2</span>]<span class="variable">$ </span>sbin/start-dfs.sh</span><br><span class="line">[atguigu<span class="variable">@hadoop103</span> hadoop-<span class="number">2.7</span>.<span class="number">2</span>]<span class="variable">$ </span>sbin/start-yarn.sh</span><br></pre></td></tr></table></figure><p>ï¼ˆ1ï¼‰-helpï¼šè¾“å‡ºè¿™ä¸ªå‘½ä»¤å‚æ•°</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-2.7.2]$ hadoop fs -<span class="built_in">help</span> <span class="built_in">rm</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰-ls: æ˜¾ç¤ºç›®å½•ä¿¡æ¯</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop-<span class="number">2.7</span>.<span class="number">2</span>]<span class="variable">$ </span>hadoop fs -ls /</span><br></pre></td></tr></table></figure><p>( 3 )-mkdir:åœ¨HDFSä¸Šåˆ›å»ºç›®å½•</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -mkdir -p <span class="regexp">/sanguo/</span>shuguo</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰-moveFromLocalï¼šä»æœ¬åœ°å‰ªåˆ‡ç²˜è´´åˆ°HDFS</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop-<span class="number">2.7</span>.<span class="number">2</span>]<span class="variable">$ </span>touch kongming.txt</span><br><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop-<span class="number">2.7</span>.<span class="number">2</span>]<span class="variable">$ </span>hadoop fs  -moveFromLocal  ./kongming.txt  /sanguo/shuguo</span><br></pre></td></tr></table></figure><p>ï¼ˆ5ï¼‰-appendToFileï¼šè¿½åŠ ä¸€ä¸ªæ–‡ä»¶åˆ°å·²ç»å­˜åœ¨çš„æ–‡ä»¶æœ«å°¾</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop-<span class="number">2.7</span>.<span class="number">2</span>]<span class="variable">$ </span>touch liubei.txt</span><br><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop-<span class="number">2.7</span>.<span class="number">2</span>]<span class="variable">$ </span>vi liubei.txt</span><br><span class="line">è¾“å…¥</span><br><span class="line">san gu mao lu</span><br><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop-<span class="number">2.7</span>.<span class="number">2</span>]<span class="variable">$ </span>hadoop fs -appendToFile liubei.txt /sanguo/shuguo/kongming.txt</span><br></pre></td></tr></table></figure><p>ï¼ˆ6ï¼‰-catï¼šæ˜¾ç¤ºæ–‡ä»¶å†…å®¹</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -cat <span class="regexp">/sanguo/</span>shuguo/kongming.txt</span><br></pre></td></tr></table></figure><p>ï¼ˆ7ï¼‰-chgrp ã€-chmodã€-chownï¼šLinuxæ–‡ä»¶ç³»ç»Ÿä¸­çš„ç”¨æ³•ä¸€æ ·ï¼Œä¿®æ”¹æ–‡ä»¶æ‰€å±æƒé™</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs  -chmod  <span class="number">666</span>  <span class="regexp">/sanguo/</span>shuguo/kongming.txt</span><br><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs  -chown  atguigu:atguigu   <span class="regexp">/sanguo/</span>shuguo/kongming.txt</span><br></pre></td></tr></table></figure><p>ï¼ˆ8ï¼‰-copyFromLocalï¼šä»æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸­æ‹·è´æ–‡ä»¶åˆ°HDFSè·¯å¾„å»</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu<span class="variable">@hadoop102</span> hadoop-<span class="number">2.7</span>.<span class="number">2</span>]<span class="variable">$ </span>hadoop fs -copyFromLocal README.txt /</span><br></pre></td></tr></table></figure><p>ï¼ˆ9ï¼‰-copyToLocalï¼šä»HDFSæ‹·è´åˆ°æœ¬åœ°</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -copyToLocal <span class="regexp">/sanguo/</span>shuguo<span class="regexp">/kongming.txt ./</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ10ï¼‰-cp ï¼šä»HDFSçš„ä¸€ä¸ªè·¯å¾„æ‹·è´åˆ°HDFSçš„å¦ä¸€ä¸ªè·¯å¾„</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -cp <span class="regexp">/sanguo/</span>shuguo<span class="regexp">/kongming.txt /</span>zhuge.txt</span><br></pre></td></tr></table></figure><p>ï¼ˆ11ï¼‰-mvï¼šåœ¨HDFSç›®å½•ä¸­ç§»åŠ¨æ–‡ä»¶</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -mv <span class="regexp">/zhuge.txt /</span>sanguo<span class="regexp">/shuguo/</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ12ï¼‰-getï¼šç­‰åŒäºcopyToLocalï¼Œå°±æ˜¯ä»HDFSä¸‹è½½æ–‡ä»¶åˆ°æœ¬åœ°</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -get <span class="regexp">/sanguo/</span>shuguo<span class="regexp">/kongming.txt ./</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ13ï¼‰-getmergeï¼šåˆå¹¶ä¸‹è½½å¤šä¸ªæ–‡ä»¶</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -getmerge <span class="regexp">/user/</span>atguigu<span class="regexp">/test/</span>* ./zaiyiqi.txt</span><br></pre></td></tr></table></figure><p>ï¼ˆ14ï¼‰-putï¼šç­‰åŒäºcopyFromLocal</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -put .<span class="regexp">/zaiyiqi.txt /u</span>ser<span class="regexp">/atguigu/</span>test/</span><br></pre></td></tr></table></figure><p>ï¼ˆ15ï¼‰-tailï¼šæ˜¾ç¤ºä¸€ä¸ªæ–‡ä»¶çš„æœ«å°¾</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -tail <span class="regexp">/sanguo/</span>shuguo/kongming.txt</span><br></pre></td></tr></table></figure><p>ï¼ˆ16ï¼‰-rmï¼šåˆ é™¤æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -rm <span class="regexp">/user/</span>atguigu<span class="regexp">/test/</span>jinlian2.txt</span><br></pre></td></tr></table></figure><p>ï¼ˆ17ï¼‰-rmdirï¼šåˆ é™¤ç©ºç›®å½•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-2.7.2]$ hadoop fs -<span class="built_in">rmdir</span> /test</span><br></pre></td></tr></table></figure><p>ï¼ˆ18ï¼‰-duç»Ÿè®¡æ–‡ä»¶å¤¹çš„å¤§å°ä¿¡æ¯</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -du -s -h <span class="regexp">/user/</span>atguigu/test</span><br><span class="line"><span class="number">2.7</span> K  <span class="regexp">/user/</span>atguigu/test</span><br><span class="line"></span><br><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -du  -h <span class="regexp">/user/</span>atguigu/test</span><br><span class="line"><span class="number">1.3</span> K  <span class="regexp">/user/</span>atguigu<span class="regexp">/test/</span>README.txt</span><br><span class="line"><span class="number">15</span>     <span class="regexp">/user/</span>atguigu<span class="regexp">/test/</span>jinlian.txt</span><br><span class="line"><span class="number">1.4</span> K  <span class="regexp">/user/</span>atguigu<span class="regexp">/test/</span>zaiyiqi.txt</span><br></pre></td></tr></table></figure><p>ï¼ˆ19ï¼‰-setrepï¼šè®¾ç½®HDFSä¸­æ–‡ä»¶çš„å‰¯æœ¬æ•°é‡</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hadoop-<span class="number">2.7</span>.<span class="number">2</span>]$ hadoop fs -setrep <span class="number">10</span> <span class="regexp">/sanguo/</span>shuguo/kongming.txt</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220715191439091.png" alt="image-20220715191439091"></p><h3 id="HDFSå®¢æˆ·ç«¯ç¯å¢ƒå‡†å¤‡-2">HDFSå®¢æˆ·ç«¯ç¯å¢ƒå‡†å¤‡</h3><p>å› ä¸ºæ•™å­¦è€å¸ˆç‰ˆæœ¬é‚£ä¸ä¸€æ ·ï¼Œä¹Ÿæ²¡æœ‰ä¸‹è½½èµ„æ–™ï¼Œæ‰€ä»¥ç¯å¢ƒä»€ä¹ˆéƒ½æ˜¯è‡ªå·±æœçš„ã€‚</p><p>è§£å‹hadoop2.7.1çš„linuxå®‰è£…åŒ…åœ¨ï¼Œwindowsç³»ç»Ÿä¸­ï¼Œç„¶ååœ¨CSDNæœåˆ°äº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œè¦†ç›–åœ¨hadoopä¸­çš„binç›®å½•ä¸­ã€‚ä¸¤ä¸ªæ–‡ä»¶æœ‰é“¾æ¥çš„ã€‚ç„¶åé…ç½®ç¯å¢ƒå˜é‡</p><p>%HADOOP_HOME%æŒ‡å®šbinç›®å½•</p><p>pathä¸­ %HADOOP_HOME%\bin</p><p><a href="http://t.csdn.cn/W0kBg">http://t.csdn.cn/W0kBg</a> æ¥è‡ªCSDNä¸­</p><h3 id="HDFSçš„APIæ“ä½œ-2">HDFSçš„APIæ“ä½œ</h3><p><code>å‚æ•°ä¼˜å…ˆçº§</code></p><p>å‚æ•°ä¼˜å…ˆçº§æ’åºï¼šï¼ˆ1ï¼‰å®¢æˆ·ç«¯ä»£ç ä¸­è®¾ç½®çš„å€¼ &gt;ï¼ˆ2ï¼‰ClassPathä¸‹çš„ç”¨æˆ·è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ &gt;ï¼ˆ3ï¼‰ç„¶åæ˜¯æœåŠ¡å™¨çš„é»˜è®¤é…ç½®</p><h4 id="æ–‡ä»¶ä¸‹è½½">æ–‡ä»¶ä¸‹è½½</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testCopyToLocalFile</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException, URISyntaxException&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1 è·å–æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line"><span class="type">Configuration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>();</span><br><span class="line"><span class="type">FileSystem</span> <span class="variable">fs</span> <span class="operator">=</span> FileSystem.get(<span class="keyword">new</span> <span class="title class_">URI</span>(<span class="string">&quot;hdfs://hadoop102:9000&quot;</span>), configuration, <span class="string">&quot;atguigu&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 æ‰§è¡Œä¸‹è½½æ“ä½œ</span></span><br><span class="line"><span class="comment">// boolean delSrc æŒ‡æ˜¯å¦å°†åŸæ–‡ä»¶åˆ é™¤</span></span><br><span class="line"><span class="comment">// Path src æŒ‡è¦ä¸‹è½½çš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="comment">// Path dst æŒ‡å°†æ–‡ä»¶ä¸‹è½½åˆ°çš„è·¯å¾„</span></span><br><span class="line"><span class="comment">// boolean useRawLocalFileSystem æ˜¯å¦å¼€å¯æ–‡ä»¶æ ¡éªŒ</span></span><br><span class="line">fs.copyToLocalFile(<span class="literal">false</span>, <span class="keyword">new</span> <span class="title class_">Path</span>(<span class="string">&quot;/banzhang.txt&quot;</span>), <span class="keyword">new</span> <span class="title class_">Path</span>(<span class="string">&quot;e:/banhua.txt&quot;</span>), <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3 å…³é—­èµ„æº</span></span><br><span class="line">fs.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="HDFSæ–‡ä»¶åˆ é™¤">HDFSæ–‡ä»¶åˆ é™¤</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDelete</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException, URISyntaxException&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1 è·å–æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line"><span class="type">Configuration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>();</span><br><span class="line"><span class="type">FileSystem</span> <span class="variable">fs</span> <span class="operator">=</span> FileSystem.get(<span class="keyword">new</span> <span class="title class_">URI</span>(<span class="string">&quot;hdfs://hadoop102:9000&quot;</span>), configuration, <span class="string">&quot;atguigu&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 æ‰§è¡Œåˆ é™¤</span></span><br><span class="line">fs.delete(<span class="keyword">new</span> <span class="title class_">Path</span>(<span class="string">&quot;/0508/&quot;</span>), <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3 å…³é—­èµ„æº</span></span><br><span class="line">fs.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="HDFSæ–‡ä»¶åæ›´æ”¹">HDFSæ–‡ä»¶åæ›´æ”¹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testRename</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException, URISyntaxException&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1 è·å–æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line"><span class="type">Configuration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>();</span><br><span class="line"><span class="type">FileSystem</span> <span class="variable">fs</span> <span class="operator">=</span> FileSystem.get(<span class="keyword">new</span> <span class="title class_">URI</span>(<span class="string">&quot;hdfs://hadoop102:9000&quot;</span>), configuration, <span class="string">&quot;atguigu&quot;</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 ä¿®æ”¹æ–‡ä»¶åç§°</span></span><br><span class="line">fs.rename(<span class="keyword">new</span> <span class="title class_">Path</span>(<span class="string">&quot;/banzhang.txt&quot;</span>), <span class="keyword">new</span> <span class="title class_">Path</span>(<span class="string">&quot;/banhua.txt&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3 å…³é—­èµ„æº</span></span><br><span class="line">fs.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="HDFSæ–‡ä»¶è¯¦æƒ…æŸ¥çœ‹">HDFSæ–‡ä»¶è¯¦æƒ…æŸ¥çœ‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testListFiles</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException, URISyntaxException&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1è·å–æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line"><span class="type">Configuration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>();</span><br><span class="line"><span class="type">FileSystem</span> <span class="variable">fs</span> <span class="operator">=</span> FileSystem.get(<span class="keyword">new</span> <span class="title class_">URI</span>(<span class="string">&quot;hdfs://hadoop102:9000&quot;</span>), configuration, <span class="string">&quot;atguigu&quot;</span>); </span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 è·å–æ–‡ä»¶è¯¦æƒ…</span></span><br><span class="line">RemoteIterator&lt;LocatedFileStatus&gt; listFiles = fs.listFiles(<span class="keyword">new</span> <span class="title class_">Path</span>(<span class="string">&quot;/&quot;</span>), <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(listFiles.hasNext())&#123;</span><br><span class="line"><span class="type">LocatedFileStatus</span> <span class="variable">status</span> <span class="operator">=</span> listFiles.next();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºè¯¦æƒ…</span></span><br><span class="line"><span class="comment">// æ–‡ä»¶åç§°</span></span><br><span class="line">System.out.println(status.getPath().getName());</span><br><span class="line"><span class="comment">// é•¿åº¦</span></span><br><span class="line">System.out.println(status.getLen());</span><br><span class="line"><span class="comment">// æƒé™</span></span><br><span class="line">System.out.println(status.getPermission());</span><br><span class="line"><span class="comment">// åˆ†ç»„</span></span><br><span class="line">System.out.println(status.getGroup());</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å­˜å‚¨çš„å—ä¿¡æ¯</span></span><br><span class="line">BlockLocation[] blockLocations = status.getBlockLocations();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (BlockLocation blockLocation : blockLocations) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–å—å­˜å‚¨çš„ä¸»æœºèŠ‚ç‚¹</span></span><br><span class="line">String[] hosts = blockLocation.getHosts();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (String host : hosts) &#123;</span><br><span class="line">System.out.println(host);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;-----------ç­é•¿çš„åˆ†å‰²çº¿----------&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3 å…³é—­èµ„æº</span></span><br><span class="line">fs.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åˆ¤æ–­">æ–‡ä»¶å’Œæ–‡ä»¶å¤¹åˆ¤æ–­</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testListStatus</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException, URISyntaxException&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1 è·å–æ–‡ä»¶é…ç½®ä¿¡æ¯</span></span><br><span class="line">    <span class="type">Configuration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>();</span><br><span class="line">    <span class="type">FileSystem</span> <span class="variable">fs</span> <span class="operator">=</span> FileSystem.get(<span class="keyword">new</span> <span class="title class_">URI</span>(<span class="string">&quot;hdfs://hadoop83:9000&quot;</span>), configuration, <span class="string">&quot;root&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2 åˆ¤æ–­æ˜¯æ–‡ä»¶è¿˜æ˜¯æ–‡ä»¶å¤¹</span></span><br><span class="line">    FileStatus[] listStatus = fs.listStatus(<span class="keyword">new</span> <span class="title class_">Path</span>(<span class="string">&quot;/&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (FileStatus fileStatus : listStatus) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœæ˜¯æ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">if</span> (fileStatus.isFile()) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ–‡ä»¶:&quot;</span>+fileStatus.getPath().getName());</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ–‡ä»¶å:&quot;</span>+fileStatus.getPath().getName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3 å…³é—­èµ„æº</span></span><br><span class="line">    fs.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="HDFSçš„I-Oæµæ“ä½œ-2">HDFSçš„I/Oæµæ“ä½œ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠŠæœ¬åœ°eç›˜ä¸Šçš„banhua.txtæ–‡ä»¶ä¸Šä¼ åˆ°åˆ°HDFSæ ¹ç›®å½•</span></span><br><span class="line">   <span class="meta">@Test</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">putFileToHDFS</span><span class="params">()</span> <span class="keyword">throws</span> URISyntaxException, IOException, InterruptedException &#123;</span><br><span class="line"></span><br><span class="line">       <span class="comment">//1.è·å–å¯¹è±¡</span></span><br><span class="line">       <span class="type">Configuration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>();</span><br><span class="line">       <span class="type">FileSystem</span> <span class="variable">fs</span> <span class="operator">=</span> FileSystem.get(<span class="keyword">new</span> <span class="title class_">URI</span>(<span class="string">&quot;hdfs://hadoop83:9000&quot;</span>), configuration, <span class="string">&quot;root&quot;</span>);</span><br><span class="line"></span><br><span class="line">       <span class="comment">//2.è·å–è¾“å…¥æ³•</span></span><br><span class="line">       <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;E:/banhua.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">       <span class="comment">//3.è·å–è¾“å‡ºæµ</span></span><br><span class="line">       <span class="type">FSDataOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> fs.create(<span class="keyword">new</span> <span class="title class_">Path</span>(<span class="string">&quot;/banzhang.txt&quot;</span>));</span><br><span class="line"></span><br><span class="line">       <span class="comment">//4.æµçš„å¯¹æ‹·</span></span><br><span class="line">       IOUtils.copyBytes(fis,fos,configuration);</span><br><span class="line"></span><br><span class="line">       <span class="comment">//5.å…³é—­èµ„æº</span></span><br><span class="line">       IOUtils.closeStream(fis);</span><br><span class="line">       IOUtils.closeStream(fos);</span><br><span class="line">       fs.close();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h4 id="æ–‡ä»¶ä¸‹è½½-2">æ–‡ä»¶ä¸‹è½½</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»HDFSä¸Šä¸‹è½½banhua.txt åˆ°æœ¬åœ°eç›˜ä¸­</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getFileFromHDFS</span><span class="params">()</span> <span class="keyword">throws</span> URISyntaxException, IOException, InterruptedException &#123;</span><br><span class="line">    <span class="comment">//1.è·å–å¯¹è±¡</span></span><br><span class="line">    <span class="type">Configuration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>();</span><br><span class="line">    <span class="type">FileSystem</span> <span class="variable">fs</span> <span class="operator">=</span> FileSystem.get(<span class="keyword">new</span> <span class="title class_">URI</span>(<span class="string">&quot;hdfs://hadoop83:9000&quot;</span>), configuration, <span class="string">&quot;root&quot;</span>);</span><br><span class="line">    <span class="comment">//2.è·å–è¾“å…¥æµ</span></span><br><span class="line">    <span class="type">FSDataInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> fs.open(<span class="keyword">new</span> <span class="title class_">Path</span>(<span class="string">&quot;/banhua.txt&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.è·å–è¾“å‡ºæµ</span></span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;e:/HDFS-banhua.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.æµçš„å¯¹æ‹·</span></span><br><span class="line">    IOUtils.copyBytes(fis,fos,configuration);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.å…³é—­èµ„æº</span></span><br><span class="line">    IOUtils.closeStream(fis);</span><br><span class="line">    IOUtils.closeStream(fos);</span><br><span class="line">    fs.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å®šä½æ–‡ä»¶è¯»å–">å®šä½æ–‡ä»¶è¯»å–</h4><p>åˆ†ä¸¤æ­¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸‹è½½ç¬¬ä¸€å—</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">readFileSeek1</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException, URISyntaxException&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1 è·å–æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">    <span class="type">Configuration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>();</span><br><span class="line">    <span class="type">FileSystem</span> <span class="variable">fs</span> <span class="operator">=</span> FileSystem.get(<span class="keyword">new</span> <span class="title class_">URI</span>(<span class="string">&quot;hdfs://hadoop83:9000&quot;</span>), configuration, <span class="string">&quot;root&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2 è·å–è¾“å…¥æµ</span></span><br><span class="line">    <span class="type">FSDataInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> fs.open(<span class="keyword">new</span> <span class="title class_">Path</span>(<span class="string">&quot;/hadoop-2.7.1.tar.gz&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3 åˆ›å»ºè¾“å‡ºæµ</span></span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;e:/hadoop-2.7.1.tar.gz.part1&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4 æµçš„æ‹·è´</span></span><br><span class="line">    <span class="type">byte</span>[] buf = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span> ; i &lt; <span class="number">1024</span> * <span class="number">128</span>; i++)&#123;</span><br><span class="line">        fis.read(buf);</span><br><span class="line">        fos.write(buf);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5å…³é—­èµ„æº</span></span><br><span class="line">    IOUtils.closeStream(fis);</span><br><span class="line">    IOUtils.closeStream(fos);</span><br><span class="line">    fs.close();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">readFileSeek2</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException, URISyntaxException&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1 è·å–æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">    <span class="type">Configuration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>();</span><br><span class="line">    <span class="type">FileSystem</span> <span class="variable">fs</span> <span class="operator">=</span> FileSystem.get(<span class="keyword">new</span> <span class="title class_">URI</span>(<span class="string">&quot;hdfs://hadoop83:9000&quot;</span>), configuration, <span class="string">&quot;root&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2 æ‰“å¼€è¾“å…¥æµ</span></span><br><span class="line">    <span class="type">FSDataInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> fs.open(<span class="keyword">new</span> <span class="title class_">Path</span>(<span class="string">&quot;/hadoop-2.7.1.tar.gz&quot;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3 å®šä½è¾“å…¥æ•°æ®ä½ç½®</span></span><br><span class="line">    fis.seek(<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">128</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4 åˆ›å»ºè¾“å‡ºæµ</span></span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;e:/hadoop-2.7.1.tar.gz.part2&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5 æµçš„å¯¹æ‹·</span></span><br><span class="line">    IOUtils.copyBytes(fis, fos, configuration);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6 å…³é—­èµ„æº</span></span><br><span class="line">    IOUtils.closeStream(fis);</span><br><span class="line">    IOUtils.closeStream(fos);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-BUGç‚¹-3">5. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>æ˜¯è¿™æ ·æŠ¥é”™çš„ï¼Œä¹Ÿçœ‹ä¸å¤ªæ‡‚ï¼Œå¤§è‡´æ„æ€å°±æ˜¯æ‰¾ä¸åˆ°ï¼Œæ–‡ä»¶çš„æƒé™ï¼Œä¹‹ç±»çš„è¯ï¼Œå»CSDNçœ‹åˆ«äººå†™çš„ï¼Œçªç„¶å‘ç°æœ‰äººåœ¨getæœ€åé¢æ˜¯å†™çš„rootï¼Œæƒ³åˆ°è‡ªå·±ä¸€ç›´éƒ½æ˜¯ä»¥rootç”¨æˆ·ç™»é™†ï¼Œå°±æŠŠç”¨æˆ·sjhæ”¹æˆäº†rootï¼Œå°±å¥½äº†ã€‚</p><p><img src="https://docimg8.docs.qq.com/image/cMLQ9ZBtZy5gqj1iXty_7A.png?w=2560&amp;h=1440" alt="img"></p><h2 id="7-æ€»ç»“-3">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ å†…å®¹çš„é‡ç‚¹åœ¨äºæŒæ¡Javaæ¥å……å½“å®¢æˆ·ç«¯ï¼Œåˆ©ç”¨HDFSæ¥åšä¸Šä¼ æ•°æ®æˆ–è€…ä»hadoopä¸‹è½½æ•°æ®ã€‚è¿™æ¬¡çš„å†…å®¹å°±åå‘ä»£ç çš„æ•²å†™äº†ï¼Œæ¯æ¬¡æ“ä½œè‡ªå·±éƒ½å»æ•²äº†ä¸€éï¼Œçœ‹å®Œè§†é¢‘è‡ªå·±å»æ•²è¿‡æ¥çš„ï¼Œéš¾åº¦ä¸€èˆ¬ï¼Œå› ä¸ºå¯¹ä»£ç çš„å¤„ç†æ¯”è¾ƒå¤šï¼Œè‡ªå·±å¯¹ä»£ç æ¯”è¾ƒæ•æ„Ÿï¼Œå­¦ä¹ èµ·æ¥ä¸Šæ‰‹ä¹Ÿå¿«ã€‚æ¯”è¾ƒéº»çƒ¦çš„åœ°æ–¹æ˜¯windowsé…ç½®ç¯å¢ƒï¼Œå’ŒIDEAé…ç½®å®¢æˆ·ç«¯çš„ç¯å¢ƒå‡†å¤‡ã€‚é…ç½®äº†ä¸€ä¸ªå°æ—¶å·¦å³ï¼Œæ‰¾å‹ç¼©åŒ…ï¼Œå’Œpoxæ–‡ä»¶èŠ±è´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œä¸­é—´ä¹Ÿå‡ºç°äº†ä¸€äº›å°é—®é¢˜ï¼Œä½†æ˜¯éƒ½è§£å†³äº†ã€‚å­¦ä¹ çŠ¶æ€è¿˜ä¸é”™ï¼Œä¼˜äºå¤§é‡çš„æ¦‚å¿µé—®é¢˜çš„ç« èŠ‚ã€‚</p><h1 id="7-18-Scalaå‡½æ•°å¼ç¼–ç¨‹-é¢å‘å¯¹è±¡">7.18 Scalaå‡½æ•°å¼ç¼–ç¨‹ é¢å‘å¯¹è±¡</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-8">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-8">2.æ ‡é¢˜</h2><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">057</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆäºŒï¼‰_é«˜é˜¶å‡½æ•°ï¼ˆä¸‰ï¼‰_å‡½æ•°ä½œä¸ºè¿”å›å€¼</span><br><span class="line"><span class="number">058</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆäºŒï¼‰_é«˜é˜¶å‡½æ•°ï¼ˆå››ï¼‰_åº”ç”¨æ¡ˆä¾‹</span><br><span class="line"><span class="number">059</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆä¸‰ï¼‰_æ‰©å±•ç»ƒä¹ ï¼ˆä¸€ï¼‰_åŒ¿åå‡½æ•°</span><br><span class="line"><span class="number">060</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆä¸‰ï¼‰_æ‰©å±•ç»ƒä¹ ï¼ˆäºŒï¼‰_å‡½æ•°ä½œä¸ºè¿”å›å€¼</span><br><span class="line"><span class="number">061</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆå››ï¼‰_é—­åŒ…ï¼ˆä¸€ï¼‰_æ¦‚å¿µå’ŒåŸç†</span><br><span class="line"><span class="number">062</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆå››ï¼‰_é—­åŒ…ï¼ˆäºŒï¼‰_å…·ä½“åº”ç”¨</span><br><span class="line"><span class="number">063</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆå››ï¼‰_æŸ¯é‡ŒåŒ–</span><br><span class="line"><span class="number">064</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆäº”ï¼‰_é€’å½’ï¼ˆä¸€ï¼‰_æ¦‚å¿µå’Œå®ç°</span><br><span class="line"><span class="number">065</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆäº”ï¼‰_é€’å½’ï¼ˆäºŒï¼‰_å°¾é€’å½’ä¼˜</span><br><span class="line"><span class="number">066</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆå…­ï¼‰_æ§åˆ¶æŠ½è±¡ï¼ˆä¸€ï¼‰å‚æ•°</span><br><span class="line"><span class="number">067</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆå…­ï¼‰_æ§åˆ¶æŠ½è±¡ï¼ˆäºŒï¼‰_ä¼ åå‚æ•°</span><br><span class="line"><span class="number">068</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆå…­ï¼‰_æ§åˆ¶æŠ½è±¡ï¼ˆä¸‰ï¼‰_è‡ªå®šä¹‰<span class="keyword">While</span>å¾ªç¯</span><br><span class="line"><span class="number">069</span>_å°šç¡…è°·<span class="variable">_Scala_</span>å‡½æ•°å¼ç¼–ç¨‹ï¼ˆä¸‰ï¼‰_å‡½æ•°é«˜çº§ï¼ˆä¸ƒï¼‰_æƒ°æ€§åŠ è½½</span><br><span class="line"><span class="number">070</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¸€ï¼‰_åŒ…ï¼ˆä¸€ï¼‰_å£°æ˜å’Œè®¿é—®</span><br><span class="line"><span class="number">071</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¸€ï¼‰_åŒ…ï¼ˆäºŒï¼‰_åŒ…å¯¹è±¡</span><br><span class="line"><span class="number">072</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¸€ï¼‰_åŒ…ï¼ˆä¸‰ï¼‰_å¯¼åŒ…è¯´æ˜</span><br><span class="line"><span class="number">073</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆäºŒï¼‰_ç±»å’Œå¯¹è±¡</span><br><span class="line"><span class="number">074</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¸‰ï¼‰_å°è£…ï¼ˆä¸€ï¼‰_è®¿é—®æƒé™</span><br><span class="line"><span class="number">075</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¸‰ï¼‰_å°è£…ï¼ˆäºŒï¼‰_æ„é€ å™¨</span><br><span class="line"><span class="number">076</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¸‰ï¼‰_å°è£…ï¼ˆä¸‰ï¼‰_æ„é€ å™¨å‚æ•°</span><br><span class="line"><span class="number">077</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆå››ï¼‰_ç»§æ‰¿</span><br><span class="line"><span class="number">078</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆäº”ï¼‰_å¤šæ€</span><br><span class="line"><span class="number">080</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆå…­ï¼‰_æŠ½è±¡ç±»ï¼ˆäºŒï¼‰_åŒ¿åå­ç±»</span><br><span class="line"><span class="number">082</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¸ƒï¼‰_ä¼´ç”Ÿå¯¹è±¡ï¼ˆäºŒï¼‰_å•ä¾‹è®¾è®¡æ¨¡å¼</span><br><span class="line"><span class="number">084</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆå…«ï¼‰_ç‰¹è´¨ï¼ˆäºŒï¼‰_ç‰¹è´¨çš„æ··å…¥</span><br><span class="line"><span class="number">085</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆå…«ï¼‰_ç‰¹è´¨ï¼ˆä¸‰ï¼‰_ç‰¹è´¨çš„å åŠ </span><br><span class="line"><span class="number">087</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆå…«ï¼‰_ç‰¹è´¨ï¼ˆäº”ï¼‰_ç‰¹è´¨å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«</span><br><span class="line"><span class="number">088</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆå…«ï¼‰_ç‰¹è´¨ï¼ˆå…­ï¼‰_è‡ªèº«ç±»å‹</span><br><span class="line"><span class="number">089</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¹ï¼‰_æ‰©å±•å†…å®¹ï¼ˆä¸€ï¼‰_ç±»å‹æ£€æµ‹å’Œè½¬æ¢</span><br><span class="line"><span class="number">090</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¹ï¼‰_æ‰©å±•å†…å®¹ï¼ˆäºŒï¼‰_æšä¸¾ç±»å’Œåº”ç”¨ç±»</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-8">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>å‡½æ•°åŸºç¡€</p><p>å‡½æ•°é«˜çº§</p><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-6">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="å‡½æ•°åŸºç¡€">å‡½æ•°åŸºç¡€</h3><h4 id="é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œå‡½æ•°å¼ç¼–ç¨‹çš„åŒºåˆ«">é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œå‡½æ•°å¼ç¼–ç¨‹çš„åŒºåˆ«</h4><p><code>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼šè§£å†³é—®é¢˜ï¼Œåˆ†è§£å¯¹è±¡ï¼Œå±æ€§ï¼Œè¡Œä¸ºï¼Œç„¶åé€šè¿‡å¯¹è±¡çš„å…³ç³»ä»¥åŠè¡Œä¸ºçš„è°ƒç”¨æ¥è§£å†³é—®é¢˜ã€‚</code></p><p>Scalaè¯­è¨€æ˜¯ä¸€ä¸ªå®Œå…¨é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€ã€‚ä¸‡ç‰©çš†å¯¹è±¡ï¼Œæ¯”Javaè¿˜æœ‰è¿‡ä¹‹ã€‚å¯¹è±¡çš„æœ¬è´¨å°±æ˜¯å¯¹æ•°æ®å’Œè¡Œä¸ºçš„å°è£…</p><p><code>å‡½æ•°å¼ç¼–ç¨‹:å°†é—®é¢˜åˆ†è§£æˆæ­¥éª¤ï¼Œå°†æ­¥éª¤å°è£…ï¼Œè°ƒç”¨å°è£…å¥½çš„æ­¥éª¤è§£å†³é—®é¢˜ </code></p><p>Scala è¯­è¨€æ˜¯ä¸€ä¸ªå®Œå…¨å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ã€‚ä¸‡ç‰©çš†å‡½æ•°ã€‚å‡½æ•°çš„æœ¬è´¨ï¼šå‡½æ•°å¯ä»¥å½“åšä¸€ä¸ªå€¼è¿›è¡Œä¼ é€’</p><p><strong>è‡ªå·±çš„ä½¿ç”¨ä½“éªŒæ¥è®²ï¼ŒScalaè¿è¡Œé€Ÿåº¦å’Œpythonå·®ä¸å¤šï¼Œæ¯”Javaæ…¢äº†å¾ˆå¤šï¼ŒScalaç¼–è¯‘å¾ˆæ…¢ï¼Œæ•ˆç‡ä¸é«˜ï¼Œå¯èƒ½å‡½æ•°å¼ç¼–ç¨‹è¿è¡Œé€Ÿåº¦éƒ½å¾ˆæ…¢å§</strong></p><h4 id="å‡½æ•°åŸºæœ¬è¯­æ³•">å‡½æ•°åŸºæœ¬è¯­æ³•</h4><p>åœ¨mainé‡Œé¢çš„æ˜¯å‡½æ•°ï¼Œåœ¨mainå¤–é¢çš„æ˜¯æ–¹æ³•</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printTest</span></span>(x:<span class="type">String</span>) : <span class="type">String</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;hi&quot;</span>+x)</span><br><span class="line">    x</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ‰“å°é‡Œé¢çš„å€¼ å¹¶è¿”å›</span></span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220718090955061.png" alt="image-20220718090955061"></p><p>Scalaå‡½æ•°å‚æ•°å’Œè¿”å›å€¼çš„å‡ ç§æƒ…å†µ</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// å‡½æ•° 1ï¼šæ— å‚ï¼Œæ— è¿”å›å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test1</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">      println(<span class="string">&quot;æ— å‚ï¼Œæ— è¿”å›å€¼&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    println(test1())</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‡½æ•° 2ï¼šæ— å‚ï¼Œæœ‰è¿”å›å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test2</span></span>():<span class="type">String</span>=&#123;</span><br><span class="line">      <span class="string">&quot;æ— å‚ï¼Œæœ‰è¿”å›å€¼&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(test2())</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‡½æ•° 3ï¼šæœ‰å‚ï¼Œæ— è¿”å›å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test3</span></span>(s:<span class="type">String</span>):<span class="type">Unit</span>=&#123;</span><br><span class="line">      println(s)</span><br><span class="line">    &#125;</span><br><span class="line">    test3(<span class="string">&quot;jingling&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‡½æ•° 4ï¼šæœ‰å‚ï¼Œæœ‰è¿”å›å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test4</span></span>(s:<span class="type">String</span>):<span class="type">String</span>=&#123;</span><br><span class="line">      s+<span class="string">&quot;æœ‰å‚ï¼Œæœ‰è¿”å›å€¼&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(test4(<span class="string">&quot;hello &quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‡½æ•° 5ï¼šå¤šå‚ï¼Œæ— è¿”å›å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test5</span></span>(name:<span class="type">String</span>, age:<span class="type">Int</span>):<span class="type">Unit</span>=&#123;</span><br><span class="line">      println(<span class="string">s&quot;æˆ‘å«<span class="subst">$&#123;name&#125;</span>, æˆ‘çš„å¹´é¾„æ˜¯<span class="subst">$&#123;age&#125;</span>å²&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    println(test5(<span class="string">&quot;dealing&quot;</span>,<span class="number">40</span>))</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>å‡½æ•°çš„ç‰¹æ®Šæƒ…å†µ</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="comment">// ï¼ˆ1ï¼‰å¯å˜å‚æ•°</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test</span></span>( s : <span class="type">String</span>* ): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(s)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// æœ‰è¾“å…¥å‚æ•°ï¼šè¾“å‡º Array</span></span><br><span class="line">  test(<span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;Scala&quot;</span>)</span><br><span class="line">  <span class="comment">// æ— è¾“å…¥å‚æ•°ï¼šè¾“å‡º List()</span></span><br><span class="line">  test()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// (2)å¦‚æœå‚æ•°åˆ—è¡¨ä¸­å­˜åœ¨å¤šä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå¯å˜å‚æ•°ä¸€èˆ¬æ”¾ç½®åœ¨æœ€å</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test2</span></span>( name : <span class="type">String</span>, s: <span class="type">String</span>* ): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(name + <span class="string">&quot;,&quot;</span> + s)</span><br><span class="line">  &#125;</span><br><span class="line">  test2(<span class="string">&quot;jinlian&quot;</span>, <span class="string">&quot;dalang&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// (3)å‚æ•°é»˜è®¤å€¼</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test3</span></span>( name : <span class="type">String</span>, age : <span class="type">Int</span> = <span class="number">30</span> ): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">s&quot;<span class="subst">$name</span>, <span class="subst">$age</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å¦‚æœå‚æ•°ä¼ é€’äº†å€¼ï¼Œé‚£ä¹ˆä¼šè¦†ç›–é»˜è®¤å€¼</span></span><br><span class="line">  test3(<span class="string">&quot;jinlian&quot;</span>, <span class="number">20</span>)</span><br><span class="line">  <span class="comment">// å¦‚æœå‚æ•°æœ‰é»˜è®¤å€¼ï¼Œåœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œå¯ä»¥çœç•¥è¿™ä¸ªå‚æ•°</span></span><br><span class="line">  test3(<span class="string">&quot;dalang&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå°†æœ‰é»˜è®¤å€¼çš„å‚æ•°æ”¾ç½®åœ¨å‚æ•°åˆ—è¡¨çš„åé¢</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test4</span></span>( sex : <span class="type">String</span> = <span class="string">&quot;ç”·&quot;</span>, name : <span class="type">String</span> ): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">s&quot;<span class="subst">$name</span>, <span class="subst">$sex</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// Scala å‡½æ•°ä¸­å‚æ•°ä¼ é€’æ˜¯ï¼Œä»å·¦åˆ°å³</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//ï¼ˆ4ï¼‰å¸¦åå‚æ•°</span></span><br><span class="line">  test4(name=<span class="string">&quot;ximenqing&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Scalaä»£ç çš„ç®€åŒ–</p><p>èƒ½ç®€åˆ™ç®€ï¼Œå¯è¯»æ€§ä¼šå·®å¾ˆå¤šï¼</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="comment">// ï¼ˆ0ï¼‰å‡½æ•°æ ‡å‡†å†™æ³•</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f</span></span>( s : <span class="type">String</span> ): <span class="type">String</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> s + <span class="string">&quot; jinlian&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  println(f(<span class="string">&quot;Hello&quot;</span>))</span><br><span class="line">  <span class="comment">// è‡³ç®€åŸåˆ™:èƒ½çœåˆ™çœ</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//ï¼ˆ1ï¼‰ return å¯ä»¥çœç•¥,Scala ä¼šä½¿ç”¨å‡½æ•°ä½“çš„æœ€åä¸€è¡Œä»£ç ä½œä¸ºè¿”å›å€¼</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>( s : <span class="type">String</span> ): <span class="type">String</span> = &#123;</span><br><span class="line">    s + <span class="string">&quot; jinlian&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  println(f1(<span class="string">&quot;Hello&quot;</span>))</span><br><span class="line"></span><br><span class="line">  <span class="comment">//ï¼ˆ2ï¼‰å¦‚æœå‡½æ•°ä½“åªæœ‰ä¸€è¡Œä»£ç ï¼Œå¯ä»¥çœç•¥èŠ±æ‹¬å·</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(s:<span class="type">String</span>):<span class="type">String</span> = s + <span class="string">&quot; jinlian&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//ï¼ˆ3ï¼‰è¿”å›å€¼ç±»å‹å¦‚æœèƒ½å¤Ÿæ¨æ–­å‡ºæ¥ï¼Œé‚£ä¹ˆå¯ä»¥çœç•¥ï¼ˆ:å’Œè¿”å›å€¼ç±»å‹ä¸€èµ· çœç•¥ï¼‰</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f3</span></span>( s : <span class="type">String</span> ) = s + <span class="string">&quot; jinlian&quot;</span></span><br><span class="line">  println(f3(<span class="string">&quot;Hello3&quot;</span>))</span><br><span class="line"></span><br><span class="line">  <span class="comment">//ï¼ˆ4ï¼‰å¦‚æœæœ‰ returnï¼Œåˆ™ä¸èƒ½çœç•¥è¿”å›å€¼ç±»å‹ï¼Œå¿…é¡»æŒ‡å®šã€‚</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f4</span></span>() :<span class="type">String</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;ximenqing4&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  println(f4())</span><br><span class="line"></span><br><span class="line">  <span class="comment">//ï¼ˆ5ï¼‰å¦‚æœå‡½æ•°æ˜ç¡®å£°æ˜ unitï¼Œé‚£ä¹ˆå³ä½¿å‡½æ•°ä½“ä¸­ä½¿ç”¨ return å…³é”®å­—ä¹Ÿ ä¸èµ·ä½œç”¨</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f5</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;dalang5&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">  println(f5())</span><br><span class="line"></span><br><span class="line">  <span class="comment">//ï¼ˆ6ï¼‰Scala å¦‚æœæœŸæœ›æ˜¯æ— è¿”å›å€¼ç±»å‹,å¯ä»¥çœç•¥ç­‰å·</span></span><br><span class="line">  <span class="comment">// å°†æ— è¿”å›å€¼çš„å‡½æ•°ç§°ä¹‹ä¸ºè¿‡ç¨‹</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f6</span></span>() &#123;</span><br><span class="line">    <span class="string">&quot;dalang6&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  println(f6())</span><br><span class="line">  <span class="comment">//ï¼ˆ7ï¼‰å¦‚æœå‡½æ•°æ— å‚ï¼Œä½†æ˜¯å£°æ˜äº†å‚æ•°åˆ—è¡¨ï¼Œé‚£ä¹ˆè°ƒç”¨æ—¶ï¼Œå°æ‹¬å·ï¼Œå¯åŠ å¯ ä¸åŠ </span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f7</span></span>() = <span class="string">&quot;dalang7&quot;</span></span><br><span class="line">  println(f7())</span><br><span class="line">  println(f7)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//ï¼ˆ8ï¼‰å¦‚æœå‡½æ•°æ²¡æœ‰å‚æ•°åˆ—è¡¨ï¼Œé‚£ä¹ˆå°æ‹¬å·å¯ä»¥çœç•¥,è°ƒç”¨æ—¶å°æ‹¬å·å¿…é¡»çœ ç•¥</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f8</span> </span>= <span class="string">&quot;dalang&quot;</span></span><br><span class="line">  <span class="comment">//println(f8())</span></span><br><span class="line">  println(f8)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//ï¼ˆ9ï¼‰å¦‚æœä¸å…³å¿ƒåç§°ï¼Œåªå…³å¿ƒé€»è¾‘å¤„ç†ï¼Œé‚£ä¹ˆå‡½æ•°åï¼ˆdefï¼‰å¯ä»¥çœç•¥ å’ŒJavaçš„lambdaç›¸ä¼¼</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f9</span> </span>= (x:<span class="type">String</span>)=&gt;&#123;println(<span class="string">&quot;wusong&quot;</span>)&#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f10</span></span>(f:<span class="type">String</span>=&gt;<span class="type">Unit</span>) = &#123;</span><br><span class="line">    f(<span class="string">&quot;&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  f10(f9)</span><br><span class="line">  println(f10((x:<span class="type">String</span>)=&gt;&#123;println(<span class="string">&quot;wusong&quot;</span>)&#125;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‡½æ•°é«˜çº§">å‡½æ•°é«˜çº§</h3><p>å‡½æ•°çš„é«˜é˜¶ç”¨æ³• æˆ‘è®¤ä¸ºå¯è¯»æ€§æå·®æå·®ï¼</p><h4 id="å‡½æ•°ä½œä¸ºå€¼ä¼ é€’">å‡½æ•°ä½œä¸ºå€¼ä¼ é€’</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">//ï¼ˆ1ï¼‰è°ƒç”¨ foo å‡½æ•°ï¼ŒæŠŠè¿”å›å€¼ç»™å˜é‡ f</span></span><br><span class="line">  <span class="comment">//val f = foo()</span></span><br><span class="line">  <span class="keyword">val</span> f = foo</span><br><span class="line">  println(f)</span><br><span class="line">  <span class="comment">//ï¼ˆ2ï¼‰åœ¨è¢«è°ƒç”¨å‡½æ•° foo åé¢åŠ ä¸Š _ï¼Œç›¸å½“äºæŠŠå‡½æ•° foo å½“æˆä¸€ä¸ªæ•´ä½“ï¼Œ ä¼ é€’ç»™å˜é‡ f1</span></span><br><span class="line">  <span class="keyword">val</span> f1 = foo _</span><br><span class="line">  foo()</span><br><span class="line">  f1()</span><br><span class="line">  <span class="comment">//ï¼ˆ3ï¼‰å¦‚æœæ˜ç¡®å˜é‡ç±»å‹ï¼Œé‚£ä¹ˆä¸ä½¿ç”¨ä¸‹åˆ’çº¿ä¹Ÿå¯ä»¥å°†å‡½æ•°ä½œä¸ºæ•´ä½“ä¼ é€’ç»™ å˜é‡</span></span><br><span class="line">  <span class="keyword">var</span> f2:()=&gt;<span class="type">Int</span> = foo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span></span>():<span class="type">Int</span> = &#123;</span><br><span class="line">  println(<span class="string">&quot;foo...&quot;</span>)</span><br><span class="line">  <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‡½æ•°ä¹Ÿå¯ä»¥ä½œä¸ºå‡½æ•°ä¼ é€’</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// ï¼ˆ1ï¼‰å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°å‚æ•°è¿˜æ˜¯ä¸€ä¸ªå‡½æ•°ç­¾åï¼›f è¡¨ç¤ºå‡½æ•°åç§°;(Int,Int)è¡¨ç¤ºè¾“å…¥ä¸¤ä¸ª Int å‚æ•°ï¼›Int è¡¨ç¤ºå‡½æ•°è¿”å›å€¼</span></span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(f: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line"> f(<span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">// ï¼ˆ2ï¼‰å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå‚æ•°å’Œè¿”å›å€¼ç±»å‹å’Œ f1 çš„è¾“å…¥å‚æ•°ä¸€è‡´</span></span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(a: <span class="type">Int</span>, b: <span class="type">Int</span>): <span class="type">Int</span> = a + b</span><br><span class="line"> </span><br><span class="line"> <span class="comment">// ï¼ˆ3ï¼‰å°† add å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™ f1 å‡½æ•°ï¼Œå¦‚æœèƒ½å¤Ÿæ¨æ–­å‡ºæ¥ä¸æ˜¯è°ƒç”¨ï¼Œ_å¯ä»¥çœç•¥</span></span><br><span class="line"> println(f1(add))</span><br><span class="line">println(f1(add _))</span><br><span class="line"><span class="comment">//å¯ä»¥ä¼ é€’åŒ¿åå‡½æ•°</span></span><br></pre></td></tr></table></figure><p>å‡½æ•°å¯ä»¥ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼è¿”å›</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>() = &#123;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>() = &#123;</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line">f2 _</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">val</span> f = f1()</span><br><span class="line"><span class="comment">// å› ä¸º f1 å‡½æ•°çš„è¿”å›å€¼ä¾ç„¶ä¸ºå‡½æ•°ï¼Œæ‰€ä»¥å¯ä»¥å˜é‡ f å¯ä»¥ä½œä¸ºå‡½æ•°ç»§ç»­è°ƒç”¨</span></span><br><span class="line">f()</span><br><span class="line"><span class="comment">// ä¸Šé¢çš„ä»£ç å¯ä»¥ç®€åŒ–ä¸º</span></span><br><span class="line">f1()()</span><br></pre></td></tr></table></figure><h4 id="åŒ¿åå‡½æ•°">åŒ¿åå‡½æ•°</h4><p>è¯­æ³•è¯´æ˜</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(x:<span class="type">Int</span>) =&gt; &#123;println&#123;<span class="string">&quot;....&quot;</span>&#125;&#125;</span><br><span class="line">xï¼šè¡¨ç¤ºè¾“å…¥å‚æ•°ç±»å‹ï¼›<span class="type">Int</span>ï¼šè¡¨ç¤ºè¾“å…¥å‚æ•°ç±»å‹ï¼›å‡½æ•°ä½“ï¼šè¡¨ç¤ºå…·ä½“ä»£ç é€»è¾‘</span><br></pre></td></tr></table></figure><p>åŒ¿åå‡½æ•°ä¹Ÿå¯ä»¥è‡³ç®€</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ<span class="number">1</span>ï¼‰å‚æ•°çš„ç±»å‹å¯ä»¥çœç•¥ï¼Œä¼šæ ¹æ®å½¢å‚è¿›è¡Œè‡ªåŠ¨çš„æ¨å¯¼</span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰ç±»å‹çœç•¥ä¹‹åï¼Œå‘ç°åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œåˆ™åœ†æ‹¬å·å¯ä»¥çœç•¥ï¼›å…¶ä»–æƒ…å†µï¼šæ²¡æœ‰å‚æ•°å’Œå‚æ•°è¶…è¿‡ <span class="number">1</span> çš„æ°¸è¿œä¸èƒ½çœç•¥åœ†æ‹¬å·ã€‚ ï¼ˆ<span class="number">3</span>ï¼‰åŒ¿åå‡½æ•°å¦‚æœåªæœ‰ä¸€è¡Œï¼Œåˆ™å¤§æ‹¬å·ä¹Ÿå¯ä»¥çœç•¥</span><br><span class="line">ï¼ˆ<span class="number">4</span>ï¼‰å¦‚æœå‚æ•°åªå‡ºç°ä¸€æ¬¡ï¼Œåˆ™å‚æ•°çœç•¥ä¸”åé¢å‚æ•°å¯ä»¥ç”¨<span class="literal">_</span>ä»£æ›¿</span><br></pre></td></tr></table></figure><p>ä»£ç å®ç° ç®€åŒ–ä¸€ä¸ªå½¢å‚åŒ¿åå‡½æ•°</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// ï¼ˆ1ï¼‰å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼šå‚æ•°åŒ…å«æ•°æ®å’Œé€»è¾‘å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">operation</span></span>(arr: <span class="type">Array</span>[<span class="type">Int</span>], op: <span class="type">Int</span> =&gt; <span class="type">Int</span>) = &#123;</span><br><span class="line">      <span class="keyword">for</span> (elem &lt;- arr) <span class="keyword">yield</span> op(elem)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ï¼ˆ2ï¼‰å®šä¹‰é€»è¾‘å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">op</span></span>(ele: <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">      ele + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ï¼ˆ3ï¼‰æ ‡å‡†å‡½æ•°è°ƒç”¨</span></span><br><span class="line">    <span class="keyword">val</span> arr = operation(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), op)</span><br><span class="line">    println(arr.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    <span class="comment">// ï¼ˆ4ï¼‰é‡‡ç”¨åŒ¿åå‡½æ•°</span></span><br><span class="line">    <span class="keyword">val</span> arr1 = operation(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), (ele: <span class="type">Int</span>) =&gt; &#123;</span><br><span class="line">      ele + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">    println(arr1.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    <span class="comment">// ï¼ˆ4.1ï¼‰å‚æ•°çš„ç±»å‹å¯ä»¥çœç•¥ï¼Œä¼šæ ¹æ®å½¢å‚è¿›è¡Œè‡ªåŠ¨çš„æ¨å¯¼;</span></span><br><span class="line">    <span class="keyword">val</span> arr2 = operation(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), (ele) =&gt; &#123;</span><br><span class="line">      ele + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    println(arr2.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ï¼ˆ4.2ï¼‰ç±»å‹çœç•¥ä¹‹åï¼Œå‘ç°åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œåˆ™åœ†æ‹¬å·å¯ä»¥çœç•¥ï¼›å…¶ä»–æƒ… å†µï¼šæ²¡æœ‰å‚æ•°å’Œå‚æ•°è¶…è¿‡ 1 çš„æ°¸è¿œä¸èƒ½çœç•¥åœ†æ‹¬å·ã€‚</span></span><br><span class="line">    <span class="keyword">val</span> arr3 = operation(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), ele =&gt; &#123;</span><br><span class="line">      ele + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    println(arr3.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    <span class="comment">// (4.3) åŒ¿åå‡½æ•°å¦‚æœåªæœ‰ä¸€è¡Œï¼Œåˆ™å¤§æ‹¬å·ä¹Ÿå¯ä»¥çœç•¥</span></span><br><span class="line">    <span class="keyword">val</span> arr4 = operation(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), ele =&gt; ele + <span class="number">1</span>)</span><br><span class="line">    println(arr4.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    <span class="comment">//ï¼ˆ4.4ï¼‰å¦‚æœå‚æ•°åªå‡ºç°ä¸€æ¬¡ï¼Œåˆ™å‚æ•°çœç•¥ä¸”åé¢å‚æ•°å¯ä»¥ç”¨_ä»£æ›¿</span></span><br><span class="line">    <span class="keyword">val</span> arr5 = operation(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>), _ + <span class="number">1</span>)</span><br><span class="line">    println(arr5.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰å¤šä¸ªå‚æ•°</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">calculator</span></span>(a: <span class="type">Int</span>, b: <span class="type">Int</span>, op: (<span class="type">Int</span>, <span class="type">Int</span>) =&gt; <span class="type">Int</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">     op(a, b)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">// ï¼ˆ1ï¼‰æ ‡å‡†ç‰ˆ</span></span><br><span class="line"> println(calculator(<span class="number">2</span>, <span class="number">3</span>, (x: <span class="type">Int</span>, y: <span class="type">Int</span>) =&gt; &#123;x + y&#125;))</span><br><span class="line"> <span class="comment">// ï¼ˆ2ï¼‰å¦‚æœåªæœ‰ä¸€è¡Œï¼Œåˆ™å¤§æ‹¬å·ä¹Ÿå¯ä»¥çœç•¥</span></span><br><span class="line"> println(calculator(<span class="number">2</span>, <span class="number">3</span>, (x: <span class="type">Int</span>, y: <span class="type">Int</span>) =&gt; x + y))</span><br><span class="line"> <span class="comment">// ï¼ˆ3ï¼‰å‚æ•°çš„ç±»å‹å¯ä»¥çœç•¥ï¼Œä¼šæ ¹æ®å½¢å‚è¿›è¡Œè‡ªåŠ¨çš„æ¨å¯¼;</span></span><br><span class="line"> println(calculator(<span class="number">2</span>, <span class="number">3</span>, (x , y) =&gt; x + y))</span><br><span class="line"> <span class="comment">// ï¼ˆ4ï¼‰å¦‚æœå‚æ•°åªå‡ºç°ä¸€æ¬¡ï¼Œåˆ™å‚æ•°çœç•¥ä¸”åé¢å‚æ•°å¯ä»¥ç”¨_ä»£æ›¿</span></span><br><span class="line"> println(calculator(<span class="number">2</span>, <span class="number">3</span>, _ + _))</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h4 id="å‡½æ•°æŸ¯é‡ŒåŒ–å’Œé—­åŒ…">å‡½æ•°æŸ¯é‡ŒåŒ–å’Œé—­åŒ…</h4><p>é—­åŒ…ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°ï¼Œè®¿é—®åˆ°äº†å®ƒçš„å¤–éƒ¨ï¼ˆå±€éƒ¨ï¼‰å˜é‡çš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å’Œä»–æ‰€å¤„çš„ç¯å¢ƒï¼Œç§°ä¸ºé—­åŒ…</p><p>æŸ¯é‡ŒåŒ–çš„å†™æ³•å’Œ é—­åŒ…çš„è°ƒç”¨å¾ˆåƒï¼Œå»ºè®®ï¼šé—­åŒ…éƒ½ç”¨æŸ¯é‡ŒåŒ–å†™</p><p><strong>é—­åŒ…å°±æ˜¯æœ¬è´¨å°±æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåªä¸è¿‡ä½¿ç”¨äº†å¤–éƒ¨å˜é‡ä½œä¸ºè¿”å›å€¼çš„å‡½æ•°ï¼Œåªæ˜¯è¯­æ³•å¦‚æœä½¿ç”¨æŸ¯é‡ŒåŒ–ï¼Œå¯è¯»æ€§ä¸ä¸€æ ·</strong></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span></span>(a:<span class="type">Int</span>,b:<span class="type">Int</span>)  = a+ b <span class="comment">//å®ç”¨æ€§å·® æ¯æ¬¡è°ƒç”¨éƒ½éœ€è¦è¾“å…¥a</span></span><br><span class="line">    <span class="comment">//å¯ä»¥å…ˆå°†Aå®šä¹‰æˆä¸€ä¸ªå…¶ä»–å˜é‡ ç„¶åè°ƒç”¨å†…éƒ¨çš„B</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addByA</span></span>(a:<span class="type">Int</span>) : <span class="type">Int</span> =&gt; <span class="type">Int</span> = &#123;</span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">addByB</span></span>(b:<span class="type">Int</span>) = a + b</span><br><span class="line">      addByB</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    println(add(<span class="number">5</span>,<span class="number">8</span>))</span><br><span class="line">    println(addByA(<span class="number">5</span>)(<span class="number">8</span>))</span><br><span class="line">    <span class="keyword">val</span> addByFive = addByA(<span class="number">5</span>) <span class="comment">//å°è£…æˆaddByFiveå¸¸é‡</span></span><br><span class="line">    println(addByFive(<span class="number">16</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//    lambdaç®€å†™</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addByA1</span></span>(a:<span class="type">Int</span>) : <span class="type">Int</span> =&gt; <span class="type">Int</span> =  a + _</span><br><span class="line">    println(addByA1(<span class="number">3</span>)(<span class="number">4</span>))</span><br><span class="line">    </span><br><span class="line">        <span class="comment">//5.æŸ¯é‡ŒåŒ–</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addCurrying</span></span>(a:<span class="type">Int</span>)(b:<span class="type">Int</span>) = a + b</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> addByFour = addCurrying(<span class="number">5</span>)(<span class="number">53</span>)</span><br><span class="line">    println(addByFour)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h4 id="é€’å½’-é˜¶ä¹˜">é€’å½’ é˜¶ä¹˜</h4><p>å°±å’ŒJavaé€’å½’æ˜¯å·®ä¸å¤šçš„ï¼Œæ— éæ˜¯æ–¹æ³•çš„æ ¼å¼ä¸ä¸€æ ·</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  println(test(<span class="number">5</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span></span>(i : <span class="type">Int</span>):<span class="type">Int</span> = &#123;</span><br><span class="line">  <span class="keyword">if</span> (i == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  test(i - <span class="number">1</span>) * i</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ§åˆ¶æŠ½è±¡">æ§åˆ¶æŠ½è±¡</h4><p>åˆ†ä¸¤ç§ å€¼ä¼ é€’å’Œåä¼ é€’</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. ä¼ å€¼å‚æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f0</span></span>(a:<span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">  println(<span class="string">&quot;a: &quot;</span> + a)</span><br><span class="line">  println(<span class="string">&quot;a: &quot;</span> + a)</span><br><span class="line">&#125;</span><br><span class="line">f0(<span class="number">23</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>():<span class="type">Int</span> = &#123;</span><br><span class="line">  println(<span class="string">&quot;f1è°ƒç”¨&quot;</span>)</span><br><span class="line">  <span class="number">12</span></span><br><span class="line">&#125;</span><br><span class="line">f0(f1())</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.ä¼ åå‚æ•° ä¼ é€’ä¸å†æ˜¯å…·ä½“çš„å€¼ï¼Œè€Œæ˜¯ä»£ç å—</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(a: =&gt; <span class="type">Int</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">  println(<span class="string">&quot;a: &quot;</span> + a)</span><br><span class="line">  println(<span class="string">&quot;a: &quot;</span> + a)</span><br><span class="line">&#125;</span><br><span class="line">f2(<span class="number">23</span>)</span><br><span class="line">f2(f1())</span><br></pre></td></tr></table></figure><h4 id="æƒ°æ€§åŠ è½½">æƒ°æ€§åŠ è½½</h4><p>å½“<strong>å‡½æ•°è¿”å›å€¼è¢«å£°æ˜ä¸º</strong> <strong>lazy</strong> <strong>æ—¶</strong>ï¼Œå‡½æ•°çš„<strong>æ‰§è¡Œå°†è¢«æ¨è¿Ÿ</strong>ï¼Œç›´åˆ°æˆ‘ä»¬ç¬¬ä¸€æ¬¡å¯¹æ­¤å–å€¼ï¼Œè¯¥å‡½æ•°æ‰ä¼šæ‰§è¡Œã€‚è¿™ç§å‡½æ•°æˆ‘ä»¬ç§°ä¹‹ä¸ºæƒ°æ€§å‡½æ•°ã€‚</p><p>åº”ç”¨ç‚¹æˆ‘è§‰å¾—åƒçº¿ç¨‹çš„æ—¶å€™ï¼Œä¼šç”¨å¾—åˆ°ï¼Œä½¿ç”¨è¯¥æ–¹æ³•(å‡½æ•°)ï¼Œçº¿ç¨‹æ‰§è¡Œã€‚å’Œçº¿ç¨‹çš„å µå¡å’Œé”æœ‰ç‚¹ç±»ä¼¼ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="keyword">lazy</span> <span class="keyword">val</span> res = sum(<span class="number">10</span>,<span class="number">30</span>)</span><br><span class="line">  println(<span class="string">&quot;1ï¼Œå‡½æ•°è°ƒç”¨&quot;</span>)</span><br><span class="line">  println(<span class="string">&quot;2.res = &quot;</span> + res)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span></span>(i: <span class="type">Int</span>, i1: <span class="type">Int</span>):<span class="type">Int</span> = &#123;</span><br><span class="line">  println(<span class="string">&quot;3.sum è¢«æ‰§è¡Œã€‚ã€‚ã€‚&quot;</span>)</span><br><span class="line">  i + i1</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿è¡Œç»“æœ</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1ï¼Œå‡½æ•°è°ƒç”¨</span></span><br><span class="line"><span class="comment">3.sum è¢«æ‰§è¡Œã€‚ã€‚ã€‚</span></span><br><span class="line"><span class="comment">2.res = 40</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-3">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å®šä¹‰ä¸€ä¸ªå‡½æ•° <span class="keyword">func</span>ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ª <span class="title function_">Int</span> ç±»å‹çš„å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå‡½æ•°ï¼ˆè®°ä½œ <span class="title function_">f1</span>ï¼‰ã€‚å®ƒè¿”å›çš„å‡½æ•° <span class="title function_">f1</span>ï¼Œæ¥æ”¶ä¸€ä¸ª <span class="title function_">String</span> ç±»å‹çš„å‚æ•°ï¼ŒåŒæ ·è¿”å›ä¸€ä¸ªå‡½æ•°ï¼ˆè®°ä½œ <span class="title function_">f2</span>ï¼‰ã€‚å‡½æ•° <span class="title function_">f2</span> æ¥æ”¶ä¸€ä¸ª <span class="title function_">Char</span> ç±»å‹çš„å‚æ•°ï¼Œè¿”å›ä¸€ä¸ª <span class="title function_">Boolean</span> çš„å€¼ã€‚</span><br><span class="line">è¦æ±‚è°ƒç”¨å‡½æ•° <span class="keyword">func</span><span class="params">(<span class="number">0</span>)</span> <span class="params">(â€œâ€)</span> <span class="params">(â€˜<span class="number">0</span>â€™)</span>å¾—åˆ°è¿”å›å€¼ä¸º <span class="title function_">false</span>ï¼Œå…¶å®ƒæƒ…å†µå‡è¿”å› <span class="title function_">true</span>ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span></span>(int: <span class="type">Int</span>)= &#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f1</span></span>(string: <span class="type">String</span>) = &#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span></span>(char: <span class="type">Char</span>)  = &#123;</span><br><span class="line">      <span class="keyword">if</span> (int == <span class="number">0</span> &amp;&amp; string == <span class="string">&quot;&quot;</span> &amp;&amp; char == &#x27;<span class="number">0</span>&#x27;) <span class="literal">false</span> <span class="keyword">else</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    f2 _</span><br><span class="line">  &#125;</span><br><span class="line">  f1 _</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¨åŒ¿åå‡½æ•°å®ç°</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span></span>(x: <span class="type">Int</span>):<span class="type">String</span> =&gt; <span class="type">Char</span> =&gt; <span class="type">Boolean</span>= &#123;</span><br><span class="line">  y =&gt; z :  =&gt; &#123;<span class="keyword">if</span> (x == <span class="number">0</span> &amp;&amp; y == <span class="string">&quot;&quot;</span> &amp;&amp; z == &#x27;<span class="number">0</span>&#x27;) <span class="literal">false</span> <span class="keyword">else</span> <span class="literal">true</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-4">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©æ˜¯å­¦ä¹ ä»»åŠ¡æ˜¯Scalaçš„å‡½æ•°å¼å’Œéƒ¨åˆ†é¢å‘å¯¹è±¡ï¼Œä»¥åŠå¯¹æœªæ¥å¤§æ•°æ®æ¯”èµ›çš„è§„åˆ’ã€‚Scalaçš„å‡½æ•°å¼ç¼–ç¨‹æ˜¯å®ƒçš„ç‰¹ç‚¹ï¼Œä»–å’ŒJavaæœ€å¤§çš„åŒºåˆ«ï¼ŒScalaä¸ä»…æ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¹Ÿæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œè€Œä¸”æ¯”Javaæ›´é¢å‘å¯¹è±¡ï¼ŒJava8æ›´æ–°çš„lambdaå°±æ˜¯å€Ÿé‰´Scalaçš„å‡½æ•°å¼çš„ã€‚å‡½æ•°å¼ä¼šéå¸¸éå¸¸ç®€æ´ï¼Œåƒå…­ä¸ƒè¡Œå¾ˆé•¿çš„ä»£ç ï¼Œèƒ½ç¼©çš„å¾ˆçŸ­ï¼Œè€Œä¸”æ¯”javaçš„lambdaæ›´çŸ­ï¼Œæ¯”pythonä¹Ÿè¦çŸ­ï¼Œä½†æ˜¯è‡ªå·±ç®€åŒ–å®Œï¼Œè‡ªå·±éƒ½ä¸çŸ¥é“å†™çš„ä»€ä¹ˆï¼Œå¯è¯»æ€§å°±å¾ˆä¸€è¨€éš¾å°½ã€‚å­¦ä¹ éš¾åº¦æ˜¯ä¸€èˆ¬ï¼Œå°±æ˜¯ä»£ç è§£è¯»å’Œåé¢çš„é—­åŒ…ä¸æ˜¯å¾ˆå¥½æŒæ¡ï¼Œé‡ç‚¹è¿˜æ˜¯å‡½æ•°å¼çš„ç®€åŒ–å§ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯åœ¨è®²è¿™ä¸ªï¼Œä»Šå¤©çŠ¶æ€å¾ˆä½³ã€‚</p><h1 id="7-19-Scalaé¢å‘å¯¹è±¡">7.19 Scalaé¢å‘å¯¹è±¡</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-9">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Xh411S7bP?p=79&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Xh411S7bP?p=79&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ ‡é¢˜-9">2.æ ‡é¢˜</h2><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">070</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¸€ï¼‰_åŒ…ï¼ˆä¸€ï¼‰_å£°æ˜å’Œè®¿é—®</span><br><span class="line"><span class="number">071</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¸€ï¼‰_åŒ…ï¼ˆäºŒï¼‰_åŒ…å¯¹è±¡</span><br><span class="line"><span class="number">072</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¸€ï¼‰_åŒ…ï¼ˆä¸‰ï¼‰_å¯¼åŒ…è¯´æ˜</span><br><span class="line"><span class="number">073</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆäºŒï¼‰_ç±»å’Œå¯¹è±¡</span><br><span class="line"><span class="number">074</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¸‰ï¼‰_å°è£…ï¼ˆä¸€ï¼‰_è®¿é—®æƒé™</span><br><span class="line"><span class="number">075</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é¢å‘å¯¹è±¡ï¼ˆä¸‰ï¼‰_å°è£…ï¼ˆäºŒï¼‰_æ„é€ å™¨</span><br><span class="line">|</span><br><span class="line">|</span><br><span class="line">|</span><br><span class="line"><span class="number">106</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é›†åˆï¼ˆä¸‰ï¼‰_åˆ—è¡¨ï¼ˆäºŒï¼‰_å¯å˜åˆ—è¡¨</span><br><span class="line"><span class="number">107</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é›†åˆï¼ˆå››ï¼‰<span class="variable">_Set</span>é›†åˆï¼ˆä¸€ï¼‰_ä¸å¯å˜<span class="built_in">Set</span></span><br><span class="line"><span class="number">108</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é›†åˆï¼ˆå››ï¼‰<span class="variable">_Set</span>é›†åˆï¼ˆäºŒï¼‰_å¯å˜<span class="built_in">Set</span></span><br><span class="line"><span class="number">109</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é›†åˆï¼ˆäº”ï¼‰<span class="variable">_Map</span>é›†åˆï¼ˆä¸€ï¼‰_ä¸å¯å˜Map</span><br><span class="line"><span class="number">110</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é›†åˆï¼ˆäº”ï¼‰<span class="variable">_Map</span>é›†åˆï¼ˆäºŒï¼‰_å¯å˜Map</span><br><span class="line"><span class="number">111</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é›†åˆï¼ˆå…­ï¼‰_å…ƒç»„</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-9">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="ç±»å’Œå¯¹è±¡">ç±»å’Œå¯¹è±¡</h3><h3 id="å°è£…">å°è£…</h3><h4 id="ç»§æ‰¿å’Œå¤šæ€">ç»§æ‰¿å’Œå¤šæ€</h4><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-7">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="ç±»å’Œå¯¹è±¡-2">ç±»å’Œå¯¹è±¡</h3><p>å®šä¹‰å±æ€§è¯­æ³•</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> name : <span class="type">String</span> = <span class="string">&quot;alice&quot;</span></span><br><span class="line"><span class="keyword">var</span> age : <span class="type">Int</span> = <span class="number">18</span></span><br><span class="line"><span class="meta">@BeanProperty</span>   <span class="comment">//è‡ªåŠ¨ç”Ÿæˆgetå’Œsetçš„å±æ€§æ–¹æ³• æ˜¯æ ‡ç­¾</span></span><br><span class="line"><span class="keyword">var</span> sex : <span class="type">String</span> = _</span><br></pre></td></tr></table></figure><h4 id="å°è£…-2">å°è£…</h4><p>Scalaé»˜è®¤æƒé™æ˜¯public ä½†æ˜¯Scalaæ²¡æœ‰publicå…³é”®å­—</p><p>protected ä¸ºå—ä¿æŠ¤æƒé™ï¼ŒScala ä¸­å—ä¿æŠ¤æƒé™æ¯” Java ä¸­æ›´ä¸¥æ ¼ï¼ŒåŒç±»ã€å­ç±»å¯ä»¥è®¿é—®ï¼ŒåŒåŒ…æ— æ³•è®¿é—®ã€‚</p><p>private[åŒ…å]å¢åŠ åŒ…è®¿é—®æƒé™ï¼ŒåŒ…åä¸‹çš„å…¶ä»–ç±»ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>ä¸åŠ åŒ…åå°±æ˜¯ç§æœ‰çš„åªèƒ½åœ¨ç±»çš„å†…éƒ¨å’Œä¼´ç”Ÿå¯¹è±¡ä¸­ä½¿ç”¨</code></p><h5 id="æ„é€ å™¨">æ„é€ å™¨</h5><p>å’ŒJavaåŒºåˆ«æœ‰ç‚¹å¤§ï¼Œä¸»æ„é€ å™¨æ˜¯ä¸ç”¨å£°æ˜çš„ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ç±»å</span>(<span class="params">å½¢å‚åˆ—è¡¨</span>) </span>&#123; <span class="comment">// ä¸»æ„é€ å™¨</span></span><br><span class="line"> <span class="comment">// ç±»ä½“</span></span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(å½¢å‚åˆ—è¡¨) &#123; <span class="comment">// è¾…åŠ©æ„é€ å™¨</span></span><br><span class="line"> &#125;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(å½¢å‚åˆ—è¡¨) &#123; <span class="comment">//è¾…åŠ©æ„é€ å™¨å¯ä»¥æœ‰å¤šä¸ª...</span></span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç»§æ‰¿å’Œå¤šæ€-2">ç»§æ‰¿å’Œå¤šæ€</h4><p>è¯­æ³•å’ŒJavaä¸€æ ·</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­ç±»ä¼šç»§æ‰¿çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³• åŒæ ·éƒ½æ˜¯å•ç»§æ‰¿(ä¸€ä¸ªå­ç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»)</p><p>ç»§æ‰¿çš„è°ƒç”¨é¡ºåºï¼šçˆ¶ç±»æ„é€ å™¨-&gt;å­ç±»æ„é€ å™¨</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">nameParam: <span class="type">String</span></span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> name = nameParam</span><br><span class="line"> <span class="keyword">var</span> age: <span class="type">Int</span> = _</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(nameParam: <span class="type">String</span>, ageParam: <span class="type">Int</span>) &#123;</span><br><span class="line"> <span class="keyword">this</span>(nameParam)</span><br><span class="line"> <span class="keyword">this</span>.age = ageParam</span><br><span class="line"> println(<span class="string">&quot;çˆ¶ç±»è¾…åŠ©æ„é€ å™¨&quot;</span>)</span><br><span class="line"> &#125;</span><br><span class="line"> println(<span class="string">&quot;çˆ¶ç±»ä¸»æ„é€ å™¨&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Emp</span>(<span class="params">nameParam: <span class="type">String</span>, ageParam: <span class="type">Int</span></span>) <span class="keyword">extends</span> </span></span><br><span class="line"><span class="type">Person</span>(nameParam, ageParam) &#123;</span><br><span class="line"> <span class="keyword">var</span> empNo: <span class="type">Int</span> = _</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">this</span></span>(nameParam: <span class="type">String</span>, ageParam: <span class="type">Int</span>, empNoParam: <span class="type">Int</span>) &#123;</span><br><span class="line"> <span class="keyword">this</span>(nameParam, ageParam)</span><br><span class="line"> <span class="keyword">this</span>.empNo = empNoParam</span><br><span class="line"> println(<span class="string">&quot;å­ç±»çš„è¾…åŠ©æ„é€ å™¨&quot;</span>)</span><br><span class="line"> &#125;</span><br><span class="line">   println(<span class="string">&quot;å­ç±»ä¸»æ„é€ å™¨&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> <span class="keyword">new</span> <span class="type">Emp</span>(<span class="string">&quot;z3&quot;</span>, <span class="number">11</span>,<span class="number">1001</span>)</span><br><span class="line"> &#125; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ¡ˆä¾‹çš„è¿è¡Œç»“æœæ˜¯</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220719105724978.png" alt="image-20220719105724978"></p><p>éªŒè¯äº†ç»§æ‰¿ï¼Œåˆ›å»ºå¯¹è±¡å…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨</p><h5 id="å¤šæ€">å¤šæ€</h5><p>åŠ¨æ€ç»‘å®š</p><p><code>Scala ä¸­å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯åŠ¨æ€ç»‘å®šï¼Œè€Œ Java ä¸­åªæœ‰æ–¹æ³•ä¸ºåŠ¨æ€ç»‘å®šã€‚</code></p><p>è‡ªå·±å†™äº†ä¸€ä¸ªJavaä¸€ä¸ªScalaçš„ä»£ç éªŒè¯</p><p>Javaå¤šæ€ä»£ç å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DynamicBind</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">PersonByJava</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PersonByJava</span>();</span><br><span class="line">        System.out.println(person.name);</span><br><span class="line">        person.hello();</span><br><span class="line"></span><br><span class="line">        <span class="type">PersonByJava</span> <span class="variable">studentByJava</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StudentByJava</span>();</span><br><span class="line">        System.out.println(studentByJava.name);</span><br><span class="line">        studentByJava.hello();</span><br><span class="line"></span><br><span class="line">        <span class="type">StudentByJava</span> <span class="variable">studentByJava1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StudentByJava</span>();</span><br><span class="line">        System.out.println(studentByJava1.name);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PersonByJava</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;person&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello person&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StudentByJava</span> <span class="keyword">extends</span> <span class="title class_">PersonByJava</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;student&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello student&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hi</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hi student&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Scalaå¤šæ€ä»£ç </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test08_DynamicBind</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student: <span class="type">Person8</span> = <span class="keyword">new</span> <span class="type">Student8</span></span><br><span class="line">    println(student.name)</span><br><span class="line">    student.hello()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person8</span></span>&#123;</span><br><span class="line">  <span class="keyword">val</span> name : <span class="type">String</span> = <span class="string">&quot;person&quot;</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hello</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;hello person&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student8</span> <span class="keyword">extends</span> <span class="title">Person8</span></span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> name : <span class="type">String</span> = <span class="string">&quot;student&quot;</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">hello</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;hello student&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220719110732747.png" alt="image-20220719110732747"></p><p>å¯è§Scalaçš„åŠ¨æ€ç»‘å®šæ›´ä¸ºçš„å®Œå–„ï¼ŒJavaæ˜¯æ²¡æœ‰å±æ€§ç»‘å®šçš„ï¼ŒScalaæœ‰ã€‚</p><h4 id="é‡å†™">é‡å†™</h4><p>Scalaé‡å†™çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•çš„æ—¶å€™ï¼Œé™¤äº†ç±»å‹å’Œåç§°ä¸€æ ·(å’Œjavaä¸€æ ·)ï¼Œè¿˜è¦åœ¨å±æ€§å’Œæ–¹æ³•å‰é¢åŠ ä¸Šoberrideä¿®é¥°</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student8</span> <span class="keyword">extends</span> <span class="title">Person8</span></span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> name : <span class="type">String</span> = <span class="string">&quot;student&quot;</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">hello</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;hello student&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·çš„å¥½å¤„æ˜¾è€Œæ˜“è§ï¼Œæ›´ä¸ºæ¸…æ¥šæ˜äº†çš„ å‘ŠçŸ¥è¯¥æ–¹æ³•æˆ–è€…å±æ€§æ˜¯çˆ¶ç±»é‡å†™çš„ã€‚</p><h4 id="æŠ½è±¡ç±»">æŠ½è±¡ç±»</h4><p>Scalaå’ŒJavaä¸€æ¨¡ä¸€æ ·ï¼Œå£°æ˜æ–¹æ³•ä¹Ÿå·®ä¸å¤š</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test09_abstract</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> teacher = <span class="keyword">new</span> <span class="type">Teacher9</span>()</span><br><span class="line">    teacher.hello9()</span><br><span class="line">    println(teacher.name)</span><br><span class="line">    <span class="comment">// åŒ¿åå­ç±»  å’Œ Java ä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡åŒ…å«å¸¦æœ‰å®šä¹‰æˆ–é‡å†™çš„ä»£ç å—çš„æ–¹å¼åˆ›å»ºä¸€ä¸ªåŒ¿åçš„å­ç±»ã€‚</span></span><br><span class="line">    <span class="keyword">val</span> workers = <span class="keyword">new</span> <span class="type">Person9</span> &#123;</span><br><span class="line">      <span class="keyword">override</span> <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;workers&quot;</span></span><br><span class="line">      <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">hello9</span></span>(): <span class="type">Unit</span> = println(<span class="string">&quot;hello worker&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    workers.hello9()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//abstract å£°æ˜</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Person9</span></span>&#123;</span><br><span class="line">  <span class="keyword">val</span> name: <span class="type">String</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">hello9</span></span>() : <span class="type">Unit</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher9</span> <span class="keyword">extends</span> <span class="title">Person9</span></span>&#123; <span class="comment">//ç»§æ‰¿æŠ½è±¡ç±» è¦é‡å†™æ–¹æ³• å¦‚æœä¸é‡å†™å°±å¯ä»¥ä¸åŠ override</span></span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;teacher&quot;</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">hello9</span></span>(): <span class="type">Unit</span> = println(<span class="string">&quot;hello 9 abstract and teacher&quot;</span>)</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¼´ç”Ÿå¯¹è±¡">ä¼´ç”Ÿå¯¹è±¡</h4><p>ä¼´ç”Ÿå¯¹è±¡æ˜¯Scalaæ‰€ç‹¬æœ‰çš„ï¼Œå¯ä»¥é€šè¿‡ä¼´ç”Ÿå¯¹è±¡è®¾è®¡å•ä¾‹è®¾è®¡æ¨¡å¼ æ‡’æ±‰å¼å’Œé¥¿æ±‰å¼</p><p>åŸºç¡€ä¼´ç”Ÿå¯¹è±¡ä½¿ç”¨ï¼Œå°†ä¸»æ„é€ å™¨è®¾è®¡ä¸ºç§æœ‰ï¼Œé€šè¿‡ä¼´ç”Ÿç±»å»è°ƒç”¨ æ¨èä½¿ç”¨apply å¯ä»¥çœç•¥æ–¹æ³•å ç›´æ¥åˆ›å»º(å’Œpythonåˆ›å»ºå¯¹è±¡ä¸€æ ·äº†å°±)</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test10_Object</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//ï¼ˆ3ï¼‰ä¼´ç”Ÿå¯¹è±¡ä¸­çš„å±æ€§å’Œæ–¹æ³•éƒ½å¯ä»¥é€šè¿‡ä¼´ç”Ÿå¯¹è±¡åï¼ˆç±»åï¼‰ç›´æ¥è°ƒç”¨è®¿é—®ã€‚</span></span><br><span class="line"><span class="comment">//    val student = new Person10(&quot;alice&quot;,18)</span></span><br><span class="line"><span class="comment">//    student.printInfo()</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> person2 = <span class="type">Person10</span>.newPerson10(<span class="string">&quot;alice&quot;</span>,<span class="number">18</span>)</span><br><span class="line">    person2.printInfo()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> person3 = <span class="type">Person10</span>.apply(<span class="string">&quot;bob&quot;</span>,<span class="number">29</span>) <span class="comment">//ä½¿ç”¨applyæ–¹æ³•</span></span><br><span class="line">    person3.printInfo()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> person4 = <span class="type">Person10</span>(<span class="string">&quot;akko&quot;</span>,<span class="number">35</span>) <span class="comment">// applyå¯ä»¥çœç•¥</span></span><br><span class="line">    person4.printInfo()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ï¼ˆ1ï¼‰ä¼´ç”Ÿå¯¹è±¡é‡‡ç”¨ object å…³é”®å­—å£°æ˜</span></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Person10</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">newPerson10</span></span>(name:<span class="type">String</span>,age:<span class="type">Int</span>): <span class="type">Person10</span> = <span class="keyword">new</span> <span class="type">Person10</span>(name,age)</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">apply</span></span>(name:<span class="type">String</span>,age:<span class="type">Int</span>): <span class="type">Person10</span> = <span class="keyword">new</span> <span class="type">Person10</span>(name,age)  <span class="comment">//applyå†™æ–¹æ³•å»è°ƒç”¨æ„é€ å™¨</span></span><br><span class="line">  <span class="comment">//ç›¸å½“äºé™æ€å­˜åœ¨</span></span><br><span class="line">  <span class="keyword">var</span> school: <span class="type">String</span> = <span class="string">&quot;ZhongCe&quot;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ï¼ˆ2ï¼‰ä¼´ç”Ÿå¯¹è±¡å¯¹åº”çš„ç±»ç§°ä¹‹ä¸ºä¼´ç”Ÿç±»ï¼Œä¼´ç”Ÿå¯¹è±¡çš„åç§°åº”è¯¥å’Œä¼´ç”Ÿç±»åä¸€è‡´ã€‚</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person10</span> <span class="title">private</span>(<span class="params">val name : <span class="type">String</span>,val age : <span class="type">Int</span></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">printInfo</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">s&quot;student: name = <span class="subst">$name</span> ,age = <span class="subst">$age</span> , school = <span class="subst">$&#123;Person10.school&#125;</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç‰¹è´¨">ç‰¹è´¨</h4><p>Scala è¯­è¨€ä¸­ï¼Œé‡‡ç”¨ç‰¹è´¨ traitï¼ˆç‰¹å¾ï¼‰æ¥ä»£æ›¿æ¥å£çš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¤šä¸ªç±»å…·æœ‰ç›¸åŒçš„ç‰¹è´¨æ—¶ï¼Œå°±å¯ä»¥å°†è¿™ä¸ªç‰¹è´¨ï¼ˆç‹¬ç«‹å‡ºæ¥ï¼Œé‡‡ç”¨å…³é”®å­— trait å£°æ˜ã€‚å¯å†™å¯ä¸å†™ ã€‚<code>ä¸æ¥å£ä¸åŒçš„æ˜¯ï¼Œå®ƒè¿˜å¯ä»¥å®šä¹‰å±æ€§å’Œæ–¹æ³•çš„å®ç°ã€‚</code></p><p>æˆ‘è®¤ä¸ºå’Œjavaé‡Œä¸€æ ·ï¼Œæ˜¯å› ä¸ºéƒ½æ˜¯å•ç»§æ‰¿è¯­è¨€ï¼Œç„¶åé€šè¿‡è¿™æ ·çš„æ–¹å¼ï¼Œå¯¹å•ç»§æ‰¿æœºåˆ¶çš„è¡¥å…… <code>å•ç»§æ‰¿å¤šå®ç°</code></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test12_Trait</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> student12: <span class="type">Student12</span>= <span class="keyword">new</span> <span class="type">Student12</span></span><br><span class="line">    student12.sysHello()</span><br><span class="line">    student12.study()</span><br><span class="line">    student12.dating()</span><br><span class="line">    student12.play()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªçˆ¶ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person12</span></span>&#123;</span><br><span class="line">  <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;person&quot;</span></span><br><span class="line">  <span class="keyword">val</span> age: <span class="type">Int</span> = <span class="number">18</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sysHello</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;hello from: &quot;</span> + name)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç‰¹è´¨</span></span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Young</span></span>&#123;</span><br><span class="line">  <span class="comment">//å®šä¹‰æŠ½è±¡æˆ–è€…éæŠ½è±¡çš„å±æ€§å’Œæ–¹æ³•éƒ½å¯ä»¥</span></span><br><span class="line">  <span class="keyword">val</span> age: <span class="type">Int</span> <span class="comment">//æŠ½è±¡</span></span><br><span class="line">  <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;young&quot;</span> <span class="comment">//éæŠ½è±¡</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//æŠ½è±¡å’ŒéæŠ½è±¡æ–¹æ³•</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">play</span></span>(): <span class="type">Unit</span> =&#123;</span><br><span class="line">    println(<span class="string">&quot;young people is playing&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">dating</span></span>():<span class="type">Unit</span> <span class="comment">//æŠ½è±¡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰ä¸€ä¸ªå­ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student12</span> <span class="keyword">extends</span> <span class="title">Person12</span> <span class="keyword">with</span> <span class="title">Young</span> </span>&#123;</span><br><span class="line">  <span class="comment">//é‡å†™å†²çªçš„å±æ€§</span></span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> name: <span class="type">String</span> = <span class="string">&quot;student&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">val</span> age: <span class="type">Int</span> = <span class="number">19</span></span><br><span class="line">  <span class="comment">//å®ç°æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">dating</span></span>(): <span class="type">Unit</span> = println(<span class="string">s&quot;student <span class="subst">$name</span> is dating&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">study</span></span>(): <span class="type">Unit</span> = println(<span class="string">s&quot;student <span class="subst">$name</span> is study&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//é‡å†™çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">sysHello</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">super</span>.sysHello()</span><br><span class="line">    println(<span class="string">s&quot;hello from: student <span class="subst">$name</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‰¹è´¨æ··ç”¨</p><p>å…¶å®å°±æ˜¯ç±»ä¼¼äºJavaä¸­ä¸€ä¸ªç±»å®ç°å¤šä¸ªæ¥å£ä¸€æ ·çš„æ¦‚å¿µï¼ŒJavaä¸­å·²æœ‰çš„æ¥å£éƒ½å¯ä»¥å½“ä½œScalaçš„ç‰¹è´¨ç›´æ¥ä½¿ç”¨</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">extends</span> <span class="title">PersonTrait</span> <span class="keyword">with</span> <span class="title">java</span>.<span class="title">io</span>.<span class="title">Serializable</span> </span>&#123;</span><br><span class="line"> <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">say</span></span>(): <span class="type">Unit</span> = &#123;</span><br><span class="line"> println(<span class="string">&quot;say&quot;</span>)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">override</span> <span class="keyword">var</span> age: <span class="type">Int</span> = _</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Teacher</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Person</span></span>&#123;&#125;</span><br><span class="line"><span class="comment">//æ‰€è°“åŠ¨æ€æ··ç”¨å°±æ˜¯ä¸€ä¸ªç±»ç”¨ä¸¤ä¸ªç‰¹è´¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">with</span> <span class="title">Teacher</span> <span class="keyword">with</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç‰¹è´¨å’ŒæŠ½è±¡ç±»çš„ä½¿ç”¨åœºæ™¯</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.ä¼˜å…ˆä½¿ç”¨ç‰¹è´¨ã€‚ä¸€ä¸ªç±»æ‰©å±•å¤šä¸ªç‰¹è´¨æ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œä½†å´åªèƒ½æ‰©å±•ä¸€ä¸ªæŠ½è±¡ç±»ã€‚</span><br><span class="line">2.å¦‚æœä½ éœ€è¦æ„é€ å‡½æ•°å‚æ•°ï¼Œä½¿ç”¨æŠ½è±¡ç±»ã€‚å› ä¸ºæŠ½è±¡ç±»å¯ä»¥å®šä¹‰å¸¦å‚æ•°çš„æ„é€ å‡½æ•°ï¼Œè€Œç‰¹è´¨ä¸è¡Œï¼ˆæœ‰æ— å‚æ„é€ ï¼‰ã€‚</span><br></pre></td></tr></table></figure><h2 id="5-BUGç‚¹-4">5. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>ç±»å’Œå¯¹è±¡ä»£ç æ‰“å®Œï¼Œå‘ç°è¿è¡Œçš„æ—¶å€™ï¼ŒIDEAè¿è¡Œçš„ç•Œé¢éƒ½æ²¡äº†ï¼Œåé¢æ£€æŸ¥ï¼Œå‘ç°ç¼–è¯‘æ²¡é”™ï¼Œé‚£å°±æ˜¯è¿è¡Œé”™è¯¯ï¼Œçœ‹æç¤ºæ˜¯ç±»çš„åŸå› ï¼Œç»“æœå‘ç°è‡ªå·±æ²¡å†™mainç±»ï¼Œæ— æ³•è¿è¡Œï¼ŒScalaçš„è¿™ç‚¹å’ŒJavaæ˜¯ä¸€æ ·çš„ã€‚</p><p><img src="https://docimg3.docs.qq.com/image/o6Ax0mlG8JjME539efv5-Q.png?w=1822&amp;h=1013" alt="img"></p><p>çœ‹æŠ¥é”™ä¿¡æ¯ï¼Œæ˜¯nameçš„é—®é¢˜ï¼Œæ£€æŸ¥äº†ä¸€éä»£ç å‘ç°äº†é—®é¢˜ï¼Œç‰¹è´¨ä¸­å£°æ˜äº†nameï¼Œçˆ¶ç±»personä¹Ÿå£°æ˜äº†nameã€‚studentå­ç±»åˆç»§æ‰¿åˆå®ç°ï¼Œåº”è¯¥æ˜¯è¿è¡Œçš„æ—¶å€™ï¼Œä¸çŸ¥é“è°ƒç”¨å“ªä¸ªï¼Œè§£å†³åŠæ³•ï¼šå­ç±»è‡ªå·±é‡å†™æ–¹æ³•ï¼Œè®©nameå±æ€§ä½¿ç”¨è‡ªå·±çš„ã€‚ä¿®æ”¹å®ŒåˆæŠ¥é”™ï¼Œç¿»è¯‘æ˜¯ageæ¥å£çš„é—®é¢˜ï¼Œvarè¦é‡å†™setå’Œgetæ–¹æ³•ï¼Œæƒ³æƒ³ç®—äº†ï¼Œå°±æŠŠvaræ”¹æˆäº†valå¸¸é‡ï¼Œæ­£å¸¸è¿è¡Œäº†</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220719170042441.png" alt="image-20220719170042441"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-4">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>ä¸Šé¢çš„ç¬¬äºŒä¸ªé”™è¯¯ï¼Œæˆ‘çœ‹å¼¹å¹•ä¹Ÿæœ‰å¾ˆå¤šäººè¿™æ ·ï¼Œå°±å»æœäº†ä¸€æ¬¡Scalaç‰¹è´¨è¿™ç§å†²çªé—®é¢˜ï¼Œå‘ç°æ˜¯æœ‰è§£é‡Šå’Œæ–¹æ³•è§£å†³çš„ã€‚</p><p>ç”±äºä¸€ä¸ªç±»å¯ä»¥æ··å…¥å¤šä¸ª traitï¼Œä¸” trait ä¸­å¯ä»¥æœ‰å…·ä½“çš„å±æ€§å’Œæ–¹æ³•ï¼Œè‹¥æ··å…¥çš„ç‰¹è´¨ä¸­å…·æœ‰ç›¸åŒçš„æ–¹æ³•ï¼ˆæ–¹æ³•åï¼Œå‚æ•°åˆ—è¡¨ï¼Œè¿”å›å€¼å‡ç›¸åŒï¼‰ï¼Œå¿…ç„¶ä¼šå‡ºç°ç»§æ‰¿å†²çªé—®é¢˜ã€‚å†²çªåˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ï¼š<code>ç»§æ‰¿çš„çˆ¶ç±»ä¹Ÿç®—</code></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220719234527002.png" alt="image-20220719234527002"></p><p>æˆ‘å°±æ˜¯ä¸Šå›¾çš„ç¬¬ä¸€ç§ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå…³è”çš„ï¼Œé‡å†™å†²çªæ–¹æ³•æˆ–è€…å±æ€§å°±å¥½äº†ã€‚</p><h3 id="ç‰¹è´¨å åŠ ">ç‰¹è´¨å åŠ </h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220719235950669.png" alt="image-20220719235950669"></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Ball</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line"> <span class="string">&quot;ball&quot;</span></span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Color</span> <span class="keyword">extends</span> <span class="title">Ball</span> </span>&#123;</span><br><span class="line"> <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line"> <span class="string">&quot;blue-&quot;</span> + <span class="keyword">super</span>.describe()</span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">trait</span> <span class="title">Category</span> <span class="keyword">extends</span> <span class="title">Ball</span> </span>&#123;</span><br><span class="line"> <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line"> <span class="string">&quot;foot-&quot;</span> + <span class="keyword">super</span>.describe()</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyBall</span> <span class="keyword">extends</span> <span class="title">Category</span> <span class="keyword">with</span> <span class="title">Color</span> </span>&#123;</span><br><span class="line"> <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(): <span class="type">String</span> = &#123;</span><br><span class="line"> <span class="string">&quot;my ball is a &quot;</span> + <span class="keyword">super</span>.describe()</span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">TestTrait</span> </span>&#123;</span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"> println(<span class="keyword">new</span> <span class="type">MyBall</span>().describe())</span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šå›¾å°±æ˜¯é’»çŸ³é—®é¢˜äº†ã€‚è¿è¡Œç»“æœï¼šmy ball is a blue-foot-ball</p><p><strong>MyClass</strong> <strong>ä¸­çš„</strong> <strong>super</strong> æŒ‡ä»£Color,Color <strong>ä¸­çš„</strong> <strong>super</strong> <strong>æŒ‡ä»£</strong> **Categoryï¼Œ**Category <strong>ä¸­çš„</strong> <strong>super</strong>æŒ‡ä»£ <strong>Ball</strong>ã€‚</p><p>é‚£ä¹ˆå åŠ é¡ºåºå°±æ˜¯</p><p>MyClass ----Color ----Categoryâ€”Ball</p><h2 id="7-æ€»ç»“-5">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©Scalaçš„å­¦ä¹ å†…å®¹æ˜¯é¢å‘å¯¹è±¡è¿™å—ï¼Œä¹Ÿæ˜¯å­¦å®Œäº†ï¼Œå‰é¢çš„å°è£…ä»¥åŠç»§æ‰¿ç­‰å’ŒJavaåŸºæœ¬æ²¡æœ‰æ”¹åŠ¨ï¼Œåªæ˜¯ä¼˜åŒ–äº†æƒé™ã€‚æŠ½è±¡ç±»ä¹Ÿæ²¡å˜åŒ–ï¼ŒScalaé¢å‘å¯¹è±¡çš„ç‰¹åˆ«ä¹‹å¤„å°±æ˜¯å‡çº§ç‰ˆçš„æ¥å£äº†ï¼Œç‰¹è´¨ï¼Œè¿™ç‚¹ä¹Ÿæ˜¯æ¯”è¾ƒé‡è¦çš„ç‚¹ï¼Œå­˜åœ¨ä¸€å®šçš„éš¾åº¦ã€‚çœ‹æ–‡æ¡£æ²¡æœ‰å¾ˆä¼šï¼Œå°±åˆå»çœ‹äº†ä¸€éè§†é¢‘ï¼Œç»“åˆæ–‡æ¡£ï¼Œç‰¹è´¨çš„åŸºæœ¬ä½¿ç”¨å·²ç»æŒæ¡äº†ï¼Œè¿˜æœ‰ä¸€äº›æ··ç”¨ç­‰ï¼Œä»£ç æ•²å¤šäº†ï¼ŒæŒæ¡æ¸…é™¤æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä»Šå¤©çš„å­¦ä¹ çŠ¶æ€å’Œè¿‡ç¨‹éƒ½ä¸é”™ï¼Œ æ˜å¤©è¿›å…¥é›†åˆå’Œå…ƒç»„çš„å­¦ä¹ ï¼Œå¸Œæœ›èƒ½ä¿æŒä»Šå¤©çš„åŠ²å¤´ã€‚</p><h1 id="7-20-æ•°ç»„å’Œé›†åˆ">7.20 æ•°ç»„å’Œé›†åˆ</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-10">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-10">2.æ ‡é¢˜</h2><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">P91</span><br><span class="line"><span class="number">091</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é›†åˆï¼ˆä¸€ï¼‰_é›†åˆç±»å‹ç³»ç»Ÿ</span><br><span class="line">P92</span><br><span class="line"><span class="number">092</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é›†åˆï¼ˆäºŒï¼‰_æ•°ç»„ï¼ˆä¸€ï¼‰_ä¸å¯å˜æ•°ç»„ï¼ˆä¸€ï¼‰_åˆ›å»ºæ•°ç»„</span><br><span class="line">P93</span><br><span class="line"><span class="number">093</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é›†åˆï¼ˆäºŒï¼‰_æ•°ç»„ï¼ˆä¸€ï¼‰_ä¸å¯å˜æ•°ç»„ï¼ˆäºŒï¼‰_è®¿é—®å’Œä¿®æ”¹å…ƒç´ </span><br><span class="line">P94</span><br><span class="line"><span class="number">094</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é›†åˆï¼ˆäºŒï¼‰_æ•°ç»„ï¼ˆä¸€ï¼‰_ä¸å¯å˜æ•°ç»„ï¼ˆä¸‰ï¼‰_éå†æ•°ç»„</span><br><span class="line">P95</span><br><span class="line"><span class="number">095</span>_å°šç¡…è°·<span class="variable">_Scala_</span>é›†åˆï¼ˆäºŒï¼‰_æ•°ç»„ï¼ˆä¸€ï¼‰_ä¸å¯å˜æ•°ç»„ï¼ˆå››ï¼‰_æ·»åŠ å…ƒç´ </span><br><span class="line">|</span><br><span class="line">|</span><br><span class="line"><span class="number">141</span>_å°šç¡…è°·<span class="variable">_Scala_</span>æ³›å‹ï¼ˆä¸€ï¼‰_æ¦‚å¿µå’Œæ„ä¹‰</span><br><span class="line">P142</span><br><span class="line"><span class="number">142</span>_å°šç¡…è°·<span class="variable">_Scala_</span>æ³›å‹ï¼ˆäºŒï¼‰_é€†å˜å’Œåå˜</span><br><span class="line">P143</span><br><span class="line"><span class="number">143</span>_å°šç¡…è°·<span class="variable">_Scala_</span>æ³›å‹ï¼ˆä¸‰ï¼‰_ä¸Šä¸‹é™</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-10">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="Scaslaé›†åˆç®€ä»‹">Scaslaé›†åˆç®€ä»‹</h3><h4 id="æ•°ç»„">æ•°ç»„</h4><h5 id="åˆ—è¡¨">åˆ—è¡¨</h5><h5 id="seté›†åˆ">seté›†åˆ</h5><h5 id="Mapé›†åˆ">Mapé›†åˆ</h5><h5 id="å…ƒç»„">å…ƒç»„</h5><h5 id="å¸¸ç”¨å‡½æ•°-æ–¹æ³•">å¸¸ç”¨å‡½æ•° æ–¹æ³•</h5><h5 id="é˜Ÿåˆ—">é˜Ÿåˆ—</h5><h5 id="å¹¶è¡Œé›†åˆ">å¹¶è¡Œé›†åˆ</h5><h5 id="æ¨¡å¼åŒ¹é…">æ¨¡å¼åŒ¹é…</h5><h5 id="å¼‚å¸¸å¤„ç†">å¼‚å¸¸å¤„ç†</h5><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-8">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="Scalaé›†åˆç®€ä»‹">Scalaé›†åˆç®€ä»‹</h3><p>å°†Javaä¸‰å¤§é›†åˆç…§æ¬äº†ï¼Œä¿®æ”¹äº†Listä¸ºSeqï¼Œä½†æ˜¯Liståœ¨Scalaè¿˜å­˜åœ¨</p><p>Scala çš„é›†åˆæœ‰ä¸‰å¤§ç±»ï¼šåºåˆ— Seqã€é›† Setã€æ˜ å°„ Mapï¼Œæ‰€æœ‰çš„é›†åˆéƒ½æ‰©å±•è‡ª Iterableç‰¹è´¨ã€‚</p><p>å¯¹äºå‡ ä¹æ‰€æœ‰çš„é›†åˆç±»ï¼ŒScala éƒ½åŒæ—¶æä¾›äº†<strong>å¯å˜</strong>å’Œ<strong>ä¸å¯å˜</strong>çš„ç‰ˆæœ¬</p><p><code>Scala ä¸å¯å˜é›†åˆï¼Œå°±æ˜¯æŒ‡è¯¥é›†åˆå¯¹è±¡ä¸å¯ä¿®æ”¹ï¼Œæ¯æ¬¡ä¿®æ”¹å°±ä¼šè¿”å›ä¸€ä¸ªæ–°å¯¹è±¡</code></p><p><code>å¯å˜é›†åˆï¼Œå°±æ˜¯è¿™ä¸ªé›†åˆå¯ä»¥ç›´æ¥å¯¹åŸå¯¹è±¡è¿›è¡Œä¿®æ”¹ï¼Œè€Œä¸ä¼šè¿”å›æ–°çš„å¯¹è±¡ã€‚</code></p><h3 id="æ•°ç»„-2">æ•°ç»„</h3><p>å¯å˜å’Œä¸å¯å˜éƒ½æ”¾ä¸‹é¢çš„æ¡ˆä¾‹ç»ƒä¹ äº†</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter03</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> scala.collection.mutable.<span class="type">ArrayBuffer</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test01_Array</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//ä¸å¯å˜æ•°ç»„</span></span><br><span class="line">    <span class="keyword">val</span> arr01 = <span class="keyword">new</span> <span class="type">Array</span>[<span class="type">Int</span>](<span class="number">9</span>)</span><br><span class="line">    arr01.update(<span class="number">1</span>,<span class="number">4</span>) <span class="comment">//æŒ‡å®šä½ç½® æ·»åŠ å…ƒç´  ä¹Ÿå¯ä»¥ä¿®æ”¹</span></span><br><span class="line">    println(arr01.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//æŸ¥çœ‹æ•°ç»„ ,éš”å¼€</span></span><br><span class="line"><span class="comment">//    arr01.foreach(println)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> arr1 = <span class="type">Array</span>(<span class="number">1</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="string">&quot;jack&quot;</span>)</span><br><span class="line">    println(<span class="string">&quot;arr1é•¿åº¦:&quot;</span> + arr1.length)</span><br><span class="line">    arr1.foreach(print)</span><br><span class="line">    println()</span><br><span class="line">    println(<span class="string">&quot;-----------------------&quot;</span>)</span><br><span class="line">    <span class="comment">//ï¼ˆ4ï¼‰å¢åŠ å…ƒç´ ï¼ˆç”±äºåˆ›å»ºçš„æ˜¯ä¸å¯å˜æ•°ç»„ï¼Œå¢åŠ å…ƒç´ ï¼Œå…¶å®æ˜¯äº§ç”Ÿæ–°çš„æ•°ç»„ï¼‰</span></span><br><span class="line">    println(arr01)</span><br><span class="line">    <span class="keyword">val</span> ints: <span class="type">Array</span>[<span class="type">Int</span>] = arr01 :+ <span class="number">5</span></span><br><span class="line">    println(ints)</span><br><span class="line">    println(<span class="string">&quot;-----------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//    å¯å˜æ•°ç»„</span></span><br><span class="line">    <span class="keyword">val</span> arr2 = <span class="type">ArrayBuffer</span>[<span class="type">Any</span>](<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">&quot;helen&quot;</span>)</span><br><span class="line">    println(<span class="string">&quot;arr2é•¿åº¦:&quot;</span> +arr2.length)</span><br><span class="line">    println(arr2.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"><span class="comment">//    arr2.foreach(println)</span></span><br><span class="line">    println(<span class="string">&quot;arr2.hash= &quot;</span> + arr2.hashCode())</span><br><span class="line">    <span class="comment">//ï¼ˆ3ï¼‰å¢åŠ å…ƒç´ </span></span><br><span class="line">    <span class="comment">//ï¼ˆ3.1ï¼‰è¿½åŠ æ•°æ®</span></span><br><span class="line">    arr2.+=(<span class="number">4</span>)</span><br><span class="line">    println(arr2.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ï¼ˆ3.2ï¼‰å‘æ•°ç»„æœ€åè¿½åŠ æ•°æ®</span></span><br><span class="line">    arr2.append(<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line">    println(arr2.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ï¼ˆ3.3ï¼‰å‘æŒ‡å®šçš„ä½ç½®æ’å…¥æ•°æ® ç¬¬ä¸€ä½æŒ‡å®šä¸‹æ ‡ä½ç½® åé¢åŠ å¤šå°‘æ•°æ®éƒ½è¡Œ</span></span><br><span class="line">    arr2.insert(<span class="number">1</span>,<span class="number">7</span>,<span class="number">0.8</span>)</span><br><span class="line">    println(arr2.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;arr2.hash= &quot;</span> + arr2.hashCode())</span><br><span class="line"><span class="comment">//    ä¿®æ”¹</span></span><br><span class="line">    arr2(<span class="number">5</span>) = <span class="string">&quot;kiss&quot;</span> <span class="comment">//ä¿®æ”¹æŒ‡å®šä¸‹æ ‡çš„å€¼</span></span><br><span class="line">    println(arr2.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">arr1é•¿åº¦:<span class="number">7</span></span><br><span class="line"><span class="number">145669</span>jack</span><br><span class="line">-----------------------</span><br><span class="line">[<span class="type">I</span>@<span class="number">22</span>f71333</span><br><span class="line">[<span class="type">I</span>@<span class="number">13969</span>fbe</span><br><span class="line">-----------------------</span><br><span class="line">arr2é•¿åº¦:<span class="number">4</span></span><br><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,helen</span><br><span class="line">arr2.hash= <span class="number">100581814</span></span><br><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,helen,<span class="number">4</span></span><br><span class="line"><span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,helen,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span></span><br><span class="line"><span class="number">1</span>,<span class="number">7</span>,<span class="number">0.8</span>,<span class="number">2</span>,<span class="number">3</span>,helen,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span></span><br><span class="line">arr2.hash= <span class="number">-18482605</span></span><br><span class="line"><span class="number">1</span>,<span class="number">7</span>,<span class="number">0.8</span>,<span class="number">2</span>,<span class="number">3</span>,kiss,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="type">Process</span> finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="å¯å˜æ•°ç»„å’Œä¸å¯å˜æ•°ç»„çš„è½¬æ¢">å¯å˜æ•°ç»„å’Œä¸å¯å˜æ•°ç»„çš„è½¬æ¢</h4><p>å¯¹åŸæœ¬çš„æ•°ç»„æ²¡æœ‰æ”¹å˜ï¼Œæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°æ•°ç»„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è½¬æ¢è¯´æ˜</span></span><br><span class="line">arr1.toBuffer <span class="comment">//ä¸å¯å˜æ•°ç»„è½¬å¯å˜æ•°ç»„</span></span><br><span class="line">arr2.toArray <span class="comment">//å¯å˜æ•°ç»„è½¬ä¸å¯å˜æ•°ç»„</span></span><br><span class="line">ï¼ˆ<span class="number">1</span>ï¼‰arr2.toArray è¿”å›ç»“æœæ‰æ˜¯ä¸€ä¸ªä¸å¯å˜æ•°ç»„ï¼Œarr2 æœ¬èº«æ²¡æœ‰å˜åŒ–</span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰arr1.toBuffer è¿”å›ç»“æœæ‰æ˜¯ä¸€ä¸ªå¯å˜æ•°ç»„ï¼Œarr1 æœ¬èº«æ²¡æœ‰å˜åŒ–</span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test02_ArrayChange</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> arr2 = <span class="type">ArrayBuffer</span>[<span class="type">Int</span>]() <span class="comment">//åˆ›å»ºå¯å˜æ•°ç»„</span></span><br><span class="line">    arr2.append(<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>)<span class="comment">//æ·»åŠ å€¼</span></span><br><span class="line">    println(arr2)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ï¼ˆ3ï¼‰ArrayBuffer ==&gt; Array</span></span><br><span class="line">    <span class="comment">//ï¼ˆ3.1ï¼‰arr2.toArray è¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªæ–°çš„å®šé•¿æ•°ç»„é›†åˆ</span></span><br><span class="line">    <span class="comment">//ï¼ˆ3.2ï¼‰arr2 å®ƒæ²¡æœ‰å˜åŒ–</span></span><br><span class="line">    <span class="keyword">val</span> newArr:<span class="type">Array</span>[<span class="type">Int</span>] = arr2.toArray</span><br><span class="line">    println(newArr.mkString(<span class="string">&quot;--&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ï¼ˆ4ï¼‰Array ===&gt; ArrayBuffer</span></span><br><span class="line">    <span class="comment">//ï¼ˆ4.1ï¼‰newArr.toBuffer è¿”å›ä¸€ä¸ªå˜é•¿æ•°ç»„ newArr2</span></span><br><span class="line">    <span class="comment">//ï¼ˆ4.2ï¼‰newArr æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œä¾ç„¶æ˜¯å®šé•¿æ•°ç»„</span></span><br><span class="line">    <span class="keyword">val</span> newArr2 = newArr.toBuffer</span><br><span class="line">    newArr2.append(<span class="number">123</span>)</span><br><span class="line">    println(newArr2)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤šç»´æ•°ç»„</p><p>è¿™ä¸ªå’ŒJavaä¸€æ ·ï¼Œç”¨å¤„ä¹Ÿä¸æ˜¯å¾ˆå¤§æ„Ÿè§‰ï¼Œè¿‡äº†ä¸€éï¼Œå¾ˆå®¹æ˜“ç†è§£</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test03_DimArray</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//ï¼ˆ1ï¼‰åˆ›å»ºäº†ä¸€ä¸ªäºŒç»´æ•°ç»„, æœ‰ä¸‰ä¸ªå…ƒç´ ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ï¼Œå«æœ‰ 4 ä¸ªå…ƒç´ ä¸€ç»´æ•°ç»„()</span></span><br><span class="line">    <span class="keyword">val</span> arr = <span class="type">Array</span>.ofDim[<span class="type">Int</span>](<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">    arr(<span class="number">1</span>)(<span class="number">2</span>) = <span class="number">88</span></span><br><span class="line">    <span class="comment">//éå†äºŒç»´æ•°ç»„</span></span><br><span class="line">    <span class="keyword">for</span> (i &lt;- arr)&#123; <span class="comment">//æ­¤æ—¶iæ˜¯ä¸‰ä¸ªä¸€ç»´æ•°ç»„</span></span><br><span class="line">      <span class="keyword">for</span> (j &lt;- i)&#123;</span><br><span class="line">        print(j + <span class="string">&quot; &quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      println()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ—è¡¨List">åˆ—è¡¨List</h3><h4 id="ä¸å¯å˜List">ä¸å¯å˜List</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test04_List</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//ï¼ˆ1ï¼‰List é»˜è®¤ä¸ºä¸å¯å˜é›†åˆ</span></span><br><span class="line">    <span class="comment">//ï¼ˆ2ï¼‰åˆ›å»ºä¸€ä¸ª Listï¼ˆæ•°æ®æœ‰é¡ºåºï¼Œå¯é‡å¤ï¼‰</span></span><br><span class="line">    <span class="keyword">val</span> list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line">    <span class="comment">//(3)éå†æŸ¥çœ‹åˆ—è¡¨ æ‰“å°</span></span><br><span class="line">    list.foreach(println)</span><br><span class="line">    println(list.mkString(<span class="string">&quot;--&quot;</span>))</span><br><span class="line">    <span class="comment">//ï¼ˆ4ï¼‰List å¢åŠ æ•°æ®</span></span><br><span class="line">    <span class="comment">//ï¼ˆ4.1ï¼‰::çš„è¿ç®—è§„åˆ™ä»å³å‘å·¦</span></span><br><span class="line">    <span class="keyword">val</span> list1 = <span class="number">7</span> :: <span class="number">9</span> :: <span class="number">8</span> :: list</span><br><span class="line">    println(list1.mkString(<span class="string">&quot;--&quot;</span>))</span><br><span class="line">    <span class="keyword">val</span> list2 = list1 .+:(<span class="number">10</span>) <span class="comment">//å°†10æ·»åŠ åˆ°æ•°ç»„çš„ç¬¬ä¸€ä½åˆ›é€ æ–°æ•°ç»„</span></span><br><span class="line">    println(list2.mkString(<span class="string">&quot;--&quot;</span>))</span><br><span class="line">    <span class="keyword">val</span> list3 = <span class="type">List</span>(<span class="number">8</span>,<span class="number">9</span>,<span class="number">53</span>)</span><br><span class="line">    <span class="keyword">val</span> list4 = list3 ::: list2 <span class="comment">//list3å…ƒç´ åœ¨å·¦ list2åœ¨å³ æˆä¸€ä¸ªæ–°æ•°ç»„list4</span></span><br><span class="line">    println(list4.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">1--2--3--4--3</span></span><br><span class="line"><span class="comment">7--9--8--1--2--3--4--3</span></span><br><span class="line"><span class="comment">10--7--9--8--1--2--3--4--3</span></span><br><span class="line"><span class="comment">8,9,53,10,7,9,8,1,2,3,4,3</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="å¯å˜ListBuffer">å¯å˜ListBuffer</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test05_ListChange</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//ï¼ˆ1ï¼‰åˆ›å»ºä¸€ä¸ªå¯å˜é›†åˆ</span></span><br><span class="line">    <span class="keyword">val</span> buffer = <span class="type">ListBuffer</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">    <span class="comment">//ï¼ˆ2ï¼‰å‘é›†åˆä¸­æ·»åŠ æ•°æ®</span></span><br><span class="line">    buffer.+=(<span class="number">5</span>)</span><br><span class="line">    buffer.append(<span class="number">6</span>)</span><br><span class="line">    buffer.insert(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">    <span class="comment">//ï¼ˆ3ï¼‰æ‰“å°é›†åˆæ•°æ®</span></span><br><span class="line">    buffer.foreach(print)</span><br><span class="line">    println()</span><br><span class="line">    println(buffer.mkString(<span class="string">&quot;-&quot;</span>))</span><br><span class="line">    <span class="comment">//ï¼ˆ4ï¼‰ä¿®æ”¹æ•°æ®</span></span><br><span class="line">    buffer(<span class="number">1</span>) = <span class="number">6</span></span><br><span class="line">    buffer.update(<span class="number">1</span>,<span class="number">7</span>)</span><br><span class="line">    <span class="comment">//ï¼ˆ5ï¼‰åˆ é™¤æ•°æ®</span></span><br><span class="line">    buffer.-(<span class="number">5</span>)</span><br><span class="line">    buffer.-=(<span class="number">5</span>)</span><br><span class="line">    buffer.remove(<span class="number">5</span>)</span><br><span class="line">    println(buffer.mkString(<span class="string">&quot;-&quot;</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Seté›†åˆ">Seté›†åˆ</h3><p>Set é»˜è®¤æ˜¯ä¸å¯å˜é›†åˆï¼Œæ•°æ®æ— åº æ•°æ®ä¸èƒ½é‡å¤</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test06_Set</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//ï¼ˆ1ï¼‰Set é»˜è®¤æ˜¯ä¸å¯å˜é›†åˆï¼Œæ•°æ®æ— åº</span></span><br><span class="line">    <span class="keyword">val</span> set = <span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">7</span>)</span><br><span class="line">    println(set.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//5,1,2,7,3,4</span></span><br><span class="line">    <span class="comment">//ï¼ˆ2ï¼‰æ•°æ®ä¸å¯é‡å¤</span></span><br><span class="line">    <span class="keyword">val</span> set1 = <span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">3</span>)</span><br><span class="line">    <span class="comment">//ï¼ˆ3ï¼‰éå†é›†åˆ</span></span><br><span class="line">    <span class="keyword">for</span>(x&lt;-set1)&#123; <span class="comment">//5 1 6 2 3 4 3å–æ¶ˆä¸€ä¸ªå› ä¸ºä¸èƒ½é‡å¤</span></span><br><span class="line">      println(x)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="mutable-Setå¯å˜é›†åˆ">mutable.Setå¯å˜é›†åˆ</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test07_MutableSet</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//ï¼ˆ1ï¼‰åˆ›å»ºå¯å˜é›†åˆ</span></span><br><span class="line">    <span class="keyword">val</span> set = mutable.<span class="type">Set</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">7</span>)</span><br><span class="line">    println(set.mkString(<span class="string">&quot;-&quot;</span>))</span><br><span class="line">    set += <span class="number">8</span> <span class="comment">//é›†åˆæ·»åŠ å…ƒç´ </span></span><br><span class="line">    println(set.mkString(<span class="string">&quot;-&quot;</span>))</span><br><span class="line">    <span class="comment">//ï¼ˆ4ï¼‰å‘é›†åˆä¸­æ·»åŠ å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„ Set</span></span><br><span class="line">    <span class="keyword">val</span> ints = set.+(<span class="number">9</span>)</span><br><span class="line">    println(ints)</span><br><span class="line">    println(<span class="string">&quot;set2=&quot;</span> + set)</span><br><span class="line">    <span class="comment">//ï¼ˆ5ï¼‰åˆ é™¤æ•°æ®</span></span><br><span class="line">    set-=(<span class="number">5</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Mapé›†åˆ-2">Mapé›†åˆ</h3><p>Scala ä¸­çš„ Map å’Œ Java ç±»ä¼¼ï¼Œ<strong>ä¹Ÿæ˜¯ä¸€ä¸ªæ•£åˆ—è¡¨</strong>ï¼Œå®ƒå­˜å‚¨çš„å†…å®¹ä¹Ÿæ˜¯é”®å€¼å¯¹ï¼ˆ<strong>key-value</strong>ï¼‰æ˜ å°„</p><p><code>ä¸å˜çš„Mapæ˜¯æœ‰åºçš„ å¯å˜çš„Mapæ˜¯æ— åºçš„</code></p><h4 id="ä¸å¯å˜Map">ä¸å¯å˜Map</h4><p>å¦‚æœ key ä¸å­˜åœ¨ï¼Œè¿”å› 0</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test08_Map</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">   <span class="comment">//Map</span></span><br><span class="line">   <span class="comment">//ï¼ˆ1ï¼‰åˆ›å»ºä¸å¯å˜é›†åˆ Map</span></span><br><span class="line">    <span class="keyword">val</span> map = <span class="type">Map</span>( <span class="string">&quot;a&quot;</span>-&gt;<span class="string">&quot;A&quot;</span>, <span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>, <span class="string">&quot;c&quot;</span>-&gt;<span class="number">3</span> )</span><br><span class="line">    map.foreach(println)<span class="comment">//æ‰“å°é”®å€¼å¯¹ å¸¦æ‹¬å·çš„</span></span><br><span class="line">    <span class="comment">//3.è®¿é—®æ•°æ® æ ¼å¼ä¸º keys = Value</span></span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- map.keys)&#123;</span><br><span class="line">      <span class="comment">//ä½¿ç”¨getè®¿é—®mapé›†åˆçš„æ•°æ®ï¼Œä¼šè¿”å›ç‰¹æ®ŠOptioné€‰é¡¹ï¼šæœ‰å€¼ æ— å€¼</span></span><br><span class="line">      println(elem + <span class="string">&quot;=&quot;</span> + map(elem))</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ï¼ˆ4ï¼‰å¦‚æœ key ä¸å­˜åœ¨ï¼Œè¿”å› ,åé¢çš„å€¼</span></span><br><span class="line">    println(map.getOrElse(<span class="string">&quot;s&quot;</span>,<span class="number">5</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¿è¡Œç»“æœ</span></span><br><span class="line"><span class="comment">(a,A)</span></span><br><span class="line"><span class="comment">(b,2)</span></span><br><span class="line"><span class="comment">(c,3)</span></span><br><span class="line"><span class="comment">a=A</span></span><br><span class="line"><span class="comment">b=2</span></span><br><span class="line"><span class="comment">c=3</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment"></span></span><br></pre></td></tr></table></figure><h4 id="å¯å˜Map">å¯å˜Map</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test09_MapChange</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//ï¼ˆ1ï¼‰åˆ›å»ºå¯å˜é›†åˆ</span></span><br><span class="line">    <span class="keyword">val</span> map = mutable.<span class="type">Map</span>( <span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>, <span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>, <span class="string">&quot;c&quot;</span>-&gt;<span class="number">3</span> )</span><br><span class="line">    println(map.mkString(<span class="string">&quot; , &quot;</span>))</span><br><span class="line">    <span class="comment">//ï¼ˆ3ï¼‰å‘é›†åˆå¢åŠ æ•°æ®</span></span><br><span class="line">    map.+=(<span class="string">&quot;d&quot;</span>-&gt;<span class="number">4</span>)</span><br><span class="line">    println(map.mkString(<span class="string">&quot; , &quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†æ•°å€¼ 4 æ·»åŠ åˆ°é›†åˆï¼Œå¹¶æŠŠé›†åˆä¸­aåŸå€¼ 1 è¿”å›</span></span><br><span class="line">    <span class="keyword">val</span> maybeInt = map.put(<span class="string">&quot;a&quot;</span>, <span class="number">4</span>) <span class="comment">// ç›¸å½“äºä¿®æ”¹ æœ‰è¿”å›å€¼</span></span><br><span class="line">    println(map.mkString(<span class="string">&quot; , &quot;</span>))</span><br><span class="line">    println(maybeInt)</span><br><span class="line">    println(maybeInt.getOrElse(<span class="number">0</span>)) <span class="comment">//è·å–è¿”å›å€¼</span></span><br><span class="line">    <span class="comment">//åˆ é™¤é”® å¯¹åº”çš„å€¼ä¹Ÿä¼šåˆ é™¤</span></span><br><span class="line">    println(map.-=(<span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>))</span><br><span class="line">    println(map.mkString(<span class="string">&quot; , &quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ï¼ˆ5ï¼‰ä¿®æ”¹æ•°æ® é”®å¯¹åº”çš„å€¼</span></span><br><span class="line">    map.update(<span class="string">&quot;d&quot;</span>,<span class="number">5</span>)</span><br><span class="line">    map(<span class="string">&quot;a&quot;</span>) = <span class="number">1</span></span><br><span class="line">    println(map.mkString(<span class="string">&quot; , &quot;</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">b -&gt; 2 , a -&gt; 1 , c -&gt; 3</span></span><br><span class="line"><span class="comment">b -&gt; 2 , d -&gt; 4 , a -&gt; 1 , c -&gt; 3</span></span><br><span class="line"><span class="comment">b -&gt; 2 , d -&gt; 4 , a -&gt; 4 , c -&gt; 3</span></span><br><span class="line"><span class="comment">Some(1)</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">Map(d -&gt; 4, a -&gt; 4)</span></span><br><span class="line"><span class="comment">d -&gt; 4 , a -&gt; 4</span></span><br><span class="line"><span class="comment">d -&gt; 5 , a -&gt; 1</span></span><br><span class="line"><span class="comment"></span></span><br></pre></td></tr></table></figure><h3 id="å…ƒç»„-2">å…ƒç»„</h3><p>å…ƒç»„ç®—æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå¯ä»¥è¿™ä¹ˆç†è§£ï¼Œå°±æ˜¯å¯åŠ å°†å¾ˆå¤šæ— å…³çš„æ•°æ®å°è£…ä¸ºä¸€ä¸ªæ•´ä½“ å…ƒç»„æœ€å¤§åªèƒ½æœ‰22ä¸ªå…ƒç´ </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test10_Tuple</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//ï¼ˆ1ï¼‰å£°æ˜å…ƒç»„çš„æ–¹å¼ï¼š(å…ƒç´  1ï¼Œå…ƒç´  2ï¼Œå…ƒç´  3)</span></span><br><span class="line">    <span class="keyword">val</span> tuple = (<span class="number">40</span>,<span class="string">&quot;bobo&quot;</span>,<span class="literal">true</span>)</span><br><span class="line">    <span class="comment">//ï¼ˆ2ï¼‰è®¿é—®å…ƒç»„</span></span><br><span class="line">    <span class="comment">//ï¼ˆ2.1ï¼‰é€šè¿‡å…ƒç´ çš„é¡ºåºè¿›è¡Œè®¿é—®ï¼Œè°ƒç”¨æ–¹å¼ï¼š_é¡ºåºå·</span></span><br><span class="line">    println(tuple._1)</span><br><span class="line">    println(tuple._2)</span><br><span class="line">    println(tuple._3)</span><br><span class="line">    <span class="comment">//ï¼ˆ2.2ï¼‰é€šè¿‡ç´¢å¼•è®¿é—®æ•°æ®</span></span><br><span class="line">    println(tuple.productElement(<span class="number">1</span>))</span><br><span class="line">    <span class="comment">//ï¼ˆ2.3ï¼‰é€šè¿‡è¿­ä»£å™¨è®¿é—®æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- tuple.productIterator) &#123;</span><br><span class="line">      println(elem)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ï¼ˆ3ï¼‰Map ä¸­çš„é”®å€¼å¯¹å…¶å®å°±æ˜¯å…ƒç»„,åªä¸è¿‡å…ƒç»„çš„å…ƒç´ ä¸ªæ•°ä¸º 2ï¼Œç§°ä¹‹ä¸º å¯¹å¶</span></span><br><span class="line">    <span class="keyword">val</span> map = <span class="type">Map</span>(<span class="string">&quot;a&quot;</span>-&gt;<span class="number">1</span>, <span class="string">&quot;b&quot;</span>-&gt;<span class="number">2</span>, <span class="string">&quot;c&quot;</span>-&gt;<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">val</span> map1 = <span class="type">Map</span>((<span class="string">&quot;a&quot;</span>,<span class="number">1</span>), (<span class="string">&quot;b&quot;</span>,<span class="number">2</span>), (<span class="string">&quot;c&quot;</span>,<span class="number">3</span>))</span><br><span class="line">    map.foreach(tuple1=&gt;&#123;println(tuple1._1 + <span class="string">&quot;=&quot;</span> + tuple1._2)&#125;)</span><br><span class="line">    map1.foreach(tuple1=&gt;&#123;println(tuple1._1 + <span class="string">&quot;=&quot;</span> + tuple1._2)&#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* è¿è¡Œç»“æœ</span></span><br><span class="line"><span class="comment">40</span></span><br><span class="line"><span class="comment">bobo</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">bobo</span></span><br><span class="line"><span class="comment">40</span></span><br><span class="line"><span class="comment">bobo</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">a=1</span></span><br><span class="line"><span class="comment">b=2</span></span><br><span class="line"><span class="comment">c=3</span></span><br><span class="line"><span class="comment">a=1</span></span><br><span class="line"><span class="comment">b=2</span></span><br><span class="line"><span class="comment">c=3</span></span><br></pre></td></tr></table></figure><h3 id="é›†åˆå¸¸ç”¨å‡½æ•°">é›†åˆå¸¸ç”¨å‡½æ•°</h3><p><strong>åŸºæœ¬å±æ€§å’Œå¸¸ç”¨æ“ä½œ</strong></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test01_TestList</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)</span><br><span class="line">    <span class="comment">//ï¼ˆ1ï¼‰è·å–é›†åˆé•¿åº¦</span></span><br><span class="line">    println(list.length)</span><br><span class="line">    <span class="comment">//ï¼ˆ2ï¼‰è·å–é›†åˆå¤§å°,ç­‰åŒäº length</span></span><br><span class="line">    println(list.size)</span><br><span class="line">    <span class="comment">//ï¼ˆ3ï¼‰å¾ªç¯éå†</span></span><br><span class="line">    list.foreach(println)</span><br><span class="line">    <span class="comment">//ï¼ˆ4ï¼‰è¿­ä»£å™¨</span></span><br><span class="line">    <span class="keyword">for</span> (elem &lt;- list.iterator) &#123;</span><br><span class="line">      println(elem)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ï¼ˆ5ï¼‰ç”Ÿæˆå­—ç¬¦ä¸²</span></span><br><span class="line">    println(list.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    <span class="comment">//ï¼ˆ6ï¼‰æ˜¯å¦åŒ…å«</span></span><br><span class="line">    println(list.contains(<span class="number">3</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">7</span></span><br><span class="line"><span class="comment">7</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">6</span></span><br><span class="line"><span class="comment">7</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">6</span></span><br><span class="line"><span class="comment">7</span></span><br><span class="line"><span class="comment">1,2,3,4,5,6,7</span></span><br><span class="line"><span class="comment">true</span></span><br></pre></td></tr></table></figure><h4 id="è¡ç”Ÿé›†åˆ">è¡ç”Ÿé›†åˆ</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test02_TestListPlus</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> list1: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>,<span class="number">11</span>)</span><br><span class="line">    <span class="keyword">val</span> list2: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line">    <span class="comment">//ï¼ˆ1ï¼‰è·å–é›†åˆçš„å¤´</span></span><br><span class="line">    println(list1.head)</span><br><span class="line">    <span class="comment">//ï¼ˆ2ï¼‰è·å–é›†åˆçš„å°¾ï¼ˆä¸æ˜¯å¤´çš„å°±æ˜¯å°¾ é™¤å»ç¬¬ä¸€ä¸ªï¼‰</span></span><br><span class="line">    println(list1.tail)</span><br><span class="line">    <span class="comment">//ï¼ˆ3ï¼‰é›†åˆæœ€åä¸€ä¸ªæ•°æ®</span></span><br><span class="line">    println(list1.last)</span><br><span class="line">    <span class="comment">//ï¼ˆ4ï¼‰é›†åˆåˆå§‹æ•°æ® é™¤å»æœ€åä¸€ä¸ª</span></span><br><span class="line">    println(list1.init)</span><br><span class="line">    <span class="comment">//ï¼ˆ5ï¼‰åè½¬</span></span><br><span class="line">    println(list1.reverse)</span><br><span class="line">    println(list1.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//æŸ¥çœ‹å½“å‰æ•°æ®é¡ºåº</span></span><br><span class="line">    <span class="comment">//ï¼ˆ6ï¼‰å–å‰ï¼ˆåï¼‰n ä¸ªå…ƒç´ </span></span><br><span class="line">    println(list1.take(<span class="number">4</span>)) <span class="comment">//è·å–å‰å››ä¸ª</span></span><br><span class="line">    println(list1.takeRight(<span class="number">3</span>)) <span class="comment">//è·å–åå››ä¸ª</span></span><br><span class="line">    <span class="comment">//ï¼ˆ7ï¼‰å»æ‰å‰ï¼ˆåï¼‰n ä¸ªå…ƒç´ </span></span><br><span class="line">    println(list1.drop(<span class="number">3</span>))</span><br><span class="line">    println(list1.dropRight(<span class="number">3</span>))</span><br><span class="line">    println(list1.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//æŸ¥çœ‹å½“å‰æ•°æ®é¡ºåº</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ï¼ˆ8ï¼‰å¹¶é›†</span></span><br><span class="line">    println(list1.union(list2)) <span class="comment">//é‡å¤çš„ä¹Ÿä¼šå­˜åœ¨</span></span><br><span class="line">    <span class="comment">//ï¼ˆ9ï¼‰äº¤é›†</span></span><br><span class="line">    println(list1.intersect(list2))</span><br><span class="line">    <span class="comment">//ï¼ˆ10ï¼‰å·®é›†</span></span><br><span class="line">    println(list1.diff(list2))</span><br><span class="line">    println(list1.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//æŸ¥çœ‹å½“å‰æ•°æ®é¡ºåº</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ï¼ˆ11ï¼‰æ»‘çª—</span></span><br><span class="line">    list1.sliding(<span class="number">2</span>, <span class="number">5</span>).foreach(println) <span class="comment">// é•¿åº¦ä¸º2è¾“å‡º ä»å¤´å¼€å§‹ ä¸€æ¬¡5ä½æ­¥é•¿ 1 2 3 4 5 6 7 11</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ï¼ˆ11ï¼‰æ‹‰é“¾ æ³¨:å¦‚æœä¸¤ä¸ªé›†åˆçš„å…ƒç´ ä¸ªæ•°ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆä¼šå°†åŒç­‰æ•°é‡çš„æ•°æ®è¿›è¡Œæ‹‰é“¾ï¼Œå¤šä½™çš„æ•°æ®çœç•¥ä¸ç”¨ å–å°çš„</span></span><br><span class="line">    println(<span class="string">&quot;æ‹‰é“¾&quot;</span>)</span><br><span class="line">    println(list1.zip(list2)) <span class="comment">//è¯´ç™½äº†å°±æ˜¯ä¸Šä¸‹å¯¹åº”ç”Ÿæˆä¸€ä¸ªæ–°äºŒç»´åˆ—è¡¨ï¼ŒäºŒç»´åˆ—è¡¨é‡Œçš„åˆ—è¡¨æ˜¯ä¸¤ä¸ªå…ƒç´ </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*è¿è¡Œç»“æœ</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">List(2, 3, 4, 5, 6, 7, 11)</span></span><br><span class="line"><span class="comment">11</span></span><br><span class="line"><span class="comment">List(1, 2, 3, 4, 5, 6, 7)</span></span><br><span class="line"><span class="comment">List(11, 7, 6, 5, 4, 3, 2, 1)</span></span><br><span class="line"><span class="comment">1,2,3,4,5,6,7,11</span></span><br><span class="line"><span class="comment">List(1, 2, 3, 4)</span></span><br><span class="line"><span class="comment">List(6, 7, 11)</span></span><br><span class="line"><span class="comment">List(4, 5, 6, 7, 11)</span></span><br><span class="line"><span class="comment">List(1, 2, 3, 4, 5)</span></span><br><span class="line"><span class="comment">1,2,3,4,5,6,7,11</span></span><br><span class="line"><span class="comment">List(1, 2, 3, 4, 5, 6, 7, 11, 4, 5, 6, 7, 8, 9, 10)</span></span><br><span class="line"><span class="comment">List(4, 5, 6, 7)</span></span><br><span class="line"><span class="comment">List(1, 2, 3, 11)</span></span><br><span class="line"><span class="comment">1,2,3,4,5,6,7,11</span></span><br><span class="line"><span class="comment">List(1, 2)</span></span><br><span class="line"><span class="comment">List(6, 7)</span></span><br><span class="line"><span class="comment">æ‹‰é“¾</span></span><br><span class="line"><span class="comment">List((1,4), (2,5), (3,6), (4,7), (5,8), (6,9), (7,10))</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Process finished with exit code 0</span></span><br><span class="line"><span class="comment"></span></span><br></pre></td></tr></table></figure><h4 id="é›†åˆè®¡ç®—ç®€å•å‡½æ•°">é›†åˆè®¡ç®—ç®€å•å‡½æ•°</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test03_ListMath</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> list: <span class="type">List</span>[<span class="type">Int</span>] = <span class="type">List</span>(<span class="number">1</span>, <span class="number">5</span>, <span class="number">-3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">-7</span>, <span class="number">6</span>)</span><br><span class="line">    <span class="comment">//ï¼ˆ1ï¼‰æ±‚å’Œ</span></span><br><span class="line">    println(list.sum)</span><br><span class="line">    <span class="comment">//ï¼ˆ2ï¼‰æ±‚ä¹˜ç§¯</span></span><br><span class="line">    println(list.product)</span><br><span class="line">    <span class="comment">//ï¼ˆ3ï¼‰æœ€å¤§å€¼</span></span><br><span class="line">    println(list.max)</span><br><span class="line">    <span class="comment">//ï¼ˆ4ï¼‰æœ€å°å€¼</span></span><br><span class="line">    println(list.min)</span><br><span class="line">    <span class="comment">//ï¼ˆ5ï¼‰æ’åº</span></span><br><span class="line">    println(list.sorted) <span class="comment">// è‡ªç„¶æ’åº</span></span><br><span class="line">    <span class="comment">// ï¼ˆ5.1ï¼‰æŒ‰ç…§å…ƒç´ å¤§å°æ’åº</span></span><br><span class="line">    println(list.sortBy(x =&gt; x))</span><br><span class="line">    <span class="comment">// ï¼ˆ5.2ï¼‰æŒ‰ç…§å…ƒç´ çš„ç»å¯¹å€¼å¤§å°æ’åº</span></span><br><span class="line">    println(list.sortBy(x =&gt; x.abs))</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ï¼ˆ5.3ï¼‰æŒ‰å…ƒç´ å¤§å°å‡åºæ’åº</span></span><br><span class="line">    println(list.sortWith((x, y) =&gt; x &lt; y))</span><br><span class="line">    <span class="comment">// ï¼ˆ5.4ï¼‰æŒ‰å…ƒç´ å¤§å°é™åºæ’åº</span></span><br><span class="line">    println(list.sortWith((x, y) =&gt; x &gt; y))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">8</span></span><br><span class="line"><span class="comment">5040</span></span><br><span class="line"><span class="comment">6</span></span><br><span class="line"><span class="comment">-7</span></span><br><span class="line"><span class="comment">List(-7, -3, 1, 2, 4, 5, 6)</span></span><br><span class="line"><span class="comment">List(-7, -3, 1, 2, 4, 5, 6)</span></span><br><span class="line"><span class="comment">List(1, 2, -3, 4, 5, 6, -7)</span></span><br><span class="line"><span class="comment">List(-7, -3, 1, 2, 4, 5, 6)</span></span><br><span class="line"><span class="comment">List(6, 5, 4, 2, 1, -3, -7)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Process finished with exit code 0</span></span><br></pre></td></tr></table></figure><h3 id="é›†åˆè®¡ç®—é«˜çº§å‡½æ•°">é›†åˆè®¡ç®—é«˜çº§å‡½æ•°</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test04_HighLevelFunction_Map</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> list = <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>)</span><br><span class="line">    <span class="comment">//1.è¿‡æ»¤</span></span><br><span class="line">    <span class="comment">//é€‰å–å¶æ•°</span></span><br><span class="line">    println(list.filter(_ % <span class="number">2</span> == <span class="number">0</span> ))</span><br><span class="line">    <span class="comment">//é€‰å–å¥‡æ•°</span></span><br><span class="line">    println(list.filter(_ % <span class="number">2</span> == <span class="number">1</span> ))</span><br><span class="line">    println(<span class="string">&quot;=========================&quot;</span>)</span><br><span class="line">    <span class="comment">//2.map</span></span><br><span class="line">    <span class="comment">//é›†åˆå…ƒç´ æ˜ å°„</span></span><br><span class="line">    println(list.map(_ * <span class="number">2</span>)) <span class="comment">//é›†åˆæ¯ä¸ªæ•°ä¹˜2</span></span><br><span class="line">    println(list.map(x =&gt; x * x)) <span class="comment">//é›†åˆæ¯ä¸ªæ•°å¹³æ–¹</span></span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;=========================&quot;</span>)</span><br><span class="line">    <span class="comment">//3.æ‰å¹³åŒ–</span></span><br><span class="line">    <span class="keyword">val</span> nestedList: <span class="type">List</span>[<span class="type">List</span>[<span class="type">Int</span>]] = <span class="type">List</span>(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),<span class="type">List</span>(<span class="number">4</span>,<span class="number">5</span>),<span class="type">List</span>(<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>))</span><br><span class="line">    println(nestedList.flatten)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.æ‰å¹³åŒ–åŠ æ˜ å°„ flatMap ç›¸å½“äºå…ˆè¿›è¡Œ map æ“ä½œï¼Œåœ¨è¿›è¡Œ flattenæ“ä½œ</span></span><br><span class="line">    <span class="keyword">val</span> wordList: <span class="type">List</span>[<span class="type">String</span>] = <span class="type">List</span>(<span class="string">&quot;hello world&quot;</span>, <span class="string">&quot;hello atguigu&quot;</span>, <span class="string">&quot;hello scala&quot;</span>)</span><br><span class="line">    println(wordList.flatMap(_.split(<span class="string">&quot; &quot;</span>)))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ï¼ˆ5ï¼‰åˆ†ç»„</span></span><br><span class="line">    println(list.groupBy(_ % <span class="number">2</span> == <span class="number">0</span>))</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">List(2, 4, 6, 8)</span></span><br><span class="line"><span class="comment">List(1, 3, 5, 7, 9)</span></span><br><span class="line"><span class="comment">=========================</span></span><br><span class="line"><span class="comment">List(2, 4, 6, 8, 10, 12, 14, 16, 18)</span></span><br><span class="line"><span class="comment">List(1, 4, 9, 16, 25, 36, 49, 64, 81)</span></span><br><span class="line"><span class="comment">=========================</span></span><br><span class="line"><span class="comment">List(1, 2, 3, 4, 5, 6, 7, 8, 9)</span></span><br><span class="line"><span class="comment">List(hello, world, hello, atguigu, hello, scala)</span></span><br><span class="line"><span class="comment">Map(false -&gt; List(1, 3, 5, 7, 9), true -&gt; List(2, 4, 6, 8))</span></span><br></pre></td></tr></table></figure><h3 id="é˜Ÿåˆ—-2">é˜Ÿåˆ—</h3><p>Scala ä¹Ÿæä¾›äº†é˜Ÿåˆ—ï¼ˆQueueï¼‰çš„æ•°æ®ç»“æ„ï¼Œé˜Ÿåˆ—çš„ç‰¹ç‚¹å°±æ˜¯å…ˆè¿›å…ˆå‡ºã€‚è¿›é˜Ÿå’Œå‡ºé˜Ÿçš„æ–¹æ³•åˆ†åˆ«ä¸º enqueue å’Œ dequeueã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test11_Queue</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> que = <span class="keyword">new</span> mutable.<span class="type">Queue</span>[<span class="type">String</span>]()</span><br><span class="line">    que.enqueue(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>)</span><br><span class="line">    println(que.dequeue())</span><br><span class="line">    que.enqueue(<span class="string">&quot;T&quot;</span>)</span><br><span class="line">    println(que.dequeue())</span><br><span class="line">    println(que.dequeue())</span><br><span class="line">    println(que.dequeue())</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*çœ‹è¿è¡Œç»“æœå¾—çŸ¥ é˜Ÿåˆ—æ˜¯å–çš„æ—¶å€™ä¸€ä¸ªä¸€ä¸ªæ¥ï¼Œåé¢æ·»åŠ ä¹Ÿä¸èƒ½æ’é˜Ÿå–</span></span><br><span class="line"><span class="comment">a</span></span><br><span class="line"><span class="comment">b</span></span><br><span class="line"><span class="comment">c</span></span><br><span class="line"><span class="comment">T</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="å¹¶è¡Œé›†åˆ-2">å¹¶è¡Œé›†åˆ</h3><p>æ˜¯ä¸€ç§åˆ©ç”¨å¤šæ ¸CPUçš„é›†åˆï¼Œè¿›è¡Œå¤šæ ¸çš„å¹¶è¡Œè¿ç®—</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test12_Par</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> result1 = (<span class="number">0</span> to <span class="number">100</span>).map(_ =&gt;  <span class="type">Thread</span>.currentThread.getName)</span><br><span class="line">    <span class="keyword">val</span> result2 = (<span class="number">0</span> to <span class="number">100</span>).par.map(_ =&gt; <span class="type">Thread</span>.currentThread.getName)</span><br><span class="line">    println(result1)</span><br><span class="line">    println(result2)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœ</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220720144457598.png" alt="image-20220720144457598"></p><p>å¯è§åŸæœ¬çš„é›†åˆæ˜¯ä¸€ç›´éƒ½æ˜¯mainçº¿ç¨‹ï¼Œè€Œparçš„åˆ™æ˜¯åˆ©ç”¨äº†ä¸åŒçš„æ ¸å¿ƒï¼Œè¿™æ ·ä½¿å¾— é›†åˆåˆ›å»ºå’Œè¿è¡Œçš„æ•ˆç‡å¤§å¤§æé«˜ã€‚</p><h3 id="å¼‚å¸¸å¤„ç†-2">å¼‚å¸¸å¤„ç†</h3><p>å’Œjavaä¸€æ¨¡ä¸€æ ·ï¼Œåªæœ‰catchéƒ¨åˆ†æœ‰åŒºåˆ«ï¼ŒCatchåœ¨javaä¸­å¤šå¼‚å¸¸çš„æ—¶å€™ï¼Œå¤šå†™å‡ ä¸ªCatchå°±å¥½äº†ï¼Œåœ¨Scalaåˆ™æ˜¯å¤šå†™å‡ ä¸ªCaseã€‚å…·ä½“å®ç°ä»£ç å¦‚ä¸‹</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test01_Exception</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">val</span> n= <span class="number">10</span> / <span class="number">0</span></span><br><span class="line">      println(n)</span><br><span class="line"><span class="comment">//      println(&quot;abc&quot;.toInt)</span></span><br><span class="line">    &#125;<span class="keyword">catch</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> _: <span class="type">ArithmeticException</span>=&gt;</span><br><span class="line">        <span class="comment">// å‘ç”Ÿç®—æœ¯å¼‚å¸¸</span></span><br><span class="line">        println(<span class="string">&quot;å‘ç”Ÿç®—æœ¯å¼‚å¸¸&quot;</span>)</span><br><span class="line">      <span class="keyword">case</span> _: <span class="type">Exception</span>=&gt;</span><br><span class="line">        <span class="comment">// å¯¹å¼‚å¸¸å¤„ç†</span></span><br><span class="line">        println(<span class="string">&quot;å‘ç”Ÿäº†å¼‚å¸¸ 1&quot;</span>)</span><br><span class="line">        println(<span class="string">&quot;å‘ç”Ÿäº†å¼‚å¸¸ 2&quot;</span>)</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">      println(<span class="string">&quot;finally&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>æŠ›å‡ºå¼‚å¸¸ å…³é”®å­—å’Œjavaä¸€æ ·éƒ½æ˜¯throw</p><p>ä¸‹é¢æ˜¯è‡ªå·±å†™äº†ä¸€ä¸ªå¼‚å¸¸å¤„ç†åµŒå¥—çš„ç®€å•ä»£ç ï¼Œæˆ‘ç†è§£Scalaå’ŒJavaå¼‚å¸¸å¤„ç†æ˜¯æ²¡æœ‰å¤§å˜åŒ–çš„</p><p>åŒºåˆ«ç‚¹åœ¨å¼‚å¸¸æ•è·æœºåˆ¶ç­‰ï¼Œçœ‹æ–‡æ¡£ï¼Œä¸é‡è¦æ²¡æœ‰æ·±ç©¶</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test02_ExceptionThrow</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      test1()</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> _: <span class="type">Exception</span>=&gt; println(<span class="string">&quot;æŠ¥é”™å’¯&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        f11()</span><br><span class="line">        <span class="comment">//      println(&quot;abc&quot;.toInt)</span></span><br><span class="line">      &#125;<span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> _: <span class="type">ArithmeticException</span>=&gt;</span><br><span class="line">          <span class="comment">// å‘ç”Ÿç®—æœ¯å¼‚å¸¸</span></span><br><span class="line">          println(<span class="string">&quot;å‘ç”Ÿç®—æœ¯å¼‚å¸¸0&quot;</span>)</span><br><span class="line">        <span class="keyword">case</span> _: <span class="type">Exception</span>=&gt;</span><br><span class="line">          <span class="comment">// å¯¹å¼‚å¸¸å¤„ç†</span></span><br><span class="line">          println(<span class="string">&quot;å‘ç”Ÿäº†å¼‚å¸¸ 1&quot;</span>)</span><br><span class="line">          println(<span class="string">&quot;å‘ç”Ÿäº†å¼‚å¸¸ 2&quot;</span>)</span><br><span class="line">      &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        println(<span class="string">&quot;finally&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@throws</span>(classOf[<span class="type">NumberFormatException</span>])</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">f11</span></span>()=&#123;</span><br><span class="line">    <span class="string">&quot;abc&quot;</span>.toInt</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">test1</span></span>(): <span class="type">Nothing</span> = &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">Exception</span>(<span class="string">&quot;ä¸å¯ä»¥å“¦&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¨¡å¼åŒ¹é…-2">æ¨¡å¼åŒ¹é…</h3><p>æˆ‘æ„Ÿè§‰åƒæ˜¯switchçš„è¶…çº§å‡çº§ç‰ˆï¼ŒåŸºç¡€ä½¿ç”¨çš„è¯æ˜¯å·®ä¸å¤šçš„ï¼Œä½†æ˜¯Scalaç”¨ä¸Šé—­åŒ…å’ŒæŸ¯é‡ŒåŒ–ï¼Œèƒ½è®©æ¨¡å¼åŒ¹é…å˜å¾—å¾ˆå¼ºå¤§ï¼Œå¯ä»¥ä»£æ›¿Ifå‡½æ•°ã€‚</p><p>å¦‚ä¸‹æ˜¯åŸºç¡€ä½¿ç”¨ï¼Œäº†è§£è¯­æ³•</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test01_MatchCase</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(<span class="string">&quot;è¯·è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—:&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> a: <span class="type">Int</span> = <span class="type">StdIn</span>.readInt()</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;è¯·è¾“å…¥ä½ è¦è¿›è¡Œçš„æ“ä½œ (+ - * /)&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> c = <span class="type">StdIn</span>.readChar()</span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;è¯·è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—:&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> b: <span class="type">Int</span> = <span class="type">StdIn</span>.readInt()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">result</span></span>(x:<span class="type">Char</span>) = x <span class="keyword">match</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> &#x27;+&#x27; =&gt; a + b</span><br><span class="line">      <span class="keyword">case</span> &#x27;-&#x27; =&gt; a - b</span><br><span class="line">      <span class="keyword">case</span> &#x27;*&#x27; =&gt; a * b</span><br><span class="line">      <span class="keyword">case</span> &#x27;/&#x27; =&gt; a / b</span><br><span class="line">      <span class="keyword">case</span> _ =&gt; <span class="string">&quot;illegal&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(<span class="string">&quot;è¯·è¾“å…¥ä½ è¦è¿›è¡Œçš„æ“ä½œ (+ - * /)&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> value = result(c)</span><br><span class="line">    println(<span class="string">s&quot;<span class="subst">$a</span> <span class="subst">$c</span> <span class="subst">$b</span> = <span class="subst">$value</span>&quot;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡_æ¥è¿›è¡Œè¾“å…¥ç±»å‹åˆ¤æ–­</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test02_MatchVal</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    println(describe(<span class="number">6</span>))</span><br><span class="line">    <span class="comment">//æ³›å‹æ“¦é™¤</span></span><br><span class="line">    println(describe(<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)))</span><br><span class="line">    <span class="comment">//æ•°ç»„ä¾‹å¤–ï¼Œå¯ä¿ç•™æ³›å‹</span></span><br><span class="line">    println(describe(<span class="type">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)))</span><br><span class="line">    println(describe(<span class="type">Array</span>(<span class="string">&quot;abc&quot;</span>))) <span class="comment">//æ˜¯javaä¸­langåŒ…çš„æ³›å‹</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">describe</span></span>(x: <span class="type">Any</span>) = x <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> i: <span class="type">Int</span> =&gt; <span class="string">&quot;Int&quot;</span></span><br><span class="line">    <span class="keyword">case</span> s: <span class="type">String</span> =&gt; <span class="string">&quot;String hello&quot;</span></span><br><span class="line">    <span class="keyword">case</span> m: <span class="type">List</span>[_] =&gt; <span class="string">&quot;List&quot;</span></span><br><span class="line">    <span class="keyword">case</span> c: <span class="type">Array</span>[<span class="type">Int</span>] =&gt; <span class="string">&quot;Array[Int]&quot;</span></span><br><span class="line">    <span class="keyword">case</span> someThing =&gt; <span class="string">&quot;something else &quot;</span> + someThing</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Int</span></span><br><span class="line"><span class="comment">List</span></span><br><span class="line"><span class="comment">Array[Int]</span></span><br><span class="line"><span class="comment">something else [Ljava.lang.String;@6debcae2</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Process finished with exit code 0</span></span><br><span class="line"><span class="comment"></span></span><br></pre></td></tr></table></figure><p>æ¨¡å¼åŒ¹é…çš„ç”¨æ³•å¾ˆå¤šï¼Œä½†å¤§è‡´ä½¿ç”¨éƒ½ä¸€æ ·ï¼Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ã€‚</p><h2 id="5-BUGç‚¹-5">5.BUGç‚¹</h2><p>è‡ªå·±å†™æ‰©å±•ç»ƒä¹ çš„æ—¶å€™ï¼ŒæŠ¥é”™äº†ï¼Œå› ä¸ºè‡ªå·±å¯¹Scalaä¸­å…ƒç»„çš„._è¿™ç”¨æ³•ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œéƒ½æ˜¯è¾¹çœ‹ç¬”è®°è¾¹æ•²å‡ºæ¥ï¼Œçœ‹æç¤ºä¿¡æ¯ï¼Œæ˜¯16è¡Œç±»å‹å‡ºç°çš„é—®é¢˜ï¼Œæˆ‘å…ˆæŠŠå‰é¢å£°æ˜ç±»å‹åˆ é™¤äº†ï¼Œè®©ç³»ç»Ÿè‡ªå·±å»åŒ¹é…ç±»å‹ï¼Œç»“æœåé¢åˆä¼šæœ‰ä¸€æ¡æŠ¥é”™ï¼Œæ¥å›æ£€æŸ¥å‘ç°x._2æ˜¯Mapå˜æˆçš„listï¼Œè€Œæˆ‘è¦åšçš„çš„æ˜¯ç»Ÿè®¡æ¬¡æ•°ï¼Œå› æ­¤åé¢åº”è¯¥æ˜¯x._2çš„sizeæˆ–è€…lengthæ–¹æ³•ï¼Œç»Ÿè®¡å‡ºlistçš„é•¿åº¦ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220723111125032.png" alt="image-20220723111125032"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-5">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="è®°æ•°æ’åº">è®°æ•°æ’åº</h3><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Test07_subject</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// å•è¯è®¡æ•°ï¼šå°†é›†åˆä¸­å‡ºç°çš„ç›¸åŒçš„å•è¯ï¼Œè¿›è¡Œè®¡æ•°ï¼Œå–è®¡æ•°æ’åå‰ä¸‰çš„ç»“æœ</span></span><br><span class="line">    <span class="keyword">val</span> stringList = <span class="type">List</span>(<span class="string">&quot;Hello Scala Hbase kafka&quot;</span>, <span class="string">&quot;Hello Scala Hbase&quot;</span>, <span class="string">&quot;Hello Scala&quot;</span>, <span class="string">&quot;Hello&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1) å°†æ¯ä¸€ä¸ªå­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªä¸€ä¸ªå•è¯</span></span><br><span class="line">    <span class="keyword">val</span> wordList: <span class="type">List</span>[<span class="type">String</span>] = stringList.flatMap(_.split(<span class="string">&quot; &quot;</span>))</span><br><span class="line">        println(wordList)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2) å°†ç›¸åŒçš„å•è¯æ”¾ç½®åœ¨ä¸€èµ·</span></span><br><span class="line">    <span class="keyword">val</span> wordToMap: <span class="type">Map</span>[<span class="type">String</span>,<span class="type">List</span>[<span class="type">String</span>]] = wordList.groupBy(a =&gt; a)</span><br><span class="line">        println(wordToMap)</span><br><span class="line">    <span class="comment">// 3) å¯¹ç›¸åŒçš„å•è¯è¿›è¡Œè®¡æ•°</span></span><br><span class="line">    <span class="keyword">val</span> wordToMapCount: <span class="type">Map</span>[<span class="type">String</span>,<span class="type">Int</span>] = wordToMap.map(x =&gt; (x._1, x._2.size))</span><br><span class="line">    println(wordToMapCount)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4) å¯¹è®¡æ•°å®Œæˆåçš„ç»“æœè¿›è¡Œæ’åºï¼ˆé™åºï¼‰</span></span><br><span class="line">    <span class="keyword">val</span> wordListToCount : <span class="type">List</span>[(<span class="type">String</span>, <span class="type">Int</span>)]= wordToMapCount.toList</span><br><span class="line">    <span class="keyword">val</span> sortList =wordListToCount.sortWith &#123;</span><br><span class="line">      (x, y) =&gt; &#123;</span><br><span class="line">        x._2 &gt; y._2</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    println(sortList)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5) å¯¹æ’åºåçš„ç»“æœå–å‰ 3 å</span></span><br><span class="line">    println(sortList.take(<span class="number">3</span>))</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-6">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ çŠ¶æ€éå¸¸ä¸é”™ï¼Œå·²ç»ç†Ÿç»ƒæŒæ¡äº†çœ‹æ–‡æ¡£çš„æŠ€èƒ½äº†ï¼Œä¸€å¤©çœ‹äº†å°†è¿‘è§†é¢‘çš„70é›†ã€‚Scalaåé¢çš„é¢å‘å¯¹è±¡å’Œé›†åˆæ–¹é¢éƒ½æ˜¯ä»¥ä»£ç ä¸ºä¸»ï¼Œé€»è¾‘æ€§çš„é—®é¢˜ï¼Œåœ¨Javaæ—©å°±ç‰¢è®°äºå¿ƒäº†ï¼Œçœ‹æ–‡æ¡£çš„æ¡ˆä¾‹ï¼Œå¤åˆ¶åˆ°IDEAï¼Œè‡ªå·±åŸºæœ¬å°±èƒ½åˆ†æå‡ºæ¥æ–¹æ³•çš„ä½œç”¨ï¼Œä»¥åŠä½¿ç”¨åœºæ™¯ã€‚éš¾ç‚¹å’ŒScalaç‹¬ç‰¹çš„ç‚¹æ˜¯åŒä¸€ç‚¹ï¼Œå°±æ˜¯å…ƒç»„çš„._ä½¿ç”¨ï¼Œ<code>._</code>èƒ½å¾ˆå¤§ç¨‹åº¦ä¸Šä¼˜åŒ–Scalaçš„ä»£ç é•¿åº¦ï¼Œè®©ä»£ç æ›´ç®€æ´ï¼Œè€Œä¸”<code>._</code>åŒ¿åè°ƒç”¨é›†åˆä¸­çš„å…ƒç´ ï¼Œä»¥åŠåˆ—è¡¨ä¸­åµŒå…ƒç»„ï¼ŒMapé›†åˆä¸­åµŒåˆ—è¡¨ï¼ŒäºŒç»´åˆ—è¡¨ä¸­æ˜¯å¶å…ƒç»„ï¼Œè¿™ç§åœºæ™¯ä¸‹ï¼Œå°±æ˜¾å¾—éå¸¸å¥½ç”¨ï¼Œåœ¨forå¾ªç¯éå†ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å…ƒç»„è¿˜æ˜¯Scalaæ¯”è¾ƒé‡è¦ï¼Œå®ç”¨çš„ç‚¹ã€‚ä»Šæ—¥ç®—è¶…é¢å®Œæˆä»»åŠ¡äº†ï¼Œè¿›å…¥äº†Sparkçš„å­¦ä¹ ï¼Œé…ç½®å¥½äº†åŸºæœ¬ç¯å¢ƒï¼Œå°†å¿«é€Ÿä¸Šæ‰‹å°æ¡ˆä¾‹åšäº†å‡ºæ¥ï¼Œæœ‰å‰é¢Hadoopçš„é“ºå«ï¼ŒSparkç†è§£åº”è¯¥ä¼šç¨å¾®å®¹æ˜“ç‚¹çš„ï¼Œå¸Œæœ›æ˜å¤©æ­£å¼è¿›å…¥Sparkçš„å­¦ä¹ çŠ¶æ€èƒ½å’Œä»Šå¤©ä¸€æ ·å§ã€‚</p><h1 id="7-21-Sparkå…¥é—¨">7.21 Sparkå…¥é—¨</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-11">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-11">2.æ ‡é¢˜</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">P1001</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - ç®€ä»‹<span class="number">4</span>:<span class="number">54</span></span><br><span class="line"><span class="attribute">P2002</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - Vs Hadoop<span class="number">7</span>:<span class="number">49</span></span><br><span class="line"><span class="attribute">P3003</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - æ ¸å¿ƒæ¨¡å— - ä»‹ç»<span class="number">2</span>:<span class="number">24</span></span><br><span class="line"><span class="attribute">P4004</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - å¿«é€Ÿä¸Šæ‰‹ - å¼€å‘ç¯å¢ƒå‡†å¤‡<span class="number">5</span>:<span class="number">46</span></span><br><span class="line"><span class="attribute">P5005</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - å¿«é€Ÿä¸Šæ‰‹ - WordCount - æ¡ˆä¾‹åˆ†æ<span class="number">7</span>:<span class="number">57</span></span><br><span class="line"><span class="attribute">P6006</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - å¿«é€Ÿä¸Šæ‰‹ - WordCount - Sparkç¯å¢ƒ<span class="number">7</span>:<span class="number">07</span></span><br><span class="line"><span class="attribute">P7007</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - å¿«é€Ÿä¸Šæ‰‹ - WordCount - åŠŸèƒ½å®ç°<span class="number">11</span>:<span class="number">56</span></span><br><span class="line"><span class="attribute">P8008</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - å¿«é€Ÿä¸Šæ‰‹ - WordCount - ä¸åŒçš„å®ç°<span class="number">8</span>:<span class="number">31</span></span><br><span class="line"><span class="attribute">P9009</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - å¿«é€Ÿä¸Šæ‰‹ - WordCount - Sparkçš„å®ç°<span class="number">4</span>:<span class="number">24</span></span><br><span class="line"><span class="attribute">P10010</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - å¿«é€Ÿä¸Šæ‰‹ - WordCount - æ—¥å¿—å’Œé”™è¯¯<span class="number">3</span>:<span class="number">50</span></span><br><span class="line"><span class="attribute">P11011</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - è¿è¡Œç¯å¢ƒ - æœ¬åœ°ç¯å¢ƒ - åŸºæœ¬é…ç½®å’Œæ“ä½œ<span class="number">8</span>:<span class="number">11</span></span><br><span class="line"><span class="attribute">P12012</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - è¿è¡Œç¯å¢ƒ - æœ¬åœ°ç¯å¢ƒ - æäº¤åº”ç”¨ç¨‹åº<span class="number">3</span>:<span class="number">10</span></span><br><span class="line"><span class="attribute">P13013</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - è¿è¡Œç¯å¢ƒ - ç‹¬ç«‹éƒ¨ç½²ç¯å¢ƒ - åŸºæœ¬é…ç½®å’Œæ“ä½œ<span class="number">6</span>:<span class="number">13</span></span><br><span class="line"><span class="attribute">P14014</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - è¿è¡Œç¯å¢ƒ - ç‹¬ç«‹éƒ¨ç½²ç¯å¢ƒ - æäº¤å‚æ•°è§£æ<span class="number">3</span>:<span class="number">08</span></span><br><span class="line"><span class="attribute">P15015</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - è¿è¡Œç¯å¢ƒ - ç‹¬ç«‹éƒ¨ç½²ç¯å¢ƒ - é…ç½®å†å²æœåŠ¡<span class="number">4</span>:<span class="number">08</span></span><br><span class="line"><span class="attribute">P16016</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - è¿è¡Œç¯å¢ƒ - ç‹¬ç«‹éƒ¨ç½²ç¯å¢ƒ - é…ç½®é«˜å¯ç”¨<span class="number">5</span>:<span class="number">51</span></span><br><span class="line"><span class="attribute">P17017</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - è¿è¡Œç¯å¢ƒ - Yarnç¯å¢ƒ - åŸºæœ¬é…ç½® &amp; å†å²æœåŠ¡<span class="number">6</span>:<span class="number">42</span></span><br><span class="line"><span class="attribute">P18018</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - è¿è¡Œç¯å¢ƒ - Windowsç¯å¢ƒ &amp; æ€»ç»“<span class="number">11</span>:<span class="number">06</span></span><br><span class="line"><span class="attribute">P19019</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - æ ¸å¿ƒç»„ä»¶ - ä»‹ç»<span class="number">3</span>:<span class="number">33</span></span><br><span class="line"><span class="attribute">P20020</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - æ ¸å¿ƒæ¦‚å¿µ - Executor &amp; Core &amp; å¹¶è¡Œåº¦<span class="number">3</span>:<span class="number">31</span></span><br><span class="line"><span class="attribute">P21021</span>.å°šç¡…è°·_Sparkæ¡†æ¶ - æ ¸å¿ƒæ¦‚å¿µ - DAG &amp; æäº¤æµç¨‹ &amp; Yarnä¸¤ç§éƒ¨ç½²æ¨¡å¼<span class="number">7</span>:<span class="number">00</span></span><br><span class="line"><span class="attribute">P22022</span>.å°šç¡…è°·_SparkCore - åˆ†å¸ƒå¼è®¡ç®—æ¨¡æ‹Ÿ - æ­å»ºåŸºç¡€çš„æ¶å­<span class="number">12</span>:<span class="number">48</span></span><br><span class="line"><span class="attribute">P23023</span>.å°šç¡…è°·_SparkCore - åˆ†å¸ƒå¼è®¡ç®—æ¨¡æ‹Ÿ - å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è®¡ç®—ä»»åŠ¡<span class="number">10</span>:<span class="number">50</span></span><br><span class="line"><span class="attribute">P24024</span>.å°šç¡…è°·_SparkCore - åˆ†å¸ƒå¼è®¡ç®—æ¨¡æ‹Ÿ - æ•°æ®ç»“æ„å’Œåˆ†å¸ƒå¼è®¡ç®—<span class="number">11</span>:<span class="number">39</span></span><br><span class="line"><span class="attribute">P25025</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - æ¦‚å¿µä»‹ç»<span class="number">5</span>:<span class="number">31</span></span><br><span class="line"><span class="attribute">P26026</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - IOåŸºæœ¬å®ç°åŸç† - <span class="number">1</span><span class="number">10</span>:<span class="number">11</span></span><br><span class="line"><span class="attribute">P27027</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - IOåŸºæœ¬å®ç°åŸç† - <span class="number">2</span><span class="number">8</span>:<span class="number">49</span></span><br><span class="line"><span class="attribute">P28028</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - RDDå’ŒIOä¹‹é—´çš„å…³ç³»<span class="number">12</span>:<span class="number">24</span></span><br><span class="line"><span class="attribute">P29029</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - ç‰¹ç‚¹<span class="number">13</span>:<span class="number">34</span></span><br><span class="line"><span class="attribute">P30030</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - äº”å¤§ä¸»è¦é…ç½®<span class="number">11</span>:<span class="number">19</span></span><br><span class="line"><span class="attribute">P31031</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - æ‰§è¡ŒåŸç†<span class="number">3</span>:<span class="number">05</span></span><br><span class="line"><span class="attribute">P32032</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - åˆ›å»º - å†…å­˜<span class="number">11</span>:<span class="number">02</span></span><br><span class="line"><span class="attribute">P33033</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - åˆ›å»º - æ–‡ä»¶<span class="number">6</span>:<span class="number">28</span></span><br><span class="line"><span class="attribute">P34034</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - åˆ›å»º - æ–‡ä»¶<span class="number">1</span><span class="number">4</span>:<span class="number">42</span></span><br><span class="line"><span class="attribute">P35035</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - é›†åˆæ•°æ®æº - åˆ†åŒºçš„è®¾å®š<span class="number">11</span>:<span class="number">41</span></span><br><span class="line"><span class="attribute">P36036</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - é›†åˆæ•°æ®æº - åˆ†åŒºæ•°æ®çš„åˆ†é…<span class="number">13</span>:<span class="number">54</span></span><br><span class="line"><span class="attribute">P37037</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - æ–‡ä»¶æ•°æ®æº - åˆ†åŒºçš„è®¾å®š<span class="number">11</span>:<span class="number">33</span></span><br><span class="line"><span class="attribute">P38038</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - æ–‡ä»¶æ•°æ®æº - åˆ†åŒºæ•°æ®çš„åˆ†é…<span class="number">8</span>:<span class="number">21</span></span><br><span class="line"><span class="attribute">P39039</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - æ–‡ä»¶æ•°æ®æº - åˆ†åŒºæ•°æ®çš„åˆ†é… - æ¡ˆä¾‹åˆ†æ<span class="number">6</span>:<span class="number">13</span></span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-11">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="Sparkçš„å¿«é€Ÿä¸Šæ‰‹">Sparkçš„å¿«é€Ÿä¸Šæ‰‹</h3><h4 id="Sparkåœ¨Linuxçš„éƒ¨ç½²é…ç½®">Sparkåœ¨Linuxçš„éƒ¨ç½²é…ç½®</h4><h4 id="RDDç®€ä»‹-å’Œ-é€»è¾‘ä»¥åŠæ‰§è¡Œè¿‡ç¨‹-åŸç†">RDDç®€ä»‹ å’Œ é€»è¾‘ä»¥åŠæ‰§è¡Œè¿‡ç¨‹ åŸç†</h4><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-9">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="Sparkçš„å¿«é€Ÿä¸Šæ‰‹-2">Sparkçš„å¿«é€Ÿä¸Šæ‰‹</h3><p>Spark ç”± Scala è¯­è¨€å¼€å‘çš„ï¼Œæ‰€ä»¥æœ¬è¯¾ä»¶æ¥ä¸‹æ¥çš„å¼€å‘æ‰€ä½¿ç”¨çš„è¯­è¨€ä¹Ÿä¸º Scala</p><p>åœ¨IDEAä¸­åˆ›å»ºMavené¡¹ç›®</p><p>å¢åŠ ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-core_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="WorldCountæ¡ˆä¾‹">WorldCountæ¡ˆä¾‹</h4><p>è¿™ä¸ªæ¡ˆä¾‹æ˜¨å¤©æ‹¿scalaåˆšåšè¿‡  åŸºæœ¬é€»è¾‘æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯åœ¨Sparkæ¡†æ¶æœ‰æ›´ç®€å•çš„æ–¹æ³•ï¼Œä½œè€…å·²ç»æä¾›ï¼Œä¸åŒçš„æ˜¯è¦å…ˆå»ºç«‹å’Œæ¡†æ¶çš„è¿æ¥ å†å»æ‰§è¡Œæ“ä½œï¼Œçœ‹å¾—å‡ºæ¥ï¼Œåº•å±‚æºç éƒ½æ˜¯Scala</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BigDataSparkDay1</span>.wc</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark01_wordCount</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Application</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//Sparkæ¡†æ¶</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å»ºç«‹å’ŒSparkæ¡†æ¶çš„è¿æ¥</span></span><br><span class="line">    <span class="comment">//JDBC:Connection</span></span><br><span class="line">    <span class="keyword">val</span> conf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local&quot;</span>).setAppName(<span class="string">&quot;WordCount&quot;</span>)</span><br><span class="line">    <span class="comment">// åˆ›å»º Spark ä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡ï¼ˆè¿æ¥å¯¹è±¡ï¼‰</span></span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(conf)</span><br><span class="line"><span class="comment">//    sc.textFile(&quot;data/word.txt&quot;).flatMap(_.split(&quot; &quot;)).map((_,1)).reduceByKey(_+_).collect()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO æ‰§è¡Œä¸šåŠ¡æ“ä½œ</span></span><br><span class="line">    <span class="comment">// è¯»å–æ–‡ä»¶æ•°æ®</span></span><br><span class="line">    <span class="keyword">val</span> fileRDD: <span class="type">RDD</span>[<span class="type">String</span>] = sc.textFile(<span class="string">&quot;../bigdata/datas&quot;</span>)</span><br><span class="line">    <span class="comment">// å°†æ–‡ä»¶ä¸­çš„æ•°æ®è¿›è¡Œåˆ†è¯</span></span><br><span class="line">    <span class="keyword">val</span> wordRDD: <span class="type">RDD</span>[<span class="type">String</span>] = fileRDD.flatMap( _.split(<span class="string">&quot; &quot;</span>) )</span><br><span class="line">    <span class="comment">// è½¬æ¢æ•°æ®ç»“æ„ word =&gt; (word, 1)</span></span><br><span class="line">    <span class="keyword">val</span> <span class="type">WorldToOne</span>:<span class="type">RDD</span>[(<span class="type">String</span>,<span class="type">Int</span>)] = wordRDD.map((_, <span class="number">1</span>))</span><br><span class="line">    <span class="comment">// å°†è½¬æ¢ç»“æ„åçš„æ•°æ®æŒ‰ç…§ç›¸åŒçš„å•è¯è¿›è¡Œåˆ†ç»„èšåˆ</span></span><br><span class="line"><span class="comment">//    val WordGroup:RDD[(String,Iterable[(String,Int)])] = WorldToOne.groupBy(</span></span><br><span class="line"><span class="comment">//      t =&gt; t._1</span></span><br><span class="line"><span class="comment">//    )</span></span><br><span class="line"><span class="comment">//    val wordCount = WordGroup.map &#123;</span></span><br><span class="line"><span class="comment">//      case (_, y) =&gt;</span></span><br><span class="line"><span class="comment">//        y.reduce(</span></span><br><span class="line"><span class="comment">//          (y1, y2) =&gt; (y1._1, y1._2 + y2._2)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//        )</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    <span class="keyword">val</span> wordCount = <span class="type">WorldToOne</span>.reduceByKey(_ + _)</span><br><span class="line">    <span class="comment">// å°†æ•°æ®èšåˆç»“æœé‡‡é›†åˆ°å†…å­˜ä¸­</span></span><br><span class="line">    <span class="keyword">val</span> word2Count = wordCount.collect()</span><br><span class="line">    <span class="comment">// æ‰“å°ç»“æœ</span></span><br><span class="line">    word2Count.foreach(println)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­è¿æ¥</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RDDç®€ä»‹">RDDç®€ä»‹</h3><p>å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†ï¼Œæ˜¯ Spark ä¸­æœ€åŸºæœ¬çš„æ•°æ®å¤„ç†æ¨¡å‹ã€‚ä»£ç ä¸­æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®ƒä»£è¡¨ä¸€ä¸ªå¼¹æ€§çš„ã€ä¸å¯å˜ã€å¯åˆ†åŒºã€é‡Œé¢çš„å…ƒç´ å¯å¹¶è¡Œè®¡ç®—çš„<strong>é›†åˆ</strong></p><p>è‡ªå·±ç†è§£ï¼šRDDçš„å¼¹æ€§å®‰å…¨æ€§æ¯”è¾ƒå¥½ï¼Œé«˜å®¹é”™ï¼Œé€‚åˆå¼€å‘ã€‚å®ƒæ˜¯ä¸€ä¸ªé›†åˆï¼Œä½†å¹¶ä¸ä¿å­˜æ•°æ®ï¼Œè€Œä¸”å°è£…äº†è®¡ç®—é€»è¾‘ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œéœ€è¦å…¶ä»–çš„å­ç±»æ¥å…·ä½“å®ç°ã€‚</p><h4 id="æ‰§è¡ŒåŸç†">æ‰§è¡ŒåŸç†</h4><p>RDDå…ˆç”³è¯·èµ„æºï¼Œç„¶åå°†åº”ç”¨ç¨‹åºçš„æ•°æ®å¤„ç†é€»è¾‘åˆ†è§£æˆä¸€ä¸ªä¸€ä¸ªçš„è®¡ç®—ä»»åŠ¡ã€‚ç„¶åå°†ä»»åŠ¡å‘åˆ°å·²ç»åˆ†é…èµ„æºçš„è®¡ç®—èŠ‚ç‚¹ä¸Š, æŒ‰ç…§æŒ‡å®šçš„è®¡ç®—æ¨¡å‹è¿›è¡Œæ•°æ®è®¡ç®—ã€‚æœ€åå¾—åˆ°è®¡ç®—ç»“æœã€‚</p><p>åœ¨Yarnä¸­çš„æ‰§è¡ŒåŸç†</p><h5 id="1-å¯åŠ¨ç¯å¢ƒ">1.å¯åŠ¨ç¯å¢ƒ</h5><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220722141756608.png" alt="image-20220722141756608"></p><h5 id="2-Sparké€šè¿‡ç”³è¯·èµ„æºåˆ›å»ºèŠ‚ç‚¹">2.Sparké€šè¿‡ç”³è¯·èµ„æºåˆ›å»ºèŠ‚ç‚¹</h5><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220722141829718.png" alt="image-20220722141829718"></p><h5 id="3-æ ¹æ®éœ€æ±‚æ ¹æ®åˆ†åŒºåˆ’åˆ†ä»»åŠ¡">3.æ ¹æ®éœ€æ±‚æ ¹æ®åˆ†åŒºåˆ’åˆ†ä»»åŠ¡</h5><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220722141903056.png" alt="image-20220722141903056"></p><h5 id="4-è°ƒåº¦èŠ‚ç‚¹å°†ä»»åŠ¡æ ¹æ®è®¡ç®—èŠ‚ç‚¹çŠ¶æ€å‘é€åˆ°å¯¹åº”çš„è®¡ç®—èŠ‚ç‚¹è¿›è¡Œè®¡ç®—">4.è°ƒåº¦èŠ‚ç‚¹å°†ä»»åŠ¡æ ¹æ®è®¡ç®—èŠ‚ç‚¹çŠ¶æ€å‘é€åˆ°å¯¹åº”çš„è®¡ç®—èŠ‚ç‚¹è¿›è¡Œè®¡ç®—</h5><p>å¦‚ä¸‹å›¾</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220722141944559.png" alt="image-20220722141944559"></p><p>æ ¹æ®è¿™å››å¹…å›¾ï¼Œä¾¿èƒ½çœ‹å‡ºæ¥RDDçš„ æµç¨‹ä¸­çš„ä½œç”¨ä¸»è¦å°±æ˜¯å°†é€»è¾‘å°è£…ï¼Œç”ŸæˆTaskä¹Ÿå°±æ˜¯ä»»åŠ¡ç‚¹ï¼Œå‘é€ç»™ExecutorèŠ‚ç‚¹</p><h3 id="RDDåˆ›å»º">RDDåˆ›å»º</h3><p>åœ¨ Spark ä¸­åˆ›å»º RDD çš„åˆ›å»ºæ–¹å¼å¯ä»¥åˆ†ä¸ºå››ç§ï¼š</p><p>åœ¨æ–‡ä»¶ä¸­åˆ›å»ºRDD ç”¨<code>makeRDD</code></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BigDataSparkDay1</span>.wc</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">SPark02_RDD_Memory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//å‡†å¤‡ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;RDD&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºRDD</span></span><br><span class="line">    <span class="comment">//ä»å†…å­˜ä¸­åˆ›å»ºRDDï¼Œå°†å†…å­˜ä¸­é›†åˆçš„æ•°æ®ä½œä¸ºå¤„ç†çš„æ•°æ®æº</span></span><br><span class="line">    <span class="keyword">val</span> seq = <span class="type">Seq</span>[<span class="type">Int</span>](<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//parallelize å¹¶è¡Œ</span></span><br><span class="line"><span class="comment">//    val rdd : RDD[Int]= sc.parallelize(seq)</span></span><br><span class="line">    <span class="comment">//makeRDDæ–¹æ³•åœ¨åº•å±‚å®ç°æ—¶å…¶å®å°±æ˜¯è°ƒç”¨äº†rddå¯¹è±¡çš„parallelizeæ–¹æ³• ä»¥åéƒ½ç”¨sc.makeRDD</span></span><br><span class="line">    <span class="keyword">val</span> rdd = sc.makeRDD(seq)</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    rdd.collect().foreach(println)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‰©ä¸‹ä¸‰ç§æš‚æ—¶è¯´æ˜¯ç”¨ä¸åˆ°</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220722142947372.png" alt="image-20220722142947372"></p><h4 id="RDDè¯»å–æ–‡ä»¶-è·¯å¾„é—®é¢˜">RDDè¯»å–æ–‡ä»¶ è·¯å¾„é—®é¢˜</h4><p>ä»£ç æ³¨è§£ä¸­å·²ç»è§£é‡Š</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BigDataSparkDay1</span>.wc</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">SPark03_RDD_File</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡æ–‡ä»¶ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;RDD&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºRDD</span></span><br><span class="line">    <span class="comment">//ä»æ–‡ä»¶ä¸­åˆ›å»ºRDDï¼Œå°†å†…å­˜ä¸­é›†åˆçš„æ•°æ®ä½œä¸ºå¤„ç†çš„æ•°æ®æº</span></span><br><span class="line">    <span class="comment">//pathè·¯å¾„é»˜è®¤ä»¥å½“å‰ç¯å¢ƒçš„æ ¹è·¯å¾„ä¸ºåŸºå‡† å¯ä»¥å†™ç»å¯¹è·¯å¾„ä¹Ÿå¯ä»¥å†™ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="comment">//    val rdd = sc.textFile(&quot;datas/1.txt&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val rdd:RDD[String] = sc.textFile(&quot;datas&quot;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¹Ÿå¯ä»¥åœ¨HDFSåœ¨å¤–éƒ¨ è¯»å–</span></span><br><span class="line">    <span class="comment">//    sc.textFile(&quot;hdfs://hadoop86/test.txt&quot;)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//textFile:ä»¥è¡Œä¸ºå•ä½æ¥è¯»å–æ•°æ® è¯»å–æ˜¯å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="comment">//wholeTextFiles:ä»¥æ–‡ä»¶ä¸ºå•ä½æ¥è¯»å–æ•°æ® è¯»å–çš„æ•°æ®æ˜¯å…ƒç»„ ç¬¬ä¸€ä¸ªæ•°æ®æ˜¯è·¯å¾„</span></span><br><span class="line">    <span class="keyword">val</span> rdd:<span class="type">RDD</span>[(<span class="type">String</span>,<span class="type">String</span>)] = sc.wholeTextFiles(<span class="string">&quot;datas&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    rdd.collect().foreach(println)</span><br><span class="line">    <span class="comment">//å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€»ç»“ï¼š</p><p>RDDçš„ä½¿ç”¨åœ¨IDEAä¸­ï¼Œå¤§è‡´åˆ†ä¸ºä¸‰æ­¥ å‡†å¤‡ç¯å¢ƒ åˆ›å»ºRDD å…³é—­ç¯å¢ƒ</p><p>å‡†å¤‡ç¯å¢ƒçš„ä»£ç åŸºæœ¬å¾ˆå›ºå®š  è€Œåˆ›å»ºRDD å°±è¦çœ‹æ˜¯è¯»å–æ–‡ä»¶ è¿˜æ˜¯ç›´æ¥åœ¨IDEAä¸­é…ç½®</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BigDataSparkDay1</span>.wc</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">SPark02_RDD_Memory2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;RDD&quot;</span>)</span><br><span class="line">    sparkConf.set(<span class="string">&quot;spark.default.parallelism&quot;</span>,<span class="string">&quot;5&quot;</span>)  <span class="comment">//ä¿®æ”¹é»˜è®¤å¹¶è¡Œæ ¸æ•° ä¸º5 â€˜0-4â€™</span></span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO åˆ›å»ºRDD</span></span><br><span class="line">    <span class="comment">//RDDçš„å¹¶è¡Œåº¦ &amp; åˆ†åŒº</span></span><br><span class="line">    <span class="comment">//makeRDDæ–¹æ³•å¯ä»¥ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°,è¿™ä¸ªå‚æ•°è¡¨ç¤ºåˆ†åŒºçš„æ•°é‡</span></span><br><span class="line">    <span class="comment">// ç¬¬äºŒä¸ªå‚æ•° numSliceså¯ä»¥ä¸ä¼ é€’ æœ‰é»˜è®¤å¹¶è¡Œåº¦ å¸¦äº†*æ‰€ä»¥æ˜¯ç”µè„‘CPUçš„å¹¶è¡Œæ ¸æ•° æˆ‘æ˜¯16ä¸ª</span></span><br><span class="line">    <span class="keyword">val</span> rdd = sc.makeRDD(</span><br><span class="line">      <span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°†å¤„ç†çš„æ•°æ®ä¿å­˜æˆåˆ†åŒºæ–‡ä»¶</span></span><br><span class="line">    rdd.saveAsTextFile(<span class="string">&quot;output&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-BUGç‚¹-6">5.BUGç‚¹</h2><p>è·Ÿè€å¸ˆä¸€æ¨¡ä¸€æ ·çš„ä»£ç æŠ¥é”™ï¼Œåˆšè¿›å…¥ä¹Ÿä¸çŸ¥é“ä»€ä¹ˆåŸå› å°±æŒ‰æŠ¥é”™ä¿¡æ¯å»CSDNæœï¼Œå‘ç°æœ‰äººæœ‰ä¸€æ ·çš„é—®é¢˜ï¼Œåœ¨resourcesä¸­é…ç½®ä¸€ä¸ªlog4jæ–‡ä»¶å°±å¥½äº†ï¼Œ<strong>ä¹Ÿä¸æ˜¯åˆšå¼€å§‹æ€€ç–‘çš„ç‰ˆæœ¬é—®é¢˜</strong></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220723111109882.png" alt="image-20220723111109882"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-6">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="Linuxä¸­Sparkéƒ¨ç½²">Linuxä¸­Sparkéƒ¨ç½²</h3><p>æ­¥éª¤  å…‹éš†ä¸‰å°è™šæ‹Ÿæœº</p><p>ä¿®æ”¹IPåœ°å€ ä¸»æœºå å’Œ æ˜ å°„</p><p>é…ç½®æ— å¯†  åˆ›å»ºxsyncæ–‡ä»¶å¹¶é…ç½®ä¿¡æ¯ ç»™å…¶å¢åŠ æ‰§è¡Œæƒé™</p><p>ä¸‹è½½rsync yum</p><p>åˆ†å‘å‘½ä»¤<code>sbin/start -all.sh</code></p><h2 id="7-æ€»ç»“-7">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>æ˜¨å¤©é…ç½®äº†sparkåœ¨IDEAä¸­çš„ç¯å¢ƒï¼Œå¹¶æ²¡æœ‰å…¥é—¨ï¼Œä»Šå¤©å¯¹Sparkè¿›è¡Œä¸€ä¸ªä¸Šæ‰‹å…¥é—¨ï¼Œå‘ç°Sparkæ¡†æ¶ï¼Œéƒ½æ˜¯ä½¿ç”¨scalaä»£ç è¿›è¡ŒåŠŸèƒ½å®ç°çš„ï¼Œç„¶åå°±æ˜¯Linuxç³»ç»Ÿä¸­ï¼ŒSparkçš„ç¯å¢ƒéƒ¨ç½²ï¼Œå’Œæ¡†æ¶æ­å»ºï¼Œå› ä¸ºä¸æ˜¯è‡ªå·±è´Ÿè´£çš„æ¿å—ï¼Œå¬å¬ä½œç”¨å°±è¿‡å»äº†ï¼Œåé¢å¼„æ‡‚äº†ä»€ä¹ˆæ˜¯Sparkä»¥åŠæ‰§è¡ŒåŸç†å’Œæµç¨‹ã€‚ä»Šå¤©éš¾åº¦è¿˜æ˜¯æœ‰çš„ï¼Œéƒ½æ˜¯æ¦‚å¿µæ€§çš„ä¸œè¥¿ï¼Œè¦ä¸€ä¸ªä¸€ä¸ªå»è®°ä½å’Œç†è§£ï¼Œæ˜å¤©å°±æ˜¯è½¬å­ç®—æ³•çš„å­¦ä¹ ï¼Œå°±ä¼šæœ‰ä»£ç é‡äº†ã€‚</p><h1 id="7-22-Spark-RDDè½¬æ¢ç®—å­">7.22 Spark-RDDè½¬æ¢ç®—å­</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-12">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-12">2.æ ‡é¢˜</h2><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">P40040</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - ç®—å­ä»‹ç»<span class="number">7</span>:<span class="number">49</span></span><br><span class="line"><span class="attribute">P41041</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - map<span class="number">7</span>:<span class="number">46</span></span><br><span class="line"><span class="attribute">P42042</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - map - å°åŠŸèƒ½<span class="number">5</span>:<span class="number">12</span></span><br><span class="line"><span class="attribute">P43043</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - map - å¹¶è¡Œè®¡ç®—æ•ˆæœæ¼”ç¤º<span class="number">8</span>:<span class="number">54</span></span><br><span class="line"><span class="attribute">P44044</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - mapPartitions<span class="number">6</span>:<span class="number">12</span></span><br><span class="line"><span class="attribute">P45045</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - mapPartitions - å°ç»ƒä¹ <span class="number">3</span>:<span class="number">49</span></span><br><span class="line"><span class="attribute">P46046</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - mapPartitions &amp; mapçš„åŒºåˆ« - å®Œæˆæ¯”å®Œç¾æ›´é‡è¦</span><br><span class="line"><span class="attribute">P47047</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - mapPartitionsWithIndex<span class="number">6</span>:<span class="number">30</span></span><br><span class="line"><span class="attribute">P48048</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - flatMap<span class="number">5</span>:<span class="number">07</span></span><br><span class="line"><span class="attribute">P49049</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - flatMap - å°ç»ƒä¹ <span class="number">2</span>:<span class="number">41</span></span><br><span class="line"><span class="attribute">P50050</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - glom<span class="number">6</span>:<span class="number">33</span></span><br><span class="line"><span class="attribute">P51051</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - ç†è§£åˆ†åŒºä¸å˜çš„å«ä¹‰<span class="number">6</span>:<span class="number">48</span></span><br><span class="line"><span class="attribute">P52052</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - groupBy<span class="number">5</span>:<span class="number">25</span></span><br><span class="line"><span class="attribute">P53053</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - groupBy - shuffleæ¥è¢­<span class="number">6</span>:<span class="number">01</span></span><br><span class="line"><span class="attribute">P54054</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - groupBy - å°ç»ƒä¹ <span class="number">7</span>:<span class="number">51</span></span><br><span class="line"><span class="attribute">P55055</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - filter - æ•°æ®å€¾æ–œ<span class="number">7</span>:<span class="number">11</span></span><br><span class="line"><span class="attribute">P56056</span>.å°šç¡…è°·_SparkCore - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - sample - æŠ½å¥–å–½<span class="number">16</span>:<span class="number">11</span></span><br><span class="line"><span class="attribute">057Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - distinct</span><br><span class="line"><span class="attribute">058Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - coalesce</span><br><span class="line"><span class="attribute">059Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - repartition</span><br><span class="line"><span class="attribute">060Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - sortBy</span><br><span class="line"><span class="attribute">061Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - äº¤é›†&amp;å¹¶é›†&amp;å·®é›†&amp;æ‹‰é“¾</span><br><span class="line"><span class="attribute">062Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - äº¤é›†&amp;å¹¶é›†&amp;å·®é›†&amp;æ‹‰é“¾ - æ³¨æ„äº‹é¡¹</span><br><span class="line"><span class="attribute">063Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - partitionByï¼ˆå‰é¢æœ‰å¸æ°”ï¼Œä¸­é—´æœ‰ç­‰å¾…ï¼‰</span><br><span class="line"><span class="attribute">064Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - partitionBy - æ€è€ƒçš„é—®é¢˜</span><br><span class="line"><span class="attribute">065Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - reduceByKey</span><br><span class="line"><span class="attribute">066Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - groupByKey</span><br><span class="line"><span class="attribute">067Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - groupByKey &amp; reduceByKeyçš„åŒºåˆ«</span><br><span class="line"><span class="attribute">068Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - aggregateByKey</span><br><span class="line"><span class="attribute">069Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - aggregateByKey - å›¾è§£</span><br><span class="line"><span class="attribute">070Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - foldByKey</span><br><span class="line"><span class="attribute">071Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - aggregateByKey - å°ç»ƒä¹ </span><br><span class="line"><span class="attribute">072Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - aggregateByKey - å°ç»ƒä¹  - å›¾è§£</span><br><span class="line"><span class="attribute">073Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - combineByKey</span><br><span class="line"><span class="attribute">074Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - èšåˆç®—å­çš„åŒºåˆ«</span><br><span class="line"><span class="attribute">075Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - join</span><br><span class="line"><span class="attribute">076Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - leftOuterJoin &amp; rightOuterJoin</span><br><span class="line"><span class="attribute">077Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è½¬æ¢ç®—å­ - cogroup</span><br><span class="line"><span class="attribute">078Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - æ¡ˆä¾‹å®æ“ - éœ€æ±‚ä»‹ç» &amp; åˆ†æ</span><br><span class="line"><span class="attribute">079Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - æ¡ˆä¾‹å®æ“ - éœ€æ±‚è®¾è®¡</span><br><span class="line"><span class="attribute">080Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - æ¡ˆä¾‹å®æ“ - åŠŸèƒ½å®ç°</span><br><span class="line"><span class="attribute">081Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è¡ŒåŠ¨ç®—å­ - ä»‹ç»</span><br><span class="line"><span class="attribute">082Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è¡ŒåŠ¨ç®—å­ - ç®—å­æ¼”ç¤º</span><br><span class="line"><span class="attribute">083Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è¡ŒåŠ¨ç®—å­ - aggregate</span><br><span class="line"><span class="attribute">084Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è¡ŒåŠ¨ç®—å­ - countByKey &amp; countByValue</span><br><span class="line"><span class="attribute">085Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - WordCountä¸åŒçš„å®ç°æ–¹å¼ - (<span class="number">1</span>-<span class="number">8</span>)</span><br><span class="line"><span class="attribute">086Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - WordCountä¸åŒçš„å®ç°æ–¹å¼ - (<span class="number">9</span>-<span class="number">11</span>)</span><br><span class="line"><span class="attribute">087Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è¡ŒåŠ¨ç®—å­ - saveçš„æ–¹æ³•</span><br><span class="line"><span class="attribute">088Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - è¡ŒåŠ¨ç®—å­ - foreach</span><br><span class="line"><span class="attribute">089Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - åºåˆ—åŒ– - é—­åŒ…æ£€æµ‹</span><br><span class="line"><span class="attribute">090Core</span> - æ ¸å¿ƒç¼–ç¨‹ - RDD - åºåˆ—åŒ– - å®é™…æ‰§è¡Œæ—¶çš„é—®é¢˜</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-12">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-10">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="RDDå•Valueè½¬æ¢ç®—å­">RDDå•Valueè½¬æ¢ç®—å­</h3><p>RDDæ ¹æ®å¤„ç†æ–¹å¼çš„ä¸åŒåˆ†ä¸ºäº†Valueç±»å‹ åŒValue å’ŒKey-Valueç±»å‹</p><p>ä»£ç éƒ½æ˜¯åœ¨æ˜¨å¤©ä¸‰å¤§æ­¥éª¤çš„åŸºç¡€ä¸Šè¿›è¡Œï¼Œæ”¹å˜ç‚¹åœ¨åˆ›å»ºRDDä¸­ï¼Œ</p><p>çœ‹å¾—å‡º å¦‚ä¸‹ä»£ç æ˜¯å°†Listé›†åˆä¸­æ¯ä¸ªå€¼éƒ½*2  ç„¶åæ‰“å°å‡ºæ¥ ç”¨mapæ–¹æ³•è½¬æ¢ æ˜ å°„è½¬æ¢ åœ¨Scalaçš„é«˜çº§ç®—æ³•ä¸­æœ‰è¯´æ˜</p><h4 id="map">map</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark01_RDD_Operator_Transform</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> sparkConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --map</span></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">    <span class="comment">//2 4 6 8</span></span><br><span class="line">    <span class="comment">//è½¬æ¢å‡½æ•°</span></span><br><span class="line"><span class="comment">//    def mapFunction(num:Int)=&#123;num * 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    val mapRDD = rdd.map(mapFunction)</span></span><br><span class="line">    <span class="keyword">val</span> mapRDD: <span class="type">RDD</span>[<span class="type">Int</span>] = rdd.map((_: <span class="type">Int</span>) * <span class="number">2</span>) <span class="comment">//åŒ¿åå‡½æ•°è‡³ç®€åŸåˆ™</span></span><br><span class="line"></span><br><span class="line">    mapRDD.collect().foreach(println)</span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Šmapæ–¹æ³•çš„æ‰§è¡Œæ•ˆç‡ä¼šå¾ˆä½ï¼Œå› ä¸ºæ˜¯è¯»ä¸€ä¸ªæ‰§è¡Œä¸€æ¬¡ï¼Œè¿™æ ·éœ€è¦æ‰§è¡Œå¤šæ¬¡ï¼Œå°±åƒIOä¸­å¯¹æ–‡ä»¶çš„å¤„ç†ä¸€æ ·ï¼ŒIOæµè§£å†³åŠæ³•æ˜¯ä½¿ç”¨ç¼“å†²æµBufferï¼Œåœ¨Sparkä¹Ÿæœ‰ä¸€ç§æ–¹æ³•ç±»ä¼¼ï¼Œ</p><h4 id="mapPartitions">mapPartitions</h4><p>å°†å¾…å¤„ç†çš„æ•°æ®ä»¥åˆ†åŒºä¸ºå•ä½å‘é€åˆ°è®¡ç®—èŠ‚ç‚¹è¿›è¡Œå¤„ç†</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark01_RDD_Operator_Transform_partitions</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> sparkConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --map</span></span><br><span class="line">    <span class="keyword">val</span> rdd = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>),<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*mapPartitions:</span></span><br><span class="line"><span class="comment">                   ç®—å­æ˜¯ä»¥åˆ†åŒºä¸ºå•ä½è¿›è¡Œæ‰¹å¤„ç†æ“ä½œ</span></span><br><span class="line"><span class="comment">                   ç®—å­ä¼šé•¿æ—¶é—´å ç”¨å†…å­˜ï¼Œé‚£ä¹ˆè¿™æ ·ä¼šå¯¼è‡´å†…å­˜å¯èƒ½</span></span><br><span class="line"><span class="comment">                   ä¸å¤Ÿç”¨ï¼Œå‡ºç°å†…å­˜æº¢å‡ºçš„é”™è¯¯ã€‚æ‰€ä»¥åœ¨å†…å­˜æœ‰é™çš„æƒ…å†µä¸‹ï¼Œä¸æ¨èä½¿ç”¨ã€‚ä½¿ç”¨ map æ“ä½œã€‚ */</span></span><br><span class="line">    <span class="keyword">val</span> rddMapPartitions = rdd.mapPartitions(</span><br><span class="line">      iter =&gt; &#123;</span><br><span class="line">        println(<span class="string">&quot;&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span>)</span><br><span class="line">        iter.map(_ * <span class="number">2</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    rddMapPartitions.collect().foreach(println)</span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line"><span class="comment">&gt;&gt;&gt;&gt;&gt;</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">6</span></span><br><span class="line"><span class="comment">8</span></span><br></pre></td></tr></table></figure><p>çœ‹æ¡ˆä¾‹çš„æ‰§è¡Œç»“æœï¼Œèƒ½åˆ†æå‡ºæ¥mapPartitionsæ˜¯åˆ†åŒºæ“ä½œçš„ï¼Œæ¯”å¦‚æ¡ˆä¾‹ä¸¤ä¸ªåˆ†åŒºï¼Œå°±å…ˆæ‰§è¡Œä¸€ä¸ªåˆ†åŒºï¼Œå†æ˜¯å¦å¤–ä¸€ä¸ªï¼Œæ€§èƒ½æ˜¯æ¯”mapé«˜çš„ï¼Œ<strong>ç¼ºç‚¹</strong>å†™åœ¨ä»£ç é‡Œé¢äº†</p><h4 id="mapPartitionsWithIndex">mapPartitionsWithIndex</h4><p>å°†å¾…å¤„ç†çš„æ•°æ®ä»¥åˆ†åŒºä¸ºå•ä½å‘é€åˆ°è®¡ç®—èŠ‚ç‚¹è¿›è¡Œå¤„ç†ï¼Œè¿™é‡Œçš„å¤„ç†æ˜¯æŒ‡å¯ä»¥è¿›è¡Œä»»æ„çš„å¤„ç†ï¼Œå“ªæ€•æ˜¯è¿‡æ»¤æ•°æ®ï¼Œåœ¨å¤„ç†æ—¶åŒæ—¶å¯ä»¥<strong>è·å–å½“å‰åˆ†åŒºç´¢å¼•</strong>ã€‚</p><p>å°æ¡ˆä¾‹ è·å–æ•°æ®åˆ†åŒºçš„æ•°æ®</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark01_RDD_Operator_Transform_partitionsWithIndex_Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --map</span></span><br><span class="line">    <span class="comment">//æ˜¾ç¤ºåˆ†åŒºå·</span></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>),<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">val</span> rddMap:<span class="type">RDD</span>[(<span class="type">Int</span>,<span class="type">Int</span>)] = rdd.mapPartitionsWithIndex(</span><br><span class="line">      (index: <span class="type">Int</span>, iter: <span class="type">Iterator</span>[<span class="type">Int</span>]) =&gt; &#123;</span><br><span class="line">        iter.map(</span><br><span class="line">          (num: <span class="type">Int</span>) =&gt; &#123; <span class="comment">//å°†åŸæœ¬è¿”å›ä¸€ä¸ªæ•°æ®map æ”¹æˆè¿”å›å…ƒç»„</span></span><br><span class="line">            (index, num) <span class="comment">//indexæ˜¯åˆ†åŒºå· numæ˜¯åˆ†åŒºå†…çš„æ•°æ®</span></span><br><span class="line">          &#125;</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    rddMap.collect().foreach(println)</span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="flatMap">flatMap</h4><p>å°†å¤„ç†çš„æ•°æ®è¿›è¡Œæ‰å¹³åŒ–åå†è¿›è¡Œæ˜ å°„å¤„ç†ï¼Œæ‰€ä»¥ç®—å­ä¹Ÿç§°ä¹‹ä¸ºæ‰å¹³æ˜ å°„</p><p>å°† List(List(1,2),3,List(4,5))è¿›è¡Œæ‰å¹³åŒ–æ“ä½œ</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark02_RDD_Operator_Transform_TestFlat2</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --flatMap</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">Any</span>] = sc.makeRDD(<span class="type">List</span>(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>),<span class="number">3</span>,<span class="type">List</span>(<span class="number">4</span>,<span class="number">5</span>))) <span class="comment">//åˆ›å»ºRDDé›†åˆ</span></span><br><span class="line">    <span class="keyword">val</span> rddMap: <span class="type">RDD</span>[<span class="type">Any</span>] = rdd.flatMap &#123; <span class="comment">//è¯»å–</span></span><br><span class="line">      <span class="keyword">case</span> list1: <span class="type">List</span>[_] =&gt; list1 <span class="comment">//æ¨¡å¼åŒ¹é… å¦‚æœæ˜¯Listé›†åˆ ç›´æ¥è¿”å›</span></span><br><span class="line">      <span class="keyword">case</span> dat =&gt; <span class="type">List</span>(dat) <span class="comment">// å¦‚æœæ˜¯å…¶ä»–å€¼ è½¬æ¢æˆListé›†åˆåè¿”å›</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    rddMap.collect().foreach(println)</span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="glom">glom</h4><p>å°†åŒä¸€ä¸ªåˆ†åŒºçš„æ•°æ®ç›´æ¥è½¬æ¢ä¸ºç›¸åŒç±»å‹çš„å†…å­˜æ•°ç»„è¿›è¡Œå¤„ç†  <strong>çœ‹ä»£ç æ‰§è¡Œè¿‡åæ˜¯è¿”å›ä¸€ä¸ªæ•°ç»„ç±»å‹çš„</strong></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark02_RDD_Operator_Transform_Glom</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --flatMap</span></span><br><span class="line">    <span class="comment">//è¿”å›ä¸¤ä¸ªåˆ†åŒºçš„æ•°æ®çš„æœ€å¤§å€¼ç›¸åŠ </span></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>),<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">val</span> glom: <span class="type">RDD</span>[<span class="type">Array</span>[<span class="type">Int</span>]] = rdd.glom()</span><br><span class="line">    <span class="comment">//å–å‡ºä¸¤ä¸ªåˆ†åŒºçš„æ•°æ® ç”¨mapè¿›è¡Œæ•°æ®æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">val</span> glomRDD: <span class="type">RDD</span>[<span class="type">Int</span>] = glom.map(</span><br><span class="line">      (array: <span class="type">Array</span>[<span class="type">Int</span>]) =&gt; &#123;</span><br><span class="line">        array.max <span class="comment">//2 4</span></span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    println(glomRDD.collect().foreach((data: <span class="type">Int</span>) =&gt; print(data + <span class="string">&quot;,&quot;</span>)))</span><br><span class="line">    println(glomRDD.sum())</span><br><span class="line">    </span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="groupBy">groupBy</h4><p>å°†æ•°æ®æºä¸­çš„æ¯ä¸ªæ•°æ®è¿›è¡Œåˆ†ç»„åˆ¤æ–­  æ ¹æ®è¿”å›çš„åˆ†ç»„key è¿›è¡Œåˆ†ç»„ ç›¸åŒçš„keyå€¼ä¼šæ”¾åœ¨ä¸€ä¸ªç»„ä¸­</p><p><strong>æ³¨æ„åˆ†ç»„å’Œåˆ†åŒºæ²¡æœ‰å¿…ç„¶çš„å…³ç³»</strong></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark04_RDD_Operator_Transform_GlomBy</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --flatMap</span></span><br><span class="line"><span class="comment">//  é¦–å­—æ¯ä¸€æ ·çš„æ”¾ä¸€ä¸ªç»„ä¸­</span></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">String</span>] = sc.makeRDD(<span class="type">List</span>(<span class="string">&quot;Hello&quot;</span>,<span class="string">&quot;Spark&quot;</span>,<span class="string">&quot;Scala&quot;</span>,<span class="string">&quot;Hadoop&quot;</span>),<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">val</span> groupRDD: <span class="type">RDD</span>[(<span class="type">Char</span>, <span class="type">Iterable</span>[<span class="type">String</span>])] = rdd.groupBy((_: <span class="type">String</span>)(<span class="number">0</span>))</span><br><span class="line">    groupRDD.collect().foreach(println)</span><br><span class="line"></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">(H,CompactBuffer(Hello, Hadoop))</span></span><br><span class="line"><span class="comment">(S,CompactBuffer(Spark, Scala))</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>groupByä¼šæŠŠä¸åŒåŒºçš„æ•°æ®æ‰“ä¹±ï¼Œé‡æ–°ç»„åˆï¼Œè¿™ä¸ªæ“ä½œæˆ‘ä»¬ç§°ä¸ºshuffle</p><h4 id="filter">filter</h4><p>å½“æ•°æ®è¿›è¡Œç­›é€‰è¿‡æ»¤åï¼Œåˆ†åŒºä¸å˜ï¼Œä½†æ˜¯åˆ†åŒºå†…çš„æ•°æ®å¯èƒ½ä¸å‡è¡¡ï¼Œç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œå¯èƒ½ä¼šå‡ºç°æ•°æ®å€¾æ–œ <strong>äº†è§£</strong></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark05_RDD_Operator_Transform_filter_Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --filter</span></span><br><span class="line">    <span class="comment">//å°†æ•°æ®æ ¹æ®æŒ‡å®šçš„è§„åˆ™è¿›è¡Œç­›é€‰è¿‡æ»¤ï¼Œç¬¦åˆè§„åˆ™çš„æ•°æ®ä¿ç•™ï¼Œä¸ç¬¦åˆè§„åˆ™çš„æ•°æ®ä¸¢å¼ƒã€‚</span></span><br><span class="line">    <span class="keyword">val</span> rdd = sc.textFile(<span class="string">&quot;datas/apache.log&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> rddFilter: <span class="type">RDD</span>[<span class="type">String</span>] = rdd.filter(</span><br><span class="line">      line =&gt; &#123;</span><br><span class="line">        <span class="keyword">val</span> time = line.split(<span class="string">&quot; &quot;</span>)(<span class="number">3</span>)</span><br><span class="line">        time.startsWith(<span class="string">&quot;17/05/2015&quot;</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    rddFilter.collect().foreach(println)</span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="sample">sample</h4><p>æ ¹æ®æŒ‡å®šçš„è§„åˆ™ä»æ•°æ®é›†ä¸­æŠ½å–æ•°æ®</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark06_RDD_Operator_Transform_sample</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --filter</span></span><br><span class="line">    <span class="keyword">val</span> dataRDD: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>))</span><br><span class="line">    <span class="comment">// æŠ½å–æ•°æ®ä¸æ”¾å›ï¼ˆä¼¯åŠªåˆ©ç®—æ³•ï¼‰</span></span><br><span class="line">    <span class="comment">// ä¼¯åŠªåˆ©ç®—æ³•ï¼šåˆå« 0ã€1 åˆ†å¸ƒã€‚ä¾‹å¦‚æ‰”ç¡¬å¸ï¼Œè¦ä¹ˆæ­£é¢ï¼Œè¦ä¹ˆåé¢ã€‚</span></span><br><span class="line">    <span class="comment">// å…·ä½“å®ç°ï¼šæ ¹æ®ç§å­å’Œéšæœºç®—æ³•ç®—å‡ºä¸€ä¸ªæ•°å’Œç¬¬äºŒä¸ªå‚æ•°è®¾ç½®å‡ ç‡æ¯”è¾ƒï¼Œå°äºç¬¬äºŒä¸ªå‚æ•°è¦ï¼Œå¤§äºä¸ è¦</span></span><br><span class="line">    <span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæŠ½å–çš„æ•°æ®æ˜¯å¦æ”¾å›ï¼Œfalseï¼šä¸æ”¾å›</span></span><br><span class="line">    <span class="comment">// ç¬¬äºŒä¸ªå‚æ•°ï¼šæŠ½å–çš„å‡ ç‡ï¼ŒèŒƒå›´åœ¨[0,1]ä¹‹é—´,0ï¼šå…¨ä¸å–ï¼›1ï¼šå…¨å–ï¼›</span></span><br><span class="line">    <span class="comment">// ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šéšæœºæ•°ç§å­</span></span><br><span class="line">    <span class="keyword">val</span> dataRDD1: <span class="type">RDD</span>[<span class="type">Int</span>] = dataRDD.sample(withReplacement = <span class="literal">false</span>, <span class="number">0.5</span>)</span><br><span class="line">    <span class="comment">// æŠ½å–æ•°æ®æ”¾å›ï¼ˆæ³Šæ¾ç®—æ³•ï¼‰</span></span><br><span class="line">    <span class="comment">// ç¬¬ä¸€ä¸ªå‚æ•°ï¼šæŠ½å–çš„æ•°æ®æ˜¯å¦æ”¾å›ï¼Œtrueï¼šæ”¾å›ï¼›falseï¼šä¸æ”¾å›</span></span><br><span class="line">    <span class="comment">// ç¬¬äºŒä¸ªå‚æ•°ï¼šé‡å¤æ•°æ®çš„å‡ ç‡ï¼ŒèŒƒå›´å¤§äºç­‰äº 0.è¡¨ç¤ºæ¯ä¸€ä¸ªå…ƒç´ è¢«æœŸæœ›æŠ½å–åˆ°çš„æ¬¡æ•°</span></span><br><span class="line">    <span class="comment">// ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šéšæœºæ•°ç§å­</span></span><br><span class="line">    <span class="keyword">val</span> dataRDD2: <span class="type">RDD</span>[<span class="type">Int</span>] = dataRDD.sample(withReplacement = <span class="literal">true</span>, <span class="number">2</span>)</span><br><span class="line">    println(<span class="string">&quot;ä¸æ”¾å›&quot;</span>)</span><br><span class="line">    println(dataRDD1.collect().mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    println(<span class="string">&quot;æ”¾å›&quot;</span>)</span><br><span class="line">    println(dataRDD2.collect().mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="distinct">distinct</h4><p>å°†æ•°æ®é›†ä¸­é‡å¤çš„æ•°æ®å»é‡</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark07_RDD_Operator_Transform_distinct</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --distinct</span></span><br><span class="line">    <span class="comment">//å°†æ•°æ®é›†ä¸­é‡å¤çš„æ•°æ®å»é‡</span></span><br><span class="line">    <span class="keyword">val</span> dataRDD: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">21</span>,<span class="number">6</span>,<span class="number">2</span>))</span><br><span class="line">    <span class="keyword">val</span> value: <span class="type">RDD</span>[<span class="type">Int</span>] = dataRDD.distinct() <span class="comment">//å»é‡</span></span><br><span class="line">    <span class="keyword">val</span> value1: <span class="type">RDD</span>[<span class="type">Int</span>] = dataRDD.distinct(<span class="number">2</span>) <span class="comment">//å…ˆå°†2çš„å€æ•°æ”¾å‰é¢å»é‡</span></span><br><span class="line">    println(value.collect().mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    println(value1.collect().mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="coaleses-å¯å¢å¤§-å¯å‡å°">coaleses(å¯å¢å¤§ å¯å‡å°)</h4><p>å¯¹å¢å‡åˆ†åŒºçš„æ“ä½œ</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark08_RDD_Operator_Transform_coalesce</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --coalesce</span></span><br><span class="line">    <span class="comment">//æ ¹æ®æ•°æ®é‡ç¼©å‡åˆ†åŒºï¼Œç”¨äºå¤§æ•°æ®é›†è¿‡æ»¤åï¼Œæé«˜å°æ•°æ®é›†çš„æ‰§è¡Œæ•ˆç‡</span></span><br><span class="line">    <span class="comment">//å½“ spark ç¨‹åºä¸­ï¼Œå­˜åœ¨è¿‡å¤šçš„å°ä»»åŠ¡çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡ coalesce æ–¹æ³•ï¼Œæ”¶ç¼©åˆå¹¶åˆ†åŒºï¼Œå‡å°‘</span></span><br><span class="line">    <span class="comment">//åˆ†åŒºçš„ä¸ªæ•°ï¼Œå‡å°ä»»åŠ¡è°ƒåº¦æˆæœ¬</span></span><br><span class="line">    <span class="keyword">val</span> dataRDD: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>),<span class="number">6</span>) <span class="comment">//6ä¸ªåˆ†åŒº</span></span><br><span class="line">    <span class="comment">//å˜ä¸¤ä¸ªåˆ†åŒº ç¬¬äºŒä¸ªå‚æ•°é»˜è®¤æ˜¯falseæ”¹æˆtrueå°±ä¼šéšæœºæ‰“ä¹± å°±æ˜¯groupByé‚£é‡Œæåˆ°çš„shuffle</span></span><br><span class="line">    <span class="comment">//å¦‚æœè®¾ç½®shuffleä¸ºtrue coalesceå°±å¯ä»¥æ‰©å¤§åˆ†åŒº</span></span><br><span class="line">    <span class="keyword">val</span> dataRDD1: <span class="type">RDD</span>[<span class="type">Int</span>] = dataRDD.coalesce(<span class="number">2</span>,<span class="literal">true</span>)</span><br><span class="line">    <span class="keyword">val</span> dataRDD1Index = dataRDD1.mapPartitionsWithIndex(</span><br><span class="line">      (index: <span class="type">Int</span>, group: <span class="type">Iterator</span>[<span class="type">Int</span>]) =&gt; &#123;</span><br><span class="line">        group.map(</span><br><span class="line">          (num:<span class="type">Int</span>) =&gt; (index,num)</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    dataRDD1Index.collect().foreach(println)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="repartition">repartition</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark09_RDD_Operator_Transform_repartition</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --repartition</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> dataRDD: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>),<span class="number">2</span>) <span class="comment">//2ä¸ªåˆ†åŒº</span></span><br><span class="line">    <span class="keyword">val</span> dataRDD2: <span class="type">RDD</span>[<span class="type">Int</span>] = dataRDD.repartition(<span class="number">4</span>) <span class="comment">//å˜4ä¸ªåˆ†åŒº é»˜è®¤shuffleæ˜¯false</span></span><br><span class="line">    <span class="keyword">val</span> dataRDD2Index: <span class="type">RDD</span>[(<span class="type">Int</span>, <span class="type">Int</span>)] = dataRDD2.mapPartitionsWithIndex(</span><br><span class="line">      (index: <span class="type">Int</span>, group: <span class="type">Iterator</span>[<span class="type">Int</span>]) =&gt; &#123;</span><br><span class="line">        group.map(</span><br><span class="line">          (num:<span class="type">Int</span>) =&gt; (index,num)</span><br><span class="line">        )</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    dataRDD2Index.collect().foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="coalesce-å’Œ-repartition-åŒºåˆ«">coalesce å’Œ repartition åŒºåˆ«</h4><p>repartition ä¸€å®šä¼šå‘ç”Ÿ shuffleï¼Œcoalesce æ ¹æ®ä¼ è¿›æ¥çš„å‚æ•°æ¥åˆ¤æ–­æ˜¯å¦å‘ç”Ÿ shuffleã€‚<br>ä¸€èˆ¬æƒ…å†µä¸‹<strong>å¢å¤§rddçš„partitionæ•°é‡</strong>ä½¿ç”¨<strong>repartition</strong>ï¼Œ<strong>å‡å°‘partitionæ•°é‡æ—¶</strong>ä½¿ç”¨<strong>coalesce</strong></p><h4 id="sortBy">sortBy</h4><p>è¯¥æ“ä½œç”¨äºæ’åºæ•°æ®ã€‚åœ¨æ’åºä¹‹å‰ï¼Œå¯ä»¥å°†æ•°æ®é€šè¿‡ f å‡½æ•°è¿›è¡Œå¤„ç†ï¼Œä¹‹åæŒ‰ç…§ f å‡½æ•°å¤„ç†çš„ç»“æœè¿›è¡Œæ’åº</p><p>æ’åºæ˜¯ä¸ç®¡å¤šå°‘åˆ†åŒºçš„ï¼Œæ‰€ä»¥sortByæ‰§è¡Œè¿‡ç¨‹ä¸€å®šå­˜åœ¨shuffleæ‰“ä¹±çš„è¿‡ç¨‹</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark10_RDD_Operator_Transform_sortBy</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --repartition</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> dataRDD: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = sc.makeRDD(<span class="type">List</span>((<span class="string">&quot;1&quot;</span>,<span class="number">1</span>),(<span class="string">&quot;11&quot;</span>,<span class="number">2</span>),(<span class="string">&quot;2&quot;</span>,<span class="number">3</span>))) <span class="comment">//2ä¸ªåˆ†åŒº</span></span><br><span class="line">    <span class="comment">//é»˜è®¤æ˜¯trueæ˜¯å‡åº falseæ˜¯é™åº</span></span><br><span class="line">    <span class="keyword">val</span> dataRDD1: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = dataRDD.sortBy((t: (<span class="type">String</span>, <span class="type">Int</span>)) =&gt; t._1.toInt,ascending = <span class="literal">false</span>)</span><br><span class="line">    println(dataRDD1.collect().mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RDDåŒValueè½¬æ¢ç®—å­">RDDåŒValueè½¬æ¢ç®—å­</h3><p>ä¸¤ä¸ªæ•°æ®æºä¹‹é—´çš„å…³è”æ“ä½œ</p><h4 id="é›†åˆåŸºæœ¬æ“ä½œ">é›†åˆåŸºæœ¬æ“ä½œ</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark11_RDD_Operator_Transform_DoubleValue</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ -- åŒValueåŸºæœ¬é›†åˆæ“ä½œ</span></span><br><span class="line">    <span class="comment">//æ³¨æ„ äº¤é›† å·®é›† å¹¶é›† ç±»å‹éƒ½è¦ä¸€è‡´</span></span><br><span class="line">    <span class="keyword">val</span> dataRDD1 = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">    <span class="keyword">val</span> dataRDD2: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>))</span><br><span class="line">    <span class="keyword">val</span> dataRDDIn = dataRDD1.intersection(dataRDD2) <span class="comment">//3,4 äº¤é›†</span></span><br><span class="line">    <span class="keyword">val</span> dataRDDUn = dataRDD1.union(dataRDD2) <span class="comment">//1,2,3,4,3,4,5,6 å¹¶é›†</span></span><br><span class="line">    <span class="keyword">val</span> dataRDDSu: <span class="type">RDD</span>[<span class="type">Int</span>] = dataRDD1.subtract(dataRDD2) <span class="comment">// 1,2 å·®é›† .å‰é¢é›†åˆä¸ºä¸» å’Œåé¢ä¸äº¤çš„</span></span><br><span class="line">    <span class="keyword">val</span> dataRDDZip = dataRDD1.zip(dataRDD2) <span class="comment">// æ‹‰é“¾ å°†ä¸¤ä¸ª RDD ä¸­çš„å…ƒç´ ï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼è¿›è¡Œåˆå¹¶ å¯¹åº”çš„ .zipå‰é¢çš„æ˜¯key</span></span><br><span class="line">    println(dataRDDZip.collect().mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="partitionBy">partitionBy</h4><p>Sparkçš„åˆ†åŒºå™¨</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">HashPartitioner</span>, <span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark12_RDD_Operator_Transform_partitionBy</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ -- keys-value</span></span><br><span class="line">    <span class="comment">//å°†æ•°æ®æŒ‰ç…§æŒ‡å®š Partitioner é‡æ–°è¿›è¡Œåˆ†åŒºã€‚Spark é»˜è®¤çš„åˆ†åŒºå™¨æ˜¯ HashPartitioner</span></span><br><span class="line">    <span class="comment">//å°±æ˜¯é€šè¿‡partitionByæ–¹æ³•æ”¹å˜æ•°æ®çš„åˆ†åŒº</span></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[(<span class="type">Int</span>, <span class="type">String</span>)] = sc.makeRDD(<span class="type">Array</span>((<span class="number">1</span>,<span class="string">&quot;aaa&quot;</span>),(<span class="number">2</span>,<span class="string">&quot;bbb&quot;</span>),(<span class="number">3</span>,<span class="string">&quot;ccc&quot;</span>),(<span class="number">4</span>,<span class="string">&quot;DDD&quot;</span>)),<span class="number">2</span>) <span class="comment">//hashæ˜¯é»˜è®¤å–ä½™</span></span><br><span class="line"><span class="comment">//    å¯ä»¥æ¨¡ä»¿HashPartitionerè‡ªå·±å†™è‡ªå·±çš„åˆ†åŒºå™¨</span></span><br><span class="line">    rdd.partitionBy(<span class="keyword">new</span> <span class="type">HashPartitioner</span>(<span class="number">2</span>)).saveAsTextFile(<span class="string">&quot;output&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>reduceByKey</strong></p><p>æœ€å¼€å§‹åœ¨WordCountå°±æœ‰ç”¨åˆ°ï¼Œå…ƒç»„èšåˆ ç›¸åŒkeyèšåˆ</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">HashPartitioner</span>, <span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark13_RDD_Operator_Transform_reduceByKey</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ -- keys-value</span></span><br><span class="line">    <span class="keyword">val</span> rdd = sc.makeRDD(<span class="type">List</span>(</span><br><span class="line">    (<span class="string">&quot;a&quot;</span>,<span class="number">1</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">2</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">3</span>),(<span class="string">&quot;b&quot;</span>,<span class="number">3</span>)</span><br><span class="line">    ))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rddKey: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = rdd.reduceByKey((_: <span class="type">Int</span>) + (_: <span class="type">Int</span>))</span><br><span class="line">    println(rddKey.collect().mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//(a,6)(b,3)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>groupByKey</strong></p><p>åˆ†ç»„å°†æ•°æ®æºçš„æ•°æ®æ ¹æ® key å¯¹ value è¿›è¡Œåˆ†ç»„</p><p>è¿”å›å€¼ç¬¬ä¸€ä¸ªæ˜¯key ç¬¬äºŒä¸ªæ˜¯å…ƒç»„,å…ƒç»„å†…æ˜¯ç›¸åŒkeyçš„å€¼</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark14_RDD_Operator_Transform_groupByKey</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ -- keys-value</span></span><br><span class="line">    <span class="keyword">val</span> rdd = sc.makeRDD(<span class="type">List</span>(</span><br><span class="line">    (<span class="string">&quot;a&quot;</span>,<span class="number">1</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">2</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">3</span>),(<span class="string">&quot;b&quot;</span>,<span class="number">3</span>)</span><br><span class="line">    ))</span><br><span class="line">    <span class="keyword">val</span> rddKey1 = rdd.groupBy(_._1)</span><br><span class="line">    <span class="keyword">val</span> rddKey = rdd.groupByKey()</span><br><span class="line">    println(rddKey.collect().mkString(<span class="string">&quot; ,&quot;</span>)) <span class="comment">//(a,CompactBuffer(1, 2, 3)),(b,CompactBuffer(3))</span></span><br><span class="line">    println(rddKey1.collect().mkString(<span class="string">&quot; ,&quot;</span>)) <span class="comment">// (a,CompactBuffer((a,1), (a,2), (a,3))),(b,CompactBuffer((b,3)))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>reduceByKey å’Œ groupByKey çš„åŒºåˆ«</p><p>reduceByKey å…¶å®åŒ…å«åˆ†ç»„å’Œèšåˆçš„åŠŸèƒ½ã€‚GroupByKey åªèƒ½åˆ†ç»„ï¼Œä¸èƒ½èšåˆï¼Œæ‰€ä»¥åœ¨åˆ†ç»„èšåˆçš„åœºåˆä¸‹ï¼Œæ¨èä½¿ç”¨ reduceByKeyï¼Œå¦‚æœä»…ä»…æ˜¯åˆ†ç»„è€Œä¸éœ€è¦èšåˆã€‚é‚£ä¹ˆè¿˜æ˜¯åªèƒ½ä½¿ç”¨ groupByKey</p><h4 id="aggregateByKey">aggregateByKey</h4><p>å°†æ•°æ®æ ¹æ®ä¸åŒçš„è§„åˆ™è¿›è¡Œåˆ†åŒºå†…è®¡ç®—å’Œåˆ†åŒºé—´è®¡ç®—</p><p>ä¸¤ä¸ªåˆ†åŒºå…ˆå–æœ€å¤§å€¼ (a,2)(c,3) + (a,5)(c,6)</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span>.rddToPairRDDFunctions</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark15_RDD_Operator_Transform_aggregateByKey</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --  å–å‡ºæ¯ä¸ªåˆ†åŒºå†…ç›¸åŒ key çš„æœ€å¤§å€¼ç„¶ååˆ†åŒºé—´ç›¸åŠ </span></span><br><span class="line">    <span class="comment">// aggregateByKey ç®—å­æ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–ï¼Œå­˜åœ¨ä¸¤ä¸ªå‚æ•°åˆ—è¡¨</span></span><br><span class="line">    <span class="comment">// 1. ç¬¬ä¸€ä¸ªå‚æ•°åˆ—è¡¨ä¸­çš„å‚æ•°è¡¨ç¤ºåˆå§‹å€¼</span></span><br><span class="line">    <span class="comment">//ä¸»è¦ç”¨äºå½“ç¢°è§ç¬¬ä¸€ä¸ªkey çš„æ—¶å€™ å’Œvalueè¿›è¡Œåˆ†åŒºè®¡ç®—</span></span><br><span class="line">    <span class="comment">// 2. ç¬¬äºŒä¸ªå‚æ•°åˆ—è¡¨ä¸­å«æœ‰ä¸¤ä¸ªå‚æ•°</span></span><br><span class="line">    <span class="comment">// 2.1 ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºåˆ†åŒºå†…çš„è®¡ç®—è§„åˆ™</span></span><br><span class="line">    <span class="comment">// 2.2 ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºåˆ†åŒºé—´çš„è®¡ç®—è§„åˆ™</span></span><br><span class="line">    <span class="keyword">val</span> rdd = &#123;</span><br><span class="line">      sc.makeRDD(<span class="type">List</span>(</span><br><span class="line">        (<span class="string">&quot;a&quot;</span>,<span class="number">1</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">2</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">3</span>),</span><br><span class="line">        (<span class="string">&quot;c&quot;</span>,<span class="number">4</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">5</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">6</span>)</span><br><span class="line">      ),<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    rdd.aggregateByKey(<span class="number">0</span>)(</span><br><span class="line">      (x, y) =&gt; math.max(x, y),</span><br><span class="line">      (x, y) =&gt; x + y</span><br><span class="line">    ).collect().foreach(println)</span><br><span class="line">      <span class="comment">//(a,7)</span></span><br><span class="line">      <span class="comment">//(c,9)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>foldByKey</strong></p><p>å½“åˆ†åŒºå†…è®¡ç®—è§„åˆ™å’Œåˆ†åŒºé—´è®¡ç®—è§„åˆ™ç›¸åŒæ—¶ï¼ŒaggregateByKey å°±å¯ä»¥ç®€åŒ–ä¸º foldByKey</p><p>ä¸¤è¾¹åˆ†åŒºç›¸åŒkeyå…ˆåŠ  åŠ å®Œåˆ†åŒºé—´keyåŠ </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> dataRDD1 = sparkContext.makeRDD(<span class="type">List</span>((<span class="string">&quot;a&quot;</span>,<span class="number">1</span>),(<span class="string">&quot;b&quot;</span>,<span class="number">2</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">3</span>)))</span><br><span class="line"><span class="keyword">val</span> dataRDD2 = dataRDD1.foldByKey(<span class="number">0</span>)(_+_)</span><br></pre></td></tr></table></figure><p><strong>combineByKey</strong></p><p>æœ€é€šç”¨çš„å¯¹ key-value å‹ rdd è¿›è¡Œèšé›†æ“ä½œçš„èšé›†å‡½æ•°</p><p>å…è®¸ç”¨æˆ·è¿”å›å€¼çš„ç±»å‹ä¸è¾“å…¥ä¸ä¸€è‡´ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span>.rddToPairRDDFunctions</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark16_RDD_Operator_Transform_combineByKey</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --  combineByKey</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd = &#123;</span><br><span class="line">      sc.makeRDD(<span class="type">List</span>(</span><br><span class="line">        (<span class="string">&quot;a&quot;</span>,<span class="number">1</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">2</span>),(<span class="string">&quot;b&quot;</span>,<span class="number">3</span>),</span><br><span class="line">        (<span class="string">&quot;b&quot;</span>,<span class="number">4</span>),(<span class="string">&quot;b&quot;</span>,<span class="number">5</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">6</span>)</span><br><span class="line">      ),<span class="number">2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ–¹æ³•éœ€è¦ä¸‰ä¸ªå‚æ•°</span></span><br><span class="line">    <span class="comment">//ç¬¬ä¸€ä¸ª å°†ç›¸åŒkeyçš„ç¬¬ä¸€ä¸ªæ•°æ®è¿›è¡Œç»“æ„çš„è½¬æ¢ å®ç°æ“ä½œ</span></span><br><span class="line">    <span class="comment">//ç¬¬äºŒä¸ª åˆ†åŒºå†…è¿ç®—</span></span><br><span class="line">    <span class="comment">//ç¬¬ä¸‰ä¸ª åˆ†åŒºé—´è¿ç®—</span></span><br><span class="line">    <span class="keyword">val</span> newRDD: <span class="type">RDD</span>[(<span class="type">String</span>, (<span class="type">Int</span>, <span class="type">Int</span>))] = rdd.combineByKey(</span><br><span class="line">      (v: <span class="type">Int</span>) =&gt; (v, <span class="number">1</span>),</span><br><span class="line">      (x: (<span class="type">Int</span>, <span class="type">Int</span>), y: <span class="type">Int</span>) =&gt; &#123;</span><br><span class="line">        (x._1 + y, x._2 + <span class="number">1</span>)</span><br><span class="line">      &#125;,</span><br><span class="line">      (t1: (<span class="type">Int</span>, <span class="type">Int</span>), t2: (<span class="type">Int</span>, <span class="type">Int</span>)) =&gt; &#123;</span><br><span class="line">        (t1._1 + t2._1, t1._2 + t2._2)</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> resultRDD: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = newRDD.mapValues &#123; <span class="comment">//å…ƒç»„å†…int /</span></span><br><span class="line">      <span class="keyword">case</span> (num, count) =&gt; num / count</span><br><span class="line">    &#125;</span><br><span class="line">    println(newRDD.collect().mkString(<span class="string">&quot; ,&quot;</span>))  <span class="comment">//(b,(12,3)),(a,(9,3))</span></span><br><span class="line">    println(resultRDD.collect().mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">// (b,4),(a,3)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>sortByKey</strong></p><p>åœ¨ä¸€ä¸ª(K,V)çš„ RDD ä¸Šè°ƒç”¨ï¼ŒK å¿…é¡»å®ç° Ordered æ¥å£(ç‰¹è´¨)ï¼Œè¿”å›ä¸€ä¸ªæŒ‰ç…§ key è¿›è¡Œæ’åº</p><p>ä¸Šé™æ¯”è¾ƒé«˜ å¯ä»¥è‡ªå®šä¹‰ç±» å½“ä½œkey</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> dataRDD1 = sparkContext.makeRDD(<span class="type">List</span>((<span class="string">&quot;a&quot;</span>,<span class="number">1</span>),(<span class="string">&quot;b&quot;</span>,<span class="number">2</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">3</span>)))</span><br><span class="line"><span class="keyword">val</span> sortRDD1: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = dataRDD1.sortByKey(<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">val</span> sortRDD1: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = dataRDD1.sortByKey(<span class="literal">false</span>)</span><br></pre></td></tr></table></figure><p><strong>join</strong></p><p>åœ¨ç±»å‹ä¸º(K,V)å’Œ(K,W)çš„ RDD ä¸Šè°ƒç”¨ï¼Œè¿”å›ä¸€ä¸ªç›¸åŒ key å¯¹åº”çš„æ‰€æœ‰å…ƒç´ è¿æ¥åœ¨ä¸€èµ·çš„(K,(V,W))çš„ RDD</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span>.rddToPairRDDFunctions</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark17_RDD_Operator_Transform_join</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --  join</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = sc.makeRDD(<span class="type">List</span>((<span class="string">&quot;a&quot;</span>,<span class="number">1</span>),(<span class="string">&quot;b&quot;</span>,<span class="number">2</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">3</span>)))</span><br><span class="line">    <span class="keyword">val</span> rdd1: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = sc.makeRDD(<span class="type">List</span>((<span class="string">&quot;b&quot;</span>,<span class="number">4</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">5</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">3</span>)))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> joinRDD: <span class="type">RDD</span>[(<span class="type">String</span>, (<span class="type">Int</span>, <span class="type">Int</span>))] = rdd.join(rdd1)</span><br><span class="line">    <span class="comment">/*joinä¸¤ä¸ªç›¸åŒçš„keyçš„valueä¼šè¿æ¥åœ¨ä¸€èµ·å½¢æˆå…ƒç»„ ä¸åŒçš„key ä¸ä¼šè¿”å›</span></span><br><span class="line"><span class="comment">            (a,(1,5))</span></span><br><span class="line"><span class="comment">            (b,(2,4))</span></span><br><span class="line"><span class="comment">            (c,(3,3))</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    joinRDD.mapValues&#123; <span class="keyword">case</span> (x,y) =&gt; x+y &#125;.collect().foreach(println)</span><br><span class="line">    joinRDD.collect().foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>cogroup</strong></p><p>åœ¨ç±»å‹ä¸º(K,V)å’Œ(K,W)çš„ RDD ä¸Šè°ƒç”¨ï¼Œè¿”å›ä¸€ä¸ª(K,(Iterable<V>,Iterable<W>))ç±»å‹çš„ RDD</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span>.rddToPairRDDFunctions</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark18_RDD_Operator_Transform_cogroup</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --  join</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = sc.makeRDD(<span class="type">List</span>((<span class="string">&quot;a&quot;</span>,<span class="number">1</span>),(<span class="string">&quot;b&quot;</span>,<span class="number">2</span>)))</span><br><span class="line">    <span class="keyword">val</span> rdd1: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = sc.makeRDD(<span class="type">List</span>((<span class="string">&quot;b&quot;</span>,<span class="number">4</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">5</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">3</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">6</span>)))</span><br><span class="line">    <span class="keyword">val</span> rdd2: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = sc.makeRDD(<span class="type">List</span>((<span class="string">&quot;c&quot;</span>,<span class="number">4</span>),(<span class="string">&quot;e&quot;</span>,<span class="number">5</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">3</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">6</span>)))</span><br><span class="line">    <span class="comment">//cogroup = connect + group  åˆ†åŒºå®Œäº† åˆ†ç»„</span></span><br><span class="line">    rdd.cogroup(rdd1,rdd2).collect().foreach(println)</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    (a,(CompactBuffer(1),CompactBuffer(5),CompactBuffer(3, 6)))</span></span><br><span class="line"><span class="comment">    (b,(CompactBuffer(2),CompactBuffer(4),CompactBuffer()))</span></span><br><span class="line"><span class="comment">    (c,(CompactBuffer(),CompactBuffer(3, 6),CompactBuffer(4)))</span></span><br><span class="line"><span class="comment">    (e,(CompactBuffer(),CompactBuffer(),CompactBuffer(5)))</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>leftOuterJoin</strong></p><p>ç±»ä¼¼äº SQL è¯­å¥çš„å·¦å¤–è¿æ¥</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span>.rddToPairRDDFunctions</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark19_RDD_Operator_Transform_leftOuterJoin</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å‡†å¤‡SPark ç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --  join</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd1: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = sc.makeRDD(<span class="type">List</span>((<span class="string">&quot;b&quot;</span>,<span class="number">4</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">5</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">3</span>)))</span><br><span class="line">    <span class="keyword">val</span> rdd2: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = sc.makeRDD(<span class="type">List</span>((<span class="string">&quot;b&quot;</span>,<span class="number">3</span>),(<span class="string">&quot;a&quot;</span>,<span class="number">2</span>),(<span class="string">&quot;c&quot;</span>,<span class="number">6</span>)))</span><br><span class="line">    rdd1.leftOuterJoin(rdd2).collect().foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-BUGç‚¹-7">5.BUGç‚¹</h2><p>åœ¨RDDæ“ä½œä¸­æœ‰ä¸€é¡¹æ‹‰é“¾æ“ä½œï¼Œå°±æ˜¯å°†ä¸¤ç»„é›†åˆå˜æˆkey-Vlaueç±»å‹çš„ï¼Œåœ¨Scalaä¸­ï¼Œå¦‚æœä¸¤ç»„æ•°æ®ä¸ä¸€æ ·é•¿ï¼ŒVlaueä¼šå˜æˆé»˜è®¤å€¼ï¼Œä½†æ˜¯åœ¨RDDä¸­æˆ‘å°±å‡ºç°äº†æŠ¥é”™ï¼ŒæŠ¥é”™ä¿¡æ¯è¯´ä¸¤ç»„RDDå€¼é•¿åº¦è¦ä¸€æ ·ã€‚</p><p><img src="https://docimg4.docs.qq.com/image/5NktxWQQgO1OFMYZkNdtfg.png?w=1820&amp;h=479" alt="img"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-7">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>ç”¨Sparkè¯»å–æ–‡ä»¶ ä¸€è¡Œä¸€è¡Œ å¹¶ç”¨mapè¯»å–è·¯å¾„</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark01_RDD_Operator_Transform_Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> sparkConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO ç®—å­ --map</span></span><br><span class="line">    <span class="keyword">val</span> text = sc.textFile(<span class="string">&quot;datas/apache.log&quot;</span>) <span class="comment">//è¯»å–æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">val</span> value = text.map(</span><br><span class="line">      (line: <span class="type">String</span>) =&gt;&#123;<span class="comment">//è·å–è¡Œ</span></span><br><span class="line">        <span class="keyword">val</span> strings: <span class="type">Array</span>[<span class="type">String</span>] = line.split(<span class="string">&quot; &quot;</span>)</span><br><span class="line">        strings(<span class="number">6</span>)<span class="comment">//ä»¥ç©ºæ ¼åˆ‡å‰²æˆæ•°ç»„å¹¶å–ç¬¬6ä¸ªæ•°æ®</span></span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    value.collect().foreach(println)</span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220722145042216.png" alt="image-20220722145042216"></p><h2 id="7-æ€»ç»“-8">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ å†…å®¹æ˜¯ç®—æ³•æ–¹é¢çš„ï¼ŒSparkç‹¬æœ‰çš„ï¼Œè½¬æ¢ç®—å­ï¼Œå°†scalaä¸­çš„ä¼˜ç§€ç‰¹è´¨ç»“åˆï¼ŒæŠŠRDDä¸­çš„æ•°æ®åšå„ç§å„æ ·çš„å¤„ç†ï¼Œæœ‰25ä¸ªå·¦å³çš„æ–¹æ³•ï¼Œå•Valueå’ŒåŒValueçš„éƒ½æœ‰ï¼Œéš¾åº¦æ˜¯å¾ˆå¤§çš„ï¼Œåå‘ç®—æ³•ï¼Œæ¯”ä¹‹å‰çš„scalaé›†åˆçš„é«˜é˜¶è¿˜éš¾ä¸å°‘ï¼Œæƒ³æå®šè¿™ä¸ªè¿˜å¾—åœ¨å»çœ‹ä¸€ä¸‹scalaé›†åˆçš„é«˜é˜¶æ–¹æ³•ï¼Œå…ƒç»„æ–¹é¢ç”¨çš„æ¯”è¾ƒå¤šï¼Œè¿™æ ·èƒ½è®©ä»£ç å¾ˆç®€æ´ï¼Œè‡ªå·±å»CSDNæœäº†scalaçš„è‡ªåŠ¨ç±»å‹è¡¥å…¨ï¼Œè¿™æ ·ç†è§£èµ·æ¥æ¯”ä¹‹å‰å¥½äº†å¾ˆå¤šã€‚æŒæ¡ç¨‹åº¦70%ï¼Œå› ä¸ºåœ¨èµ¶è¿›åº¦ï¼Œæœ‰äº›å°æ¡ˆä¾‹æ²¡å»æ•²ï¼Œæ›´å¤šæ˜¯è‡ªå·±çš„ç†è§£ï¼Œç»“åˆæ–‡æ¡£çš„è®²è§£ã€‚æ–¹æ³•å¤ªå¤šäº†ï¼Œä¹Ÿä¸æ˜¯å¾ˆèƒ½è®°ä½ï¼Œè¿˜æ˜¯å¾—ç­‰æ¡ˆä¾‹çš„æ—¶å€™ï¼Œèƒ½ä¸Šåœºä½¿ç”¨ä¸€ä¸‹ï¼Œè¿™æ ·å¯¹è‡ªå·±ç†è§£æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</p><h1 id="7-23-Spark-RDDå®Œç»“">7.23 Spark-RDDå®Œç»“</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-13">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-13">2.æ ‡é¢˜</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">081</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - è¡ŒåŠ¨ç®—å­ - ä»‹ç»</span><br><span class="line"><span class="number">082</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - è¡ŒåŠ¨ç®—å­ - ç®—å­æ¼”ç¤º</span><br><span class="line"><span class="number">083</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - è¡ŒåŠ¨ç®—å­ - aggregate</span><br><span class="line"><span class="number">084</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - è¡ŒåŠ¨ç®—å­ - countByKey <span class="meta">&amp; countByValue</span></span><br><span class="line"><span class="number">085</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - WordCountä¸åŒçš„å®ç°æ–¹å¼ - (<span class="number">1</span>-<span class="number">8</span>)</span><br><span class="line"><span class="number">086</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - WordCountä¸åŒçš„å®ç°æ–¹å¼ - (<span class="number">9</span>-<span class="number">11</span>)</span><br><span class="line"><span class="number">087</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - è¡ŒåŠ¨ç®—å­ - saveçš„æ–¹æ³•</span><br><span class="line"><span class="number">088</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - è¡ŒåŠ¨ç®—å­ - foreach</span><br><span class="line"><span class="number">089</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - åºåˆ—åŒ– - é—­åŒ…æ£€æµ‹</span><br><span class="line"><span class="number">090</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - åºåˆ—åŒ– - å®é™…æ‰§è¡Œæ—¶çš„é—®é¢˜</span><br><span class="line"><span class="number">091</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - åºåˆ—åŒ– - Kryoåºåˆ—åŒ–Coreä»‹ç»</span><br><span class="line"><span class="number">092</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - ä¾èµ–å…³ç³» - ä¾èµ– <span class="meta">&amp; è¡€ç¼˜å…³ç³»ä»‹ç»</span></span><br><span class="line"><span class="number">093</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - ä¾èµ–å…³ç³» - è¡€ç¼˜å…³ç³» - æ¼”ç¤º</span><br><span class="line"><span class="number">094</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - ä¾èµ–å…³ç³» - å®½çª„ä¾èµ–</span><br><span class="line"><span class="number">095</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - ä¾èµ–å…³ç³» - é˜¶æ®µ<span class="meta">&amp;åˆ†åŒº&amp;ä»»åŠ¡ - æ¦‚å¿µè§£æ - ç§‹æ¸¸äº†</span></span><br><span class="line"><span class="number">096</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - ä¾èµ–å…³ç³» - é˜¶æ®µåˆ’åˆ†æºç è§£è¯»</span><br><span class="line"><span class="number">097</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - ä¾èµ–å…³ç³» - ä»»åŠ¡åˆ’åˆ†æºç è§£è¯»</span><br><span class="line"><span class="number">098</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - ä¾èµ–å…³ç³» - ä»»åŠ¡åˆ†ç±»</span><br><span class="line"><span class="number">099</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - æŒä¹…åŒ– - cache <span class="meta">&amp; persiståŸºæœ¬åŸç†å’Œæ¼”ç¤º</span></span><br><span class="line"><span class="number">100</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - æŒä¹…åŒ– - ä½œç”¨</span><br><span class="line"><span class="number">101</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - æŒä¹…åŒ– - æ£€æŸ¥ç‚¹</span><br><span class="line"><span class="number">102</span>Core - æ ¸å¿ƒç¼–ç¨‹ - RDD - æŒä¹…åŒ– - åŒºåˆ«</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-13">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="è¡ŒåŠ¨ç®—å­">è¡ŒåŠ¨ç®—å­</h3><h4 id="åºåˆ—åŒ–">åºåˆ—åŒ–</h4><h4 id="ä¾èµ–å…³ç³»">ä¾èµ–å…³ç³»</h4><h4 id="æŒä¹…åŒ–">æŒä¹…åŒ–</h4><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-11">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="RDDè¡ŒåŠ¨ç®—å­">RDDè¡ŒåŠ¨ç®—å­</h3><p>è¡ŒåŠ¨ç®—å­å°±æ˜¯è§¦å‘ä½œä¸š(job)æ‰§è¡Œçš„æ–¹æ³•<br>åº•å±‚ä»£ç è°ƒç”¨çš„æ˜¯ç¯å¢ƒå¯¹è±¡çš„runJob</p><h4 id="reduce">reduce</h4><p>ä»¥åŠåŸºæœ¬ç®€å•æ–¹æ³•</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay3</span>.action</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark02_RDD_Operator_reduce</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºè¿æ¥</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO è¡ŒåŠ¨ç®—å­</span></span><br><span class="line">    <span class="comment">//reduce</span></span><br><span class="line">    <span class="keyword">val</span> i: <span class="type">Int</span> = rdd.reduce((_: <span class="type">Int</span>) + (_: <span class="type">Int</span>))</span><br><span class="line">    println(i) <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//collect é‡‡é›† æ–¹æ³•ä¼šå°†ä¸åŒåˆ†åŒºçš„æ•°æ®æŒ‰ç…§åˆ†åŒºé¡ºåºé‡‡é›†åˆ°Driverç«¯å†…å­˜ä¸­ï¼Œå½¢æˆæ•°ç»„</span></span><br><span class="line">    <span class="keyword">val</span> ints: <span class="type">Array</span>[<span class="type">Int</span>] = rdd.collect()</span><br><span class="line">    println(ints.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">// 1,4,3,2</span></span><br><span class="line">    <span class="comment">// countè¿”å› RDD ä¸­å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">val</span> countResult: <span class="type">Long</span> = rdd.count()</span><br><span class="line">    println(countResult) <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// first è¿”å›RDDç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">    println(rdd.first())</span><br><span class="line">    <span class="comment">//take è¿”å›ä¸€ä¸ªç”± RDD çš„å‰ n ä¸ªå…ƒç´ ç»„æˆçš„æ•°ç»„</span></span><br><span class="line">    <span class="keyword">val</span> ints1: <span class="type">Array</span>[<span class="type">Int</span>] = rdd.take(<span class="number">3</span>)</span><br><span class="line">    println(ints1.mkString(<span class="string">&quot;,&quot;</span>)) <span class="comment">//1,4,3</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//takeOrdered è¿”å›è¯¥ RDD æ’åºåçš„å‰ n ä¸ªå…ƒç´ ç»„æˆçš„æ•°ç»„</span></span><br><span class="line">    <span class="keyword">val</span> ints2: <span class="type">Array</span>[<span class="type">Int</span>] = rdd.takeOrdered(<span class="number">3</span>) <span class="comment">//1,2,3</span></span><br><span class="line">    println(ints2.mkString(<span class="string">&quot;,&quot;</span>))</span><br><span class="line"></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="collect">collect</h4><p>åœ¨é©±åŠ¨ç¨‹åºä¸­ï¼Œä»¥æ•°ç»„ Array çš„å½¢å¼è¿”å›æ•°æ®é›†çš„æ‰€æœ‰å…ƒç´ </p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay3</span>.action</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark01_RDD_Operator_Action</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºè¿æ¥</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO è¡ŒåŠ¨ç®—å­</span></span><br><span class="line">    <span class="comment">//è¡ŒåŠ¨ç®—å­å°±æ˜¯è§¦å‘ä½œä¸š(job)æ‰§è¡Œçš„æ–¹æ³•</span></span><br><span class="line">    <span class="comment">//åº•å±‚ä»£ç è°ƒç”¨çš„æ˜¯ç¯å¢ƒå¯¹è±¡çš„runJob</span></span><br><span class="line">    rdd.collect() <span class="comment">//collectå°±æ˜¯è¡ŒåŠ¨ç®—å­</span></span><br><span class="line"></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="aggregate-fold">aggregate &amp; fold</h4><p>åˆ†åŒºçš„æ•°æ®é€šè¿‡åˆå§‹å€¼å’Œåˆ†åŒºå†…çš„æ•°æ®è¿›è¡Œèšåˆï¼Œç„¶åå†å’Œåˆå§‹å€¼è¿›è¡Œåˆ†åŒºé—´çš„æ•°æ®èšåˆ</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay3</span>.action</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark03_RDD_Operator_aggregate</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºè¿æ¥</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>),<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO è¡ŒåŠ¨ç®—å­</span></span><br><span class="line">    <span class="comment">// å°†è¯¥ RDD æ‰€æœ‰å…ƒç´ ç›¸åŠ å¾—åˆ°ç»“æœ</span></span><br><span class="line">    <span class="comment">//åˆå§‹å€¼å‚ä¸åˆ†åŒºå†…çš„è®¡ç®— åˆ†åŒºé—´è®¡ç®—ä¹Ÿæœ‰</span></span><br><span class="line">    <span class="keyword">val</span> result1: <span class="type">Int</span> = rdd.aggregate(<span class="number">0</span>)(_ + _, _ + _)</span><br><span class="line">    <span class="keyword">val</span> result2: <span class="type">Int</span> = rdd.aggregate(<span class="number">10</span>)(_ + _, _ + _) <span class="comment">//åˆå§‹å€¼çœ‹åˆ†åŒºé—´</span></span><br><span class="line">    println(result1)<span class="comment">//10</span></span><br><span class="line">    println(result2)<span class="comment">//40 1+4+10 + 3+2+10 + 10</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//fold aggregateçš„ç®€åŒ–æ“ä½œ</span></span><br><span class="line">    <span class="keyword">val</span> foldResult1: <span class="type">Int</span> = rdd.fold(<span class="number">0</span>)(_+_) <span class="comment">//åˆ†åŒºå†…å’Œåˆ†åŒºé—´ä¸€æ ·çš„æ“ä½œ</span></span><br><span class="line">    <span class="keyword">val</span> foldResult2: <span class="type">Int</span> = rdd.fold(<span class="number">10</span>)(_+_) <span class="comment">//åˆ†åŒºå†…å’Œåˆ†åŒºé—´ä¸€æ ·çš„æ“ä½œ</span></span><br><span class="line">    println(foldResult1) <span class="comment">//10</span></span><br><span class="line">    println(foldResult2) <span class="comment">//40 15 + 15 +10</span></span><br><span class="line"></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="countByKey-countByValue">countByKey &amp; countByValue</h4><p>ç»Ÿè®¡æ¯ç§ key çš„ä¸ªæ•°</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay3</span>.action</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark04_RDD_Operator_countByKey</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºè¿æ¥</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO è¡ŒåŠ¨ç®—å­</span></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[(<span class="type">Int</span>, <span class="type">String</span>)] = sc.makeRDD(<span class="type">List</span>((<span class="number">1</span>, <span class="string">&quot;a&quot;</span>), (<span class="number">1</span>, <span class="string">&quot;a&quot;</span>), (<span class="number">1</span>, <span class="string">&quot;a&quot;</span>), (<span class="number">2</span>, <span class="string">&quot;b&quot;</span>), (<span class="number">3</span>, <span class="string">&quot;c&quot;</span>), (<span class="number">3</span>, <span class="string">&quot;c&quot;</span>)))</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç»Ÿè®¡æ¯ç§keyçš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">val</span> resultKey: collection.<span class="type">Map</span>[<span class="type">Int</span>, <span class="type">Long</span>] = rdd.countByKey()</span><br><span class="line">    <span class="keyword">val</span> resultValue: collection.<span class="type">Map</span>[(<span class="type">Int</span>, <span class="type">String</span>), <span class="type">Long</span>] = rdd.countByValue()</span><br><span class="line">    println(resultKey) <span class="comment">//keyå‡ºç°äº†å‡ æ¬¡</span></span><br><span class="line">    println(resultValue) <span class="comment">// RDDå†…çš„å…ƒç´ å‡ºç°äº†å‡ æ¬¡</span></span><br><span class="line"></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="saveç›¸å…³ç®—å­">saveç›¸å…³ç®—å­</h4><p>ä¿å­˜æ–‡ä»¶</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay3</span>.action</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark05_RDD_Operator_Save</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºè¿æ¥</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO è¡ŒåŠ¨ç®—å­</span></span><br><span class="line">    <span class="comment">//save å°†RDDæ•°æ®ä¿å­˜åˆ°ä¸åŒæ ¼å¼çš„æ–‡ä»¶ä¸­</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[(<span class="type">Int</span>, <span class="type">String</span>)] = sc.makeRDD(<span class="type">List</span>((<span class="number">1</span>, <span class="string">&quot;a&quot;</span>), (<span class="number">1</span>, <span class="string">&quot;a&quot;</span>), (<span class="number">1</span>, <span class="string">&quot;a&quot;</span>), (<span class="number">2</span>, <span class="string">&quot;b&quot;</span>), (<span class="number">3</span>, <span class="string">&quot;c&quot;</span>), (<span class="number">3</span>, <span class="string">&quot;c&quot;</span>)))</span><br><span class="line">    <span class="comment">// ä¿å­˜æˆ Text æ–‡ä»¶</span></span><br><span class="line">    rdd.saveAsTextFile(<span class="string">&quot;output&quot;</span>) <span class="comment">//æ¯”è¾ƒå¸¸ç”¨</span></span><br><span class="line">    <span class="comment">// åºåˆ—åŒ–æˆå¯¹è±¡ä¿å­˜åˆ°æ–‡ä»¶</span></span><br><span class="line">    rdd.saveAsObjectFile(<span class="string">&quot;output1&quot;</span>)</span><br><span class="line">    <span class="comment">// ä¿å­˜æˆ Sequencefile æ–‡ä»¶ è¦æ±‚æ•°æ®æ ¼å¼å¿…é¡»æ˜¯key-Valueç±»å‹</span></span><br><span class="line">    rdd.saveAsSequenceFile(<span class="string">&quot;output2&quot;</span>)</span><br><span class="line"></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="foreach">foreach</h4><p>åˆ†å¸ƒå¼éå† RDD ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œè°ƒç”¨æŒ‡å®šå‡½æ•°  ä¸‹æ–‡æœ‰è¡ŒåŠ¨ç®—å­çš„æ‰§è¡ŒåŸç†è§£é‡Š</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay3</span>.action</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark06_RDD_Operator_Foreach</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºè¿æ¥</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;Operator&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO è¡ŒåŠ¨ç®—å­</span></span><br><span class="line">    <span class="comment">//ç®—å­ï¼š Operatorï¼ˆæ“ä½œï¼‰</span></span><br><span class="line">    <span class="comment">//  RDDçš„æ–¹æ³•å’ŒScalaé›†åˆå¯¹è±¡çš„æ–¹æ³•ä¸ä¸€æ ·</span></span><br><span class="line"><span class="comment">//    é›†åˆå¯¹è±¡çš„æ–¹æ³•éƒ½æ˜¯åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹çš„å†…å­˜ä¸­å®Œæˆçš„</span></span><br><span class="line"><span class="comment">//    RDDçš„æ–¹æ³•å¯ä»¥å°†è®¡ç®—é€»è¾‘å‘é€åˆ°Executorç«¯æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">//    ä¸ºäº†åŒºåˆ†ä¸åŒçš„å¤„ç†æ•ˆæœï¼Œæ‰€ä»¥å°†RDDçš„æ–¹æ³•ç§°ä¹‹ä¸ºç®—å­</span></span><br><span class="line"><span class="comment">//    RDDçš„æ–¹æ³•çš„æ“ä½œéƒ½æ˜¯åœ¨Driverç«¯æ‰§è¡Œçš„ï¼Œè€Œæ–¹æ³•å†…éƒ¨çš„é€»è¾‘ä»£ç æ˜¯åœ¨Executorç«¯æ‰§è¡Œã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">    <span class="comment">//foreach å…¶å®æ˜¯Driverç«¯å†…å­˜é›†åˆçš„å¾ªç¯éå†æ–¹æ³•</span></span><br><span class="line">    <span class="comment">// æ”¶é›†åæ‰“å°</span></span><br><span class="line">    rdd.collect().foreach(println) <span class="comment">// æœ‰é¡ºåº</span></span><br><span class="line"></span><br><span class="line">    println(<span class="string">&quot;****************&quot;</span>)</span><br><span class="line">    <span class="comment">// åˆ†å¸ƒå¼æ‰“å°</span></span><br><span class="line">    <span class="comment">// Executorç«¯å†…å­˜æ•°æ®æ‰“å°</span></span><br><span class="line">    rdd.foreach(println) <span class="comment">// æ— åº</span></span><br><span class="line"></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RDDåºåˆ—åŒ–">RDDåºåˆ—åŒ–</h3><p><code>ç®—å­ä»¥å¤–çš„ä»£ç éƒ½æ˜¯åœ¨ Driver ç«¯æ‰§è¡Œ, ç®—å­é‡Œé¢çš„ä»£ç éƒ½æ˜¯åœ¨ Executorç«¯æ‰§è¡Œ</code></p><p>è¦æ¸…æ™°ä¸Šé¢è¿™å¥è¯ï¼ŒScalaæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Œï¼Œå°±ä¼šå¯¼è‡´ç®—å­å†…ç»å¸¸ä¼šç”¨åˆ°ç®—å­å¤–çš„æ•°æ®ï¼Œè¿™æ ·å°±å½¢æˆäº†é—­åŒ…çš„æ•ˆæœï¼Œå¦‚æœä½¿ç”¨çš„ç®—å­å¤–çš„æ•°æ®æ— æ³•åºåˆ—åŒ–ï¼Œå°±æ„å‘³ç€æ— æ³•ä¼ å€¼ç»™ Executorç«¯æ‰§è¡Œï¼Œå°±ä¼šå‘ç”Ÿé”™è¯¯ã€‚æ‰€ä»¥è¦è§£å†³ç®—å­ä½¿ç”¨ç®—å­å¤–æ•°æ®çš„é—®é¢˜ï¼Œå°±éœ€è¦æ•°æ®åºåˆ—åŒ–ã€‚</p><p><code>javaä¸­åºåˆ—åŒ–æ˜¯ç»§æ‰¿Serializableï¼Œåœ¨scalaä¸­ç§°ä¹‹ä¸ºæ··å…¥</code></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay3</span>.serial</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark01_RDD_Serial</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO å»ºç«‹å’ŒSparkæ¡†æ¶çš„è¿æ¥</span></span><br><span class="line">    <span class="comment">//JDBC:Connection</span></span><br><span class="line">    <span class="keyword">val</span> conf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local&quot;</span>).setAppName(<span class="string">&quot;WordCount&quot;</span>)</span><br><span class="line">    <span class="comment">// åˆ›å»º Spark ä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡ï¼ˆè¿æ¥å¯¹è±¡ï¼‰</span></span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(conf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO æ‰§è¡Œä¸šåŠ¡æ“ä½œ</span></span><br><span class="line">    <span class="comment">// è¯»å–æ–‡ä»¶æ•°æ®</span></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">String</span>] = sc.makeRDD(<span class="type">Array</span>(<span class="string">&quot;hello world&quot;</span>, <span class="string">&quot;hello spark&quot;</span>, <span class="string">&quot;hive&quot;</span>, <span class="string">&quot;atguigu&quot;</span>))</span><br><span class="line">    <span class="keyword">val</span> search = <span class="keyword">new</span> <span class="type">Search</span>(<span class="string">&quot;h&quot;</span>) <span class="comment">//ç®—å­ä½¿ç”¨ç®—å­å¤–çš„æ•°æ®</span></span><br><span class="line"><span class="comment">//    search.getMatch1(rdd).collect().foreach(println)</span></span><br><span class="line">    search.getMatch2(rdd).collect().foreach(println)</span><br><span class="line">    <span class="comment">//TODO å…³é—­è¿æ¥</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">Search</span>(<span class="params">query:<span class="type">String</span></span>) <span class="keyword">extends</span> <span class="title">Serializable</span> </span>&#123; <span class="comment">//æ··å…¥Serializable</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isMatch</span></span>(s: <span class="type">String</span>): <span class="type">Boolean</span> = &#123;</span><br><span class="line">      s.contains(query)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å‡½æ•°åºåˆ—åŒ–æ¡ˆä¾‹</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMatch1</span> </span>(rdd: <span class="type">RDD</span>[<span class="type">String</span>]): <span class="type">RDD</span>[<span class="type">String</span>] = &#123;</span><br><span class="line">      rdd.filter(isMatch)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å±æ€§åºåˆ—åŒ–æ¡ˆä¾‹</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMatch2</span></span>(rdd: <span class="type">RDD</span>[<span class="type">String</span>]): <span class="type">RDD</span>[<span class="type">String</span>] = &#123;</span><br><span class="line">      rdd.filter((x: <span class="type">String</span>) =&gt; x.contains(query))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RDDä¾èµ–å…³ç³»">RDDä¾èµ–å…³ç³»</h3><p>ä¾èµ–å…³ç³»ï¼Œå…¶å®å°±æ˜¯ä¸¤ä¸ªç›¸é‚» RDD ä¹‹é—´çš„å…³ç³» å’Œjavaä¸­çš„å­ç±»çˆ¶ç±»å·®ä¸å¤šå§</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220723165704674.png" alt="image-20220723165704674"></p><h3 id="RDDçš„æŒä¹…åŒ–">RDDçš„æŒä¹…åŒ–</h3><p>RDDä»£ç ï¼Œå¾ˆé•¿ä¸€äº›æ˜¯é‡å¤çš„ï¼Œå¦‚æœä½¿ç”¨ä¸åŒæ˜¯è¡ŒåŠ¨ç®—å­ï¼Œä¼šé‡æ–°è°ƒç”¨ä¸€éä¹‹å‰çš„ä»£ç ï¼Œè¿™æ ·æ•ˆç‡å¤ªä½äº†ã€‚</p><p>æŒä¹…åŒ–å¯ä»¥å°†ä¹‹å‰çš„ä¾èµ–å’Œä»£ç ä¿å­˜åœ¨ä¸´æ—¶æ–‡ä»¶æˆ–è€…ç£ç›˜ä¸­ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay3</span>.persist</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.storage.<span class="type">StorageLevel</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SPARK_BRANCH</span>, <span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark01_RDD_Persist</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// TODO  Spark ä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡ï¼ˆè¿æ¥å¯¹è±¡ï¼‰</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local&quot;</span>).setAppName(<span class="string">&quot;Persist&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> list = <span class="type">List</span>(<span class="string">&quot;Hello Scala&quot;</span>, <span class="string">&quot;Hello Spark&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd:<span class="type">RDD</span>[<span class="type">String</span>] = sc.makeRDD(list)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> flatRDD: <span class="type">RDD</span>[<span class="type">String</span>] = rdd.flatMap((_:<span class="type">String</span>).split(<span class="string">&quot; &quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> mapRDD: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = flatRDD.map(</span><br><span class="line">      (word: <span class="type">String</span>) =&gt; &#123;</span><br><span class="line">        println(<span class="string">&quot;@@@@@@@@@@@@@@@@@&quot;</span>)</span><br><span class="line">        (word,<span class="number">1</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment">//cacheé»˜è®¤ä¿å­˜å’‹åœ¨å†…å­˜ä¸­</span></span><br><span class="line"><span class="comment">//    mapRDD.cache() //æ”¾å†…å­˜ä¸­æŒä¹…åŒ–äº† æ•°æ®è¿™æ ·åªä¼šä¸€é</span></span><br><span class="line">    <span class="comment">//å¯ä»¥æ”¾ç£ç›˜</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æŒä¹…åŒ–æ“ä½œå¿…é¡»åœ¨è¡ŒåŠ¨ç®—å­æ‰§è¡Œæ—¶å®Œæˆ</span></span><br><span class="line">    mapRDD.persist(<span class="type">StorageLevel</span>.<span class="type">DISK_ONLY</span>) <span class="comment">//ä¿å­˜çš„æ˜¯ä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> reduceRDD: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = mapRDD.reduceByKey((_:<span class="type">Int</span>) + (_:<span class="type">Int</span>))</span><br><span class="line">    <span class="keyword">val</span> reduceRDD1: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Iterable</span>[<span class="type">Int</span>])] = mapRDD.groupByKey()</span><br><span class="line"></span><br><span class="line">    reduceRDD.collect().foreach(println)</span><br><span class="line">    println(<span class="string">&quot;â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&quot;</span>)</span><br><span class="line">    reduceRDD1.collect().foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å…³é—­è¿æ¥</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="checkpointçš„ä½¿ç”¨">checkpointçš„ä½¿ç”¨</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay3</span>.persist</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.storage.<span class="type">StorageLevel</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark02_RDD_Persist</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// TODO  Spark ä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡ï¼ˆè¿æ¥å¯¹è±¡ï¼‰</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local&quot;</span>).setAppName(<span class="string">&quot;Persist&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line">    sc.setCheckpointDir(<span class="string">&quot;cp&quot;</span>) <span class="comment">//è®¾ç½®ä¿å­˜è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> list = <span class="type">List</span>(<span class="string">&quot;Hello Scala&quot;</span>, <span class="string">&quot;Hello Spark&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd:<span class="type">RDD</span>[<span class="type">String</span>] = sc.makeRDD(list)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> flatRDD: <span class="type">RDD</span>[<span class="type">String</span>] = rdd.flatMap((_:<span class="type">String</span>).split(<span class="string">&quot; &quot;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> mapRDD: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = flatRDD.map(</span><br><span class="line">      (word: <span class="type">String</span>) =&gt; &#123;</span><br><span class="line">        println(<span class="string">&quot;@@@@@@@@@@@@@@@@@&quot;</span>)</span><br><span class="line">        (word,<span class="number">1</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    )</span><br><span class="line">    <span class="comment">//éœ€è¦è½ç›˜ éœ€è¦æŒ‡å®šæ£€æŸ¥ç‚¹çš„ä¿å­˜è·¯å¾„</span></span><br><span class="line">    <span class="comment">//æ£€æŸ¥ç‚¹è·¯å¾„ä¿å­˜çš„æ–‡ä»¶ å½“ä½œä¸šæ‰§è¡Œå®Œæ¯•å ä¸ä¼šè¢«åˆ é™¤</span></span><br><span class="line">    <span class="comment">//ä¸€èˆ¬ä¿å­˜è·¯å¾„éƒ½æ˜¯åœ¨åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿ HDFS åœ¨13è¡Œ</span></span><br><span class="line">    mapRDD.cache()</span><br><span class="line">    mapRDD.checkpoint()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> reduceRDD: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = mapRDD.reduceByKey((_:<span class="type">Int</span>) + (_:<span class="type">Int</span>))</span><br><span class="line">    <span class="keyword">val</span> reduceRDD1: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Iterable</span>[<span class="type">Int</span>])] = mapRDD.groupByKey()</span><br><span class="line"></span><br><span class="line">    reduceRDD.collect().foreach(println)</span><br><span class="line">    println(<span class="string">&quot;â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&quot;</span>)</span><br><span class="line">    reduceRDD1.collect().foreach(println)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å…³é—­è¿æ¥</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒä¹…åŒ–å‡ ç§æ–¹å¼çš„åŒºåˆ«</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//cache : å°†æ•°æ®ä¸´æ—¶å­˜å‚¨åœ¨å†…å­˜ä¸­è¿›è¡Œæ•°æ®é‡ç”¨</span></span><br><span class="line"><span class="comment">//persist : å°†æ•°æ®ä¸´æ—¶å­˜å‚¨åœ¨ç£ç›˜æ–‡ä»¶ä¸­è¿›è¡Œæ•°æ®é‡ç”¨</span></span><br><span class="line">            <span class="comment">//æ¶‰åŠåˆ°ç£ç›˜IOï¼Œæ€§èƒ½è¾ƒä½ï¼Œä½†æ˜¯æ•°æ®å®‰å…¨</span></span><br><span class="line">            <span class="comment">//å¦‚æœä½œä¸šæ‰§è¡Œå®Œæ¯•ï¼Œä¸´æ—¶ä¿å­˜çš„æ•°æ®æ–‡ä»¶å°±ä¼šä¸¢å¤±</span></span><br><span class="line"><span class="comment">//checkpointï¼šå°†æ•°æ®é•¿ä¹…åœ°ä¿å­˜åœ¨ç£ç›˜æ–‡ä»¶ä¸­è¿›è¡Œæ•°æ®çš„é‡ç”¨</span></span><br><span class="line">            <span class="comment">//ä¸ºäº†ä¿è¯æ•°æ®å®‰å…¨ï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼šç‹¬ç«‹æ‰§è¡Œä½œä¸š</span></span><br><span class="line">            <span class="comment">//ä¸ºäº†èƒ½å¤Ÿæé«˜æ•ˆç‡ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ˜¯éœ€è¦å’Œcacheè”åˆä½¿ç”¨</span></span><br></pre></td></tr></table></figure><h3 id="åˆ†åŒºå™¨">åˆ†åŒºå™¨</h3><p>â¢ åªæœ‰ Key-Value ç±»å‹çš„ RDD æ‰æœ‰åˆ†åŒºå™¨ï¼Œé Key-Value ç±»å‹çš„ RDD åˆ†åŒºçš„å€¼æ˜¯ None</p><p>ä¹‹å‰ä½¿ç”¨è¿‡repartition æ˜¯hashåˆ†åŒº ç°åœ¨å¯ä»¥è‡ªå®šä¹‰åˆ†åŒº</p><p>åˆ†åŒºç±» è¦ç»§æ‰¿ Partitioner</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">WordCount</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">Partitioner</span>, <span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark03_RDD_repartition</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">// TODO  Spark ä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡ï¼ˆè¿æ¥å¯¹è±¡ï¼‰</span></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local&quot;</span>).setAppName(<span class="string">&quot;Persist&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> list = <span class="type">List</span>((<span class="string">&quot;NBA&quot;</span>,<span class="number">1</span>),(<span class="string">&quot;CBA&quot;</span>,<span class="number">2</span>),(<span class="string">&quot;WNBA&quot;</span>,<span class="number">3</span>),(<span class="string">&quot;CUBA&quot;</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = sc.makeRDD(list, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> value: <span class="type">RDD</span>[(<span class="type">String</span>, <span class="type">Int</span>)] = rdd.partitionBy(<span class="keyword">new</span> <span class="type">MyPartitioner</span>)</span><br><span class="line"></span><br><span class="line">    value.saveAsTextFile(<span class="string">&quot;output&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// TODO å…³é—­è¿æ¥</span></span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">MyPartitioner</span> <span class="keyword">extends</span> <span class="title">Partitioner</span></span>&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">numPartitions</span></span>: <span class="type">Int</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">getPartition</span></span>(key: <span class="type">Any</span>): <span class="type">Int</span> = &#123;</span><br><span class="line">      key <span class="keyword">match</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;NBA&quot;</span> =&gt; <span class="number">0</span></span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;CBA&quot;</span> =&gt; <span class="number">1</span></span><br><span class="line">        <span class="keyword">case</span> _ =&gt; <span class="number">2</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç´¯åŠ å™¨">ç´¯åŠ å™¨</h3><p>ç´¯åŠ å™¨ç”¨æ¥æŠŠ Executor ç«¯å˜é‡ä¿¡æ¯èšåˆåˆ° Driver ç«¯ã€‚åœ¨ Driver ç¨‹åºä¸­å®šä¹‰çš„å˜é‡ï¼Œåœ¨Executor ç«¯çš„æ¯ä¸ª Task éƒ½ä¼šå¾—åˆ°è¿™ä¸ªå˜é‡çš„ä¸€ä»½æ–°çš„å‰¯æœ¬ï¼Œæ¯ä¸ª task æ›´æ–°è¿™äº›å‰¯æœ¬çš„å€¼åï¼Œä¼ å› Driver ç«¯è¿›è¡Œ mergeã€‚</p><p>åƒRangeä½¿ç”¨çš„æ—¶å€™å°±ä¸ä¼šä¼ å›åˆ°Driverç«¯ Driverä¼ åˆ°Executorç«¯ä»¥åï¼Œåœ¨Executorç«¯åšä»»åŠ¡ï¼Œä¸ä¼šä¼ å›Driverç«¯</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay3</span>.add</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.util.<span class="type">LongAccumulator</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark01_RDD_add</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> sparkConf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;add&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(sparkConf)</span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">Int</span>] = sc.makeRDD(<span class="type">List</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>))</span><br><span class="line">    <span class="comment">// å£°æ˜ç´¯åŠ å™¨</span></span><br><span class="line">    <span class="keyword">val</span> sum: <span class="type">LongAccumulator</span> = sc.longAccumulator(<span class="string">&quot;sum2&quot;</span>)</span><br><span class="line">    rdd.foreach(</span><br><span class="line">      (num: <span class="type">Int</span>) =&gt; &#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨ç´¯åŠ å™¨</span></span><br><span class="line">        sum.add(num)</span><br><span class="line">      &#125; )</span><br><span class="line">    <span class="comment">// è·å–ç´¯åŠ å™¨çš„å€¼</span></span><br><span class="line">    println(<span class="string">&quot;sum = &quot;</span> + sum.value)</span><br><span class="line">    sc.stop()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-BUGç‚¹-8">5. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>æ‰§è¡Œè‡ªå®šä¹‰åˆ†åŒºå™¨çš„æ—¶å€™ï¼ŒæŠ¥äº†ä¸€å¤§ä¸²çš„é”™è¯¯ï¼Œä¸€ä¸ªä¸€ä¸ªç¿»è¯‘è¿‡æ¥ï¼Œæœ‰ä¸€ä¸ªé”™è¯¯æ˜¯æŒ‡å‘äº†è‡ªå·±è‡ªå®šä¹‰ç±»çš„caseè¡¨è¾¾å¼ï¼Œæ£€æŸ¥è¿‡åå‘ç°ï¼Œè‡ªå·±æœ‰å››ä¸ªKey-value,3ä¸ªåˆ†åŒºï¼ŒæŒ‰ç…§ç´¢å¼•ä¸‹æ ‡ 0 1 2 ï¼Œæ‰€ä»¥åé¢è‡ªå·±è‡ªå®šä¹‰matchç±»åº”è¯¥è¿”å›ä¸‰ä¸ªå€¼ï¼Œè€Œä¸”keyå€¼å¾—éƒ½æœ‰è¿”å›å€¼ã€‚æ‰€ä»¥æŒ‰è‡ªå·±çš„å†™æ³•ï¼Œä¼šæœ‰ä¸€ä¸ªé”®å€¼å¯¹æ²¡æœ‰è¿”å›å€¼ï¼Œä¹Ÿå°±æ²¡æœ‰åˆ†åŒºå¯¼è‡´æŠ¥é”™ã€‚æŠŠæœ€åä¸€ä¸ªæ”¹æˆ        <code>case _ =&gt; 2</code>è¡¨ç¤ºé™¤äº†å‰ä¸¤ä¸ªä¹‹å¤–ï¼Œè¿”å›å€¼éƒ½æ˜¯åˆ†åŒº2</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220724143959415.png" alt="image-20220724143959415"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-8">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="Kryo-åºåˆ—åŒ–æ¡†æ¶">Kryo åºåˆ—åŒ–æ¡†æ¶</h3><p>scalaæ‰€ç‹¬æœ‰çš„ï¼Œjavaä¸­åºåˆ—åŒ–çš„å‡çº§ç‰ˆï¼Œæ€§èƒ½å¤§å¤§æé«˜ã€‚</p><p>Kryo é€Ÿåº¦æ˜¯ Serializable çš„ 10 å€ã€‚å½“ RDD åœ¨ Shuffle æ•°æ®çš„æ—¶å€™ï¼Œç®€å•æ•°æ®ç±»å‹ã€æ•°ç»„å’Œå­—ç¬¦ä¸²ç±»å‹å·²ç»åœ¨ Spark å†…éƒ¨ä½¿ç”¨ Kryo æ¥åºåˆ—åŒ–ã€‚</p><p><code>æ³¨æ„ï¼šå³ä½¿ä½¿ç”¨ Kryo åºåˆ—åŒ–ï¼Œä¹Ÿè¦ç»§æ‰¿ Serializable æ¥å£ã€‚</code>ä»£ç é‡ä¼šå¢åŠ ä¸€ç‚¹ï¼Œä½†æ˜¯æ•ˆç‡å¤§å¤§æé«˜</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">BIgDataSparkDay3</span>.serial</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark02_RDD_SerialKryo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Application</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//Sparkæ¡†æ¶</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å»ºç«‹å’ŒSparkæ¡†æ¶çš„è¿æ¥</span></span><br><span class="line">    <span class="comment">//JDBC:Connection</span></span><br><span class="line">    <span class="keyword">val</span> conf: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local&quot;</span>).setAppName(<span class="string">&quot;WordCount&quot;</span>)<span class="comment">// æ›¿æ¢é»˜è®¤çš„åºåˆ—åŒ–æœºåˆ¶</span></span><br><span class="line">      .set(<span class="string">&quot;spark.serializer&quot;</span>, <span class="string">&quot;org.apache.spark.serializer.KryoSerializer&quot;</span>)</span><br><span class="line">      <span class="comment">// æ³¨å†Œéœ€è¦ä½¿ç”¨ kryo åºåˆ—åŒ–çš„è‡ªå®šä¹‰ç±»</span></span><br><span class="line">      .registerKryoClasses(<span class="type">Array</span>(classOf[<span class="type">Search</span>]))</span><br><span class="line">    <span class="comment">// åˆ›å»º Spark ä¸Šä¸‹æ–‡ç¯å¢ƒå¯¹è±¡ï¼ˆè¿æ¥å¯¹è±¡ï¼‰</span></span><br><span class="line">    <span class="keyword">val</span> sc = <span class="keyword">new</span> <span class="type">SparkContext</span>(conf)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO æ‰§è¡Œä¸šåŠ¡æ“ä½œ</span></span><br><span class="line">    <span class="comment">// è¯»å–æ–‡ä»¶æ•°æ®</span></span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[<span class="type">String</span>] = sc.makeRDD(<span class="type">Array</span>(<span class="string">&quot;hello world&quot;</span>, <span class="string">&quot;hello spark&quot;</span>, <span class="string">&quot;hive&quot;</span>, <span class="string">&quot;atguigu&quot;</span>))</span><br><span class="line">    <span class="keyword">val</span> search = <span class="keyword">new</span> <span class="type">Search</span>(<span class="string">&quot;h&quot;</span>) <span class="comment">//ä½¿ç”¨ç®—å­å¤–çš„æ•°æ®</span></span><br><span class="line"><span class="comment">//    search.getMatch1(rdd).collect().foreach(println)</span></span><br><span class="line">    search.getMatch2(rdd).collect().foreach(println)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­è¿æ¥</span></span><br><span class="line">    sc.stop()</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">case</span>  <span class="class"><span class="keyword">class</span> <span class="title">Search</span>(<span class="params">query:<span class="type">String</span></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isMatch</span></span>(s: <span class="type">String</span>): <span class="type">Boolean</span> = &#123;</span><br><span class="line">      s.contains(query)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å‡½æ•°åºåˆ—åŒ–æ¡ˆä¾‹</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMatch1</span> </span>(rdd: <span class="type">RDD</span>[<span class="type">String</span>]): <span class="type">RDD</span>[<span class="type">String</span>] = &#123;</span><br><span class="line">      rdd.filter(isMatch)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å±æ€§åºåˆ—åŒ–æ¡ˆä¾‹</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMatch2</span></span>(rdd: <span class="type">RDD</span>[<span class="type">String</span>]): <span class="type">RDD</span>[<span class="type">String</span>] = &#123;</span><br><span class="line">      rdd.filter((x: <span class="type">String</span>) =&gt; x.contains(query))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RDD-ä»»åŠ¡åˆ’åˆ†"><strong>RDD</strong> <strong>ä»»åŠ¡åˆ’åˆ†</strong></h3><p>RDD ä»»åŠ¡åˆ‡åˆ†ä¸­é—´åˆ†ä¸ºï¼šApplicationã€Jobã€Stage å’Œ Task</p><p>Applicationï¼šåˆå§‹åŒ–ä¸€ä¸ª SparkContext å³ç”Ÿæˆä¸€ä¸ª Applicationï¼›</p><p>Jobï¼šä¸€ä¸ª Action ç®—å­å°±ä¼šç”Ÿæˆä¸€ä¸ª Jobï¼›</p><p>Stageï¼šStage ç­‰äºå®½ä¾èµ–(ShuffleDependency)çš„ä¸ªæ•°åŠ  1ï¼›</p><p>Taskï¼šä¸€ä¸ª Stage é˜¶æ®µä¸­ï¼Œæœ€åä¸€ä¸ª RDD çš„åˆ†åŒºä¸ªæ•°å°±æ˜¯ Task çš„ä¸ªæ•°ã€‚</p><p><strong>æ³¨æ„ï¼šApplication-&gt;Job-&gt;Stage-&gt;Task æ¯ä¸€å±‚éƒ½æ˜¯ 1 å¯¹ n çš„å…³ç³»ã€‚</strong></p><h2 id="7-æ€»ç»“-9">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ å†…å®¹å’Œéš¾åº¦éƒ½æ˜¯æœ‰ç‚¹å¤§çš„ï¼Œå‰é¢å…ˆå­¦çš„è¡ŒåŠ¨ç®—å­ï¼Œæ¯”è¾ƒç®€å•ï¼Œå’Œæ˜¨å¤©çš„è½¬æ¢ç®—å­å·®ä¸å¤šï¼Œæ¯”è½¬æ¢ç®—å­çš„ç®—æ³•è¿˜ç®€å•ä¸å°‘ï¼Œä½†æ˜¯ä»£ç æ¯”è¾ƒå¤šçš„ï¼Œä¹Ÿæ˜¯ä»Šå¤©å­¦ä¹ çš„é‡ç‚¹ï¼Œæ•²äº†ä¸€ä¸Šåˆæ‰ç»“æŸè¡ŒåŠ¨ç®—å­ï¼Œåšäº†å°æ¡ˆä¾‹ã€‚åé¢ä¸‹åˆï¼Œç²¾ç¥çŠ¶æ€è¿˜ä¸é”™ï¼Œçœ‹åˆ°åºåˆ—åŒ–  ä¾èµ– æŒä¹…ä¹‹ç±»çš„ï¼Œåœ¨Javaä¸­éƒ½æœ‰ç‚¹ç±»ä¼¼çš„ä¸œè¥¿ï¼ŒåŠ ä¸Šè€å¸ˆçš„ç”»å›¾ç†è§£ï¼Œè‡ªå·±ç»“åˆæ¡ˆä¾‹ï¼Œä¹Ÿæ˜¯å¼„å¾—æ˜ç™½ä¸ªå…«ä¹åäº†ã€‚å­¦ä¹ æ­¥éª¤ï¼Œå› ä¸ºæ–‡æ¡£æ²¡æœ‰è®²è§£ï¼Œå°±çœ‹äº†è§†é¢‘ï¼Œæ¡ˆä¾‹è‡ªå·±æ•²ï¼Œæ²¡ä»€ä¹ˆé—®é¢˜å°±è·³ç€çœ‹è€å¸ˆçš„è¿è¡Œï¼Œçœ‹å’Œè‡ªå·±æœ‰ä»€ä¹ˆä¸ä¸€æ ·ï¼Œæ˜å¤©å°±æ˜¯SQLçš„å­¦ä¹ äº†ã€‚ä»£ç åº”è¯¥ä¹Ÿæ¯”è¾ƒå¤šï¼Œè¿˜è¦è®°SQLè¯­å¥çš„ã€‚</p><h1 id="7-24-Spark-SQL">7.24 Spark SQL</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-14">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-14">2.æ ‡é¢˜</h2><figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">153</span>SQL - ä»‹ç»</span><br><span class="line"><span class="number">154</span>SQL - ç‰¹ç‚¹</span><br><span class="line"><span class="number">155</span>SQL - æ•°æ®æ¨¡å‹ - DataFrame &amp; DataSet</span><br><span class="line"><span class="number">156</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - DataFrame - ç®€å•æ¼”ç¤º</span><br><span class="line"><span class="number">157</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - DataFrame - SQLçš„åŸºæœ¬ä½¿ç”¨</span><br><span class="line"><span class="number">158</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - DataFrame - DSLè¯­æ³•çš„åŸºæœ¬ä½¿ç”¨</span><br><span class="line"><span class="number">159</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - DataFrame - RDDä¹‹é—´çš„è½¬æ¢</span><br><span class="line"><span class="number">160</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - DataSet - ä»‹ç»</span><br><span class="line"><span class="number">161</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - DataSet - DataFrameçš„è½¬æ¢</span><br><span class="line"><span class="number">162</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - DataSet - RDDçš„è½¬æ¢</span><br><span class="line"><span class="number">163</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - DataSet &amp; DataFrame &amp; RDDä¹‹é—´çš„å…³ç³»</span><br><span class="line"><span class="number">164</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - IDEAåˆ›å»ºSparkSQLç¯å¢ƒå¯¹è±¡</span><br><span class="line"><span class="number">165</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - IDEA - DataFrameåŸºæœ¬æ“ä½œ</span><br><span class="line"><span class="number">166</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - IDEA - DataSetåŸºæœ¬æ“ä½œ</span><br><span class="line"><span class="number">167</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - IDEA - RDD &amp; DataFrame &amp; DataSetäº’ç›¸è½¬æ¢</span><br><span class="line"><span class="number">168</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - IDEA - UDFå‡½æ•°</span><br><span class="line"><span class="number">169</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - IDEA - UDAFå‡½æ•° - å®ç°åŸç†</span><br><span class="line"><span class="number">170</span>SQL - æ ¸å¿ƒç¼–ç¨‹ - IDEA - UDAFå‡½æ•° - å¼±ç±»å‹å‡½æ•°å®ç°</span><br><span class="line"><span class="number">171</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ ¸å¿ƒç¼–ç¨‹ - IDEA - UDAFå‡½æ•° - å¼ºç±»å‹å‡½æ•°å®ç°</span><br><span class="line"><span class="number">172</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ ¸å¿ƒç¼–ç¨‹ - IDEA - UDAFå‡½æ•° - æ—©æœŸå¼ºç±»å‹å‡½æ•°å®ç°</span><br><span class="line"><span class="number">173</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ ¸å¿ƒç¼–ç¨‹ - IDEA - UDAFå‡½æ•° - è¯¾ä»¶æ¢³ç†</span><br><span class="line"><span class="number">174</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ ¸å¿ƒç¼–ç¨‹ - æ•°æ®è¯»å–å’Œä¿å­˜ - é€šç”¨æ–¹æ³•</span><br><span class="line"><span class="number">175</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ ¸å¿ƒç¼–ç¨‹ - æ•°æ®è¯»å–å’Œä¿å­˜ - æ“ä½œJSON &amp; CSV</span><br><span class="line"><span class="number">176</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ ¸å¿ƒç¼–ç¨‹ - æ•°æ®è¯»å–å’Œä¿å­˜ - æ“ä½œMySQL</span><br><span class="line"><span class="number">177</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ ¸å¿ƒç¼–ç¨‹ - æ•°æ®è¯»å–å’Œä¿å­˜ - æ“ä½œå†…ç½®Hive</span><br><span class="line"><span class="number">178</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ ¸å¿ƒç¼–ç¨‹ - æ•°æ®è¯»å–å’Œä¿å­˜ - æ“ä½œå¤–ç½®Hive</span><br><span class="line"><span class="number">179</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ ¸å¿ƒç¼–ç¨‹ - æ•°æ®è¯»å–å’Œä¿å­˜ - ä»£ç æ“ä½œå¤–ç½®Hive</span><br><span class="line"><span class="number">180</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ ¸å¿ƒç¼–ç¨‹ - æ•°æ®è¯»å–å’Œä¿å­˜ - beelineæ“ä½œHive</span><br><span class="line"><span class="number">181</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ¡ˆä¾‹å®æ“ - æ•°æ®å‡†å¤‡</span><br><span class="line"><span class="number">182</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ¡ˆä¾‹å®æ“ - éœ€æ±‚éƒ¨åˆ†å®ç°</span><br><span class="line"><span class="number">183</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ¡ˆä¾‹å®æ“ - éœ€æ±‚å®Œæ•´å®ç°</span><br><span class="line"><span class="number">184</span>.å°šç¡…è°·<span class="variable">_SparkSQL</span> - æ€»ç»“ - è¯¾ä»¶æ¢³ç† </span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-14">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-12">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="SparkSQLæ¦‚è¿°">SparkSQLæ¦‚è¿°</h3><p><code>Spark SQL æ˜¯ Spark ç”¨äºç»“æ„åŒ–æ•°æ®(structured data)å¤„ç†çš„ Spark æ¨¡å—ã€‚</code></p><p>å¯¹äºå¼€å‘äººå‘˜æ¥è®²ï¼ŒSparkSQL å¯ä»¥ç®€åŒ– RDD çš„å¼€å‘ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œä¸”æ‰§è¡Œæ•ˆç‡éå¸¸å¿«ï¼Œæ‰€ä»¥å®é™…å·¥ä½œä¸­ï¼ŒåŸºæœ¬ä¸Šé‡‡çš„å°±æ˜¯ SparkSQLã€‚Spark SQL ä¸ºäº†ç®€åŒ– RDD çš„å¼€å‘ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼Œæä¾›äº† 2 ä¸ªç¼–ç¨‹æŠ½è±¡ï¼Œç±»ä¼¼ Spark Core ä¸­çš„ RDD</p><p>â¢ DataFrame</p><p>â¢ DataSet</p><h4 id="SparkSQL-ç‰¹ç‚¹"><strong>SparkSQL</strong> ç‰¹ç‚¹</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æ˜“æ•´åˆï¼šæ— ç¼çš„æ•´åˆäº† <span class="keyword">SQL</span> æŸ¥è¯¢å’Œ Spark ç¼–ç¨‹</span><br><span class="line">ç»Ÿä¸€çš„æ•°æ®è®¿é—®ï¼šä½¿ç”¨ç›¸åŒçš„æ–¹å¼ã€‚è¿æ¥ä¸åŒçš„æ•°æ®æº</span><br><span class="line">å…¼å®¹Hiveï¼šåœ¨å·²æœ‰çš„ä»“åº“ä¸Šç›´æ¥è¿è¡Œ<span class="keyword">SQL</span> æˆ–è€… HIveQL.</span><br><span class="line">æ ‡å‡†æ•°æ®è¿æ¥ï¼šé€šè¿‡JDBCæˆ–è€…ODBCæ¥è¿æ¥</span><br></pre></td></tr></table></figure><h4 id="DataFrameæ˜¯ä»€ä¹ˆ">DataFrameæ˜¯ä»€ä¹ˆ</h4><p>åœ¨ Spark ä¸­ï¼ŒDataFrame æ˜¯ä¸€ç§ä»¥ RDD ä¸ºåŸºç¡€çš„åˆ†å¸ƒå¼æ•°æ®é›†ï¼Œç±»ä¼¼äºä¼ ç»Ÿæ•°æ®åº“ä¸­çš„äºŒç»´è¡¨æ ¼ã€‚</p><p>ä¸‹å›¾ç›´è§‚åœ°ä½“ç°äº† DataFrame å’Œ RDD çš„åŒºåˆ«ã€‚ DataFrame<strong>æ¯ä¸€åˆ—éƒ½å¸¦æœ‰åç§°å’Œç±»å‹</strong></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220725095120995.png" alt="image-20220725095120995"></p><p><strong>DataSet</strong> <strong>æ˜¯ä»€ä¹ˆ</strong></p><p>DataSet æ˜¯åˆ†å¸ƒå¼æ•°æ®é›†åˆã€‚DataSet æ˜¯ Spark 1.6 ä¸­æ·»åŠ çš„ä¸€ä¸ªæ–°æŠ½è±¡ï¼Œæ˜¯ DataFrameçš„ä¸€ä¸ªæ‰©å±•ã€‚</p><p>ç”¨ç¼–ç¨‹çš„è¯è¯´å°±æ˜¯DataSetæ˜¯DataFrameçš„å­ç±»ï¼Œå‡çº§ç‰ˆã€‚DataFrameæ‹¥æœ‰çš„åŠŸèƒ½DataSetéƒ½æœ‰ã€‚</p><h3 id="SparkSQLçš„æ ¸å¿ƒç¼–ç¨‹">SparkSQLçš„æ ¸å¿ƒç¼–ç¨‹</h3><h4 id="DataFrame">DataFrame</h4><p><code>Spark SQL çš„ DataFrame API å…è®¸æˆ‘ä»¬ä½¿ç”¨ DataFrame è€Œä¸ç”¨å¿…é¡»å»æ³¨å†Œä¸´æ—¶è¡¨æˆ–è€…ç”Ÿæˆ SQL è¡¨è¾¾å¼ã€‚DataFrame API æ—¢æœ‰ transformation æ“ä½œä¹Ÿæœ‰ action æ“ä½œã€‚</code></p><h5 id="åˆ›å»ºDataFrame">åˆ›å»ºDataFrame</h5><h5 id="1-ä»Sparkæ•°æ®æºè¿›è¡Œåˆ›å»º">1.ä»Sparkæ•°æ®æºè¿›è¡Œåˆ›å»º</h5><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scala &gt; spark.read.</span><br><span class="line"><span class="comment">//ä¸‹é¢éƒ½æ˜¯æ”¯æŒåˆ›å»ºæ–‡ä»¶çš„æ•°æ®æºæ ¼å¼</span></span><br><span class="line">csv format jdbc json load option options orc parquet schema table text textFile</span><br></pre></td></tr></table></figure><p>è¯»å–jsonåˆ›å»ºDataFrame</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; <span class="keyword">val</span> df = spark.read.json(<span class="string">&quot;data/user.json&quot;</span>)</span><br><span class="line">df: org.apache.spark.sql.<span class="type">DataFrame</span> = [age: bigintï¼Œ username: string] <span class="comment">//bigintæ˜¯æ•°æ®ç±»å‹ å› ä¸ºä¸çŸ¥é“ä»€ä¹ˆç±»å‹ æ‰€ä»¥ç”¨bigintæ¥æ”¶ bigintå¯ä»¥å’ŒLongç±»å‹è½¬æ¢ï¼Œä½†æ˜¯å’ŒIntä¸èƒ½è¿›è¡Œè½¬æ¢</span></span><br></pre></td></tr></table></figure><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+---+--------+</span><br><span class="line">|age|username|</span><br><span class="line">+---+--------+</span><br><span class="line">| <span class="number">20</span>|zhangsan|</span><br><span class="line">+---+--------+</span><br></pre></td></tr></table></figure><h5 id="2-ç”¨SQLè¯­æ³•">2.ç”¨SQLè¯­æ³•</h5><p>å¯¹ DataFrame åˆ›å»ºä¸€ä¸ªä¸´æ—¶è¡¨</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; df.createOrReplaceTempView(<span class="string">&quot;people&quot;</span>)</span><br></pre></td></tr></table></figure><p>é€šè¿‡ SQL è¯­å¥å®ç°æŸ¥è¯¢å…¨è¡¨</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; val sqlDF = spark.sql(&quot;SELECT * FROM people&quot;)</span><br><span class="line"><span class="function">sqlDF: <span class="title">org.apache.spark.sql.DataFrame</span> = [<span class="title">age</span>: <span class="title">bigint</span>ï¼Œ <span class="title">name</span>: <span class="title">string</span>]</span></span><br></pre></td></tr></table></figure><p><code>show</code>è¿›è¡Œä¸€ä¸ªè¾“å‡º</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; sqlDF.show</span><br><span class="line">+---+--------+</span><br><span class="line">|age|username|</span><br><span class="line">+---+--------+</span><br><span class="line">| <span class="number">20</span>|zhangsan|</span><br><span class="line">| <span class="number">30</span>| lisi|</span><br><span class="line">| <span class="number">40</span>| wangwu|</span><br><span class="line">+---+--------+</span><br></pre></td></tr></table></figure><h4 id="DSLè¯­æ³•">DSLè¯­æ³•</h4><p>DataFrame æä¾›ä¸€ä¸ªç‰¹å®šé¢†åŸŸè¯­è¨€å»ç®¡ç†ç»“æ„åŒ–çš„æ•°æ®ã€‚å¯ä»¥åœ¨ Scala, Java, Python å’Œ R ä¸­ä½¿ç”¨ DSLï¼Œä½¿ç”¨ DSL è¯­æ³•é£æ ¼ä¸å¿…å»åˆ›å»ºä¸´æ—¶è§†å›¾äº†ã€‚</p><p>åªæŸ¥çœ‹&quot;username&quot;åˆ—æ•°æ®</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; df.select(&quot;username&quot;).show()</span><br><span class="line">+--------+</span><br><span class="line">|username|</span><br><span class="line">+--------+</span><br><span class="line">|zhangsan|</span><br><span class="line">| lisi|</span><br><span class="line">| wangwu|</span><br><span class="line">+--------+</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹&quot;username&quot;åˆ—æ•°æ®ä»¥åŠ&quot;age+1&quot;æ•°æ®</p><p><code>æ³¨æ„:æ¶‰åŠåˆ°è¿ç®—çš„æ—¶å€™, æ¯åˆ—éƒ½å¿…é¡»ä½¿ç”¨$, æˆ–è€…é‡‡ç”¨å¼•å·è¡¨è¾¾å¼ï¼šå•å¼•å·+å­—æ®µå</code></p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scala&gt; df.select($<span class="string">&quot;username&quot;</span>,$<span class="string">&quot;age&quot;</span> + <span class="number">1</span>).show</span><br><span class="line">scala&gt; df.select(&#x27;username, &#x27;age + <span class="number">1</span>).show() <span class="comment">//æ¨èè¿™ç§ æ¯”è¾ƒç®€å•è€Œä¸”å¯è¯»æ€§å¥½</span></span><br></pre></td></tr></table></figure><p>DataFrameå¯ä»¥ç”¨å¾ˆå¤šRDDçš„æ–¹æ³• filter  groupç­‰</p><h3 id="IDEAå¼€å‘SparkSQL">IDEAå¼€å‘SparkSQL</h3><p>å®é™…å¼€å‘ä¸­ï¼Œéƒ½æ˜¯ä½¿ç”¨ IDEA è¿›è¡Œå¼€å‘çš„ã€‚</p><p>è¦æ·»åŠ XMLä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-core_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-sql_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-yarn_2.12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¹‹å‰CMDæ•²çš„ä»£ç åœ¨IDEAå®ç°</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">SQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.&#123;<span class="type">DataFrame</span>, <span class="type">Dataset</span>, <span class="type">Row</span>, <span class="type">SparkSession</span>&#125;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark01_SparkSQL_Basic</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO åˆ›å»ºSparkSQLçš„è¿è¡Œç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkSQL: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;SparkSQL&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = <span class="type">SparkSession</span>.builder().config(sparkSQL).getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.implicits._  <span class="comment">//å¯¼å…¥</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO æ‰§è¡Œé€»è¾‘æ“ä½œ</span></span><br><span class="line">    <span class="comment">//DataFrame</span></span><br><span class="line"><span class="comment">//    val df: DataFrame = spark.read.json(&quot;data/user.json&quot;)</span></span><br><span class="line">    <span class="comment">//    df.show()</span></span><br><span class="line">    <span class="comment">//TODO RDD=&gt;DataFrame=&gt;DataSet è½¬æ¢éœ€è¦å¼•å…¥éšå¼è½¬æ¢è§„åˆ™ï¼Œå¦åˆ™æ— æ³•è½¬æ¢</span></span><br><span class="line">    <span class="comment">//TODO DataFrame =&gt; SQL</span></span><br><span class="line"><span class="comment">//    df.createOrReplaceTempView(&quot;user&quot;)</span></span><br><span class="line">    <span class="comment">//    spark.sql(&quot;select * from user&quot;).show()</span></span><br><span class="line">    <span class="comment">//    spark.sql(&quot;select age from user&quot;).show()</span></span><br><span class="line">    <span class="comment">//    spark.sql(&quot;select username from user&quot;).show()</span></span><br><span class="line">    <span class="comment">//    spark.sql(&quot;select avg(age) from user&quot;).show()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO DataFrame =&gt; DSL</span></span><br><span class="line">    <span class="comment">// åœ¨ä½¿ç”¨DataFrameæ—¶ï¼Œå¦‚æœæ¶‰åŠåˆ°è½¬æ¢æ“ä½œï¼Œéœ€è¦å¼•å…¥è½¬æ¢è§„åˆ™</span></span><br><span class="line">    <span class="comment">//    df.select(&quot;age&quot;,&quot;username&quot;).show()</span></span><br><span class="line">    <span class="comment">//    df.select($&quot;age&quot; + 1).show</span></span><br><span class="line">    <span class="comment">//    df.select(&#x27;age + 1).show</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO DataSet</span></span><br><span class="line">    <span class="comment">// DataFrameå…¶å®æ˜¯ç‰¹å®šæ³›å‹çš„DataSet æ˜¯ç±»å‹åªèƒ½æ˜¯Rowçš„DataSet</span></span><br><span class="line">    <span class="comment">// æ‰€ä»¥DataFrameçš„ä¸œè¥¿DataSetä¹Ÿéƒ½æœ‰éƒ½èƒ½ç”¨</span></span><br><span class="line"><span class="comment">//    val ints = Seq(1, 2, 3, 4)</span></span><br><span class="line"><span class="comment">//    val ds: Dataset[Int] = ints.toDS()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO RDD &lt;=&gt; DataFrame</span></span><br><span class="line">    <span class="keyword">val</span> context: <span class="type">SparkContext</span> = spark.sparkContext</span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[(<span class="type">Int</span>, <span class="type">String</span>, <span class="type">Int</span>)] = context.makeRDD(<span class="type">List</span>((<span class="number">1</span>, <span class="string">&quot;zhangsan&quot;</span>, <span class="number">30</span>), (<span class="number">2</span>, <span class="string">&quot;lisa&quot;</span>, <span class="number">40</span>)))</span><br><span class="line">    <span class="keyword">val</span> df: <span class="type">DataFrame</span> = rdd.toDF(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;age&quot;</span>) <span class="comment">//DataFrame</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rowRDD: <span class="type">RDD</span>[<span class="type">Row</span>] = df.rdd <span class="comment">//RDD</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO DataSet &lt;=&gt; DataFrame</span></span><br><span class="line">    <span class="keyword">val</span> ds: <span class="type">Dataset</span>[<span class="type">User</span>] = df.as[<span class="type">User</span>]</span><br><span class="line">    <span class="keyword">val</span> df1: <span class="type">DataFrame</span> = ds.toDF()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO RDD &lt;=&gt; DataSet</span></span><br><span class="line">    <span class="keyword">val</span> ds1: <span class="type">Dataset</span>[<span class="type">User</span>] = rdd.map &#123;</span><br><span class="line">      <span class="keyword">case</span> (id, name, age) =&gt; <span class="type">User</span>(id, name, age)</span><br><span class="line">    &#125;.toDS() <span class="comment">//DataSet</span></span><br><span class="line">    <span class="keyword">val</span> userRDD: <span class="type">RDD</span>[<span class="type">User</span>] = ds1.rdd <span class="comment">//RDD</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line"></span><br><span class="line">    spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">id:<span class="type">Int</span>,username:<span class="type">String</span>,age:<span class="type">Int</span></span>)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°">ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°</h4><p>ç”¨æˆ·å¯ä»¥é€šè¿‡ spark.udf åŠŸèƒ½æ·»åŠ è‡ªå®šä¹‰å‡½æ•°ï¼Œå®ç°è‡ªå®šä¹‰åŠŸèƒ½ã€‚</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">SQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.&#123;<span class="type">DataFrame</span>, <span class="type">Dataset</span>, <span class="type">Row</span>, <span class="type">SparkSession</span>&#125;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark02_SparkSQL_UDF</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO åˆ›å»ºSparkSQLçš„è¿è¡Œç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkSQL: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;SparkSQL&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = <span class="type">SparkSession</span>.builder().config(sparkSQL).getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.implicits._</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO æ‰§è¡Œé€»è¾‘æ“ä½œ</span></span><br><span class="line">    <span class="keyword">val</span> df: <span class="type">DataFrame</span> = spark.read.json(<span class="string">&quot;data/user.json&quot;</span>)</span><br><span class="line">    df.createOrReplaceTempView(<span class="string">&quot;user&quot;</span>)</span><br><span class="line">    <span class="comment">//udf ç”¨æˆ·å¯ä»¥é€šè¿‡ spark.udf åŠŸèƒ½æ·»åŠ è‡ªå®šä¹‰å‡½æ•°ï¼Œå®ç°è‡ªå®šä¹‰åŠŸèƒ½</span></span><br><span class="line"><span class="comment">//æ³¨å†ŒUDF</span></span><br><span class="line">    spark.udf.register(<span class="string">&quot;prefixName&quot;</span>,(name:<span class="type">String</span>) =&gt; <span class="string">&quot;å§“å: &quot;</span> + name)</span><br><span class="line">    <span class="comment">//åº”ç”¨UDF</span></span><br><span class="line">    spark.sql(<span class="string">&quot;select * from user&quot;</span>).show()</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">id:<span class="type">Int</span>,username:<span class="type">String</span>,age:<span class="type">Int</span></span>)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="UDAF">UDAF</h4><p>æ˜¯Spark3.0åé¢å‡ºç°çš„è‡ªå®šä¹‰å¼ºç±»å‹èšåˆå‡½æ•°Aggreg ä»£æ›¿åŸæ¥çš„å¼±ç±»å‹çš„èšåˆå‡½æ•°UserDefinedAggregateFunction</p><p>è®¡ç®—å¹³å‡å·¥èµ„</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">SQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkConf</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.expressions.<span class="type">Aggregator</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql._</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark04_SparkSQL_UDAF1</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO åˆ›å»ºSparkSQLçš„è¿è¡Œç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkSQL: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;SparkSQL&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = <span class="type">SparkSession</span>.builder().config(sparkSQL).getOrCreate()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO æ‰§è¡Œé€»è¾‘æ“ä½œ</span></span><br><span class="line">    <span class="keyword">val</span> df: <span class="type">DataFrame</span> = spark.read.json(<span class="string">&quot;data/user.json&quot;</span>)</span><br><span class="line">    df.createOrReplaceTempView(<span class="string">&quot;user&quot;</span>)</span><br><span class="line">    <span class="comment">//udf ç”¨æˆ·å¯ä»¥é€šè¿‡ spark.udf åŠŸèƒ½æ·»åŠ è‡ªå®šä¹‰å‡½æ•°ï¼Œå®ç°è‡ªå®šä¹‰åŠŸèƒ½</span></span><br><span class="line"></span><br><span class="line">    spark.udf.register(<span class="string">&quot;ageAvg&quot;</span>,functions.udaf(<span class="keyword">new</span> <span class="type">MyAvgUDAF</span>()))</span><br><span class="line"></span><br><span class="line">    spark.sql(<span class="string">&quot;select ageAvg(age) from user&quot;</span>).show()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  è‡ªå®šä¹‰èšåˆå‡½æ•°ç±»ï¼šè®¡ç®—å¹´é¾„çš„å¹³å‡å€¼</span></span><br><span class="line"><span class="comment">  1. ç»§æ‰¿org.apache.spark.sql.expressions.Aggregator, å®šä¹‰æ³›å‹</span></span><br><span class="line"><span class="comment">      IN : è¾“å…¥çš„æ•°æ®ç±»å‹ Long</span></span><br><span class="line"><span class="comment">      BUF : ç¼“å†²åŒºçš„æ•°æ®ç±»å‹ Buff</span></span><br><span class="line"><span class="comment">      OUT : è¾“å‡ºçš„æ•°æ®ç±»å‹ Long</span></span><br><span class="line"><span class="comment">  2. é‡å†™æ–¹æ³•(6)</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">ByMyBuff</span>(<span class="params">var total: <span class="type">Long</span>,var count: <span class="type">Long</span></span>)</span></span><br><span class="line">  <span class="class"><span class="keyword">class</span> <span class="title">MyAvgUDAF</span> <span class="keyword">extends</span> <span class="title">Aggregator</span>[<span class="type">Long</span>,<span class="type">ByMyBuff</span>,<span class="type">Long</span>]</span>&#123;</span><br><span class="line">    <span class="comment">// z &amp; zero : åˆå§‹å€¼æˆ–é›¶å€¼</span></span><br><span class="line">    <span class="comment">// ç¼“å†²åŒºçš„åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">zero</span></span>: <span class="type">ByMyBuff</span> = &#123;</span><br><span class="line">      <span class="type">ByMyBuff</span>(<span class="number">0</span>L,<span class="number">0</span>L)<span class="comment">//Longé»˜è®¤åˆå§‹0</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ ¹æ®è¾“å…¥çš„æ•°æ®æ›´æ–°ç¼“å†²åŒºçš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">reduce</span></span>(b: <span class="type">ByMyBuff</span>, a: <span class="type">Long</span>): <span class="type">ByMyBuff</span> = &#123;</span><br><span class="line">      b.total = b.total + a <span class="comment">//ByMyBuffçš„totalå’Œä¸‹ä¸€è¡Œçš„æ•°æ®ä¸­çš„totalç›¸åŠ </span></span><br><span class="line">      b.count = b.count + <span class="number">1</span> <span class="comment">//åŠ ä¸€æ¬¡ç®—ä¸€ä¸ª ç”¨æˆ·</span></span><br><span class="line">      b</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆå¹¶ç¼“å†²åŒº</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">merge</span></span>(b1: <span class="type">ByMyBuff</span>, b2: <span class="type">ByMyBuff</span>): <span class="type">ByMyBuff</span> = &#123;</span><br><span class="line">      b1.total = b1.total + b2.total <span class="comment">//æ•´åˆä¸€ä½“</span></span><br><span class="line">      b1.count = b1.count + b2.count</span><br><span class="line">      b1</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è®¡ç®—ç»“æœ</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">finish</span></span>(reduction: <span class="type">ByMyBuff</span>): <span class="type">Long</span> = &#123;</span><br><span class="line">      reduction.total / reduction.count</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¼“å†²åŒºçš„ç¼–ç æ“ä½œ</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">bufferEncoder</span></span>: <span class="type">Encoder</span>[<span class="type">ByMyBuff</span>] = <span class="type">Encoders</span>.product</span><br><span class="line">    <span class="comment">// è¾“å‡ºåŒºçš„ç¼–ç æ“ä½œ</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">outputEncoder</span></span>: <span class="type">Encoder</span>[<span class="type">Long</span>] = <span class="type">Encoders</span>.scalaLong</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ•°æ®çš„åŠ è½½å’Œä¿å­˜</strong></p><p>SparkSQL æä¾›äº†é€šç”¨çš„ä¿å­˜æ•°æ®å’Œæ•°æ®åŠ è½½çš„æ–¹å¼ã€‚è¿™é‡Œçš„é€šç”¨æŒ‡çš„æ˜¯ä½¿ç”¨ç›¸åŒçš„APIï¼Œæ ¹æ®ä¸åŒçš„å‚æ•°è¯»å–å’Œä¿å­˜ä¸åŒæ ¼å¼çš„æ•°æ®ï¼ŒSparkSQL é»˜è®¤è¯»å–å’Œä¿å­˜çš„æ–‡ä»¶æ ¼å¼ä¸º <strong>parquet</strong></p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">spark.read.load æ˜¯åŠ è½½æ•°æ®çš„é€šç”¨æ–¹æ³•</span><br><span class="line">scala&gt; spark.read.<span class="built_in">format</span>(&quot;â€¦&quot;)[.option(&quot;â€¦&quot;)].load(&quot;â€¦&quot;)</span><br><span class="line">df.write.save æ˜¯ä¿å­˜æ•°æ®çš„é€šç”¨æ–¹æ³•</span><br><span class="line">scala&gt;df.write.<span class="built_in">format</span>(&quot;â€¦&quot;)[.option(&quot;â€¦&quot;)].save(&quot;â€¦&quot;)</span><br></pre></td></tr></table></figure><p>â¢ format(â€œâ€¦â€)ï¼šæŒ‡å®šåŠ è½½çš„æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬&quot;csv&quot;ã€â€œjdbcâ€ã€â€œjsonâ€ã€â€œorcâ€ã€â€œparquet&quot;å’Œ&quot;textFileâ€ã€‚</p><p>â¢ load(â€œâ€¦â€)ï¼šåœ¨&quot;csv&quot;ã€â€œjdbcâ€ã€â€œjsonâ€ã€â€œorcâ€ã€&quot;parquet&quot;å’Œ&quot;textFile&quot;æ ¼å¼ä¸‹éœ€è¦ä¼ å…¥åŠ è½½æ•°æ®çš„è·¯å¾„ã€‚</p><p>â¢ option(â€œâ€¦â€)ï¼šåœ¨&quot;jdbc&quot;æ ¼å¼ä¸‹éœ€è¦ä¼ å…¥ JDBC ç›¸åº”å‚æ•°ï¼Œurlã€userã€password å’Œ dbtable</p><h4 id="åŠ è½½MySQLæ•°æ®">åŠ è½½MySQLæ•°æ®</h4><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">SQL</span>.<span class="type">MySQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.<span class="type">SparkConf</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.&#123;<span class="type">DataFrame</span>, <span class="type">SparkSession</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark01_SparkSQL_MySQL</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO åˆ›å»ºSparkSQLçš„è¿è¡Œç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkSQL: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;SparkSQL&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = <span class="type">SparkSession</span>.builder().config(sparkSQL).getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.implicits._</span><br><span class="line">    <span class="comment">//TODO æ‰§è¡Œé€»è¾‘æ“ä½œ</span></span><br><span class="line">    spark.read</span><br><span class="line">      .format(<span class="string">&quot;jdbc&quot;</span>)</span><br><span class="line">      <span class="comment">//localhostä¸»æœº 3306ç«¯å£å·(SQL8.0)_atguigudbæ•°æ®åº“å </span></span><br><span class="line">      .option(<span class="string">&quot;url&quot;</span>, <span class="string">&quot;jdbc:mysql://localhost:3306/atguigudb?rewriteBatchedStatements=true&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;driverClass&quot;</span>, <span class="string">&quot;com.mysql.cj.jdbc.Drive&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;user&quot;</span>, <span class="string">&quot;root&quot;</span>)</span><br><span class="line">      .option(<span class="string">&quot;password&quot;</span>, <span class="string">&quot;root&quot;</span>)</span><br><span class="line">      <span class="comment">//è¡¨å</span></span><br><span class="line">      .option(<span class="string">&quot;dbtable&quot;</span>, <span class="string">&quot;employees&quot;</span>)</span><br><span class="line">      .load().show</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line">    spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">id:<span class="type">Int</span>,username:<span class="type">String</span>,age:<span class="type">Int</span></span>)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-BUGç‚¹-9">5. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>é”™è¯¯ç‚¹å¦‚å›¾ï¼Œæ˜¾è€Œæ˜“è§åˆæ˜¯è·¯å¾„é—®é¢˜ï¼ŒåŒæ ·çš„ä»£æˆ‘ä¹‹å‰æ˜¯åœ¨Sparkä¸‹è½½æ–‡ä»¶ç›´æ¥æ‰“å¼€Spark-shellä½¿ç”¨çš„ï¼Œä¹‹å‰æ˜¯å¥½çš„ï¼Œå› ä¸ºå¤ªéº»çƒ¦ï¼Œæ‰€ä»¥è®¾ç½®äº†ç¯å¢ƒå˜é‡ï¼Œåœ¨ä»»ä½•åœ°æ–¹è¾“å…¥spark-shelléƒ½èƒ½æ‰“å¼€sparkï¼Œä½†æ˜¯è¿™æ ·æˆ‘è¾“ä¹‹å‰çš„è·¯å¾„å°±ä¸è¡Œäº†ï¼Œå¿…é¡»è¦ç»å¯¹è·¯å¾„ï¼Œä¸çŸ¥é“åŸå› </p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220725101816366.png" alt="image-20220725101816366"></p><h2 id=""></h2><h3 id="RDDã€DataFrameã€DataSet-ä¸‰è€…çš„å…³ç³»">RDDã€DataFrameã€DataSet ä¸‰è€…çš„å…³ç³»</h3><p><code>å› ä¸ºæ˜¯åœ¨æ–‡æ¡£ä¸­çœ‹çš„ åŸºæœ¬éƒ½æ˜¯æ–‡å­—æ€§çš„æè¿°</code></p><p>ç‰ˆæœ¬å‡ºç°çš„æ—¶é—´</p><p>â¢ Spark1.0 =&gt; RDD</p><p>â¢ Spark1.3 =&gt; DataFrame</p><p>â¢ Spark1.6 =&gt; Dataset</p><p>æ—¶ä»£æ˜¯åœ¨è¿›æ­¥çš„ï¼Œæ‰€ä»¥çœ‹å‡ºç°ç‰ˆæœ¬å°±çŸ¥é“å“ªä¸ªæ›´åŠ å¼ºå¤§ï¼Œæ‰€ä»¥DataSetä¹Ÿæ˜¯ç°åœ¨çš„ä¸»æµ</p><p><code>åœ¨åæœŸçš„ Spark ç‰ˆæœ¬ä¸­ï¼ŒDataSet æœ‰å¯èƒ½ä¼šé€æ­¥å–ä»£ RDDå’Œ DataFrame æˆä¸ºå”¯ä¸€çš„ API æ¥å£ã€‚</code></p><p><strong>ä¸‰è€…çš„å…±æ€§</strong></p><p>â¢ RDDã€DataFrameã€DataSet å…¨éƒ½æ˜¯ spark å¹³å°ä¸‹çš„åˆ†å¸ƒå¼å¼¹æ€§æ•°æ®é›†ï¼Œä¸ºå¤„ç†è¶…å¤§å‹æ•°æ®æä¾›ä¾¿åˆ©;</p><p>â¢ ä¸‰è€…éƒ½æœ‰æƒ°æ€§æœºåˆ¶ï¼Œåœ¨è¿›è¡Œåˆ›å»ºã€è½¬æ¢ï¼Œå¦‚ map æ–¹æ³•æ—¶ï¼Œä¸ä¼šç«‹å³æ‰§è¡Œï¼Œåªæœ‰åœ¨é‡åˆ°Action å¦‚ foreach æ—¶ï¼Œä¸‰è€…æ‰ä¼šå¼€å§‹éå†è¿ç®—;</p><p>â¢ ä¸‰è€…æœ‰è®¸å¤šå…±åŒçš„å‡½æ•°ï¼Œå¦‚ filterï¼Œæ’åºç­‰;</p><p>â¢ åœ¨å¯¹ DataFrame å’Œ Dataset è¿›è¡Œæ“ä½œè®¸å¤šæ“ä½œéƒ½éœ€è¦è¿™ä¸ªåŒ…:import spark.implicits._ï¼ˆåœ¨åˆ›å»ºå¥½ SparkSession å¯¹è±¡åå°½é‡ç›´æ¥å¯¼å…¥ï¼‰</p><p>â¢ ä¸‰è€…éƒ½ä¼šæ ¹æ® Spark çš„å†…å­˜æƒ…å†µè‡ªåŠ¨ç¼“å­˜è¿ç®—ï¼Œè¿™æ ·å³ä½¿æ•°æ®é‡å¾ˆå¤§ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒä¼šå†…å­˜æº¢å‡º</p><p>â¢ ä¸‰è€…éƒ½æœ‰ partition çš„æ¦‚å¿µ</p><p>â¢ DataFrame å’Œ DataSet å‡å¯ä½¿ç”¨æ¨¡å¼åŒ¹é…è·å–å„ä¸ªå­—æ®µçš„å€¼å’Œç±»å‹</p><h4 id="DataSet">DataSet</h4><p>DataSet</p><p>â¢ Dataset å’Œ DataFrame æ‹¥æœ‰å®Œå…¨ç›¸åŒçš„æˆå‘˜å‡½æ•°ï¼ŒåŒºåˆ«åªæ˜¯æ¯ä¸€è¡Œçš„æ•°æ®ç±»å‹ä¸åŒã€‚DataFrame å…¶å®å°±æ˜¯ DataSet çš„ä¸€ä¸ªç‰¹ä¾‹ type DataFrame = Dataset[Row]</p><p>â¢ DataFrame ä¹Ÿå¯ä»¥å« Dataset[Row],æ¯ä¸€è¡Œçš„ç±»å‹æ˜¯ Rowï¼Œä¸è§£æï¼Œæ¯ä¸€è¡Œç©¶ç«Ÿæœ‰å“ªäº›å­—æ®µï¼Œå„ä¸ªå­—æ®µåˆæ˜¯ä»€ä¹ˆç±»å‹éƒ½æ— ä»å¾—çŸ¥ï¼Œåªèƒ½ç”¨ä¸Šé¢æåˆ°çš„ getAS æ–¹æ³•æˆ–è€…å…±æ€§ä¸­çš„ç¬¬ä¸ƒæ¡æåˆ°çš„æ¨¡å¼åŒ¹é…æ‹¿å‡ºç‰¹å®šå­—æ®µã€‚è€Œ Dataset ä¸­ï¼Œæ¯ä¸€è¡Œæ˜¯ä»€ä¹ˆç±»å‹æ˜¯ä¸ä¸€å®šçš„ï¼Œåœ¨è‡ªå®šä¹‰äº† case class ä¹‹åå¯ä»¥å¾ˆè‡ªç”±çš„è·å¾—æ¯ä¸€è¡Œçš„ä¿¡æ¯</p><p>ä¸‰è€…æ˜¯å¯ä»¥äº’ç›¸è½¬æ¢çš„ é€šè¿‡ç‰¹å®šæ–¹å¼</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220725101311213.png" alt="image-20220725101311213"></p><p>å…·ä½“ä»£ç å¦‚ä¸‹</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> <span class="type">SQL</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.rdd.<span class="type">RDD</span></span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.&#123;<span class="type">DataFrame</span>, <span class="type">Dataset</span>, <span class="type">Row</span>, <span class="type">SparkSession</span>&#125;</span><br><span class="line"><span class="keyword">import</span> org.apache.spark.&#123;<span class="type">SparkConf</span>, <span class="type">SparkContext</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Spark01_SparkSQL_Basic</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="comment">//TODO åˆ›å»ºSparkSQLçš„è¿è¡Œç¯å¢ƒ</span></span><br><span class="line">    <span class="keyword">val</span> sparkSQL: <span class="type">SparkConf</span> = <span class="keyword">new</span> <span class="type">SparkConf</span>().setMaster(<span class="string">&quot;local[*]&quot;</span>).setAppName(<span class="string">&quot;SparkSQL&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> spark: <span class="type">SparkSession</span> = <span class="type">SparkSession</span>.builder().config(sparkSQL).getOrCreate()</span><br><span class="line">    <span class="keyword">import</span> spark.implicits._</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO æ‰§è¡Œé€»è¾‘æ“ä½œ</span></span><br><span class="line">    <span class="comment">//DataFrame</span></span><br><span class="line"><span class="comment">//    val df: DataFrame = spark.read.json(&quot;data/user.json&quot;)</span></span><br><span class="line">    <span class="comment">//    df.show()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO DataFrame =&gt; SQL</span></span><br><span class="line"><span class="comment">//    df.createOrReplaceTempView(&quot;user&quot;)</span></span><br><span class="line">    <span class="comment">//    spark.sql(&quot;select * from user&quot;).show()</span></span><br><span class="line">    <span class="comment">//    spark.sql(&quot;select age from user&quot;).show()</span></span><br><span class="line">    <span class="comment">//    spark.sql(&quot;select username from user&quot;).show()</span></span><br><span class="line">    <span class="comment">//    spark.sql(&quot;select avg(age) from user&quot;).show()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO DataFrame =&gt; DSL</span></span><br><span class="line">    <span class="comment">// åœ¨ä½¿ç”¨DataFrameæ—¶ï¼Œå¦‚æœæ¶‰åŠåˆ°è½¬æ¢æ“ä½œï¼Œéœ€è¦å¼•å…¥è½¬æ¢è§„åˆ™</span></span><br><span class="line">    <span class="comment">//    df.select(&quot;age&quot;,&quot;username&quot;).show()</span></span><br><span class="line">    <span class="comment">//    df.select($&quot;age&quot; + 1).show</span></span><br><span class="line">    <span class="comment">//    df.select(&#x27;age + 1).show</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO DataSet</span></span><br><span class="line">    <span class="comment">// DataFrameå…¶å®æ˜¯ç‰¹å®šæ³›å‹çš„DataSet æ˜¯ç±»å‹åªèƒ½æ˜¯Rowçš„DataSet</span></span><br><span class="line">    <span class="comment">// æ‰€ä»¥DataFrameçš„ä¸œè¥¿DataSetä¹Ÿéƒ½æœ‰éƒ½èƒ½ç”¨</span></span><br><span class="line"><span class="comment">//    val ints = Seq(1, 2, 3, 4)</span></span><br><span class="line"><span class="comment">//    val ds: Dataset[Int] = ints.toDS()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO RDD &lt;=&gt; DataFrame</span></span><br><span class="line">    <span class="keyword">val</span> context: <span class="type">SparkContext</span> = spark.sparkContext</span><br><span class="line">    <span class="keyword">val</span> rdd: <span class="type">RDD</span>[(<span class="type">Int</span>, <span class="type">String</span>, <span class="type">Int</span>)] = context.makeRDD(<span class="type">List</span>((<span class="number">1</span>, <span class="string">&quot;zhangsan&quot;</span>, <span class="number">30</span>), (<span class="number">2</span>, <span class="string">&quot;lisa&quot;</span>, <span class="number">40</span>)))</span><br><span class="line">    <span class="keyword">val</span> df: <span class="type">DataFrame</span> = rdd.toDF(<span class="string">&quot;id&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;age&quot;</span>) <span class="comment">//DataFrame</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> rowRDD: <span class="type">RDD</span>[<span class="type">Row</span>] = df.rdd <span class="comment">//RDD</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO DataSet &lt;=&gt; DataFrame</span></span><br><span class="line">    <span class="keyword">val</span> ds: <span class="type">Dataset</span>[<span class="type">User</span>] = df.as[<span class="type">User</span>]</span><br><span class="line">    <span class="keyword">val</span> df1: <span class="type">DataFrame</span> = ds.toDF()</span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO RDD &lt;=&gt; DataSet</span></span><br><span class="line">    <span class="keyword">val</span> ds1: <span class="type">Dataset</span>[<span class="type">User</span>] = rdd.map &#123;</span><br><span class="line">      <span class="keyword">case</span> (id, name, age) =&gt; <span class="type">User</span>(id, name, age)</span><br><span class="line">    &#125;.toDS() <span class="comment">//DataSet</span></span><br><span class="line">    <span class="keyword">val</span> userRDD: <span class="type">RDD</span>[<span class="type">User</span>] = ds1.rdd <span class="comment">//RDD</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//TODO å…³é—­ç¯å¢ƒ</span></span><br><span class="line"></span><br><span class="line">    spark.stop()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">case</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span>(<span class="params">id:<span class="type">Int</span>,username:<span class="type">String</span>,age:<span class="type">Int</span></span>)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-10">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ å†…å®¹è¿˜æ˜¯å¾ˆé‡çš„ï¼ŒæŠŠSparkSQLçœ‹å®Œï¼Œå†…å®¹æ¦‚å¿µæ€§çš„å¤ªå¤šäº†ï¼ŒèŠ±è´¹äº†å¾ˆå¤šæ—¶é—´å»ç†è§£ï¼Œå¼„æ‡‚ï¼Œåƒææ‡‚RDDï¼ŒDataFrameå’ŒDataSetä¸‰è€…å°±èŠ±è´¹äº†2ä¸ªå¤šå°æ—¶ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œå‰é¢cmdæ‰§è¡Œå‡ºäº†ç‚¹é—®é¢˜ï¼Œå¥½åœ¨è§£å†³äº†ï¼Œä½†æ˜¯æ²¡å¼„æ‡‚åŸå› ã€‚é‡ç‚¹åœ¨DataSetçš„ä½¿ç”¨å’Œå‡ ä¸ªè‡ªå®šä¹‰æ–¹æ³•å§ï¼ŒDataSetåº”è¯¥æ˜¯ç°åœ¨å¼€å‘æœ€å¸¸ç”¨çš„ï¼Œè¿™éƒ¨åˆ†æˆ‘ä¹ŸèŠ±é‡ç‚¹æ—¶é—´å»æŒæ¡äº†ï¼Œå…¶ä»–ä¸€äº›æŠ½è±¡çš„æ¦‚å¿µç®€å•è¿‡äº†ä¸€ä¸‹ï¼Œæœ‰äº›æ˜¯å¯¹Hiveçš„æ“ä½œï¼Œå› ä¸ºHiveè¿˜æ²¡å†™ï¼Œå°±æ²¡çœ‹ï¼Œæ˜å¤©å­¦Hiveäº†ï¼Œåé¢å†å›æ¥æŠŠå¯¹Hiveæ“ä½œçš„è¿™å‡ é›†çœ‹äº†ã€‚</p><h1 id="7-27-Hive-é…ç½®ä»¥åŠDDLè¯­å¥">7.27 Hive é…ç½®ä»¥åŠDDLè¯­å¥</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-15">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-15">2.æ ‡é¢˜</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">P1001-å°šç¡…è°·-Hive-è¯¾ç¨‹ä»‹ç»</span><br><span class="line">P2002-å°šç¡…è°·-Hive-æ¦‚å¿µä»‹ç»-</span><br><span class="line">P3003-å°šç¡…è°·-Hive-ä¼˜ç¼ºç‚¹</span><br><span class="line">P4004-å°šç¡…è°·-Hive-æ¶æ„</span><br><span class="line">P5005-å°šç¡…è°·-Hive-ä¸æ•°æ®åº“æ¯”è¾ƒ</span><br><span class="line">P6006-å°šç¡…è°·-Hive-å®‰è£…<span class="meta">&amp;å¯åŠ¨</span></span><br><span class="line">P7007-å°šç¡…è°·-Hive-ç®€å•ä½¿ç”¨<span class="meta">&amp;Derbyå­˜å‚¨å…ƒæ•°æ®çš„é—®é¢˜</span></span><br><span class="line">P8008-å°šç¡…è°·-Hive-MySQLçš„å®‰è£…<span class="meta">&amp;å¯åŠ¨</span></span><br><span class="line">P9009-å°šç¡…è°·-Hive-é…ç½®Hiveå…ƒæ•°æ®å­˜å‚¨ä¸ºMySQL<span class="meta">&amp;å†æ¬¡å¯åŠ¨æµ‹è¯•</span></span><br><span class="line">P10010-å°šç¡…è°·-Hive-ä½¿ç”¨å…ƒæ•°æ®æœåŠ¡çš„æ–¹å¼è®¿é—®Hive</span><br><span class="line">P11011-å°šç¡…è°·-Hive-ä½¿ç”¨JDBCçš„æ–¹å¼è®¿é—®Hive</span><br><span class="line">P12012-å°šç¡…è°·-Hive-å…ƒæ•°æ®æœåŠ¡<span class="meta">&amp;Hiveserver2è„šæœ¬å°è£…</span></span><br><span class="line">P13013-å°šç¡…è°·-Hive-ä¿®æ”¹é…ç½®æ–‡ä»¶ä½¿ç”¨ç›´è¿æ–¹å¼è®¿é—®Hive</span><br><span class="line">P14014-å°šç¡…è°·-Hive-å…¶ä»–äº¤äº’æ–¹å¼</span><br><span class="line">P15015-å°šç¡…è°·-Hive-é…ç½®æ—¥å¿—æ–‡ä»¶ä½ç½®<span class="meta">&amp;æ‰“å°å½“å‰åº“å&amp;è¡¨å¤´ä¿¡æ¯</span></span><br><span class="line">P16016-å°šç¡…è°·-Hive-é…ç½®ä¿¡æ¯ä½ç½®<span class="meta">&amp;ä¼˜å…ˆçº§</span></span><br><span class="line">P17017-å°šç¡…è°·-Hive-è¯¾ç¨‹å›é¡¾</span><br><span class="line">P18018-å°šç¡…è°·-Hive-å…³äºcount starä¸æ‰§è¡ŒMRä»»åŠ¡çš„è¯´æ˜</span><br><span class="line">P19019-å°šç¡…è°·-Hive-Hiveä¸­æ•°æ®ç±»å‹ ä¸€</span><br><span class="line">P20020-å°šç¡…è°·-Hive-Hiveä¸­æ•°æ®ç±»å‹ äºŒ</span><br><span class="line">P21021-å°šç¡…è°·-Hive-DDL åˆ›å»ºæ•°æ®åº“</span><br><span class="line">P22022-å°šç¡…è°·-Hive-DDL æŸ¥è¯¢<span class="meta">&amp;åˆ‡æ¢æ•°æ®åº“</span></span><br><span class="line">P23023-å°šç¡…è°·-Hive-DDL ä¿®æ”¹<span class="meta">&amp;åˆ é™¤æ•°æ®åº“</span></span><br><span class="line">P24024-å°šç¡…è°·-Hive-DDL å»ºè¡¨è¯­å¥åˆ†æ</span><br><span class="line">P25025-å°šç¡…è°·-Hive-DDL å†…å¤–éƒ¨åˆ›å»º<span class="meta">&amp;åŒºåˆ«</span></span><br><span class="line">P26026-å°šç¡…è°·-Hive-DDL å†…å¤–éƒ¨äº’ç›¸è½¬æ¢</span><br><span class="line">P27027-å°šç¡…è°·-Hive-DDL å»ºè¡¨æ—¶æŒ‡å®šå­—æ®µåˆ†éš”ç¬¦</span><br><span class="line">P28028-å°šç¡…è°·-Hive-DDL ä¿®æ”¹<span class="meta">&amp;åˆ é™¤è¡¨</span></span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-15">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="1-18é…ç½®Hiveåœ¨Centos7">1-18é…ç½®Hiveåœ¨Centos7</h3><h4 id="Hiveæ•°æ®ç±»å‹">Hiveæ•°æ®ç±»å‹</h4><h4 id="DDLæ“ä½œ">DDLæ“ä½œ</h4><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-13">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="Hiveæ•°æ®ç±»å‹-2">Hiveæ•°æ®ç±»å‹</h3><p>æ³¨æ„ä¸€ç‚¹ æ—¶é—´ç±»å‹ å¯ä»¥ç›´æ¥Stringç±»å‹yyyy-mm-ddï¼Œè¿™æ ·ç”¨ã€‚</p><p><code>å¯¹äº Hive çš„ String ç±»å‹ç›¸å½“äºæ•°æ®åº“çš„ varchar ç±»å‹ï¼Œè¯¥ç±»å‹æ˜¯ä¸€ä¸ªå¯å˜çš„å­—ç¬¦ä¸²ï¼Œä¸è¿‡å®ƒä¸èƒ½å£°æ˜å…¶ä¸­æœ€å¤šèƒ½å­˜å‚¨å¤šå°‘ä¸ªå­—ç¬¦ï¼Œç†è®ºä¸Šå®ƒå¯ä»¥å­˜å‚¨ 2GB çš„å­—ç¬¦æ•°ã€‚</code></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220727205745194.png" alt="image-20220727205745194"></p><h3 id="é›†åˆæ•°æ®ç±»å‹">é›†åˆæ•°æ®ç±»å‹</h3><p>Hive æœ‰ä¸‰ç§å¤æ‚æ•°æ®ç±»å‹ ARRAYã€MAP å’Œ STRUCTã€‚ARRAY å’Œ MAP ä¸ Java ä¸­çš„ Arrayå’Œ Map ç±»ä¼¼ï¼Œè€Œ STRUCT ä¸ C è¯­è¨€ä¸­çš„ Struct ç±»ä¼¼ï¼Œå®ƒå°è£…äº†ä¸€ä¸ªå‘½åå­—æ®µé›†åˆï¼Œå¤æ‚æ•°æ®ç±»å‹å…è®¸ä»»æ„å±‚æ¬¡çš„åµŒå¥—ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220727205903414.png" alt="image-20220727205903414"></p><p>æ¡ˆä¾‹å®æ“</p><p>åˆ›å»ºæœ¬åœ°æµ‹è¯•æ–‡ä»¶ test.txt</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">songsong,bingbing_lili,xiao song:<span class="number">18</span>_xiaoxiao song:<span class="number">19</span>,hui long guan_beijing</span><br><span class="line">yangyang,caicai_susu,xiao yang:<span class="number">18</span>_xiaoxiao yang:<span class="number">19</span>,chao yang_beijing</span><br></pre></td></tr></table></figure><p>Hive ä¸Šåˆ›å»ºæµ‹è¯•è¡¨ test</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">create table test(</span><br><span class="line">name string,</span><br><span class="line">friends array&lt;string&gt;,</span><br><span class="line">children map&lt;string, int&gt;,</span><br><span class="line">address struct&lt;street:string, city:string&gt; )</span><br><span class="line">row format delimited fields terminated by &#x27;,&#x27;</span><br><span class="line">collection items terminated by &#x27;_&#x27;</span><br><span class="line">map keys terminated by &#x27;:&#x27;</span><br><span class="line">lines terminated by &#x27;\n&#x27;;</span><br></pre></td></tr></table></figure><p>åé¢å››ä¸ªå­—æ®µçš„è§£é‡Š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">row format delimited fields terminated by &#x27;,&#x27; -- åˆ—åˆ†éš”ç¬¦</span><br><span class="line">collection items terminated by &#x27;_&#x27; --MAP STRUCT å’Œ ARRAY çš„åˆ†éš”ç¬¦(æ•°æ®åˆ†å‰²ç¬¦å·)</span><br><span class="line">map keys terminated by &#x27;:&#x27; -- MAP ä¸­çš„ key ä¸ value çš„åˆ†éš”ç¬¦</span><br><span class="line">lines terminated by &#x27;\n&#x27;; -- è¡Œåˆ†éš”ç¬¦</span><br></pre></td></tr></table></figure><h3 id="DDLæ•°æ®å®šä¹‰">DDLæ•°æ®å®šä¹‰</h3><h4 id="åˆ›å»ºæ•°æ®åº“"><strong>åˆ›å»ºæ•°æ®åº“</strong></h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database if <span class="keyword">not</span> <span class="keyword">exists</span> db_hive; #å¢åŠ  if <span class="keyword">not</span> <span class="keyword">exists</span>åˆ¤æ–­</span><br></pre></td></tr></table></figure><p><strong>æŒ‡å®šæ•°æ®åº“åœ¨</strong> <strong>HDFS</strong> <strong>ä¸Šå­˜æ”¾çš„ä½ç½®</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database db_hive2 location <span class="string">&#x27;/db_hive2.db&#x27;</span>;</span><br></pre></td></tr></table></figure><h4 id="æŸ¥è¯¢æ•°æ®åº“"><strong>æŸ¥è¯¢æ•°æ®åº“</strong></h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;</span><br></pre></td></tr></table></figure><p><strong>åˆ‡æ¢å½“å‰æ•°æ®åº“</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; use db_hive;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹æ•°æ®åº“</p><p>ç”¨æˆ·å¯ä»¥ä½¿ç”¨ ALTER DATABASE å‘½ä»¤ä¸ºæŸä¸ªæ•°æ®åº“çš„ DBPROPERTIES è®¾ç½®é”®-å€¼å¯¹å±æ€§å€¼ï¼Œæ¥æè¿°è¿™ä¸ªæ•°æ®åº“çš„å±æ€§ä¿¡æ¯ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; alter database db_hive </span><br><span class="line">set dbproperties(&#x27;createtime&#x27;=&#x27;20170830&#x27;);</span><br></pre></td></tr></table></figure><p><strong>åˆ é™¤æ•°æ®åº“</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hvie&gt;drop database db_hive2; //åˆ é™¤ç©ºçš„æ•°æ®åº“</span><br><span class="line">hive&gt; drop database if exists db_hive2; //åˆ¤æ–­æ•°æ®åº“æ˜¯å¦å­˜åœ¨</span><br><span class="line">hive&gt; drop database db_hive cascade; //å¼ºåˆ¶åˆ é™¤æ•°æ®åº“ ä¸ç®¡æ˜¯å¦ä¸ºç©º</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºè¡¨"><strong>åˆ›å»ºè¡¨</strong></h3><p><strong>å»ºè¡¨è¯­æ³•</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">CREATE [EXTERNAL] TABLE [IF NOT EXISTS] table_name</span><br><span class="line">[(col_name data_type [COMMENT col_comment], ...)]</span><br><span class="line">[COMMENT table_comment]</span><br><span class="line">[PARTITIONED BY (col_name data_type [COMMENT col_comment], ...)]</span><br><span class="line">[CLUSTERED BY (col_name, col_name, ...)</span><br><span class="line">[SORTED BY (col_name [ASC|DESC], ...)] INTO num_buckets BUCKETS]</span><br><span class="line">[ROW FORMAT row_format]</span><br><span class="line">[STORED AS file_format]</span><br><span class="line">[LOCATION hdfs_path]</span><br><span class="line">[TBLPROPERTIES (property_name=property_value, ...)]</span><br><span class="line">[AS select_</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰CREATE TABLE åˆ›å»ºä¸€ä¸ªæŒ‡å®šåå­—çš„è¡¨ã€‚å¦‚æœç›¸åŒåå­—çš„è¡¨å·²ç»å­˜åœ¨ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ï¼›ç”¨æˆ·å¯ä»¥ç”¨ IF NOT EXISTS é€‰é¡¹æ¥å¿½ç•¥è¿™ä¸ªå¼‚å¸¸ã€‚</span><br><span class="line">ï¼ˆ2ï¼‰EXTERNAL å…³é”®å­—å¯ä»¥è®©ç”¨æˆ·åˆ›å»ºä¸€ä¸ªå¤–éƒ¨è¡¨ï¼Œåœ¨å»ºè¡¨çš„åŒæ—¶å¯ä»¥æŒ‡å®šä¸€ä¸ªæŒ‡å‘å®é™…æ•°æ®çš„è·¯å¾„ï¼ˆLOCATIONï¼‰ï¼Œåœ¨åˆ é™¤è¡¨çš„æ—¶å€™ï¼Œå†…éƒ¨è¡¨çš„å…ƒæ•°æ®å’Œæ•°æ®ä¼šè¢«ä¸€èµ·åˆ é™¤ï¼Œè€Œå¤–éƒ¨è¡¨åªåˆ é™¤å…ƒæ•°æ®ï¼Œä¸åˆ é™¤æ•°æ®ã€‚ </span><br><span class="line">ï¼ˆ3ï¼‰COMMENTï¼šä¸ºè¡¨å’Œåˆ—æ·»åŠ æ³¨é‡Šã€‚</span><br><span class="line">ï¼ˆ4ï¼‰PARTITIONED BY åˆ›å»ºåˆ†åŒºè¡¨</span><br><span class="line">ï¼ˆ5ï¼‰CLUSTERED BY åˆ›å»ºåˆ†æ¡¶è¡¨</span><br><span class="line">ï¼ˆ6ï¼‰SORTED BY ä¸å¸¸ç”¨ï¼Œå¯¹æ¡¶ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—å¦å¤–æ’åº</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220727211124456.png" alt="image-20220727211124456"></p><p><strong>å®æ“æ¡ˆä¾‹</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰æŸ¥è¯¢è¡¨ç»“æ„</span><br><span class="line">hive&gt; desc dept;</span><br><span class="line">ï¼ˆ2ï¼‰æ·»åŠ åˆ—</span><br><span class="line">hive (default)&gt; alter table dept add columns(deptdesc string);</span><br><span class="line">ï¼ˆ3ï¼‰æŸ¥è¯¢è¡¨ç»“æ„</span><br><span class="line">hive&gt; desc dept;</span><br><span class="line">ï¼ˆ4ï¼‰æ›´æ–°åˆ—</span><br><span class="line">hive (default)&gt; alter table dept change column deptdesc desc string; ï¼ˆ5ï¼‰æŸ¥è¯¢è¡¨ç»“æ„</span><br><span class="line">hive&gt; desc dept;</span><br><span class="line">ï¼ˆ6ï¼‰æ›¿æ¢åˆ—</span><br><span class="line">hive (default)&gt; alter table dept replace columns(deptno string, dname</span><br><span class="line">string, loc string);</span><br><span class="line">ï¼ˆ7ï¼‰æŸ¥è¯¢è¡¨ç»“æ„</span><br><span class="line">hive&gt; desc dept;</span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-11">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>å‰å¤©å’Œæ˜¨å¤©åŸºæœ¬é…ç½®äº†ä¸€å¤©çš„hive,ç¬¬ä¸€å¤©è‡ªå·±é…ç½®å’Œyzgå¸®æˆ‘ä¸€èµ·å¼„çš„ï¼Œåé¢jaråŒ…æ‰¾ä¸åˆ°äº†ï¼Œç¬¬äºŒå¤©è‡ªå·±åˆå»ºäº†ä¸€ç»„å…‹éš†æœºï¼Œç„¶è€Œé…ç½®åˆ°JDBCçš„æ—¶å€™åˆå‡ºç°äº†é—®é¢˜ï¼Œç­‰äº†20åˆ†é’Ÿéƒ½æ²¡å¯åŠ¨èµ·æ¥ã€‚åé¢å¹²è„†ä¸ç®¡äº†ï¼Œå°±è·³è¿‡å»äº†ï¼ŒJDBCçš„éƒ¨åˆ†ï¼Œå› ä¸ºåé¢éƒ½æ˜¯ç›´è¿ä½¿ç”¨çš„ï¼Œå°±ç›´æ¥çœ‹è¿‡å»äº†ã€‚ç­‰éƒ¨ç½²çš„åŒå­¦æå¥½å¸®æˆ‘é…ä¸€å°ï¼ŒHiveçš„æ•°æ®ç±»å‹å’ŒJavaåŸºæœ¬ä¸€æ ·å°±æ˜¯Longå˜æˆäº†BIGINT,DDLçš„æ“ä½œä¹Ÿå’ŒMySQLå·®ä¸å¤šï¼Œåˆ›å»ºè¡¨ç¨å¾®æœ‰ç‚¹ç¹çã€‚è¯­æ³•æœ‰å¾ˆå¤šçš„å­—æ®µä»£ç ä¸å¤ªå¥½è®°ï¼ŒDDLä¼¼ä¹ä¸å¤ªé‡è¦ï¼Œåé¢ç”¨åˆ°çš„æ—¶å€™ï¼Œè¯­æ³•æ•²ç€æ•²ç€å°±ç†Ÿæ‚‰äº†ï¼Œæ˜å¤©å­¦DMLäº†ã€‚</p><h1 id="7-28-DMLæ“ä½œ">7.28 DMLæ“ä½œ</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-16">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-16">2.æ ‡é¢˜</h2><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">P29029-å°šç¡…è°·-Hive-DML åŠ è½½æ•°æ® <span class="keyword">load</span></span><br><span class="line">P30030-å°šç¡…è°·-Hive-DML åŠ è½½æ•°æ® <span class="keyword">insert</span></span><br><span class="line">P31031-å°šç¡…è°·-Hive-DML åŠ è½½æ•°æ® <span class="keyword">as</span> <span class="keyword">select</span></span><br><span class="line">P32032-å°šç¡…è°·-Hive-DML åŠ è½½æ•°æ® <span class="keyword">location</span></span><br><span class="line">P33033-å°šç¡…è°·-Hive-DML åŠ è½½æ•°æ® <span class="keyword">import</span> æœªå®Œå¾…ç»­</span><br><span class="line">P34034-å°šç¡…è°·-Hive-DML å¯¼å‡ºæ•°æ® <span class="keyword">insert</span></span><br><span class="line">P35035-å°šç¡…è°·-Hive-DML å¯¼å‡ºæ•°æ® hadoopå‘½ä»¤&amp;Hive shell</span><br><span class="line">P36036-å°šç¡…è°·-Hive-DML å¯¼å‡ºæ•°æ® export&amp;sqoopè¯´æ˜ <span class="keyword">import</span>è¡¥å……</span><br><span class="line">P37037-å°šç¡…è°·-Hive-DML æ¸…ç©ºå…¨è¡¨</span><br><span class="line">P38038-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ å‡†å¤‡æ•°æ®</span><br><span class="line">P39039-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ æŸ¥è¯¢å…¨è¡¨&amp;æŒ‡å®šåˆ— æ³¨æ„äº‹é¡¹</span><br><span class="line">P40040-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ åˆ—åˆ«å&amp;è¿ç®—ç¬¦</span><br><span class="line">P41041-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ èšåˆå‡½æ•°&amp;<span class="keyword">Limit</span>&amp;<span class="keyword">Where</span></span><br><span class="line">P42042-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ æ¯”è¾ƒè¿ç®—ç¬¦&amp;é€»è¾‘è¿ç®—ç¬¦</span><br><span class="line">P43043-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ GroupBy &amp; <span class="keyword">Having</span></span><br><span class="line">P44044-å°šç¡…è°·-Hive-è¯¾ç¨‹å›é¡¾</span><br><span class="line">P45045-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN</span> å†…è¿æ¥</span><br><span class="line">P46046-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN</span> å·¦å¤–è¿æ¥</span><br><span class="line">P47047-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN</span> å³å¤–è¿æ¥</span><br><span class="line">P48048-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN</span> æ»¡å¤–è¿æ¥</span><br><span class="line">P49049-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN</span> å–å·¦è¡¨ç‹¬æœ‰æ•°æ®</span><br><span class="line">P50050-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN</span> å–å³è¡¨ç‹¬æœ‰æ•°æ®</span><br><span class="line">P51051-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN</span> å–å·¦å³ä¸¤è¡¨ç‹¬æœ‰æ•°æ®</span><br><span class="line">P52052-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN</span> å¤šè¡¨è¿æ¥</span><br><span class="line">P53053-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN</span> ç¬›å¡å°”ç§¯</span><br><span class="line">P54054-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ æ’åº <span class="keyword">Order</span> <span class="keyword">By</span></span><br><span class="line">P55055-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ æ’åº Sort <span class="keyword">By</span></span><br><span class="line">P56056-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ æ’åº Distribute <span class="keyword">By</span> &amp; <span class="keyword">Cluster</span> <span class="keyword">By</span></span><br><span class="line">P57057-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ æ’åº <span class="number">4</span>ä¸ª<span class="keyword">By</span>æ€»ç»“</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-16">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="æ•°æ®å¯¼å…¥">æ•°æ®å¯¼å…¥</h3><h3 id="æ•°æ®å¯¼å‡º">æ•°æ®å¯¼å‡º</h3><h3 id="æŸ¥è¯¢ï¼">æŸ¥è¯¢ï¼</h3><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-14">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="æ•°æ®å¯¼å…¥-2">æ•°æ®å¯¼å…¥</h3><h4 id="å‘è¡¨ä¸­è£…è½½æ•°æ®-Load">å‘è¡¨ä¸­è£…è½½æ•°æ®(Load)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; load data [local] inpath &#x27;æ•°æ®çš„ path&#x27; [overwrite] into table </span><br><span class="line">student [partit555555</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; create table student(id string, name string) row format </span><br><span class="line">delimited fields terminated by &#x27;,&#x27;;  //åˆ›å»ºä¸€å¼ è¡¨</span><br><span class="line">hive(default)&gt; lcoal data local inpath &#x27;./student.txt&#x27; into table default.student;</span><br></pre></td></tr></table></figure><h4 id="é€šè¿‡æŸ¥è¯¢è¯­å¥å‘è¡¨ä¸­æ’å…¥æ•°æ®ï¼ˆInsertï¼‰"><strong>é€šè¿‡æŸ¥è¯¢è¯­å¥å‘è¡¨ä¸­æ’å…¥æ•°æ®ï¼ˆInsert</strong>ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hive(default)&gt; insert overwrite table student1</span><br><span class="line"> &gt; select * from student;</span><br></pre></td></tr></table></figure><h4 id="æŸ¥è¯¢è¯­å¥ä¸­åˆ›å»ºè¡¨å¹¶åŠ è½½æ•°æ®As-Select">æŸ¥è¯¢è¯­å¥ä¸­åˆ›å»ºè¡¨å¹¶åŠ è½½æ•°æ®As Select</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create table if not exists student3</span><br><span class="line">as select id, name from student;</span><br></pre></td></tr></table></figure><h4 id="åˆ›å»ºè¡¨æ—¶é€šè¿‡LocationæŒ‡å®šåŠ è½½æ•°æ®è·¯å¾„">åˆ›å»ºè¡¨æ—¶é€šè¿‡LocationæŒ‡å®šåŠ è½½æ•°æ®è·¯å¾„</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; create external table if not exists student5(</span><br><span class="line"> id int, name string)</span><br><span class="line"> row format delimited fields terminated by &#x27;,&#x27;</span><br><span class="line"> location &#x27;/student;</span><br></pre></td></tr></table></figure><h4 id="Import-æ•°æ®åˆ°æŒ‡å®š-Hive-è¡¨ä¸­"><strong>Import</strong> <strong>æ•°æ®åˆ°æŒ‡å®š</strong> <strong>Hive</strong> è¡¨ä¸­</h4><p>æ³¨æ„ï¼šå…ˆç”¨ export å¯¼å‡ºåï¼Œå†å°†æ•°æ®å¯¼å…¥ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; import table student2</span><br><span class="line">from &#x27;/user/hive/warehouse/export/student&#x27;;</span><br></pre></td></tr></table></figure><h3 id="æ•°æ®å¯¼å‡º-2">æ•°æ®å¯¼å‡º</h3><h4 id="å°†æŸ¥è¯¢çš„ç»“æœå¯¼å‡ºåˆ°æœ¬åœ°">å°†æŸ¥è¯¢çš„ç»“æœå¯¼å‡ºåˆ°æœ¬åœ°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hive&gt; insert overwrite local directory &#x27;./student&#x27; //åˆ°hive/studentæ–‡ä»¶å¤¹</span><br><span class="line">    &gt; row format delimited fields terminated by &#x27;,&#x27;  //æ ¼å¼åŒ–å¯¼å‡º åˆ†éš”ç¬¦ä¸ºï¼Œ</span><br><span class="line">    &gt; select * from student5; </span><br></pre></td></tr></table></figure><p>å¦‚æœå¯¼å‡ºåˆ°HDFS å°±æŠŠlocal å»æ‰ åé¢æŒ‡å®š HDFSçš„è·¯å¾„ å¯ä»¥ç›´æ¥CP æ‰€ä»¥ä¸å¸¸ç”¨</p><h4 id="hadoopå‘½ä»¤å¯¼å‡ºåˆ°æœ¬åœ°">hadoopå‘½ä»¤å¯¼å‡ºåˆ°æœ¬åœ°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dfs -get /æ–‡ä»¶è·¯å¾„ /å¯¼å‡ºè·¯å¾„</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ¯”ä¸Šé¢çš„å¸¸ç”¨</p><h4 id="Hive-Shell-å‘½ä»¤å¯¼å‡º"><strong>Hive Shell</strong> <strong>å‘½ä»¤å¯¼å‡º</strong></h4><p>åŸºæœ¬è¯­æ³•ï¼šï¼ˆhive -f/-e æ‰§è¡Œè¯­å¥æˆ–è€…è„šæœ¬ &gt; fileï¼‰</p><p>ç¼ºç‚¹ï¼šæ‰“å°å‡ºæ¥æœ‰è¡¨å¤´ä¿¡æ¯ æ‰€ä»¥ä¸å¸¸ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[atguigu@hadoop102 hive]$ bin/hive -e &#x27;select * from default.student;&#x27; &gt;&gt;</span><br><span class="line">/opt/module/hive/data/export/student4.txt;</span><br></pre></td></tr></table></figure><p>**æ¸…é™¤è¡¨ä¸­æ•°æ®ï¼ˆ**Truncateï¼‰</p><p>åªèƒ½æ¸…é™¤å†…éƒ¨è¡¨ä¸­çš„æ•°æ® å¤–éƒ¨è¡¨ä¸è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; truncate table student;</span><br></pre></td></tr></table></figure><h3 id="åŸºæœ¬æŸ¥è¯¢">åŸºæœ¬æŸ¥è¯¢</h3><p>å’ŒMySQLè¯­å¥ä¸€æ ·</p><p>å…¨è¡¨å’Œç‰¹å®šåˆ—æŸ¥è¯¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from emp;</span><br><span class="line">select empno, ename from emp;</span><br></pre></td></tr></table></figure><p>æ³¨æ„:</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ³¨æ„ï¼š ï¼ˆ<span class="number">1</span>ï¼‰<span class="keyword">SQL</span> è¯­è¨€å¤§å°å†™ä¸æ•æ„Ÿã€‚</span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰<span class="keyword">SQL</span> å¯ä»¥å†™åœ¨ä¸€è¡Œæˆ–è€…å¤šè¡Œ</span><br><span class="line">ï¼ˆ<span class="number">3</span>ï¼‰å…³é”®å­—ä¸èƒ½è¢«ç¼©å†™ä¹Ÿä¸èƒ½åˆ†è¡Œ</span><br><span class="line">ï¼ˆ<span class="number">4</span>ï¼‰å„å­å¥ä¸€èˆ¬è¦åˆ†è¡Œå†™ã€‚</span><br><span class="line">ï¼ˆ<span class="number">5</span>ï¼‰ä½¿ç”¨ç¼©è¿›æé«˜è¯­å¥çš„å¯è¯»æ€§ã€‚</span><br></pre></td></tr></table></figure><h4 id="åˆ—åˆ«å">åˆ—åˆ«å</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select ename AS name, deptno dn from emp;</span><br></pre></td></tr></table></figure><p>ASå¯ä»¥ä¸åŠ  æ”¹æˆç©ºæ ¼</p><h4 id="ç®—æ•°è¿ç®—ç¬¦">ç®—æ•°è¿ç®—ç¬¦</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220728164250522.png" alt="image-20220728164250522"></p><h4 id="å¸¸ç”¨å‡½æ•°">å¸¸ç”¨å‡½æ•°</h4><p>è¦é€šè¿‡MR è¿è¡Œå¾ˆæ…¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1ï¼‰æ±‚æ€»è¡Œæ•°ï¼ˆcountï¼‰</span><br><span class="line">hive (default)&gt; select count(*) cnt from emp;</span><br><span class="line">2ï¼‰æ±‚å·¥èµ„çš„æœ€å¤§å€¼ï¼ˆmaxï¼‰</span><br><span class="line">hive (default)&gt; select max(sal) max_sal from emp;</span><br><span class="line">3ï¼‰æ±‚å·¥èµ„çš„æœ€å°å€¼ï¼ˆminï¼‰</span><br><span class="line">hive (default)&gt; select min(sal) min_sal from emp;</span><br><span class="line">4ï¼‰æ±‚å·¥èµ„çš„æ€»å’Œï¼ˆsumï¼‰</span><br><span class="line">hive (default)&gt; select sum(sal) sum_sal from emp; </span><br><span class="line">5ï¼‰æ±‚å·¥èµ„çš„å¹³å‡å€¼ï¼ˆavgï¼‰</span><br><span class="line">hive (default)&gt; select avg(sal) avg_sal from emp;</span><br></pre></td></tr></table></figure><h4 id="Limit-è¯­å¥"><strong>Limit</strong> <strong>è¯­å¥</strong></h4><p>é™åˆ¶è¿”å›çš„è¡Œæ•°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; select * from emp limit 5; //æŸ¥è¯¢EMPè¡¨ è¿”å›å‰5è¡Œ</span><br></pre></td></tr></table></figure><h4 id="Where-è¯­å¥"><strong>Where</strong> <strong>è¯­å¥</strong></h4><p><strong>ä½¿ç”¨</strong> <strong>WHERE</strong> <strong>å­å¥ï¼Œå°†ä¸æ»¡è¶³æ¡ä»¶çš„è¡Œè¿‡æ»¤æ‰</strong></p><p><strong>WHERE</strong> <strong>å­å¥ç´§éš</strong> <strong>FROM</strong> <strong>å­å¥</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; select * from emp where sal &gt;1000;</span><br><span class="line">--whereå­å¥ä¸èƒ½ç”¨å­—æ®µåˆ«å</span><br><span class="line">--æŸ¥è¯¢å‡ºè–ªæ°´å¤§äº1000çš„æ‰€æœ‰å‘˜å·¥</span><br></pre></td></tr></table></figure><h4 id="æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆBetween-In-Is-Nullï¼‰"><strong>æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ<strong><strong>Between/In/ Is Null</strong></strong>ï¼‰</strong></h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220728164848185.png" alt="image-20220728164848185"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220728164905841.png" alt="image-20220728164905841"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">--ï¼ˆ1ï¼‰æŸ¥è¯¢å‡ºè–ªæ°´ç­‰äº 5000 çš„æ‰€æœ‰å‘˜å·¥</span><br><span class="line">hive (default)&gt; select * from emp where sal =5000;</span><br><span class="line">--ï¼ˆ2ï¼‰æŸ¥è¯¢å·¥èµ„åœ¨ 500 åˆ° 1000 çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">hive (default)&gt; select * from emp where sal between 500 and 1000;</span><br><span class="line">--ï¼ˆ3ï¼‰æŸ¥è¯¢ comm ä¸ºç©ºçš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯</span><br><span class="line">hive (default)&gt; select * from emp where comm is null;</span><br><span class="line">--ï¼ˆ4ï¼‰æŸ¥è¯¢å·¥èµ„æ˜¯ 1500 æˆ– 5000 çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">hive (default)&gt; select * from emp where sal IN (1500, 5000);</span><br></pre></td></tr></table></figure><h4 id="Like-å’Œ-RLike"><strong>Like</strong> <strong>å’Œ</strong> <strong>RLike</strong></h4><p>Likeå’Œmysqlä¸­LikeåŒ¹é…ä¸€æ ·ï¼Œ%ä»£è¡¨é›¶ä¸ªæˆ–è€…å¤šä¸ªå­—ç¬¦(ä»»æ„ä¸ªå­—ç¬¦)  _ä»£è¡¨ä¸€ä¸ªå­—ç¬¦</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">--ï¼ˆ1ï¼‰æŸ¥æ‰¾åå­—ä»¥ A å¼€å¤´çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">hive (default)&gt; select * from emp where ename LIKE &#x27;A%&#x27;;</span><br><span class="line">--ï¼ˆ2ï¼‰æŸ¥æ‰¾åå­—ä¸­ç¬¬äºŒä¸ªå­—æ¯ä¸º A çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">hive (default)&gt; select * from emp where ename LIKE &#x27;_A%&#x27;;</span><br></pre></td></tr></table></figure><p>Rlike</p><p>RLIKE å­å¥æ˜¯ Hive ä¸­è¿™ä¸ªåŠŸèƒ½çš„ä¸€ä¸ªæ‰©å±•ï¼Œå…¶å¯ä»¥é€šè¿‡ Java çš„æ­£åˆ™è¡¨è¾¾å¼è¿™ä¸ªæ›´å¼ºå¤§çš„è¯­è¨€æ¥æŒ‡å®šåŒ¹é…æ¡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ3ï¼‰æŸ¥æ‰¾åå­—ä¸­å¸¦æœ‰ A çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line">hive (default)&gt; select * from emp where ename RLIKE &#x27;[A]&#x27;;</span><br></pre></td></tr></table></figure><h4 id="é€»è¾‘è¿ç®—ç¬¦-And-Or-Not">é€»è¾‘è¿ç®—ç¬¦(And/Or/Not)</h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">AND </span> é€»è¾‘å¹¶</span><br><span class="line"><span class="keyword">OR </span>  é€»è¾‘æˆ–</span><br><span class="line">NOT  é€»è¾‘å¦</span><br></pre></td></tr></table></figure><h3 id="åˆ†ç»„å‡½æ•°">åˆ†ç»„å‡½æ•°</h3><p>åˆ†ç»„å‡½æ•°çš„è¯­å¥é¡ºåº</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1 SELECT</span><br><span class="line"> ...</span><br><span class="line">2 FROM</span><br><span class="line">...</span><br><span class="line">3 WHERE</span><br><span class="line">...</span><br><span class="line">4 GROUP BY</span><br><span class="line">...</span><br><span class="line">5 HAVING</span><br><span class="line">...</span><br><span class="line">6 ORDER BY</span><br><span class="line">...</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="Group-Byè¯­å¥">Group Byè¯­å¥</h4><p>è®¡ç®— emp è¡¨æ¯ä¸ªéƒ¨é—¨çš„å¹³å‡å·¥èµ„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select t.deptno, avg(t.sal) avg_sal from emp t group by t.deptno;</span><br></pre></td></tr></table></figure><h4 id="Hivingè¯­å¥">Hivingè¯­å¥</h4><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">having</span> ä¸ <span class="keyword">where</span> ä¸åŒç‚¹</span><br><span class="line">ï¼ˆ<span class="number">1</span>ï¼‰<span class="keyword">where</span> åé¢ä¸èƒ½å†™åˆ†ç»„å‡½æ•°ï¼Œè€Œ <span class="keyword">having</span> åé¢å¯ä»¥ä½¿ç”¨åˆ†ç»„å‡½æ•°ã€‚</span><br><span class="line">ï¼ˆ<span class="number">2</span>ï¼‰<span class="keyword">having</span> åªç”¨äº <span class="keyword">group</span> <span class="keyword">by</span> åˆ†ç»„ç»Ÿè®¡è¯­å¥ã€‚</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹å®æ“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ±‚æ¯ä¸ªéƒ¨é—¨çš„å¹³å‡è–ªæ°´å¤§äº 2000 çš„éƒ¨é—¨</span><br><span class="line">hive (default)&gt; select deptno, avg(sal) avg_sal from emp group by deptno having avg_sal &gt; 2000;</span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-12">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„DMLçš„åŸºæœ¬æ“ä½œéƒ¨åˆ†ï¼ŒæŸ¥è¯¢è¯­å¥ï¼Œåˆ†ç»„è¯­å¥å’ŒSQLè¯­å¥åŸºæœ¬å·®ä¸å¤šï¼Œå‰é¢æ˜¯æœ‰æ•°æ®çš„å¯¼å…¥å’Œå¯¼å‡ºï¼Œæ˜¯ç»“åˆHadoopä»¥åŠhiveè‡ªå·±çš„ä¸€äº›åŠŸèƒ½ï¼Œå¯ä»¥å®ç°æœ¬åœ°æ–‡ä»¶æˆ–è€…HDFSçš„ä¸Šä¼ åŠ è½½ï¼Œå¯¼å…¥å¯¼å‡ºã€‚æ€»ä½“æ¥è¯´ä»Šå¤©çš„å­¦ä¹ ä»»åŠ¡ä¸éš¾ï¼Œä¹‹å‰æœ‰SQLçš„åŸºç¡€ï¼Œåˆ†ç»„è¿™è¾¹çš„è¯­å¥ï¼Œä¹‹å‰æ²¡å­¦ï¼Œä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œç®—ä»Šå¤©çš„éš¾ç‚¹å§ï¼Œä»Šå¤©å­¦ä¹ çŠ¶æ€è¿˜å¯ä»¥ï¼Œæ•²äº†å¾ˆå¤šSQLè¯­å¥ï¼Œä¹Ÿéƒ½è®°ä½äº†ï¼Œç®—å”¤é†’ä¹‹å‰SQLçš„è®°å¿†å§ã€‚</p><h1 id="7-29-Joinè¯­å¥">7.29 Joinè¯­å¥</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-17">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-17">2.æ ‡é¢˜</h2><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">P44044-å°šç¡…è°·-Hive-è¯¾ç¨‹å›é¡¾</span><br><span class="line">P45045-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN </span>å†…è¿æ¥</span><br><span class="line">P46046-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN </span>å·¦å¤–è¿æ¥</span><br><span class="line">P47047-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN </span>å³å¤–è¿æ¥</span><br><span class="line">P48048-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN </span>æ»¡å¤–è¿æ¥</span><br><span class="line">P49049-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN </span>å–å·¦è¡¨ç‹¬æœ‰æ•°æ®</span><br><span class="line">P50050-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN </span>å–å³è¡¨ç‹¬æœ‰æ•°æ®</span><br><span class="line">P51051-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN </span>å–å·¦å³ä¸¤è¡¨ç‹¬æœ‰æ•°æ®</span><br><span class="line">P52052-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN </span>å¤šè¡¨è¿æ¥</span><br><span class="line">P53053-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ <span class="keyword">JOIN </span>ç¬›å¡å°”ç§¯</span><br><span class="line">P54054-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ æ’åº <span class="keyword">Order </span><span class="keyword">By</span></span><br><span class="line"><span class="keyword"></span>P55055-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ æ’åº Sort <span class="keyword">By</span></span><br><span class="line"><span class="keyword"></span>P56056-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ æ’åº <span class="keyword">Distribute </span><span class="keyword">By </span>&amp; Cluster <span class="keyword">By</span></span><br><span class="line"><span class="keyword"></span>P57057-å°šç¡…è°·-Hive-DML æŸ¥è¯¢ æ’åº <span class="number">4</span>ä¸ª<span class="keyword">Byæ€»ç»“</span></span><br><span class="line"><span class="keyword"></span>P58058-å°šç¡…è°·-Hive-åˆ†åŒºè¡¨ è¯´æ˜</span><br><span class="line">P59059-å°šç¡…è°·-Hive-åˆ†åŒºè¡¨ åˆ›å»º&amp;ç®€å•ä½¿ç”¨</span><br><span class="line">P60060-å°šç¡…è°·-Hive-åˆ†åŒºè¡¨ åˆ†åŒºçš„å¢åˆ æŸ¥</span><br><span class="line">P61061-å°šç¡…è°·-Hive-åˆ†åŒºè¡¨ äºŒçº§åˆ†åŒº</span><br><span class="line">P62062-å°šç¡…è°·-Hive-åˆ†åŒºè¡¨ ä½¿HDFSæ•°æ®ä¸åˆ†åŒºè¡¨äº§ç”Ÿè”ç³»çš„æ–¹å¼</span><br><span class="line">P63063-å°šç¡…è°·-Hive-åˆ†åŒºè¡¨ loadåŠ è½½æ•°æ®ä¸æŒ‡å®šåˆ†åŒº æ¼”ç¤º</span><br><span class="line">P64064-å°šç¡…è°·-Hive-åˆ†åŒºè¡¨ åŠ¨æ€åˆ†åŒº æ¼”ç¤º</span><br><span class="line">P65065-å°šç¡…è°·-Hive-åˆ†åŒºè¡¨ åŠ¨æ€åˆ†åŒº <span class="number">3</span>.<span class="number">0</span>æ–°ç‰¹æ€§</span><br><span class="line">P66066-å°šç¡…è°·-Hive-åˆ†æ¡¶è¡¨</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-17">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="Joinè¯­å¥">Joinè¯­å¥</h3><h4 id="æŸ¥è¯¢å¤šè¡¨">æŸ¥è¯¢å¤šè¡¨</h4><h4 id="æ’åº">æ’åº</h4><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-15">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="ç­‰å€¼äºSQL-join">ç­‰å€¼äºSQL join</h3><p>Hive æ”¯æŒé€šå¸¸çš„ SQL JOIN è¯­å¥ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> emp;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>æ¸…é™¤empè¡¨æ‰€æœ‰è¡Œ é˜²æ­¢ç”¨æœ¬åœ°æ–‡ä»¶å¾€è¡¨æ ¼å†…æ·»åŠ ä¿¡æ¯çš„æ—¶å€™ å˜æˆè¿½åŠ </span><br></pre></td></tr></table></figure><h4 id="è¡¨çš„åˆ«å">è¡¨çš„åˆ«å</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰å¥½å¤„</span><br><span class="line">ï¼ˆ1ï¼‰ä½¿ç”¨åˆ«åå¯ä»¥ç®€åŒ–æŸ¥è¯¢ã€‚</span><br><span class="line">ï¼ˆ2ï¼‰ä½¿ç”¨è¡¨åå‰ç¼€å¯ä»¥æé«˜æ‰§è¡Œæ•ˆç‡ã€‚</span><br></pre></td></tr></table></figure><h5 id="åˆå¹¶å‘˜å·¥è¡¨å’Œéƒ¨é—¨è¡¨">åˆå¹¶å‘˜å·¥è¡¨å’Œéƒ¨é—¨è¡¨</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; select e.empno, e.ename, d.deptno from emp e join dept d </span><br><span class="line">on e.deptno = d.deptno;</span><br></pre></td></tr></table></figure><h3 id="SQL-Joins">SQL Joins</h3><p>joinæœ‰å¾ˆå¤šç§è¿æ¥æ–¹å¼ éƒ½å¦‚å›¾äº† ç±»ä¼¼äºé›†åˆä¸­çš„äº¤é›† å¹¶é›† å·®é›†</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0FTRDExODUyNDA1MTE=,size_16,color_FFFFFF,t_70-16590607630123.png" alt="img"></p><h4 id="å†…è¿æ¥"><strong>å†…è¿æ¥</strong></h4><p>å†…è¿æ¥ï¼šåªæœ‰è¿›è¡Œè¿æ¥çš„ä¸¤ä¸ªè¡¨ä¸­éƒ½å­˜åœ¨ä¸è¿æ¥æ¡ä»¶ç›¸åŒ¹é…çš„æ•°æ®æ‰ä¼šè¢«ä¿ç•™ä¸‹æ¥ã€‚ äº¤é›†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; select e.empno, e.ename, d.deptno from emp e inner join dept d </span><br><span class="line">on e.deptno = d.deptno;</span><br></pre></td></tr></table></figure><h4 id="å·¦å¤–è¿æ¥"><strong>å·¦å¤–è¿æ¥</strong></h4><p>å·¦å¤–è¿æ¥ï¼šJOIN æ“ä½œç¬¦å·¦è¾¹è¡¨ä¸­ç¬¦åˆ WHERE å­å¥çš„æ‰€æœ‰è®°å½•å°†ä¼šè¢«è¿”å›ã€‚ è¿”å›joinå·¦è¾¹çš„è¡¨æ ¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; select e.empno, e.ename, d.deptno from emp e left join </span><br><span class="line">dept d on e.deptno = d.deptno;</span><br></pre></td></tr></table></figure><h4 id="å³å¤–è¿æ¥"><strong>å³å¤–è¿æ¥</strong></h4><p>å³å¤–è¿æ¥ï¼šJOIN æ“ä½œç¬¦å³è¾¹è¡¨ä¸­ç¬¦åˆ WHERE å­å¥çš„æ‰€æœ‰è®°å½•å°†ä¼šè¢«è¿”å›ã€‚ è¿”å›joinå³è¾¹çš„è¡¨æ ¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; select e.empno, e.ename, d.deptno from emp e right join </span><br><span class="line">dept d on e.deptno = d.deptno;</span><br></pre></td></tr></table></figure><h4 id="æ»¡å¤–è¿æ¥"><strong>æ»¡å¤–è¿æ¥</strong></h4><p>æ»¡å¤–è¿æ¥ï¼šå°†ä¼šè¿”å›æ‰€æœ‰è¡¨ä¸­ç¬¦åˆ WHERE è¯­å¥æ¡ä»¶çš„æ‰€æœ‰è®°å½•ã€‚å¦‚æœä»»ä¸€è¡¨çš„æŒ‡å®šå­—æ®µæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å€¼çš„è¯ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨ NULL å€¼æ›¿ä»£ã€‚ å¹¶é›†ï¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; select e.empno, e.ename, d.deptno from emp e full join </span><br><span class="line">dept d on e.deptno = d.deptno;</span><br></pre></td></tr></table></figure><h4 id="å·¦è¿æ¥">å·¦è¿æ¥</h4><p>å–å·¦è¾¹ç‰¹æœ‰çš„éƒ¨åˆ† å°±æ˜¯å·¦å¤–è¿æ¥é™¤å»å…¬å…±éƒ¨åˆ†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; select e.empno, e.ename, e.deptno,d.dname from emp e left join </span><br><span class="line">              &gt; dept d on e.deptno = d.deptno</span><br><span class="line">              &gt; where d.deptno is null;</span><br></pre></td></tr></table></figure><p>å³è¿æ¥å’Œå¤–è¿æ¥ç±»ä¼¼</p><h4 id="å¤–è¿æ¥">å¤–è¿æ¥</h4><p>å–ä¸¤è¾¹çš„æ•°æ®ã€‚ ä¸¤è¡¨ç‹¬æœ‰æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; select e.empno, e.ename, e.deptno,d.dname from emp e full join </span><br><span class="line">              &gt; dept d on e.deptno = d.deptno</span><br><span class="line">              &gt; where d.deptno is null or e.deptno is null;</span><br></pre></td></tr></table></figure><h3 id="æŸ¥è¯¢å¤šè¡¨-2">æŸ¥è¯¢å¤šè¡¨</h3><p>æŸ¥è¯¢å‘˜å·¥å§“å(e)ã€éƒ¨é—¨åç§°(d)ä»¥åŠéƒ¨é—¨æ‰€åœ¨åŸå¸‚(l)åç§°ï¼›</p><p>hiveè¿è¡Œæ€»æ˜¯ä»å·¦å¾€å³</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; SELECT e.ename, d.dname, l.loc_name</span><br><span class="line">              &gt; FROM emp e </span><br><span class="line">              &gt; JOIN dept d</span><br><span class="line">              &gt; ON d.deptno = e.deptno </span><br><span class="line">              &gt; JOIN location l</span><br><span class="line">              &gt; ON d.loc = l.loc;</span><br></pre></td></tr></table></figure><h4 id="ç¬›å¡å°”ç§¯">ç¬›å¡å°”ç§¯</h4><p>å‡ºæ¥çš„è¡Œæ•°ç›¸å½“äºä¸¤è¾¹è¡¨æ ¼ç›¸ä¹˜</p><p>ç¬›å¡å°”é›†ä¼šåœ¨ä¸‹é¢æ¡ä»¶ä¸‹äº§ç”Ÿ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰çœç•¥è¿æ¥æ¡ä»¶</span><br><span class="line">ï¼ˆ2ï¼‰è¿æ¥æ¡ä»¶æ— æ•ˆ</span><br><span class="line">ï¼ˆ3ï¼‰æ‰€æœ‰è¡¨ä¸­çš„æ‰€æœ‰è¡Œäº’ç›¸è¿æ¥</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select empno, dname from emp,dept;</span><br></pre></td></tr></table></figure><h3 id="æ’åº-2">æ’åº</h3><h4 id="å…¨å±€æ’åºï¼ˆorder-byï¼‰">å…¨å±€æ’åºï¼ˆorder byï¼‰</h4><p>Order Byï¼šå…¨å±€æ’åºï¼Œåªæœ‰ä¸€ä¸ª Reducer</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ASC</span>ï¼ˆascendï¼‰: å‡åºï¼ˆé»˜è®¤ï¼‰</span><br><span class="line"><span class="keyword">DESC</span>ï¼ˆdescendï¼‰: é™åº</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹å®æ“</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ï¼ˆ1ï¼‰æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯æŒ‰å·¥èµ„å‡åºæ’åˆ—</span><br><span class="line">hive (default)&gt; select * from emp order by sal;</span><br><span class="line">ï¼ˆ2ï¼‰æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯æŒ‰å·¥èµ„é™åºæ’åˆ—</span><br><span class="line">hive (default)&gt; select * from emp order by sal desc;</span><br></pre></td></tr></table></figure><h4 id="å¤šä¸ªåˆ—æ’åº">å¤šä¸ªåˆ—æ’åº</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt;  select ename, deptno,sal from emp order by deptno,sal;</span><br></pre></td></tr></table></figure><p><strong>æ¯ä¸ª</strong> <strong>Reduce</strong> **å†…éƒ¨æ’åºï¼ˆ**Sort Byï¼‰</p><p><code>Sort Byï¼šå¯¹äºå¤§è§„æ¨¡çš„æ•°æ®é›† order by çš„æ•ˆç‡éå¸¸ä½ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå¹¶ä¸éœ€è¦å…¨å±€æ’åºï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨ **sort by**ã€‚</code></p><p><code>Sort by ä¸ºæ¯ä¸ª reducer äº§ç”Ÿä¸€ä¸ªæ’åºæ–‡ä»¶ã€‚æ¯ä¸ª Reducer å†…éƒ¨è¿›è¡Œæ’åºï¼Œå¯¹å…¨å±€ç»“æœé›†æ¥è¯´ä¸æ˜¯æ’åº</code> åŒºå†…æœ‰åº</p><p><strong>è®¾ç½®</strong> <strong>reduce</strong> <strong>ä¸ªæ•°</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; set mapreduce.job.reduces=3;</span><br></pre></td></tr></table></figure><p>æ ¹æ®éƒ¨é—¨ç¼–å·é™åºæŸ¥çœ‹å‘˜å·¥ä¿¡æ¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; select * from emp sort by deptno desc;</span><br></pre></td></tr></table></figure><h4 id="åˆ†åŒº-ï¼ˆ-Distribute-Byï¼‰">åˆ†åŒº**ï¼ˆ**Distribute Byï¼‰</h4><p>ä¸€èˆ¬å’Œsort byä¸€èµ·æ’åº</p><p>Distribute Byï¼š</p><p>åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦æ§åˆ¶æŸä¸ªç‰¹å®šè¡Œåº”è¯¥åˆ°å“ªä¸ª reducerï¼Œé€šå¸¸æ˜¯ä¸ºäº†è¿›è¡Œåç»­çš„èšé›†æ“ä½œã€‚<strong>distribute by</strong> å­å¥å¯ä»¥åšè¿™ä»¶äº‹ã€‚<strong>distribute by</strong> ç±»ä¼¼ MR ä¸­ partitionï¼ˆè‡ªå®šä¹‰åˆ†åŒºï¼‰ï¼Œè¿›è¡Œåˆ†åŒºï¼Œç»“åˆ sort by ä½¿ç”¨ã€‚</p><p>åœ¨CSDNä¸­æœ‰ç‰¹åˆ«è®²åˆ†åŒºæ’åº</p><p><a href="http://t.csdn.cn/HhwIw">http://t.csdn.cn/HhwIw</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> select * from emp distribute by </span><br><span class="line">deptno sort by empno desc;</span><br></pre></td></tr></table></figure><p>éƒ¨é—¨ç¼–å·åˆ†åŒº å‘˜å·¥ç¼–å·æ’åº</p><p>å½“ distribute by å’Œ sorts by å­—æ®µç›¸åŒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ cluster by æ–¹å¼ã€‚</p><p><code>cluster by é™¤äº†å…·æœ‰ distribute by çš„åŠŸèƒ½å¤–è¿˜å…¼å…· sort by çš„åŠŸèƒ½ã€‚ä½†æ˜¯æ’åºåªèƒ½æ˜¯å‡åºæ’åºï¼Œä¸èƒ½æŒ‡å®šæ’åºè§„åˆ™ä¸º ASC æˆ–è€… DESC</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hive (default)&gt; select * from emp cluster by deptno;</span><br><span class="line">hive (default)&gt; select * from emp distribute by deptno sort by deptno;</span><br></pre></td></tr></table></figure><h4 id="åˆ†åŒºè¡¨">åˆ†åŒºè¡¨</h4><h2 id="5-BUGç‚¹-10">5. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>å·¦è¿æ¥çš„æ—¶å€™ï¼Œdeptnoè¿™åˆ—æˆ‘å¾ˆå¤šnullï¼Œä½†æ˜¯æ£€æŸ¥æ•°æ®æºæ–‡ä»¶è¿™åˆ—æ˜¯æœ‰çš„</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220729094359004.png" alt="image-20220729094359004"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220729094431338.png" alt="image-20220729094431338"></p><p>å…ˆæ˜¯æ€€ç–‘hiveå»ºè¡¨çš„æ—¶å€™æ˜¯ä¸æ˜¯å‡ºç°äº†é—®é¢˜ åˆå»ºäº†ä¸€éè¡¨æ ¼å‘ç°è¿˜æ˜¯æœ‰é—®é¢˜ï¼ŒæŸ¥è¯¢çš„æ—¶å€™ï¼Œæœ€åä¸€è¡Œåªæœ‰nullæœ‰é—®é¢˜</p><p>åªèƒ½æ˜¾ç¤º30çœ‹äº†è‡ªå·±çš„æºæ–‡ä»¶ï¼Œå‘ç°30çš„ä¿¡æ¯æ˜¯æœ€å…¨çš„ï¼Œæ¯ä¸€åˆ—éƒ½æœ‰ï¼Œå°±æ€€ç–‘æ˜¯æºæ–‡ä»¶å†…çš„é—®é¢˜:</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åˆ›å»ºè¡¨æ ¼çš„æ—¶å€™åˆ†äº†<span class="number">8</span>åˆ— ä»¥ç©ºæ ¼åˆ‡å‰²ï¼Œä½†æ˜¯æºæ–‡ä»¶æœ‰å‡ è¡Œ åªæœ‰ <span class="number">6</span>åˆ— <span class="number">7</span>åˆ— é‚£å®ƒç©ºæ ¼åˆ‡å‡ºæ¥ ä¹Ÿæ˜¯<span class="number">6</span>åˆ— <span class="number">7</span>åˆ—è€Œä¸”æ˜¯æŒ‰é¡ºåºã€‚åƒç¬¬å››åˆ—æˆ‘æ˜¯<span class="built_in">int</span>ç±»çš„ ä½†æ˜¯æœ‰å‡ è¡Œæ²¡æœ‰è¿™ä¸€åˆ—çš„æ•°æ® å°±è‡ªåŠ¨ç®—åé¢çš„data ç±»å‹ä¸ç»Ÿä¸€ å°±æ˜¾ç¤ºäº†<span class="literal">null</span> åé¢æ•°æ®æ²¡æœ‰ä¹Ÿè‡ªç„¶æ˜¾ç¤º<span class="literal">NULL</span></span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢hiredateçš„æ—¶å€™ï¼Œå‘ç°æœ‰ä¸€è¡Œæ˜¾ç¤ºçš„5000 è€Œè¿™ä¸€è¡Œæ°å¥½æ˜¯æ²¡æœ‰mgrçš„é‚£ä¸€è¡Œã€‚é‚£å°±æ˜¯é•¿åº¦é—®é¢˜ å¯¼è‡´åˆ†éš”ç¬¦åˆ‡é”™äº†ã€‚</p><p>æŠŠæºæ–‡ä»¶emp.txtæ²¡æ•°æ®çš„åœ°æ–¹ è¾“å…¥ä¸¤ä¸ªç©ºæ ¼ ä½œä¸ºåˆ†éš”å°±è§£å†³äº†</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220729102024370.png" alt="image-20220729102024370"></p><h3 id="JVMæŠ¥é”™">JVMæŠ¥é”™</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220729150136194.png" alt="image-20220729150136194"></p><p>åœ¨CSDNè§£å†³</p><p>Hiveå‘½ä»¤è°ƒç”¨MRä»»åŠ¡æŠ¥é”™</p><p>å°† hive è®¾ç½®æˆæœ¬åœ°æ¨¡å¼æ¥æ‰§è¡Œä»»åŠ¡è¯•è¯•,å‘½ä»¤å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set hive.exec.mode.local.auto=true;</span><br></pre></td></tr></table></figure><p>é—®é¢˜è§£å†³ï¼Œä½†æ˜¯åªæœ‰ä¸€æ¬¡æ€§ï¼Œhiveé€€å‡ºå°±ä¸è¡Œäº†ï¼ŒæŠŠä»–å†™åˆ°é…ç½®æ–‡ä»¶ä¸­</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>hive.exec.mode.local.auto<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é—®é¢˜æ°¸ä¹…è§£å†³</p><h2 id="7-æ€»ç»“-13">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å†…å®¹ä¸»è¦æ˜¯Joinè¯­å¥å’Œæ’åºä»¥åŠåˆ†åŒºæ–¹é¢çš„ä¸€å°éƒ¨åˆ†å†…å®¹ï¼Œjoinè¯­å¥å’Œæ’åºæ¯”è¾ƒç®€å•çš„ä¹Ÿå®¹æ˜“æŒæ¡ï¼Œä»Šå¤©å»ºè¡¨åˆ‡å‰²æ–¹é¢çš„åŸç†æ–¹é¢çš„çŸ¥è¯†å‡ºç°äº†ç¼ºé™·ï¼Œè§£å†³BUG,è¡¥å……äº†çŸ¥è¯†ç‚¹ã€‚ä»Šå¤©çš„é‡ç‚¹å’Œéš¾ç‚¹åœ¨åˆ†åŒºï¼Œåˆ†åŒºèƒ½è®©æ•ˆç‡æé«˜å¾ˆå¤šï¼Œè¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œèƒ½é¿å…å…¨å±€æ‰«æï¼Œå¯¼è‡´è¿è¡Œé€Ÿåº¦å¾ˆæ…¢ï¼Œåœ¨å…¬å¸ç”šè‡³è¿è¡Œä¸èµ·æ¥ï¼Œæ•ˆç‡å¤ªä½äº†ã€‚å†…å®¹æ¯”è¾ƒå¤šï¼Œè¿™éƒ¨åˆ†çš„åŸç†ï¼Œåªæ˜¯ä¸€çŸ¥åŠè§£ï¼Œæ˜å¤©å†å¥½å¥½å›é¡¾ä¸€ä¸‹åˆ†åŒºæ–¹é¢çš„å†…å®¹ã€‚</p><h1 id="7-31-å‡½æ•°">7.31 å‡½æ•°</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-18">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web">https://www.bilibili.com/video/BV1WY4y1H7d3?p=28&amp;share_source=copy_web</a></p><h2 id="2-æ ‡é¢˜-18">2.æ ‡é¢˜</h2><figure class="highlight tp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">P</span><span class="number">67067</span>-å°šç¡…è°·-Hive-DML å‡½æ•° æŸ¥è¯¢ç³»ç»Ÿå‡½æ•°</span><br><span class="line"><span class="keyword">P</span><span class="number">68068</span>-å°šç¡…è°·-Hive-DML å‡½æ•° NVL</span><br><span class="line"><span class="keyword">P</span><span class="number">69069</span>-å°šç¡…è°·-Hive-DML å‡½æ•° CASE WHEN THEN <span class="keyword">ELSE</span> <span class="keyword">END</span></span><br><span class="line"><span class="keyword">P</span><span class="number">70070</span>-å°šç¡…è°·-Hive-è¯¾ç¨‹å›é¡¾</span><br><span class="line"><span class="keyword">P</span><span class="number">71071</span>-å°šç¡…è°·-Hive-DML å‡½æ•° æ‹¼æ¥å­—ç¬¦ä¸² å‡½æ•°è¯´æ˜</span><br><span class="line"><span class="keyword">P</span><span class="number">72072</span>-å°šç¡…è°·-Hive-DML å‡½æ•° æ‹¼æ¥å­—ç¬¦ä¸² å‡½æ•°ä½¿ç”¨</span><br><span class="line"><span class="keyword">P</span><span class="number">73073</span>-å°šç¡…è°·-Hive-DML å‡½æ•° Explode</span><br><span class="line"><span class="keyword">P</span><span class="number">74074</span>-å°šç¡…è°·-Hive-DML å‡½æ•° è¡Œè½¬åˆ—&amp;åˆ—è½¬è¡Œè¯´æ˜</span><br><span class="line"><span class="keyword">P</span><span class="number">75075</span>-å°šç¡…è°·-Hive-DML å‡½æ•° çª—å£å‡½æ•° åˆä½“éªŒ</span><br><span class="line"><span class="keyword">P</span><span class="number">76076</span>-å°šç¡…è°·-Hive-DML å‡½æ•° çª—å£å‡½æ•° éœ€æ±‚äºŒ</span><br><span class="line"><span class="keyword">P</span><span class="number">77077</span>-å°šç¡…è°·-Hive-DML å‡½æ•° çª—å£å‡½æ•° éœ€æ±‚ä¸‰</span><br><span class="line"><span class="keyword">P</span><span class="number">78078</span>-å°šç¡…è°·-Hive-DML å‡½æ•° çª—å£å‡½æ•° æ’åºå€¼ç›¸åŒæ—¶è¯´æ˜</span><br><span class="line"><span class="keyword">P</span><span class="number">79079</span>-å°šç¡…è°·-Hive-DML å‡½æ•° çª—å£å‡½æ•° éœ€æ±‚å››</span><br><span class="line"><span class="keyword">P</span><span class="number">80080</span>-å°šç¡…è°·-Hive-DML å‡½æ•° çª—å£å‡½æ•° éœ€æ±‚äº”</span><br><span class="line"><span class="keyword">P</span><span class="number">81081</span>-å°šç¡…è°·-Hive-DML å‡½æ•° çª—å£å‡½æ•° Rank</span><br><span class="line"><span class="keyword">P</span><span class="number">82082</span>-å°šç¡…è°·-Hive-DML å‡½æ•° å…¶ä»–å¸¸ç”¨å‡½æ•° æ—¥æœŸå‡½æ•°</span><br><span class="line"><span class="keyword">P</span><span class="number">83083</span>-å°šç¡…è°·-Hive-DML å‡½æ•° å…¶ä»–å¸¸ç”¨å‡½æ•° æ•°æ®å–æ•´å‡½æ•°</span><br><span class="line"><span class="keyword">P</span><span class="number">84084</span>-å°šç¡…è°·-Hive-DML å‡½æ•° å…¶ä»–å¸¸ç”¨å‡½æ•° å­—ç¬¦ä¸²ç›¸å…³å‡½æ•°</span><br><span class="line"><span class="keyword">P</span><span class="number">85085</span>-å°šç¡…è°·-Hive-DML å‡½æ•° å…¶ä»–å¸¸ç”¨å‡½æ•° é›†åˆå‡½æ•°</span><br></pre></td></tr></table></figure><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-18">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="æŸ¥è¯¢ç³»ç»Ÿå‡½æ•°">æŸ¥è¯¢ç³»ç»Ÿå‡½æ•°</h3><h3 id="å„ç§ç³»ç»Ÿå‡½æ•°">å„ç§ç³»ç»Ÿå‡½æ•°</h3><h3 id="è¡Œè½¬åˆ—-åˆ—è½¬è¡Œ">è¡Œè½¬åˆ— åˆ—è½¬è¡Œ</h3><h3 id="çª—å£å‡½æ•°">çª—å£å‡½æ•°</h3><h2 id="4-æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-16">4.æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="ç³»ç»Ÿå†…ç½®å‡½æ•°"><strong>ç³»ç»Ÿå†…ç½®å‡½æ•°</strong></h3><p>Hiveä¸­ç³»ç»Ÿè‡ªå¸¦çš„å‡½æ•°æœ‰å¾ˆå¤š æœ‰æ¡å‘½ä»¤ç›¸å½“äºAPI</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show funcations; //æŸ¥çœ‹ç³»ç»Ÿè‡ªå¸¦çš„å‡½æ•°</span><br><span class="line">desc function uppper;//æ˜¾ç¤ºè‡ªå¸¦å‡½æ•°çš„ç”¨å‘ å¯ä»¥ç¿»è¯‘ä¸­æ–‡</span><br><span class="line">desc function extended lower; //è¯¦ç»†æ˜¾ç¤ºç”¨æ³• è¿™ä¸ªå¥½ç”¨äº›</span><br></pre></td></tr></table></figure><h3 id="å¸¸ç”¨å†…ç½®å‡½æ•°">å¸¸ç”¨å†…ç½®å‡½æ•°</h3><h4 id="ç©ºå­—ç¬¦ä¸²èµ‹å€¼">ç©ºå­—ç¬¦ä¸²èµ‹å€¼</h4><p>NVLï¼šç»™å€¼ä¸º NULL çš„æ•°æ®èµ‹å€¼ï¼Œå®ƒçš„æ ¼å¼æ˜¯ NVL( valueï¼Œdefault_value)ã€‚å®ƒçš„åŠŸèƒ½æ˜¯å¦‚æœ value ä¸º NULLï¼Œåˆ™ NVL å‡½æ•°è¿”å› default_value çš„å€¼ï¼Œå¦åˆ™è¿”å› value çš„å€¼ã€‚ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ä¸å¡«ï¼Œè¿™æ ·valueå¦‚æœæ˜¯NULLï¼Œè¿”å›å€¼ä¹Ÿæ˜¯NULLã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select comm,nvl(comm, -1) from emp; //å¦‚æœcommä¸ºNULL -1ä»£æ›¿ </span><br></pre></td></tr></table></figure><h3 id="è¡Œè½¬åˆ—">è¡Œè½¬åˆ—</h3><p>å¤§ç™½è¯å…¶å®å°±æ˜¯ä¸€åˆ—è½¬æ¢ä¸ºå¤šåˆ—</p><p>ç”¨çš„åˆ°ä¸‰ä¸ªå‡½æ•°å˜å½¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CONCAT(string A/col, string B/colâ€¦)ï¼šè¿”å›è¾“å…¥å­—ç¬¦ä¸²è¿æ¥åçš„ç»“æœï¼Œæ”¯æŒä»»æ„ä¸ªè¾“å…¥å­—ç¬¦ä¸²;</span><br><span class="line">CONCAT_WS(separator, str1, str2,...)ï¼šå®ƒæ˜¯ä¸€ä¸ªç‰¹æ®Šå½¢å¼çš„ CONCAT()ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯åˆå¹¶å‚æ•°é—´çš„åˆ†éš”ç¬¦ã€‚</span><br><span class="line">COLLECT_SET(col)ï¼šå‡½æ•°åªæ¥å—åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å°†æŸå­—æ®µçš„å€¼è¿›è¡Œå»é‡æ±‡æ€»ï¼Œäº§ç”Ÿ Array ç±»å‹å­—æ®µã€‚</span><br></pre></td></tr></table></figure><p>å®ä¾‹ä»£ç ä¸å¤ªå¥½æ‡‚ éƒ½æ ‡ä¸Šæ³¨è§£</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT t1.c_b, CONCAT_WS(&quot;|&quot;,collect_set(t1.name)) --åå­—å»é‡ å¹¶ç”¨|åˆ†å‰²</span><br><span class="line">FROM (SELECT NAME, --ç”¨c_bç»“æœ</span><br><span class="line">CONCAT_WS(&#x27;,&#x27;,constellation,blood_type) c_b --åˆå¹¶ä¸¤æ¡æ•°æ®å¹¶ç”¨,éš”å¼€ åˆ«åc_b</span><br><span class="line">FROM person_info</span><br><span class="line">)t1 --åˆ«åt1</span><br><span class="line">GROUP BY t1.c_b --æŒ‰ç…§t1çš„c_bæŸ¥è¯¢ç»“æœåˆ†ç»„</span><br></pre></td></tr></table></figure><h3 id="åˆ—è½¬è¡Œ">åˆ—è½¬è¡Œ</h3><p>ä¸€è¡Œè½¬å¤šè¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EXPLODE(col)ï¼šå°† hive ä¸€åˆ—ä¸­å¤æ‚çš„ Array æˆ–è€… Map ç»“æ„æ‹†åˆ†æˆå¤šè¡Œã€‚</span><br><span class="line">LATERAL VIEW</span><br><span class="line">ç”¨æ³•ï¼šLATERAL VIEW udtf(expression) tableAlias AS columnAlias</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ç”¨æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">SELECT</span><br><span class="line">movie,</span><br><span class="line">category_name</span><br><span class="line">FROM</span><br><span class="line">movie_info</span><br><span class="line">lateral VIEW --ä½¿ç”¨å‡½æ•°</span><br><span class="line">explode(split(category,&quot;,&quot;)) movie_info_tmp --åˆ«å </span><br><span class="line">AS category_name; --ä½œä¸ºcategory_name å¯ç»™ä¸Šé¢è¿”å›æŸ¥è¯¢</span><br></pre></td></tr></table></figure><h3 id="çª—å£å‡½æ•°-2">çª—å£å‡½æ•°</h3><p>ä¸€èˆ¬æƒ…å†µçª—å£å‡½æ•°éƒ½ä¼šæ­é…overä½¿ç”¨ ä»¥å››ä¸ªæ¡ˆä¾‹æ¥å¤§è‡´äº†è§£çª—å£å‡½æ•°</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">OVER</span><span class="params">()</span></span>ï¼šæŒ‡å®šåˆ†æå‡½æ•°å·¥ä½œçš„æ•°æ®çª—å£å¤§å°ï¼Œè¿™ä¸ªæ•°æ®çª—å£å¤§å°å¯èƒ½ä¼šéšç€è¡Œçš„å˜è€Œå˜</span><br></pre></td></tr></table></figure><h4 id="æŸ¥è¯¢åœ¨-2017-å¹´-4-æœˆä»½è´­ä¹°è¿‡çš„é¡¾å®¢åŠæ€»äººæ•°">æŸ¥è¯¢åœ¨ 2017 å¹´ 4 æœˆä»½è´­ä¹°è¿‡çš„é¡¾å®¢åŠæ€»äººæ•°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select name,count(*) over () </span><br><span class="line">from business</span><br><span class="line">where substring(orderdate,1,7) = &#x27;2017-04&#x27; --ç­›é€‰orderdateè¿™ä¸€åˆ—å‰1-7çš„å­—ç¬¦ä¸²ä¸º2017-04çš„</span><br><span class="line">group by name; --æŒ‰ç…§nameåˆ†ç»„</span><br></pre></td></tr></table></figure><h4 id="æŸ¥è¯¢é¡¾å®¢çš„è´­ä¹°æ˜ç»†åŠæœˆè´­ä¹°æ€»é¢">æŸ¥è¯¢é¡¾å®¢çš„è´­ä¹°æ˜ç»†åŠæœˆè´­ä¹°æ€»é¢</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select name,orderdate,cost,sum(cost) --åˆ†åŒºå†…costçš„å’Œ</span><br><span class="line">over(partition by month(orderdate)) --æŒ‰ç…§orderdateæœˆä»½åˆ†åŒº</span><br><span class="line">from business;</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹é¡¾å®¢ä¸Šæ¬¡çš„è´­ä¹°æ—¶é—´æˆ–è€…ä¸‹æ¬¡è´­ä¹°æ—¶é—´">æŸ¥çœ‹é¡¾å®¢ä¸Šæ¬¡çš„è´­ä¹°æ—¶é—´æˆ–è€…ä¸‹æ¬¡è´­ä¹°æ—¶é—´</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">select name,orderdate,cost,</span><br><span class="line">lag(orderdate,1,&#x27;1900-01-01&#x27;) over(partition by name order by orderdate ) as time1 --ä¸Šæ¬¡è´­ä¹°æ—¶é—´ lagç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å¦‚æœ ä¸ºnull æ”¹æˆ1900 01 01</span><br><span class="line">from business;</span><br></pre></td></tr></table></figure><h3 id="Rank"><strong>Rank</strong></h3><p>æ¡ˆä¾‹ç›´è§‚çš„æ„Ÿå—ä¸‰è€…çš„åŒºåˆ«</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">RANK</span><span class="params">()</span></span> æ’åºç›¸åŒæ—¶ä¼šé‡å¤ï¼Œæ€»æ•°ä¸ä¼šå˜</span><br><span class="line"><span class="function"><span class="title">DENSE_RANK</span><span class="params">()</span></span> æ’åºç›¸åŒæ—¶ä¼šé‡å¤ï¼Œæ€»æ•°ä¼šå‡å°‘</span><br><span class="line"><span class="function"><span class="title">ROW_NUMBER</span><span class="params">()</span></span> ä¼šæ ¹æ®é¡ºåºè®¡ç®—</span><br></pre></td></tr></table></figure><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">rank</span><br><span class="line">å®‹å®‹è‹±è¯­841</span><br><span class="line">å¤§æµ·è‹±è¯­841</span><br><span class="line">å©·å©·è‹±è¯­783</span><br><span class="line">å­™æ‚Ÿç©ºè‹±è¯­684</span><br><span class="line">dense<span class="emphasis">_rank</span></span><br><span class="line"><span class="emphasis">å®‹å®‹è‹±è¯­841</span></span><br><span class="line"><span class="emphasis">å¤§æµ·è‹±è¯­841</span></span><br><span class="line"><span class="emphasis">å©·å©·è‹±è¯­782</span></span><br><span class="line"><span class="emphasis">å­™æ‚Ÿç©ºè‹±è¯­683</span></span><br><span class="line"><span class="emphasis">row_</span>Number</span><br><span class="line">å®‹å®‹è‹±è¯­841</span><br><span class="line">å¤§æµ·è‹±è¯­842</span><br><span class="line">å©·å©·è‹±è¯­783</span><br><span class="line">å­™æ‚Ÿç©ºè‹±è¯­684</span><br></pre></td></tr></table></figure><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-9">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>Hiveå¸¸ç”¨çš„æ—¥æœŸ å­—ç¬¦ä¸² é›†åˆçš„æ–¹æ³• ä»¥åŠæ¡ˆä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">å¸¸ç”¨æ—¥æœŸå‡½æ•°</span><br><span class="line">unix_timestamp:è¿”å›å½“å‰æˆ–æŒ‡å®šæ—¶é—´çš„æ—¶é—´æˆ³</span><br><span class="line">select unix_timestamp();</span><br><span class="line">select unix_timestamp(&quot;2020-10-28&quot;,&#x27;yyyy-MM-dd&#x27;);</span><br><span class="line"></span><br><span class="line">from_unixtimeï¼šå°†æ—¶é—´æˆ³è½¬ä¸ºæ—¥æœŸæ ¼å¼</span><br><span class="line">select from_unixtime(1603843200);</span><br><span class="line"></span><br><span class="line">current_dateï¼šå½“å‰æ—¥æœŸ</span><br><span class="line">select current_date;</span><br><span class="line"></span><br><span class="line">current_timestampï¼šå½“å‰çš„æ—¥æœŸåŠ æ—¶é—´</span><br><span class="line">select current_timestamp;</span><br><span class="line"></span><br><span class="line">to_dateï¼šæŠ½å–æ—¥æœŸéƒ¨åˆ†</span><br><span class="line">select to_date(&#x27;2020-10-28 12:12:12&#x27;);</span><br><span class="line"></span><br><span class="line">yearï¼šè·å–å¹´</span><br><span class="line">select year(&#x27;2020-10-28 12:12:12&#x27;);</span><br><span class="line"></span><br><span class="line">monthï¼šè·å–æœˆ</span><br><span class="line">select month(&#x27;2020-10-28 12:12:12&#x27;);</span><br><span class="line"></span><br><span class="line">dayï¼šè·å–æ—¥</span><br><span class="line">select day(&#x27;2020-10-28 12:12:12&#x27;);</span><br><span class="line"></span><br><span class="line">hourï¼šè·å–æ—¶</span><br><span class="line">select hour(&#x27;2020-10-28 12:12:12&#x27;);</span><br><span class="line"></span><br><span class="line">minuteï¼šè·å–åˆ†</span><br><span class="line">select minute(&#x27;2020-10-28 12:12:12&#x27;);</span><br><span class="line"></span><br><span class="line">secondï¼šè·å–ç§’</span><br><span class="line">select second(&#x27;2020-10-28 12:12:12&#x27;);</span><br><span class="line"></span><br><span class="line">weekofyearï¼šå½“å‰æ—¶é—´æ˜¯ä¸€å¹´ä¸­çš„ç¬¬å‡ å‘¨</span><br><span class="line">select weekofyear(&#x27;2020-10-28 12:12:12&#x27;);</span><br><span class="line"></span><br><span class="line">dayofmonthï¼šå½“å‰æ—¶é—´æ˜¯ä¸€ä¸ªæœˆä¸­çš„ç¬¬å‡ å¤©</span><br><span class="line">select dayofmonth(&#x27;2020-10-28 12:12:12&#x27;);</span><br><span class="line"></span><br><span class="line">months_betweenï¼š ä¸¤ä¸ªæ—¥æœŸé—´çš„æœˆä»½</span><br><span class="line">select months_between(&#x27;2020-04-01&#x27;,&#x27;2020-10-28&#x27;);</span><br><span class="line"></span><br><span class="line">add_monthsï¼šæ—¥æœŸåŠ å‡æœˆ</span><br><span class="line">select add_months(&#x27;2020-10-28&#x27;,-3);</span><br><span class="line"></span><br><span class="line">datediffï¼šä¸¤ä¸ªæ—¥æœŸç›¸å·®çš„å¤©æ•°</span><br><span class="line">select datediff(&#x27;2020-11-04&#x27;,&#x27;2020-10-28&#x27;);</span><br><span class="line"></span><br><span class="line">date_addï¼šæ—¥æœŸåŠ å¤©æ•°</span><br><span class="line">select date_add(&#x27;2020-10-28&#x27;,4);</span><br><span class="line"></span><br><span class="line">date_subï¼šæ—¥æœŸå‡å¤©æ•°</span><br><span class="line">select date_sub(&#x27;2020-10-28&#x27;,-4);</span><br><span class="line"></span><br><span class="line">last_dayï¼šæ—¥æœŸçš„å½“æœˆçš„æœ€åä¸€å¤©</span><br><span class="line">select last_day(&#x27;2020-02-30&#x27;);</span><br><span class="line"></span><br><span class="line">date_format(): æ ¼å¼åŒ–æ—¥æœŸ</span><br><span class="line">select date_format(&#x27;2020-10-28 12:12:12&#x27;,&#x27;yyyy/MM/dd HH:mm:ss&#x27;);</span><br><span class="line"></span><br><span class="line">å¸¸ç”¨å–æ•´å‡½æ•°</span><br><span class="line">roundï¼š å››èˆäº”å…¥</span><br><span class="line">select round(3.14);</span><br><span class="line">select round(3.54);</span><br><span class="line"></span><br><span class="line">ceilï¼š  å‘ä¸Šå–æ•´</span><br><span class="line">select ceil(3.14);</span><br><span class="line">select ceil(3.54);</span><br><span class="line"></span><br><span class="line">floorï¼š å‘ä¸‹å–æ•´</span><br><span class="line">select floor(3.14);</span><br><span class="line">select floor(3.54);</span><br><span class="line"></span><br><span class="line">å¸¸ç”¨å­—ç¬¦ä¸²æ“ä½œå‡½æ•°</span><br><span class="line">upperï¼š è½¬å¤§å†™</span><br><span class="line">select upper(&#x27;low&#x27;);</span><br><span class="line"></span><br><span class="line">lowerï¼š è½¬å°å†™</span><br><span class="line">select lower(&#x27;low&#x27;);</span><br><span class="line"></span><br><span class="line">lengthï¼š é•¿åº¦</span><br><span class="line">select length(&quot;atguigu&quot;);</span><br><span class="line"></span><br><span class="line">trimï¼š  å‰åå»ç©ºæ ¼</span><br><span class="line">select trim(&quot; atguigu &quot;);</span><br><span class="line"></span><br><span class="line">lpadï¼š å‘å·¦è¡¥é½ï¼Œåˆ°æŒ‡å®šé•¿åº¦</span><br><span class="line">select lpad(&#x27;atguigu&#x27;,9,&#x27;g&#x27;);</span><br><span class="line"></span><br><span class="line">rpadï¼š  å‘å³è¡¥é½ï¼Œåˆ°æŒ‡å®šé•¿åº¦</span><br><span class="line">select rpad(&#x27;atguigu&#x27;,9,&#x27;g&#x27;);</span><br><span class="line"></span><br><span class="line">regexp_replaceï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç›®æ ‡å­—ç¬¦ä¸²ï¼ŒåŒ¹é…æˆåŠŸåæ›¿æ¢ï¼</span><br><span class="line">SELECT regexp_replace(&#x27;2020/10/25&#x27;, &#x27;/&#x27;, &#x27;-&#x27;);</span><br><span class="line"></span><br><span class="line">é›†åˆæ“ä½œ</span><br><span class="line">sizeï¼š é›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°</span><br><span class="line">select size(friends) from test3;</span><br><span class="line"></span><br><span class="line">map_keysï¼š è¿”å›mapä¸­çš„key</span><br><span class="line">select map_keys(children) from test3;</span><br><span class="line"></span><br><span class="line">map_values: è¿”å›mapä¸­çš„value</span><br><span class="line">select map_values(children) from test3;</span><br><span class="line"></span><br><span class="line">array_contains: åˆ¤æ–­arrayä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </span><br><span class="line">select array_contains(friends,&#x27;bingbing&#x27;) from test3;</span><br><span class="line"></span><br><span class="line">sort_arrayï¼š å°†arrayä¸­çš„å…ƒç´ æ’åº</span><br><span class="line">select sort_array(friends) from test3;</span><br><span class="line"></span><br><span class="line">grouping_set:å¤šç»´åˆ†æ</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-14">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ ä»»åŠ¡æ˜¯Hiveçš„å‡½æ•°éƒ¨åˆ†ï¼Œå…¶å®å°±æ˜¯äº†è§£Hiveä¸­å¯¹æ•°æ®å¤„ç†çš„å„ç§æ–¹å¼ï¼Œæœ‰ä¸€äº›å¤„ç†æ–¹å¼ï¼Œæœ‰ç‚¹åƒJavaä¸­çš„å‡ ä¸ªå‡½æ•°ï¼Œæ”¹äº†åå­—ã€‚å®é™…ä½œç”¨æ˜¯å·®ä¸å¤šçš„ï¼Œåˆç†ä½¿ç”¨å‡½æ•°ï¼Œå¯¹æ•°æ®å¤„ç†çš„æ•ˆç‡èƒ½æé«˜ä¸å°‘ã€‚è¿™äº›å‡½æ•°å¯¹æ•°æ®çš„ç­›é€‰å’Œè¿‡æ»¤ï¼Œåˆ©ç”¨å¥½åˆ†åŒºå’Œåˆ†ç»„åŠ æ’åºï¼Œèƒ½å¾ˆçµæ´»çš„å¯¹æ•°æ®å¤„ç†ã€‚ä»Šå¤©éš¾åº¦ç®€å•å§ï¼ŒåŸºæœ¬å…¨éƒ¨æŒæ¡äº†ï¼Œåˆ—è½¬è¡Œè¿™é‡Œæœ‰äº›å‡½æ•°æ²¡æœ‰å»å°è¯•è¿‡ï¼Œä¹Ÿæ²¡å‡ºBUGï¼Œå­¦ä¹ çŠ¶æ€ä¹Ÿä¸é”™ã€‚</p>]]></content>
    
    
    <summary type="html">å¤§æ•°æ®å­¦ä¹ â€”â€”Scalaã€hadoopã€Sparkã€SQL</summary>
    
    
    
    <category term="å·¥ä½œå®¤æœˆç¬”è®°" scheme="https://u7u7.top/categories/%E5%B7%A5%E4%BD%9C%E5%AE%A4%E6%9C%88%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="æœˆç¬”è®°" scheme="https://u7u7.top/tags/%E6%9C%88%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Scala" scheme="https://u7u7.top/tags/Scala/"/>
    
    <category term="Spark" scheme="https://u7u7.top/tags/Spark/"/>
    
    <category term="SQL" scheme="https://u7u7.top/tags/SQL/"/>
    
  </entry>
  
  <entry>
    <title>4-5æœˆç¬”è®°</title>
    <link href="https://u7u7.top/posts/22biji04.html"/>
    <id>https://u7u7.top/posts/22biji04.html</id>
    <published>2023-03-10T14:20:25.000Z</published>
    <updated>2023-03-25T14:21:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="4-1ç»§æ‰¿">4.1ç»§æ‰¿</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="ç»§æ‰¿">ç»§æ‰¿</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401151957747.png" alt="image-20220401151957747"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401152052168.png" alt="image-20220401152052168"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401152120684.png" alt="image-20220401152120684"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401152132497.png" alt="image-20220401152132497"></p><p>ç†è§£ç»§æ‰¿ä»£ç </p><p>Creature  ------- person---------Student</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Creature</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">breath</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;gggggggg&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">extends</span> <span class="title class_">Creature</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¦åƒé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¦ç¡è§‰&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    String major;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, String major)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.setAge(age);</span><br><span class="line">        <span class="built_in">this</span>.major = major;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    public void eat()&#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;è¦åƒé¥­&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    public void sleep()&#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;è¦ç¡è§‰&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¦å­¦ä¹ &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExtendsTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        p1.setAge(<span class="number">28</span>);</span><br><span class="line">        p1.name = <span class="string">&quot;æ±ªå¤§ä¸œ&quot;</span>;</span><br><span class="line">        p1.eat();</span><br><span class="line"></span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        student.setAge(<span class="number">18</span>);</span><br><span class="line">        System.out.println(student.getAge());</span><br><span class="line">        student.name = <span class="string">&quot;é‡‘å®ä¸‰&quot;</span>;</span><br><span class="line">        student.major = <span class="string">&quot;ç”µå·¥&quot;</span>;</span><br><span class="line">        student.eat();</span><br><span class="line">        student.study();</span><br><span class="line"></span><br><span class="line">        student.breath();</span><br><span class="line">        <span class="type">Creature</span> <span class="variable">creature</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Creature</span>();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç»§æ‰¿åœ†å’Œåœ†æŸ±">ç»§æ‰¿åœ†å’Œåœ†æŸ±</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> radius;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.radius = <span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getRadius</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRadius</span><span class="params">(<span class="type">double</span> radius)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.radius = radius;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findArea</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Math.PI * radius*radius;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cylinder</span> <span class="keyword">extends</span> <span class="title class_">Circle</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Cylinder</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.length =<span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getLength</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLength</span><span class="params">(<span class="type">double</span> length)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.length = length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findVolume</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//è°ƒç”¨ çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> findArea()*length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CylinderTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Cylinder</span> <span class="variable">cylinder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cylinder</span>();</span><br><span class="line">        cylinder.setRadius(<span class="number">2.1</span>);</span><br><span class="line">        cylinder.setLength(<span class="number">3.4</span>);</span><br><span class="line">        <span class="type">double</span> <span class="variable">volume</span>  <span class="operator">=</span> cylinder.findVolume();</span><br><span class="line">        System.out.println(<span class="string">&quot;åŠå¾„æ˜¯ï¼š&quot;</span> + cylinder.getRadius());</span><br><span class="line">        System.out.println(<span class="string">&quot;åœ†æŸ±çš„ä½“ç§¯æ˜¯ï¼š&quot;</span> + String.format(<span class="string">&quot;%.2f&quot;</span>,volume));</span><br><span class="line">        <span class="type">double</span> <span class="variable">area</span> <span class="operator">=</span> cylinder.findArea();</span><br><span class="line">        System.out.println(<span class="string">&quot;åœ†æŸ±çš„åº•é¢ç§¯æ˜¯ï¼š&quot;</span> + String.format(<span class="string">&quot;%.2f&quot;</span>,area));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é‡å†™"><strong>é‡å†™</strong></h3><p>è¿”å›å€¼æ˜¯çˆ¶ç±»çš„å­ç±» å­ç±»çš„æƒé™è¦å¤§äºçˆ¶ç±»</p><p>é‡å†™å°±æ˜¯å°†çˆ¶ç±»çš„æ–¹æ³•ï¼ŒåŒååŒå‚æ•°çš„ä¿®æ”¹</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401164551789.png" alt="image-20220401164551789"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401164911699.png" alt="image-20220401164911699"></p><p>é‡å†™ç»ƒä¹ é¢˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java5;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">        String name;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.name = name;</span><br><span class="line">            <span class="built_in">this</span>.age = age;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¦åƒé¥­&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">walk</span><span class="params">(<span class="type">int</span> distance)</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;èµ°è·¯èµ°äº†&quot;</span> + distance +<span class="string">&quot;å…¬é‡Œ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.age = age;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> age;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java5;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">        String major;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String major)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.major = major;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">majors</span><span class="params">()</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸“ä¸šæ˜¯&quot;</span> + major);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å­¦ç”Ÿåƒé¥­10åˆ†é’Ÿ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java6;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">KidsTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Kids</span> <span class="variable">someKid</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Kids</span>(<span class="number">13</span>);</span><br><span class="line">        someKid.printAge();</span><br><span class="line">        <span class="comment">//è®¾ç½®å±æ€§</span></span><br><span class="line">        someKid.setSalary(<span class="number">0</span>);</span><br><span class="line">        someKid.setSex(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        someKid.employed();</span><br><span class="line">        someKid.manOrWoman();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å››ç§è®¿é—®æƒé™">å››ç§è®¿é—®æƒé™</h3><p>privateå’Œpublic å¸¸ç”¨</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401182416540.png" alt="image-20220401182416540"></p><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>Personæ˜¯æˆ‘studentçš„çˆ¶ç±»ï¼Œè°ƒç”¨æ–¹æ³•æ—¶å€™ï¼Œè¯´æ²¡æ‰¾åˆ°ï¼Œçœ‹äº†ä¸€ä¼šï¼Œå‘ç°extendsåé¢çš„Personçš„java2é‡Œé¢çš„ä¸æ˜¯ä¸€ä¸ªåŒ…ï¼Œåå­—ä¸€æ ·ã€‚ Studentåœ¨java5é‡Œé¢ çˆ¶ç±»Person åœ¨javaé‡Œï¼Œå†™ç»§æ‰¿çš„æ—¶å€™ï¼Œimportæ˜¯java2ä¸­çš„persoã€‚</p><p><img src="https://docimg8.docs.qq.com/image/W3u65-dM-fZssYXo1Ssc0g.png?w=1110&amp;h=997" alt="img"></p><p><img src="https://docimg6.docs.qq.com/image/m0bulfQxDifnrHtRWiZE1g.png?w=596&amp;h=296" alt="img"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>æ— </p><h2 id="æ€»ç»“">æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ äº†æ–¹æ³•çš„é‡å†™ï¼Œäº†è§£äº†æ–¹æ³•çš„é‡å†™å’Œé‡æ„çš„åŒºåˆ«ï¼Œè¿˜æœ‰ç»§æ‰¿ï¼ŒåŸºæœ¬å’Œpythonä¸­ä¸€æ¨¡ä¸€æ ·ï¼Œå­¦èµ·æ¥ä¹Ÿç›¸å¯¹ç®€å•ï¼Œä»Šå¤©åªæœ‰ä¸‹åˆçš„å­¦ä¹ æ—¶é—´ï¼Œæ²¡æœ‰å»åšé¡¹ç›®ï¼Œåšäº†ä¸‹ç»ƒä¹ ï¼ŒæŠŠæ˜¨å¤©çš„é¡¹ç›®äºŒå·©å›ºäº†ä¸€ä¸‹ï¼Œå­¦ä¹ çŠ¶æ€ä¸é”™ï¼Œæ™šè‡ªä¹ è‡ªå·±è¯•ç€æ•²äº†ä¸€ä¸‹é¡¹ç›®äºŒã€‚ä»Šå¤©çš„å­¦ä¹ çŠ¶æ€æ»¡æ„äº†ã€‚</p><h1 id="4-2super-å¤šæ€">4.2super å¤šæ€</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-2">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-2">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="superçš„ä½¿ç”¨">superçš„ä½¿ç”¨</h3><p>é‡å†™çˆ¶ç±»çš„æ–¹æ³•</p><p>é‡å†™çˆ¶ç±»çš„å˜é‡</p><p>åœ¨å­ç±»çš„æ„é€ æ–¹æ³•ä¸­</p><p>superå’Œthiså·®ä¸å¤šï¼ŒthisæŒ‡è¯¥ç±» superæ˜¯çˆ¶ç±»</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401193102413.png" alt="image-20220401193102413"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220402085200335.png" alt="image-20220402085200335"></p><p>superç»ƒä¹ </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day14.superTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> <span class="number">411024</span>; <span class="comment">// èº«ä»½è¯</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Personæˆ‘è¿˜æ˜¯åœ¨çš„&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;äººè¦åƒé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">walk</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;äººèµ°è·¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day14.superTest;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    String major;</span><br><span class="line">    <span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> <span class="number">1002</span>; <span class="comment">//å­¦å·</span></span><br><span class="line">    <span class="comment">//  é»˜è®¤è°ƒç”¨äº†çˆ¶ç±»ç©ºå‚çš„æ„é€ å™¨</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String major)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.major = major;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, String major, <span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name, age);</span><br><span class="line">        <span class="built_in">this</span>.major = major;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­¦ç”Ÿè¦åƒè¥å…»é¤&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>.eat();</span><br><span class="line">        System.out.println(<span class="string">&quot;å­¦ç”Ÿå­¦ä¹ çŸ¥è¯†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;name = &quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot; age = &quot;</span> + age + <span class="string">&quot; id = &quot;</span> + <span class="built_in">super</span>.id);</span><br><span class="line">        System.out.println(<span class="string">&quot;name = &quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot; age = &quot;</span> + age + <span class="string">&quot; id = &quot;</span> + id);</span><br><span class="line">        System.out.println(<span class="string">&quot;name = &quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot; age = &quot;</span> + age + <span class="string">&quot; id = &quot;</span> + <span class="built_in">this</span>.id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day14.superTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">superTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç‰©è”ç½‘&quot;</span>);</span><br><span class="line">        student.name = <span class="string">&quot;æ±ªå¤§ä¸œ&quot;</span>;</span><br><span class="line">        student.show();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;****************************************&quot;</span>);</span><br><span class="line"></span><br><span class="line">        student.study();</span><br><span class="line">        student.eat();</span><br><span class="line">        System.out.println(<span class="string">&quot;****************************************&quot;</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;æ±ªå¤§ä¸œ&quot;</span>,<span class="number">28</span>,<span class="string">&quot;ç»ˆæä¸€ç­&quot;</span>,<span class="number">3</span>);</span><br><span class="line">        student1.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220402105403954.png" alt="image-20220402105403954"></p><h3 id="å¤šæ€">å¤šæ€</h3><p><strong>ç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œçœ‹å³è¾¹</strong></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220402105122306.png" alt="image-20220402105122306"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220402110826354.png" alt="image-20220402110826354"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day14.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Man</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="type">boolean</span> isSmoking;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">earnMoney</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç”·äººè´Ÿè´£å…»å®¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç”·äººåƒå¾—å¤š&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">walk</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;äººèµ°è·¯ éœ¸æ°”ä¾§æ¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day14.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;äººåƒé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">walk</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;äººèµ°è·¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day14.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Women</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="type">boolean</span> isBeauty;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">goShopping</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¥³äººå–œæ¬¢è´­ç‰©&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¥³äººåƒå¾—å°‘å‡è‚¥&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">walk</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¥³äººèµ°è·¯æ‹½&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day14.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        p1.eat();</span><br><span class="line">        <span class="type">Man</span> <span class="variable">man</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Man</span>();</span><br><span class="line">        man.eat();</span><br><span class="line">        man.age = <span class="number">25</span>;</span><br><span class="line">        man.earnMoney();</span><br><span class="line">        <span class="comment">//***************************</span></span><br><span class="line">        <span class="comment">//å¯¹è±¡çš„å¤šæ€æ€§ï¼š çˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡</span></span><br><span class="line">        System.out.println(<span class="string">&quot;****************&quot;</span>);</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Man</span>();</span><br><span class="line">        <span class="comment">//å¤šæ€çš„ä½¿ç”¨ï¼šå½“è°ƒç”¨å­çˆ¶ç±»åŒååŒå‚æ•°çš„æ–¹æ³•æ—¶ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯å­ç±»é‡å†™çš„æ–¹æ³• -- è™šæ‹Ÿæ–¹æ³•è°ƒç”¨</span></span><br><span class="line">        p2.eat();</span><br><span class="line">        p2.walk();</span><br><span class="line"><span class="comment">//        p2.earnMoney();  å­ç±»å’Œçˆ¶ç±»çš„æ–¹æ³•éƒ½æœ‰æ‰å¯ä»¥è°ƒç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-2">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>æ— </p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-2">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day14;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span>: CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span>: 2022/4/2 20:29</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">subject</span> &#123;</span><br><span class="line"><span class="comment">//    é¢˜ç›®ï¼šæ±‚1+2!+3!+â€¦+20!çš„å’Œ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">cc</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= cc;i++)&#123;</span><br><span class="line">            <span class="type">long</span> <span class="variable">Sum</span> <span class="operator">=</span> factorialSum(i);</span><br><span class="line">            sum += Sum;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(sum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­é˜¶ä¹˜</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">factorialSum</span><span class="params">(<span class="type">int</span> num)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> factorialSum(num-<span class="number">1</span>)*num;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-2">æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ äº†å¤šæ€å’Œsuperçš„æ–¹æ³•çš„ä½¿ç”¨ç­‰ï¼Œç†è§£äº†javaé¢å‘å¯¹è±¡ç»§æ‰¿çš„åŸºæœ¬æ–¹æ³•ï¼Œä»Šå¤©å­¦äº†ä¸€ä¸‹åˆï¼Œä¸»è¦æ˜¯éœ€è¦ç†è§£æ–¹æ³•çš„ä½¿ç”¨å’Œè°ƒç”¨å’Œæ¦‚å¿µæ‰æ˜¯é‡è¦çš„ï¼Œä»£ç æ¯”è¾ƒç®€å•ï¼Œæ•²çš„å‡ºæ¥ï¼Œä¹Ÿç†è§£ã€‚ä»Šå¤©å­¦ä¹ çŠ¶æ€ä¸é”™ã€‚</p><h1 id="4-6-å‘ä¸‹è½¬å‹-å’Œå¤šæ€æ€§">4.6 å‘ä¸‹è½¬å‹ å’Œå¤šæ€æ€§</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-3">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-3">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="å‘ä¸‹è½¬å‹å’Œinstanceofçš„ä½¿ç”¨">å‘ä¸‹è½¬å‹å’Œinstanceofçš„ä½¿ç”¨</h3><p>å‘ä¸‹è½¬å‹çš„ç†è§£</p><p>CSDNï¼š</p><p><a href="https://blog.csdn.net/weixin_28680865/article/details/114051478?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164984614616782184649911%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164984614616782184649911&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-4-114051478.142">https://blog.csdn.net/weixin_28680865/article/details/114051478?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164984614616782184649911%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164984614616782184649911&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-4-114051478.142</a></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220405190044531.png" alt="image-20220405190044531"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day14.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        p1.eat();</span><br><span class="line">        <span class="type">Man</span> <span class="variable">man</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Man</span>();</span><br><span class="line">        man.eat();</span><br><span class="line">        man.age = <span class="number">25</span>;</span><br><span class="line">        man.earnMoney();</span><br><span class="line">        <span class="comment">//***************************</span></span><br><span class="line">        <span class="comment">//å¯¹è±¡çš„å¤šæ€æ€§ï¼š çˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡</span></span><br><span class="line">        System.out.println(<span class="string">&quot;****************&quot;</span>);</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Man</span>();</span><br><span class="line">        <span class="comment">//å¤šæ€çš„ä½¿ç”¨ï¼šå½“è°ƒç”¨å­çˆ¶ç±»åŒååŒå‚æ•°çš„æ–¹æ³•æ—¶ï¼Œå®é™…æ‰§è¡Œçš„æ˜¯å­ç±»é‡å†™çš„æ–¹æ³• -- è™šæ‹Ÿæ–¹æ³•è°ƒç”¨</span></span><br><span class="line">        p2.eat();</span><br><span class="line">        p2.walk();</span><br><span class="line">        p2.name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line"><span class="comment">//        p2.earnMoney();  å­ç±»å’Œçˆ¶ç±»çš„æ–¹æ³•éƒ½æœ‰æ‰å¯ä»¥è°ƒç”¨</span></span><br><span class="line">        <span class="comment">//å‘ä¸‹è½¬å‹:å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br><span class="line">        <span class="comment">//å¦‚ä½•æ‰èƒ½è°ƒç”¨å­ç±»ç‰¹æœ‰çš„å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line">        <span class="type">Man</span> <span class="variable">m1</span> <span class="operator">=</span> (Man)p2;</span><br><span class="line">        m1.earnMoney();</span><br><span class="line">        m1.age = <span class="number">18</span>;</span><br><span class="line">        m1.isSmoking = <span class="literal">true</span>;</span><br><span class="line">        m1.show();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä½¿ç”¨å¼ºè½¬æ—¶å€™ï¼Œå¯èƒ½å‡ºç°ClassCastExceptionçš„å¼‚å¸¸</span></span><br><span class="line"><span class="comment">//        Women w1 = (Women) p2;</span></span><br><span class="line"><span class="comment">//        w1.goShopping();</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        instanceofå…³é”®å­—çš„ä½¿ç”¨</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        a instanceof A åˆ¤æ–­å¯¹è±¡aæ˜¯å¦æ˜¯ç±»Açš„å®ä¾‹ã€‚å¦‚æœæ˜¯ï¼Œè¿”å›true å¦‚æœä¸æ˜¯ è¿”å›falseã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">if</span> (p2 <span class="keyword">instanceof</span> Women)&#123;</span><br><span class="line">            <span class="type">Women</span> <span class="variable">w1</span> <span class="operator">=</span> (Women) p2;</span><br><span class="line">            w1.goShopping();</span><br><span class="line">            System.out.println(<span class="string">&quot;Women&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p2 <span class="keyword">instanceof</span> Man)&#123;</span><br><span class="line">            <span class="type">Man</span> <span class="variable">w2</span> <span class="operator">=</span> (Man) p2;</span><br><span class="line">            w2.earnMoney();</span><br><span class="line">            System.out.println(<span class="string">&quot;Man&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‘ä¸‹è½¬å‹çš„é—®é¢˜</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220405191149668.png" alt="image-20220405191149668"></p><h3 id="è°ƒç”¨æ–¹æ³•å’Œå±æ€§ç»ƒä¹ ">è°ƒç”¨æ–¹æ³•å’Œå±æ€§ç»ƒä¹ </h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220405191939912.png" alt="image-20220405191939912"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220405192040386.png" alt="image-20220405192040386"></p><h3 id="object">object</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220405195318555.png" alt="image-20220405195318555"></p><h3 id="å›é¡¾-çš„ä½¿ç”¨">å›é¡¾==çš„ä½¿ç”¨</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220406180659487.png" alt="image-20220406180659487"></p><h3 id="equalsçš„ä½¿ç”¨">equalsçš„ä½¿ç”¨</h3><p><strong>ä½¿ç”¨éœ€è¦é‡å†™</strong></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220406183243142.png" alt="image-20220406183243142"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day15.equal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyDateTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyDate</span> <span class="variable">myDate1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">14</span>,<span class="number">3</span>,<span class="number">1976</span>);</span><br><span class="line">        <span class="type">MyDate</span> <span class="variable">myDate2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">14</span>,<span class="number">3</span>,<span class="number">1976</span>);</span><br><span class="line">        <span class="keyword">if</span> (myDate1.equals(myDate2))&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;myDate1 is equal to myDate2&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;myDate1 is not equal to myDate2&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (myDate1 == myDate2)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;myDate1 == myDate2&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;myDate1 != myDate2&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyDate</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> day;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> month;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> year;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyDate</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyDate</span><span class="params">(<span class="type">int</span> day, <span class="type">int</span> month, <span class="type">int</span> year)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.day = day;</span><br><span class="line">        <span class="built_in">this</span>.month = month;</span><br><span class="line">        <span class="built_in">this</span>.year = year;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>  == o) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (o <span class="keyword">instanceof</span> MyDate)&#123;</span><br><span class="line">            <span class="type">MyDate</span> <span class="variable">myDate</span> <span class="operator">=</span> (MyDate) o;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.day == myDate.day &amp;&amp; <span class="built_in">this</span>.month == myDate.month &amp;&amp; <span class="built_in">this</span>.year == myDate.year;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç»ƒä¹ ">ç»ƒä¹ </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day15.equal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> day15.equal.Customer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EqualsTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">10.0</span>;</span><br><span class="line">        System.out.println(i == j);</span><br><span class="line">        System.out.println(j == d);</span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        System.out.println(i == c);</span><br><span class="line">        <span class="type">char</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">        <span class="type">char</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="number">65</span>;</span><br><span class="line">        System.out.println(c1 == c2);</span><br><span class="line">        <span class="type">String</span> <span class="variable">c3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;ada&quot;</span>);</span><br><span class="line">        System.out.println(c3);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¼•ç”¨ç±»å‹</span></span><br><span class="line">        <span class="type">Customer</span> <span class="variable">customer1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer</span>(<span class="string">&quot;Tom&quot;</span>,<span class="number">21</span>);</span><br><span class="line">        <span class="type">Customer</span> <span class="variable">customer2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer</span>(<span class="string">&quot;Tom&quot;</span>,<span class="number">21</span>);</span><br><span class="line">        System.out.println(customer1 == customer2);</span><br><span class="line">        <span class="type">String</span> <span class="variable">cust1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;ada&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">cust2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;ada&quot;</span>);</span><br><span class="line">        System.out.println(cust1== cust2);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;************************&quot;</span>);</span><br><span class="line">        System.out.println(customer1.equals(customer2)); <span class="comment">//false------true</span></span><br><span class="line">        System.out.println(cust1.equals(cust2)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day15.equal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Customer</span> <span class="variable">customer</span> <span class="operator">=</span> (Customer) o;</span><br><span class="line">        <span class="keyword">return</span> age == customer.age &amp;&amp; Objects.equals(name, customer.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="tostring">tostring</h3><p>ä½¿ç”¨æ—¶å€™ä¹Ÿä¼šé‡å†™</p><p>IDEAä¼šè‡ªåŠ¨å¸®ä½ é‡å†™ï¼Œçˆ¶ç±»Object çš„toString å‡ºæ¥çš„æ˜¯æ‰€æœ‰çš„å±æ€§</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220406193139785.png" alt="image-20220406193139785"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day15.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GeometricObject</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> String color;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">double</span> weight;</span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">GeometricObject</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.color = <span class="string">&quot;white&quot;</span>;</span><br><span class="line">        <span class="built_in">this</span>.weight = <span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">GeometricObject</span><span class="params">(String color, <span class="type">double</span> weight)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.color = color;</span><br><span class="line">        <span class="built_in">this</span>.weight = weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getColor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setColor</span><span class="params">(String color)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.color = color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getWeight</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setWeight</span><span class="params">(<span class="type">double</span> weight)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.weight = weight;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day15.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> day14.java2.Man;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_">GeometricObject</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> radius;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="built_in">this</span>.radius = <span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">(<span class="type">double</span> radius)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.radius = radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">(<span class="type">double</span> radius,String color,<span class="type">double</span> weight  )</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(color, weight);</span><br><span class="line">        <span class="built_in">this</span>.radius = radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getRadius</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRadius</span><span class="params">(<span class="type">double</span> radius)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.radius = radius;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findArea</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Math.PI * radius *radius;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (obj == <span class="built_in">this</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> Circle)&#123;</span><br><span class="line">            <span class="type">Circle</span> <span class="variable">circle</span> <span class="operator">=</span> (Circle) obj;</span><br><span class="line">            <span class="keyword">return</span> circle.findArea() == <span class="built_in">this</span>.findArea();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;åœ†çš„é¢ç§¯ï¼š&quot;</span> + findArea();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Test</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day15.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CircleTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Circle</span> <span class="variable">circle1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>(<span class="number">2.3</span>);</span><br><span class="line">        <span class="type">Circle</span> <span class="variable">circle2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>(<span class="number">2.3</span>, <span class="string">&quot;white&quot;</span>,<span class="number">2.0</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;é¢œè‰²æ˜¯å¦ç›¸ç­‰ ï¼š&quot;</span> + circle1.getColor().equals(circle2.getColor()));</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;é¢ç§¯æ˜¯å¦ç›¸ç­‰ï¼š &quot;</span> + circle1.equals(circle2));</span><br><span class="line">        System.out.println(circle1);</span><br><span class="line">        System.out.println(circle2.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-3">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>æš‚æ— </p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-3">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="final-finally-finalize-çš„åŒºåˆ«"><strong>final finally finalize çš„åŒºåˆ«</strong></h3><ul><li>finalç”¨äºå£°æ˜å±æ€§ï¼Œæ–¹æ³•å’Œç±»ï¼Œåˆ†åˆ«è¡¨ç¤ºå±æ€§ä¸å¯äº¤å˜ï¼Œæ–¹æ³•ä¸å¯è¦†ç›–ï¼Œç±»ä¸å¯ç»§æ‰¿ã€‚</li><li>finallyæ˜¯å¼‚å¸¸å¤„ç†è¯­å¥ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œè¡¨ç¤ºæ€»æ˜¯æ‰§è¡Œã€‚</li><li>finalizeæ˜¯Objectç±»çš„ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨åƒåœ¾æ”¶é›†å™¨æ‰§è¡Œçš„æ—¶å€™ä¼šè°ƒç”¨è¢«å›æ”¶å¯¹è±¡çš„æ­¤æ–¹æ³•ï¼Œä¾›åƒåœ¾æ”¶é›†æ—¶çš„å…¶ä»–èµ„æºå›æ”¶ï¼Œä¾‹å¦‚å…³é—­æ–‡ä»¶ç­‰ã€‚</li></ul><p>finalï¼šjavaä¸­çš„å…³é”®å­—ï¼Œä¿®é¥°ç¬¦ã€‚<br>A).å¦‚æœä¸€ä¸ªç±»è¢«å£°æ˜ä¸ºfinalï¼Œå°±æ„å‘³ç€å®ƒä¸èƒ½å†æ´¾ç”Ÿå‡ºæ–°çš„å­ç±»ï¼Œä¸èƒ½ä½œä¸ºçˆ¶ç±»è¢«ç»§æ‰¿ã€‚å› æ­¤ï¼Œä¸€ä¸ªç±»ä¸èƒ½åŒæ—¶è¢«å£°æ˜ä¸ºabstractæŠ½è±¡ç±»çš„å’Œfinalçš„ç±»ã€‚<br>B).å¦‚æœå°†å˜é‡æˆ–è€…æ–¹æ³•å£°æ˜ä¸ºfinalï¼Œå¯ä»¥ä¿è¯å®ƒä»¬åœ¨ä½¿ç”¨ä¸­ä¸è¢«æ”¹å˜.<br>ã€€ã€€1)è¢«å£°æ˜ä¸ºfinalçš„å˜é‡å¿…é¡»åœ¨å£°æ˜æ—¶ç»™å®šåˆå€¼ï¼Œè€Œåœ¨ä»¥åçš„å¼•ç”¨ä¸­åªèƒ½è¯»å–ï¼Œä¸å¯ä¿®æ”¹ã€‚<br>ã€€ã€€2)è¢«å£°æ˜finalçš„æ–¹æ³•åªèƒ½ä½¿ç”¨ï¼Œä¸èƒ½é‡è½½ã€‚<br>finallyï¼šjavaçš„ä¸€ç§å¼‚å¸¸å¤„ç†æœºåˆ¶ã€‚</p><p>finallyæ˜¯å¯¹Javaå¼‚å¸¸å¤„ç†æ¨¡å‹çš„æœ€ä½³è¡¥å……ã€‚finallyç»“æ„ä½¿ä»£ç æ€»ä¼šæ‰§è¡Œï¼Œè€Œä¸ç®¡æ— å¼‚å¸¸å‘ç”Ÿã€‚ä½¿ç”¨finallyå¯ä»¥ç»´æŠ¤å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ï¼Œå¹¶å¯ä»¥æ¸…ç†éå†…å­˜èµ„æºã€‚ç‰¹åˆ«æ˜¯åœ¨å…³é—­æ•°æ®åº“è¿æ¥è¿™æ–¹é¢ï¼Œå¦‚æœç¨‹åºå‘˜æŠŠæ•°æ®åº“è¿æ¥çš„close()æ–¹æ³•æ”¾åˆ°finallyä¸­ï¼Œå°±ä¼šå¤§å¤§é™ä½ç¨‹åºå‡ºé”™çš„å‡ ç‡ã€‚</p><p>finalizeï¼šJavaä¸­çš„ä¸€ä¸ªæ–¹æ³•åã€‚<br>JavaæŠ€æœ¯ä½¿ç”¨finalize()æ–¹æ³•åœ¨åƒåœ¾æ”¶é›†å™¨å°†å¯¹è±¡ä»å†…å­˜ä¸­æ¸…é™¤å‡ºå»å‰ï¼Œåšå¿…è¦çš„æ¸…ç†å·¥ä½œã€‚è¿™ä¸ªæ–¹æ³•æ˜¯ç”±åƒåœ¾æ”¶é›†å™¨åœ¨ç¡®å®šè¿™ä¸ªå¯¹è±¡æ²¡è¢«å¼•ç”¨æ—¶å¯¹è¿™ä¸ªå¯¹è±¡è°ƒç”¨çš„ã€‚å®ƒæ˜¯åœ¨Objectç±»ä¸­å®šä¹‰çš„ï¼Œå› æ­¤æ‰€çš„ç±»éƒ½ç»§æ‰¿äº†å®ƒã€‚å­ç±»è¦†ç›–finalize()æ–¹æ³•ä»¥æ•´ç†ç³»ç»Ÿèµ„æºæˆ–è€…æ‰§è¡Œå…¶ä»–æ¸…ç†å·¥ä½œã€‚finalize()æ–¹æ³•æ˜¯åœ¨åƒåœ¾æ”¶é›†å™¨åˆ é™¤å¯¹è±¡ä¹‹å‰å¯¹è¿™ä¸ªå¯¹è±¡è°ƒç”¨çš„ã€‚</p><h2 id="æ€»ç»“-3">æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ å­¦ä¹ éš¾åº¦ä¸€èˆ¬ï¼Œå­¦ä¹ éš¾ç‚¹åœ¨å¤šæ€çš„ç»ƒä¹ å’Œå‘ä¸‹è½¬å‹ï¼Œé‡å†™equalså’ŒtoStringæ–¹æ³•æ¯”è¾ƒå®¹æ˜“ã€‚ä»Šå¤©åªæŒæ¡äº†80%ï¼Œå­¦ä¹ æ­¥éª¤ï¼šå…ˆçœ‹è§†é¢‘ï¼Œå‘ä¸‹è½¬å‹æ˜¯æœ‰ç‚¹éš¾åº¦çš„ï¼Œåˆå»çœ‹äº†åšå®¢ï¼Œæ•²äº†å‡ éä»£ç ï¼Œå†å»ç†è§£ã€‚ä»Šå¤©åªå­¦äº†æ™šè‡ªä¹ ï¼Œæ‰€ä»¥ä»Šå¤©æ•²äº†7ä¸ªä»£ç å·¦å³å§ã€‚å­¦ä¹ çŠ¶æ€è‰¯å¥½ï¼Œæ™šè‡ªä¹ å®‰é™ï¼Œé™çš„ä¸‹å¿ƒæ¥æ‰“ä»£ç ã€‚</p><h1 id="4-7å•å…ƒæµ‹è¯•-åŒ…è£…ç±»">4.7å•å…ƒæµ‹è¯• åŒ…è£…ç±»</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-4">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-4">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="å•å…ƒæµ‹è¯•">å•å…ƒæµ‹è¯•</h3><p>@Testæ–¹ä¾¿è‡ªå·±çš„æµ‹è¯•ï¼Œä¸éœ€è¦å†åˆ›å»ºä¸€ä¸ªmainæµ‹è¯•æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day16;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JUnitTest</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">textEquals</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;AAAA&quot;</span>);</span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢ä¸ºåŒ…è£…ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day16;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span></span></span><br><span class="line"><span class="comment"> * WrapperTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/7 19:06</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WrapperTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="comment">//        System.out.println(num.toString());</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(num);</span><br><span class="line">        System.out.println(integer.toString());</span><br><span class="line"></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">        System.out.println(integer2.toString());</span><br><span class="line"></span><br><span class="line"><span class="comment">//        Integer integer3 = new Integer(&quot;132abc&quot;);</span></span><br><span class="line"><span class="comment">//        System.out.println(integer3.toString());</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Float</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Float</span>(<span class="number">12.3f</span>);</span><br><span class="line">        <span class="type">Float</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Float</span>(<span class="string">&quot;12.3f&quot;</span>);</span><br><span class="line">        System.out.println(f1);</span><br><span class="line">        System.out.println(f2);</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è‡ªåŠ¨è£…ç®±è‡ªåŠ¨æ‹†ç®±">è‡ªåŠ¨è£…ç®±è‡ªåŠ¨æ‹†ç®±</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day16;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span></span></span><br><span class="line"><span class="comment"> * WrapperTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/7 19:06</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WrapperTest</span> &#123;</span><br><span class="line">    <span class="comment">//åŸºæœ¬æ•°æ® -----åŒ…è£…ç±»</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="comment">//        System.out.println(num.toString());</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(num);</span><br><span class="line">        System.out.println(integer.toString());</span><br><span class="line"></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">integer2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">        System.out.println(integer2.toString());</span><br><span class="line"></span><br><span class="line"><span class="comment">//        Integer integer3 = new Integer(&quot;132abc&quot;);</span></span><br><span class="line"><span class="comment">//        System.out.println(integer3.toString());</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Float</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Float</span>(<span class="number">12.3f</span>);</span><br><span class="line">        <span class="type">Float</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Float</span>(<span class="string">&quot;12.3f&quot;</span>);</span><br><span class="line">        System.out.println(f1);</span><br><span class="line">        System.out.println(f2);</span><br><span class="line"></span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boolean</span>(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boolean</span>(<span class="string">&quot;true&quot;</span>);</span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">b3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boolean</span>(<span class="string">&quot;true123&quot;</span>);<span class="comment">//false ä¸æŠ¥é”™</span></span><br><span class="line">        System.out.println(b1);</span><br><span class="line">        System.out.println(b2);</span><br><span class="line">        System.out.println(b3);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;***************&quot;</span>);</span><br><span class="line">        <span class="type">Order</span> <span class="variable">order</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Order</span>();</span><br><span class="line">        System.out.println(order.isFemale);</span><br><span class="line">        System.out.println(order.isMale);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŒ…è£…ç±» -------- åŸºæœ¬æ•°æ®ç±»å‹</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">text2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">in1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">123</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> in1.intValue();</span><br><span class="line">        System.out.println(i1 + <span class="number">85</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">text3</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="comment">//        int num1 = 30;</span></span><br><span class="line"><span class="comment">//        method(num1);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//è‡ªåŠ¨è£…ç®±</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">num2</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">in2</span> <span class="operator">=</span> num2;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">b2</span> <span class="operator">=</span> b1;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//æ‹†ç®±</span></span><br><span class="line">        System.out.println(in2.toString());</span><br><span class="line">        <span class="type">int</span> <span class="variable">num3</span> <span class="operator">=</span> in2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">(Object obj)</span>&#123;</span><br><span class="line">        System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Order</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> isMale;</span><br><span class="line">    Boolean isFemale;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åŸºæœ¬ç±»å’ŒåŒ…è£…ç±»å¯¹Stringè½¬æ¢">åŸºæœ¬ç±»å’ŒåŒ…è£…ç±»å¯¹Stringè½¬æ¢</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹è½¬æ¢ä¸ºString</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">text4</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">num1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="comment">//æ–¹å¼ä¸€è¿æ¥è¿ç®—</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> num1 + <span class="string">&quot;&quot;</span>;</span><br><span class="line">    System.out.println(str1);</span><br><span class="line">    <span class="comment">//æ–¹å¼äºŒ è°ƒç”¨Stringçš„valueOf</span></span><br><span class="line">    <span class="type">float</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="number">12.3f</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> String.valueOf(f1);</span><br><span class="line">    System.out.println(str2);</span><br><span class="line"></span><br><span class="line">    <span class="type">Double</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="number">12.4</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> String.valueOf(d1);</span><br><span class="line">    System.out.println(str3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-4">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>è½¬ä»€ä¹ˆç±»å‹é‡Œé¢è¦æ˜¯ä»€ä¹ˆç»“æ„çš„ï¼ŒInteger é‡Œé¢è¦æ˜¯æ•°å­—æ‰å¯ä»¥è½¬æ¢ã€‚æˆ‘&quot;&quot;é‡Œé¢æ˜¯ä¸€ä¸ªå­—ç¬¦å‹.</p><p><img src="https://docimg8.docs.qq.com/image/vgMwEHVTZTqbPziofic3vQ.png?w=1432&amp;h=801" alt="img"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-4">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220407195309108.png" alt="image-20220407195309108"></p><h2 id="æ€»ç»“-4">æ€»ç»“</h2><p>ä»Šå¤©åªå­¦äº†ä¸€ä¸ªæ™šè‡ªä¹ çš„æ—¶é—´å­¦ä¹ éš¾ç‚¹åœ¨åŒ…è£…ç±»ä¹‹å‰çš„è½¬æ¢å†™æ³•ï¼Œåé¢å‘ç°æœ‰è‡ªåŠ¨çš„æ–¹æ³• å°±ç®€å•ç†è§£å¾ˆå¤š,ä¼šä½¿ç”¨äº†å•å…ƒæµ‹è¯• å°±ä¸ç”¨æ¯æ¬¡å†™ä¸€ä¸ªmainçš„ä¸»ç¨‹åºå»æµ‹è¯•ä»£ç äº†ï¼Œå¾ˆæ–¹ä¾¿ã€‚ä»Šå¤©æŒæ¡äº†90%ï¼Œå­¦ä¹ æ­¥éª¤ï¼šå…ˆçœ‹è§†é¢‘ï¼Œï¼Œæ•²äº†å‡ éä»£ç ï¼Œå†å»ç†è§£ã€‚ä»Šå¤©æ•²äº†5ä¸ªä»£ç å·¦å³å§ï¼ŒåŸºæœ¬ç±»å‹ åŒ…è£…ç±» Stringè½¬æ¢éƒ½ä¼šäº†ã€‚ä»Šå¤©çš„å­¦ä¹ ä»»åŠ¡æ¯”è¾ƒè½»æ¾ã€‚</p><h1 id="4-8é¢å‘å¯¹è±¡ä¸‹">4.8é¢å‘å¯¹è±¡ä¸‹</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-5">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-5">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="é™æ€static">é™æ€static</h3><p>é™æ€ ç±».æ–¹æ³•è°ƒç”¨æ–¹æ³•</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220408150319709.png" alt="image-20220408150319709"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220408150303257.png" alt="image-20220408150303257"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220408155345136.png" alt="image-20220408155345136"></p><h4 id="é™æ€å±æ€§å’Œé™æ€æ–¹æ³•çš„åŸºæœ¬ä½¿ç”¨">é™æ€å±æ€§å’Œé™æ€æ–¹æ³•çš„åŸºæœ¬ä½¿ç”¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">staticTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Chinese.nation = <span class="string">&quot;ä¸­å›½äºº&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">Chinese</span> <span class="variable">chinese1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Chinese</span>();</span><br><span class="line">        chinese1.name = <span class="string">&quot;æ±ªå¤§ä¸œ&quot;</span>;</span><br><span class="line">        chinese1.age = <span class="number">28</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">Chinese</span> <span class="variable">chinese2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Chinese</span>();</span><br><span class="line">        chinese2.name = <span class="string">&quot;é‡‘å®ä¸‰&quot;</span>;</span><br><span class="line">        chinese2.age = <span class="number">34</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">Chinese</span> <span class="variable">chinese3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Chinese</span>();</span><br><span class="line">        chinese3.name = <span class="string">&quot;æ—ä¸¹&quot;</span>;</span><br><span class="line">        chinese3.age = <span class="number">32</span>;</span><br><span class="line"></span><br><span class="line">        Chinese.show();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Chinese</span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">static</span> String nation;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘è¦åƒé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æ˜¯ä¸€ä¸ªä¸­å›½äººï¼&quot;</span>);</span><br><span class="line">        <span class="comment">//ä¸èƒ½è°ƒç”¨éé™æ€ç»“æ„</span></span><br><span class="line"><span class="comment">//        eat();</span></span><br><span class="line"><span class="comment">//        name = &quot;Tom&quot;;</span></span><br><span class="line">        System.out.println(Chinese.nation);</span><br><span class="line">        walk();</span><br><span class="line">        System.out.println(<span class="string">&quot;nation :ã€€&quot;</span>+ nation);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">walk</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;èµ°è·¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">info</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;name = &quot;</span> + name + <span class="string">&quot; age = &quot;</span> + age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é™æ€çš„ä½¿ç”¨åœºæ™¯">é™æ€çš„ä½¿ç”¨åœºæ™¯</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220408160045147.png" alt="image-20220408160045147"></p><h4 id="ç»ƒä¹ -2">ç»ƒä¹ </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day17;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> circleTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/8 16:09</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">circleTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Circle</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>();</span><br><span class="line">        <span class="type">Circle</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>();</span><br><span class="line">        <span class="type">Circle</span> <span class="variable">c3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>(<span class="number">2.0</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;c1 çš„ id æ˜¯ &quot;</span> + c1.getId());</span><br><span class="line">        System.out.println(<span class="string">&quot;c2 çš„ id æ˜¯ &quot;</span> + c2.getId());</span><br><span class="line">        System.out.println(<span class="string">&quot;c3 çš„ id æ˜¯ &quot;</span> + c3.getId());</span><br><span class="line">        System.out.println(<span class="string">&quot;c3 çš„é¢ç§¯æ˜¯ : &quot;</span> +c3.findArea());</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ›å»ºåœ†çš„ä¸ªæ•°&quot;</span> + Circle.getTotal());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> radius;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">()</span>&#123;</span><br><span class="line">        id = ++init;</span><br><span class="line">        total++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">(<span class="type">double</span> radius)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>();</span><br><span class="line">        <span class="built_in">this</span>.radius = radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> total; <span class="comment">//è®°å½•åœ†çš„ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">init</span> <span class="operator">=</span> <span class="number">1000</span>; <span class="comment">//staticå£°æ˜çš„å±æ€§è¢«æ‰€æœ‰å¯¹è±¡å…±æœ‰</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">findArea</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> String.format(<span class="string">&quot;%.2f&quot;</span>,Math.PI * radius * radius);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getTotal</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> total;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é™æ€ç»ƒä¹ ">é™æ€ç»ƒä¹ </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Account</span> <span class="variable">account1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>();</span><br><span class="line">        <span class="type">Account</span> <span class="variable">account2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="string">&quot;qwerty&quot;</span>,<span class="number">2000</span>);</span><br><span class="line">        account2.setBalance(<span class="number">500</span>);</span><br><span class="line">        account2.setBalance(<span class="number">0.1</span>);</span><br><span class="line">        Account.setInterestRate(<span class="number">0.035</span>);</span><br><span class="line">        account2.setId(<span class="number">1119</span>);</span><br><span class="line">        account2.setPassword(<span class="string">&quot;sjh0802&quot;</span>);</span><br><span class="line">        System.out.println(account1);</span><br><span class="line">        System.out.println(account2);</span><br><span class="line">        System.out.println(account2.show());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Account</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id; <span class="comment">//è´¦å·</span></span><br><span class="line">    <span class="keyword">private</span>  <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;000000&quot;</span>; <span class="comment">//å¯†ç </span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> balance; <span class="comment">//è´¦æˆ·ä½™é¢</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> interestRate;  <span class="comment">//åˆ©ç‡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="variable">minMoney</span> <span class="operator">=</span> <span class="number">1.0</span>;  <span class="comment">// æœ€å°ä½™é¢</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">init</span> <span class="operator">=</span> <span class="number">1001</span>; <span class="comment">// è‡ªåŠ¨ç”Ÿæˆid</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;è´¦æˆ· :ã€€&quot;</span>+ getId() + <span class="string">&quot; è´¦æˆ·ä½™é¢ :ã€€&quot;</span>+ getBalance() + <span class="string">&quot;  åˆ©ç‡ : &quot;</span> + getInterestRate();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.id = init++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(String password,<span class="type">int</span> balance)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>();</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">        <span class="built_in">this</span>.balance = balance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getBalance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> balance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">getInterestRate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> interestRate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¿®æ”¹è´¦æˆ·ä¸º&quot;</span> + id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPassword</span><span class="params">(String password)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.password = password;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¿®æ”¹å¯†ç &quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">setInterestRate</span><span class="params">(<span class="type">double</span> interestRate)</span> &#123;</span><br><span class="line">        Account.interestRate = interestRate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBalance</span><span class="params">(<span class="type">double</span> balance)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (balance &gt;= minMoney) &#123;</span><br><span class="line">            <span class="built_in">this</span>.balance += balance;</span><br><span class="line">            System.out.println(<span class="string">&quot;å­˜é’±æˆåŠŸ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æœ€å°ä½™é¢æ˜¯:ã€€&quot;</span>+ minMoney + <span class="string">&quot;---------è¯·é‡æ–°è¾“å…¥!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Account&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, password=&#x27;&quot;</span> + password + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, balance=&quot;</span> + balance +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»å˜é‡-é™æ€å˜é‡å†…å­˜è§£æ">ç±»å˜é‡ é™æ€å˜é‡å†…å­˜è§£æ</h3><p>é™æ€å±æ€§å…±ç”¨ï¼Œå¯¹è±¡ä¿®æ”¹ä¼šå˜</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220408151153196.png" alt="image-20220408151153196"></p><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-5">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>æš‚æ— </p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-5">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="æˆç»©è®¡ç®—">æˆç»©è®¡ç®—</h3><p>Vectorå˜åŒ–æ•°ç»„ä½¿ç”¨ åŒ…è£…ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ScoreTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//æœ€å¤§å€¼</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">maxNum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//1.å®ä¾‹åŒ–Scanner é”®ç›˜è·å–æˆç»©</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.å®ä¾‹åŒ–Vectorå¯¹è±¡ ç›¸å½“äºé•¿åº¦å¯å˜çš„æ•°ç»„ Vector v = new vector();</span></span><br><span class="line">        Vector&lt;Integer&gt; v  = <span class="keyword">new</span> <span class="title class_">Vector</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.å¾ªç¯çš„æ–¹å¼ ç»™Vectorä¸­æ·»åŠ æ•°æ®</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·è¾“å…¥å­¦ç”Ÿçš„æˆç»© ï¼ˆè´Ÿæ•°ç»“æŸ)&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">score</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">            <span class="keyword">if</span> (score &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;ç»“æŸè¾“å…¥.............&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//3.2å½“è¾“å…¥è´Ÿæ•°è·³å‡ºå¾ªç¯</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (score &gt; <span class="number">100</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;è¾“å…¥æ•°æ®éæ³•é‡æ–°è¾“å…¥&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//3.1æ·»åŠ æ“ä½œ v.addElement(Object obj)</span></span><br><span class="line">                v.addElement(score);</span><br><span class="line">                <span class="comment">//4.è·å–æˆç»©æœ€å¤§å€¼</span></span><br><span class="line">                <span class="keyword">if</span> (score &gt;= maxNum) &#123;</span><br><span class="line">                    maxNum = score;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//5.éå†Vector å¾—åˆ°æ¯ä¸ªå­¦ç”Ÿçš„æˆç»©ï¼Œå¹¶ä¸æœ€å¤§æˆç»©æ¯”è¾ƒï¼Œå¾—åˆ°æ¯ä¸ªå­¦ç”Ÿçš„ç­‰çº§ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; v.size();i++)&#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">object</span> <span class="operator">=</span> v.elementAt(i);</span><br><span class="line">            <span class="type">int</span> <span class="variable">score1</span> <span class="operator">=</span> (<span class="type">int</span>) object;</span><br><span class="line">            String level;</span><br><span class="line">            <span class="keyword">if</span> (maxNum-<span class="number">10</span> &lt;= score1)&#123;</span><br><span class="line">                level = <span class="string">&quot;A&quot;</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (maxNum-<span class="number">20</span> &lt;= score1)&#123;</span><br><span class="line">                level = <span class="string">&quot;B&quot;</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>  <span class="keyword">if</span> (maxNum-<span class="number">30</span> &lt;= score1)&#123;</span><br><span class="line">                level = <span class="string">&quot;C&quot;</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                level = <span class="string">&quot;D&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;Student &quot;</span> + (i+<span class="number">1</span>) + <span class="string">&quot;  score is &quot;</span> + score1 + <span class="string">&quot;, level : &quot;</span> + level);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-5">æ€»ç»“</h2><p>ä»Šå¤©ä¸»è¦æ˜¯å¼€å§‹äº†é¢å‘å¯¹è±¡ä¸‹çš„å†…å®¹ï¼Œå­¦ä¹ äº†é™æ€ã€‚ä»Šå¤©æ˜¯å­¦çš„ä¸€ä¸‹åˆçš„æ—¶é—´ï¼Œå°†æ‰€æœ‰é™æ€çš„çŸ¥è¯†çœ‹å®Œäº†ï¼Œè¿˜æ˜¯è›®å®¹æ˜“ç†è§£çš„ï¼Œé™æ€å˜é‡å†…å­˜ææ‡‚ï¼Œé™æ€è¿™æ–¹é¢å°±æ²¡ä»€ä¹ˆé—®é¢˜äº†ï¼Œå­¦ä¹ çŠ¶æ€è¿˜ä¸é”™ã€‚</p><h1 id="4-10å•ä¾‹è®¾è®¡æ¨¡å¼">4.10å•ä¾‹è®¾è®¡æ¨¡å¼</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-6">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-6">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="å•ä¾‹è®¾è®¡æ¨¡å¼">å•ä¾‹è®¾è®¡æ¨¡å¼</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220409110845965.png" alt="image-20220409110845965"></p><h4 id="ä¼˜ç‚¹">ä¼˜ç‚¹</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220409120534141.png" alt="image-20220409120534141"></p><h4 id="æ‡’æ±‰å¼VSé¥¿æ±‰å¼">æ‡’æ±‰å¼VSé¥¿æ±‰å¼</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220409120157206.png" alt="image-20220409120157206"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingletonTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Bank</span> <span class="variable">bank1</span> <span class="operator">=</span> Bank.getInstance();</span><br><span class="line">        <span class="type">Bank</span> <span class="variable">bank2</span> <span class="operator">=</span> Bank.getInstance();</span><br><span class="line">        System.out.println(bank1 == bank2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é¥¿æ±‰å¼</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bank</span>&#123;</span><br><span class="line">    <span class="comment">//1.ç§æœ‰åŒ–æ„é€ å™¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Bank</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//2.åˆ›å»ºç±»çš„å¯¹è±¡</span></span><br><span class="line">    <span class="comment">//è¦æ±‚æ­¤å¯¹è±¡ä¹Ÿå¿…é¡»æ˜¯é™æ€çš„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  <span class="type">Bank</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bank</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3.æä¾›å…¬å…±çš„æ–¹æ³•ï¼Œè¿”å›ç±»çš„å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Bank <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‡’æ±‰å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingletonTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Order</span> <span class="variable">order1</span> <span class="operator">=</span> Order.getInstance();</span><br><span class="line">        <span class="type">Order</span> <span class="variable">order2</span> <span class="operator">=</span> Order.getInstance();</span><br><span class="line">        System.out.println(order1 == order2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Order</span> &#123;</span><br><span class="line">    <span class="comment">//1.ç§æœ‰åŒ–ç±»çš„æ„é€ å™¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Order</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å£°æ˜å½“å‰ç±»çš„å¯¹è±¡ æ²¡æœ‰åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Order</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å£°æ˜ è¿”å›å½“å‰ç±»çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Order <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>)&#123;</span><br><span class="line">            instance = <span class="keyword">new</span>  <span class="title class_">Order</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä»£ç å—">ä»£ç å—</h3><p>â€œä¸å¤ªå¸¸ç”¨â€</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220409130209685.png" alt="image-20220409130209685"></p><p>ä»£ç å—ä¼˜å…ˆçº§é«˜</p><p>å…ˆäºæ„é€ å™¨</p><p>ç”±çˆ¶åŠå­ï¼Œé™æ€å…ˆè¡Œ</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220409133905281.png" alt="image-20220409133905281"></p><p>å±æ€§èµ‹å€¼</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220409134328636.png" alt="image-20220409134328636"></p><h3 id="finalæ–¹æ³•">finalæ–¹æ³•</h3><p>æ¯”è¾ƒç®€å•</p><p>è¢«finalä¿®é¥°çš„ç±»ä¸å¯ä»¥è¢«ç»§æ‰¿ï¼›<br>è¢«finalä¿®é¥°çš„æ–¹æ³•ä¸å¯ä»¥è¢«é‡å†™ï¼›<br>è¢«finalä¿®é¥°çš„å˜é‡ä¸å¯ä»¥æ”¹å˜ï¼Œæ˜¯å¸¸é‡</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220410192243094.png" alt="image-20220410192243094"></p><h3 id="abstractæŠ½è±¡ç±»çš„ä½¿ç”¨">abstractæŠ½è±¡ç±»çš„ä½¿ç”¨</h3><p>è‡ªå·±ç†è§£çš„æŠ½è±¡ç±» ä¿®é¥°ç±»å’Œæ–¹æ³•å’Œç»“æ„</p><p>ä½†æ˜¯ä¸èƒ½å®ä¾‹åŒ–ï¼Œæ‰€ä»¥éœ€è¦å­ç±»ç»§æ‰¿å®ƒï¼Œç„¶åå­ç±»å¿…é¡»è¦é‡å†™çˆ¶ç±»æŠ½è±¡ç±»çš„æ–¹æ³•ï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220410193622984.png" alt="image-20220410193622984"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AbstractTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç‹å°æ˜&quot;</span>,<span class="number">28</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Creature</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">breath</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">extends</span> <span class="title class_">Creature</span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åƒé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">walk</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;èµ°è·¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name, age);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­¦ç”Ÿè¦åƒæœ‰è¥å…»çš„&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä½ å¥½å•Š&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">breath</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å­¦ç”Ÿåº”è¯¥å‘¼å¸æ–°é²œç©ºæ°”&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤šæ€çš„åº”ç”¨ï¼šæŠ½è±¡ç±»</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220410230723936.png" alt="image-20220410230723936"></p><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-6">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>æš‚æ— </p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-6">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>æŠ½è±¡ç±»ç»ƒä¹ </p><p>æµ‹è¯•ä»£ç å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PayrollSystem</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//æ–¹å¼ä¸€</span></span><br><span class="line"><span class="comment">//        Scanner input = new Scanner(System.in);</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;è¯·è¾“å…¥å½“å‰æœˆä»½: &quot;);</span></span><br><span class="line"><span class="comment">//        int month2 = input.nextInt();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ–¹å¼äºŒ è¾“å…¥æœˆä»½</span></span><br><span class="line">        <span class="type">Calendar</span> <span class="variable">calendar</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">        <span class="type">int</span> <span class="variable">month</span> <span class="operator">=</span> calendar.get(Calendar.MONTH);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿™ä¸ªæœˆæ˜¯&quot;</span>+(month+<span class="number">1</span>) +<span class="string">&quot;æœˆ&quot;</span>);</span><br><span class="line">        Employee[] employees = <span class="keyword">new</span> <span class="title class_">Employee</span>[<span class="number">3</span>];</span><br><span class="line">        employees[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">SalariedEmployee</span>(<span class="string">&quot;æ±ªå¤§ä¸œ&quot;</span>,<span class="number">1001</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">1991</span>,<span class="number">8</span>,<span class="number">2</span>),<span class="number">10000</span>);</span><br><span class="line">        employees[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">HourlyEmployee</span>(<span class="string">&quot;é‡‘å®ä¸‰&quot;</span>,<span class="number">1002</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">1988</span>,<span class="number">11</span>,<span class="number">19</span>),<span class="number">24</span>,<span class="number">240</span>);</span><br><span class="line">        employees[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">HourlyEmployee</span>(<span class="string">&quot;è¾œæˆ˜&quot;</span>,<span class="number">1003</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2002</span>,<span class="number">4</span>,<span class="number">22</span>),<span class="number">30</span>,<span class="number">240</span>);</span><br><span class="line">        <span class="keyword">for</span> (Employee employee : employees) &#123;</span><br><span class="line">            System.out.println(employee);</span><br><span class="line">            <span class="type">double</span> <span class="variable">money</span> <span class="operator">=</span> employee.earning();</span><br><span class="line">            <span class="comment">//month+1æ‰æ˜¯å½“æœˆ</span></span><br><span class="line">            <span class="keyword">if</span> ((month + <span class="number">1</span>) == employee.getBirthday().getMonth()) &#123;</span><br><span class="line">                System.out.println(employee.getName()+<span class="string">&quot;ç”Ÿæ—¥å¿«ä¹! å¥–åŠ±100å…ƒ&quot;</span>);</span><br><span class="line">                money += <span class="number">100</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;å·¥èµ„æ˜¯&quot;</span> + money);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220411090537334.png" alt="image-20220411090537334"></p><h2 id="æ€»ç»“-6">æ€»ç»“</h2><p>å‘¨å¤©æ—©ä¸Šåœ¨å›¾ä¹¦é¦†å­¦ä¹ çš„ï¼Œæ™šè‡ªä¹ åœ¨å·¥ä½œå®¤ï¼Œä»Šå¤©å­¦ä¹ çš„å†…å®¹æ¯”è¾ƒå¤šï¼Œå•ä¾‹ ä»£ç å— final abstractè¿™äº›javaçš„ä½¿ç”¨ï¼Œå­¦ä¹ çŠ¶æ€ä¸é”™ï¼Œè¾¹çœ‹è§†é¢‘ï¼Œè¾¹æ•²ä»£ç ï¼Œå¯¹äºä»£ç å—å’Œfinalä¸å¤ªå¸¸ç”¨çš„ä¸œè¥¿ï¼Œæ•²ä¸¤è¾¹ç†è§£äº†å°±è¿‡äº†ï¼Œé‡è¦çš„éƒ½æ•²äº†6 7 éçš„ä»£ç ï¼Œå®è·µå‡ºçœŸç« ï¼Œåœ¨abstractä¸­åœ¨æœ€åä¸€ä¸ªæ¯”è¾ƒå¤§çš„ç»ƒä¹ ï¼Œæ‰ç†è§£çœŸæ­£çš„ç”¨æ³•ï¼Œå’Œé€‚ç”¨åœºæ™¯ï¼ŒçœŸçš„å°±æ˜¯ç¼–ç¨‹å­¦ä¹ æ˜¯åœ¨æ•²ä»£ç ä¸­æˆé•¿çš„ã€‚</p><h1 id="4-11ç»“æ„-æˆå‘˜å†…éƒ¨">4.11ç»“æ„ æˆå‘˜å†…éƒ¨</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-7">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-7">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="æ¥å£">æ¥å£</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220411094009819.png" alt="image-20220411094009819"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220411093858342.png" alt="image-20220411093858342"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InterfaceTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(Flyable.MAX_SPEED);</span><br><span class="line">        System.out.println(Flyable.min_speed);</span><br><span class="line"><span class="comment">//        min_speed += 2; //é™æ€</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Flyable</span>&#123;</span><br><span class="line">    <span class="comment">//å…¨å±€å¸¸é‡</span></span><br><span class="line">    <span class="comment">//æ¥å£é»˜è®¤å…¨å±€å¸¸é‡ static final</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MAX_SPEED</span> <span class="operator">=</span> <span class="number">7900</span>; <span class="comment">//ç¬¬ä¸€å®‡å®™é€Ÿåº¦</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">min_speed</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span>;</span><br><span class="line">    <span class="comment">//çœç•¥äº† public abstract</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ¥å£ä¸èƒ½å®šä¹‰æ„é€ å™¨ æ¥å£ä¸å¯ä»¥å®ä¾‹åŒ–</span></span><br><span class="line">    <span class="comment">//    public Flyable()&#123;</span></span><br><span class="line">    <span class="comment">//    &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">attackAble</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">attack</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">plane</span> <span class="keyword">implements</span> <span class="title class_">Flyable</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">plane</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;é£æœºèµ·é£&quot;</span>);</span><br><span class="line">        System.out.println(MAX_SPEED);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;é©¾é©¶å‘˜å‡é€Ÿåœæœº&quot;</span>);</span><br><span class="line">        System.out.println(min_speed);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">boeing</span> <span class="keyword">implements</span> <span class="title class_">Flyable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ³¢éŸ³747é£çš„å¿«&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bullet</span> <span class="keyword">extends</span> <span class="title class_">plane</span> <span class="keyword">implements</span> <span class="title class_">CC</span>,Flyable,attackAble&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">attack</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ***************************************</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">AA</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">BB</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">CC</span> <span class="keyword">extends</span> <span class="title class_">AA</span>,BB&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ¥å£çš„4ç§å®ç°ç±»">æ¥å£çš„4ç§å®ç°ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">USBTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">computer</span> <span class="variable">computer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">computer</span>();</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºäº†éåŒ¿åå®ç°ç±»çš„éåŒ¿åå¯¹è±¡</span></span><br><span class="line">        <span class="type">Flash</span> <span class="variable">flash</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Flash</span>();</span><br><span class="line">        computer.transferData(flash);</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;******************&quot;</span>);</span><br><span class="line">        <span class="comment">//2.åˆ›å»ºäº†éåŒ¿åå®ç°ç±»çš„åŒ¿åå¯¹è±¡</span></span><br><span class="line">        computer.transferData(<span class="keyword">new</span> <span class="title class_">Flash</span>());</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;******************&quot;</span>);</span><br><span class="line">        <span class="comment">//3.åˆ›å»ºäº†åŒ¿åå®ç°ç±»çš„éåŒ¿åå¯¹è±¡</span></span><br><span class="line">        <span class="type">USB</span> <span class="variable">phone</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">USB</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ‰‹æœºå·¥ä½œ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ‰‹æœºç»“æŸå·¥ä½œ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        computer.transferData(phone);</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;******************&quot;</span>);</span><br><span class="line">        <span class="comment">//4.åˆ›å»ºäº†åŒ¿åå®ç°ç±»çš„åŒ¿åå¯¹è±¡</span></span><br><span class="line">        computer.transferData(<span class="keyword">new</span> <span class="title class_">USB</span>()&#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;mp3å·¥ä½œ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;mp3ç»“æŸå·¥ä½œ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">computer</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">transferData</span><span class="params">(USB usb)</span>&#123;</span><br><span class="line">        usb.start();</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¼ è¾“ä¸­--------------&quot;</span>);</span><br><span class="line">        usb.stop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">USB</span>&#123;</span><br><span class="line">    <span class="comment">//å¸¸é‡:å®šä¹‰äº†é•¿å®½æœ€å¤§æœ€å°çš„ä¼ è¾“é€Ÿåº¦ç­‰</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Flash</span> <span class="keyword">implements</span> <span class="title class_">USB</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Uç›˜å¼€å§‹å·¥ä½œ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Uç›˜ç»“æŸå·¥ä½œ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Printer</span> <span class="keyword">implements</span> <span class="title class_">USB</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰“å°æœºå¼€å§‹å·¥ä½œ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰“å°æœºåœæ­¢å·¥ä½œ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ<br><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220413192220484.png" alt="image-20220413192220484"></p><h4 id="æ¥å£ç»ƒä¹ ">æ¥å£ç»ƒä¹ </h4><p>æ¯”è¾ƒå¯¹è±¡å¤§å°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day18.java4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">CompareObject</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Object o)</span>; <span class="comment">//è‹¥è¿”å›å€¼æ˜¯0 ä»£è¡¨ç›¸ç­‰ è‹¥æ­£æ•° ä»£è¡¨å½“å‰å¯¹è±¡å¤§ è´Ÿæ•°ä»£è¡¨å½“å‰å¯¹è±¡å°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">comparableCircleTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">comparableCircle</span> <span class="variable">comparableCircle1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">comparableCircle</span>(<span class="number">1.9</span>);</span><br><span class="line">        <span class="type">comparableCircle</span> <span class="variable">comparableCircle2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">comparableCircle</span>(<span class="number">8.2</span>);</span><br><span class="line">        <span class="type">comparableCircle</span> <span class="variable">comparableCircle3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">comparableCircle</span>(<span class="number">8.2</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> comparableCircle1.compareTo(comparableCircle2);</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸€æ ·å¤§&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (num &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å‰é¢å¤§&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">            System.out.println(<span class="string">&quot;åé¢å¤§&quot;</span>);</span><br><span class="line">        <span class="comment">//******************************</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">num1</span> <span class="operator">=</span> comparableCircle3.compareTo(comparableCircle2);</span><br><span class="line">        <span class="keyword">if</span> (num1 == <span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸€æ ·å¤§&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (num1 &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å‰é¢å¤§&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">            System.out.println(<span class="string">&quot;åé¢å¤§&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">comparableCircle</span> <span class="keyword">extends</span> <span class="title class_">Circle</span> <span class="keyword">implements</span> <span class="title class_">CompareObject</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">comparableCircle</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">comparableCircle</span><span class="params">(<span class="type">double</span> radius)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(radius);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>  == o)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (o <span class="keyword">instanceof</span> comparableCircle)&#123;</span><br><span class="line">            <span class="type">comparableCircle</span> <span class="variable">obj</span> <span class="operator">=</span> (comparableCircle) o;</span><br><span class="line">            <span class="keyword">return</span> Double.compare(<span class="built_in">this</span>.getRadius(), obj.getRadius());</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">12138</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> radius;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">(<span class="type">double</span> radius)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.radius = radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getRadius</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRadius</span><span class="params">(<span class="type">double</span> radius)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.radius = radius;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="java8-0æ¥å£æ–°ç‰¹æ€§">java8.0æ¥å£æ–°ç‰¹æ€§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day18.java4;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> SubClassTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/11 18:59</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SubClassTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SubClass</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SubClass</span>();</span><br><span class="line"><span class="comment">//        s.method1();</span></span><br><span class="line">        <span class="comment">//1.æ¥å£çš„é™æ€æ–¹æ³• åªèƒ½æ¥å£æ¥è°ƒç”¨</span></span><br><span class="line">        CompareA.method1();</span><br><span class="line">        <span class="comment">//é€šè¿‡å®ç°ç±»çš„å¯¹è±¡å¯ä»¥è°ƒç”¨æ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•</span></span><br><span class="line">        <span class="comment">//2.å¦‚æœå®ç°ç±»é‡å†™äº†æ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•ï¼Œè°ƒç”¨æ—¶ï¼Œä»»ç„¶é’“é±¼ç”¨çš„æ˜¯é‡å†™ä»¥åçš„æ–¹æ³•ã€‚</span></span><br><span class="line">        s.method2();</span><br><span class="line">        <span class="comment">// 3.å¦‚æœå­ç±»æˆ–å®ç°ç±»ç»§æ‰¿çš„çˆ¶ç±»å’Œå®ç°çš„æ¥å£ä¸­å£°æ˜äº†åŒååŒå‚æ•°çš„æ–¹æ³•</span></span><br><span class="line">        <span class="comment">//é‚£ä¹ˆå­ç±»åœ¨æ²¡æœ‰é‡å†™æ­¤æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤è°ƒç”¨çš„æ˜¯çˆ¶ç±»ä¸­çš„åŒååŒå‚æ•°çš„æ–¹æ³• --&gt;ç±»ä¼˜å…ˆåŸåˆ™</span></span><br><span class="line">        <span class="comment">// 4.å¦‚æœå®ä¹ ç±»å®ç°äº†å¤šä¸ªæ¥å£ è€Œè¿™å¤šä¸ªæ¥å£ä¸­å®šä¹‰äº†åŒååŒå‚æ•°çš„é»˜è®¤æ–¹æ³•</span></span><br><span class="line">        <span class="comment">//å¦‚æœå®ç°äº†æ²¡æœ‰é‡å†™æ­¤æ–¹æ³•çš„æƒ…å†µä¸‹ï¼ŒæŠ¥é”™--æ¥å£å†²çª</span></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬å¿…é¡»åœ¨å®ç°ç±»é‡å†™æ­¤æ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">        s.method3();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubClass</span>  <span class="keyword">extends</span> <span class="title class_">SuperClass</span> <span class="keyword">implements</span> <span class="title class_">CompareA</span>,CompareB&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;subclass ä¸Šæµ·&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method3</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;subclass æ·±åœ³&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//5.åœ¨å­ç±»ä¸­è°ƒç”¨æ¥å£ä¸­é‡å†™è¿‡çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">myMethod</span><span class="params">()</span>&#123;</span><br><span class="line">            method3(); <span class="comment">//è°ƒç”¨è‡ªå·±çš„æ–¹æ³•</span></span><br><span class="line">            <span class="built_in">super</span>.method3();<span class="comment">//è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line">        <span class="comment">//è°ƒç”¨æ¥å£ä¸­çš„é»˜è®¤æ–¹æ³•</span></span><br><span class="line">        CompareA.<span class="built_in">super</span>.method3();</span><br><span class="line">        CompareB.<span class="built_in">super</span>.method3();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å†…éƒ¨ç±»">å†…éƒ¨ç±»</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220411195232603.png" alt="image-20220411195232603"></p><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-7">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>æš‚æ— </p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-7">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="static-final-abstractæ€»ç»“">static final abstractæ€»ç»“</h3><p>static é€šè¿‡å¯¹è±¡è°ƒç”¨é™æ€æ–¹æ³•</p><p><strong>ä¸€å¥è¯æ¦‚è¿°ï¼šfinalä¿®é¥°çš„ä¸œè¥¿ä¸èƒ½è¢«ä¿®æ”¹ï¼Œä¸èƒ½è¢«ç»§æ‰¿ã€‚</strong></p><p><strong>ä¸€å¥è¯æ¦‚è¿°ï¼šæŠ½è±¡ç±»çš„ç›®çš„å°±æ˜¯ä¸ºäº†è®©å…¶å­ç±»å®ç°å®ƒæœ¬èº«çš„æ–¹æ³•ï¼</strong></p><p>æŠ½è±¡çš„ä½¿ç”¨å‰æ ï¼š ç»§æ‰¿æ€§</p><p><a href="https://blog.csdn.net/xieyunc/article/details/102643543?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164972197816780271911803%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164972197816780271911803&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-102643543.142">https://blog.csdn.net/xieyunc/article/details/102643543?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164972197816780271911803%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164972197816780271911803&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-102643543.142</a></p><h2 id="æ€»ç»“-7">æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ äº†ä¸€ä¸ªä¸Šåˆçš„æ—¶é—´ï¼Œå°†javaé¢å¯¹è±¡çš„æœ€åä¸€äº›å†…å®¹-----æ¥å£ é€šå…³äº†ï¼ŒçŸ¥é“äº†æ¥å£çš„ä½¿ç”¨ï¼Œå¹¶åšäº†å‡ ä¸ªå°ç»ƒä¹ ï¼Œè¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£çš„ï¼Œjavaä¸­çš„æ¥å£ä¸»è¦æ˜¯å¼¥è¡¥javaåªæœ‰å•ç»§æ‰¿çš„å±€é™æ€§çš„ï¼Œè¿˜æ˜¯å¾ˆé€‚ç”¨çš„ï¼Œä»Šå¤©çš„å­¦ä¹ çŠ¶æ€ä¸é”™ï¼Œå­¦çš„å†…å®¹ä¹Ÿå¾ˆå……å®ã€‚</p><h1 id="4-12-å¼‚å¸¸å¤„ç†">4.12 å¼‚å¸¸å¤„ç†</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-8">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-8">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="å¼‚å¸¸">å¼‚å¸¸</h3><p>Exceptionæ¯”è¾ƒé‡è¦</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220412085726084.png" alt="image-20220412085726084"></p><h4 id="å¸¸è§çš„å¼‚å¸¸">å¸¸è§çš„å¼‚å¸¸</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220412091454828.png" alt="image-20220412091454828"></p><p>å¸¸è§çš„å¼‚å¸¸</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest</span> &#123;</span><br><span class="line">    <span class="comment">//ç¼–è¯‘æ—¶æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test7</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="comment">//        File file = new File(&quot;hello.txt&quot;);</span></span><br><span class="line"><span class="comment">//        FileInputStream fileInputStream  = new FileInputStream(file);</span></span><br><span class="line"><span class="comment">//        int data = fileInputStream.read();</span></span><br><span class="line"><span class="comment">//        while (data != -1)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println((char) data);</span></span><br><span class="line"><span class="comment">//            data = fileInputStream.read();</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        fileInputStream.close();</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//**************************</span></span><br><span class="line">    <span class="comment">//ä¸‹é¢æ˜¯è¿è¡Œæ—¶æŠ¥é”™</span></span><br><span class="line">    <span class="comment">//ArithmeticException</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test6</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        System.out.println(a/b);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//InputMismatchException è¾“å…¥ä¸åŒ¹é…</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test5</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">        System.out.println(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//NullPointerException</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;123s&quot;</span>;</span><br><span class="line">        Integer.parseInt(str);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ClassCastException</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> (String) obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ArrayIndexOutOfBoundsException</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>];</span><br><span class="line">        System.out.println(arr[<span class="number">3</span>]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//NullPointerException</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span>[] arr = <span class="literal">null</span>;</span><br><span class="line">        System.out.println(arr[<span class="number">3</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¼‚å¸¸çš„å¤„ç†">å¼‚å¸¸çš„å¤„ç†</h4><p>åˆ†ä¸ºæŠ“å’ŒæŠ›</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220412100852150.png" alt="image-20220412100852150"></p><h4 id="try-catch-finallyçš„ä½¿ç”¨">try - catch - finallyçš„ä½¿ç”¨</h4><p>æ³¨æ„ï¼šç¼–è¯‘æ—¶å€™å¼‚å¸¸ tryå°±æ˜¯æ”¹æˆè¿è¡Œæ—¶å¼‚å¸¸</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220412101029282.png" alt="image-20220412101029282"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest1</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">            <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">            <span class="type">int</span> <span class="variable">data</span> <span class="operator">=</span> fileInputStream.read();</span><br><span class="line">            <span class="keyword">while</span> (data != -<span class="number">1</span>) &#123;</span><br><span class="line">                System.out.println((<span class="type">char</span>) data);</span><br><span class="line">                data = fileInputStream.read();</span><br><span class="line">            &#125;</span><br><span class="line">            fileInputStream.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;123s&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            num = Integer.parseInt(str);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (NumberFormatException e)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å‡ºç°æ•°å€¼è½¬æ¢å¼‚å¸¸äº† ä¸è¦ç€æ€¥.....&quot;</span>);</span><br><span class="line">            System.out.println(e.getMessage());</span><br><span class="line"><span class="comment">//            e.printStackTrace();</span></span><br><span class="line">        &#125;<span class="keyword">catch</span> (NullPointerException e)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸äº† ä¸è¦ç€æ€¥.......&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å‡ºç°å¼‚å¸¸äº†&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;finallyå“ªé‡Œéƒ½Uæˆ‘&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(num);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;hello------1&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è¯´æ˜">è¯´æ˜</h5><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220412104234672.png" alt="image-20220412104234672"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FinallyTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\CC\\IDEA\\src\\day19\\java2\\hello.txt&quot;</span>);</span><br><span class="line">            fileInputStream = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">            <span class="type">int</span> <span class="variable">data</span> <span class="operator">=</span> fileInputStream.read();</span><br><span class="line">            <span class="keyword">while</span> (data != -<span class="number">1</span>) &#123;</span><br><span class="line">                System.out.print((<span class="type">char</span>) data);</span><br><span class="line">                data = fileInputStream.read();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (fileInputStream != <span class="literal">null</span>)&#123;</span><br><span class="line">                    fileInputStream.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½“ä¼š</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220412132923317.png" alt="image-20220412132923317"></p><h3 id="throws">throws</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220412135620351.png" alt="image-20220412135620351"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day19.java3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            method2();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (FileNotFoundException e)&#123;</span><br><span class="line">            e.getCause();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method3</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            method2();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method2</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        method1();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException,IOException &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello1.txt&quot;</span>);</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">        <span class="type">int</span> <span class="variable">data</span> <span class="operator">=</span> fileInputStream.read();</span><br><span class="line">        <span class="keyword">while</span> (data != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.print((<span class="type">char</span>) data);</span><br><span class="line">            data = fileInputStream.read();</span><br><span class="line">        &#125;</span><br><span class="line">        fileInputStream.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸å¯¹è±¡">æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸å¯¹è±¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day19.java3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            student.regist(-<span class="number">1001</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(student);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">regist</span><span class="params">(<span class="type">int</span> id)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">if</span> (id &gt; <span class="number">1000</span>)&#123;</span><br><span class="line">                <span class="built_in">this</span>.id = id;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;æ‚¨è¾“å…¥çš„æ•°æ®éæ³•å•¦(è¦å¤§äº1000)&quot;</span> );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220412143804563.png" alt="image-20220412143804563"></p><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-8">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>åˆ›å»ºäº†æ–‡ä»¶ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸€ç›´æŠ¥é”™ï¼Œæ”¹äº†å¾ˆå¤šæ¬¡è¿˜æ˜¯æŠ¥é”™ï¼Œåœ¨mainé‡Œé¢ä¹Ÿè¯•è¿‡ä¹ŸæŠ¥é”™<br>ä¸Šcsdnæœ‰äººè¯´è¦ç»å¯¹è·¯å¾„ å°±åŠ ä¸Šäº† &quot;D:\CC\IDEA\src\day19\java2\hello&quot;è¿è¡Œæ‰æˆåŠŸ<br>åé¢åˆå°è¯•å°†txtç›´æ¥æ”¾åˆ°IDEAä¸‹é¢ä¹ŸæˆåŠŸäº†ï¼Œåº”è¯¥æ˜¯srcé‡Œé¢çš„æ–‡ä»¶æ˜¯éœ€è¦å†™ç»å¯¹è·¯å¾„çš„ï¼Œæ”¾IDEAå†™ç›¸å¯¹è·¯å¾„å°±OK</p><p><img src="https://docimg9.docs.qq.com/image/5eN0lLyMe97u7HkH1hD6Aw.png?w=1228&amp;h=1017" alt="img"></p><p><img src="https://docimg9.docs.qq.com/image/Ko6f4p4x7u2LL5CXStDywA.png?w=1006&amp;h=587" alt="img"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220412133133116.png" alt="image-20220412133133116"></p><h3 id="ç»¼åˆç»ƒä¹ ">ç»¼åˆç»ƒä¹ </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day19.java4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.InputMismatchException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EcmDef</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">//            Scanner input = new Scanner(System.in);</span></span><br><span class="line"><span class="comment">//            int i = input.nextInt();</span></span><br><span class="line"><span class="comment">//            int j = input.nextInt();</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> Integer.parseInt(args[<span class="number">0</span>]);</span><br><span class="line">            <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> Integer.parseInt(args[<span class="number">1</span>]);</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> ecm(i,j);</span><br><span class="line">            System.out.println(num);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (NumberFormatException e)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç±»å‹ä¸ä¸€è‡´&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (ArrayIndexOutOfBoundsException e)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç¼ºå°‘å‘½ä»¤è¡Œå‚æ•°&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (ArithmeticException e)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸èƒ½è¾“å…¥é0æ•°&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (EcDef e) &#123;</span><br><span class="line">            System.out.println(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">ecm</span><span class="params">(<span class="type">int</span> i , <span class="type">int</span> j)</span> <span class="keyword">throws</span> EcDef &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt; <span class="number">0</span> || j &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">EcDef</span>(<span class="string">&quot;æ‚¨è¾“å…¥çš„å€¼æœ‰è´Ÿæ•°&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i / j;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">EcDef</span> <span class="keyword">extends</span> <span class="title class_">Exception</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">EcDef</span><span class="params">()</span> &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">EcDef</span><span class="params">(String message)</span> &#123;</span><br><span class="line">            <span class="built_in">super</span>(message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-8">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>IDEAç»™mainä¸­argsèµ‹å€¼</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220412153500828.png" alt="image-20220412153500828"></p><p><a href="https://blog.csdn.net/Ye_mulin/article/details/104561301?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164974865416782094898594%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164974865416782094898594&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-3-104561301.142">https://blog.csdn.net/Ye_mulin/article/details/104561301?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164974865416782094898594%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164974865416782094898594&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-3-104561301.142</a></p><h3 id="è‡ªåŠ¨å¤„ç†å¼‚å¸¸">è‡ªåŠ¨å¤„ç†å¼‚å¸¸</h3><p>ALT + enter</p><h3 id="æ–‡ä»¶æ‰“å°">æ–‡ä»¶æ‰“å°</h3><p>åº”è¯¥æ˜¯é€šè¿‡asciiç æ‰“å°çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FinallyTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\CC\\IDEA\\src\\day19\\java2\\hello.txt&quot;</span>);</span><br><span class="line">            fileInputStream = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">            <span class="type">int</span> <span class="variable">data</span> <span class="operator">=</span> fileInputStream.read();</span><br><span class="line">            <span class="keyword">while</span> (data != -<span class="number">1</span>) &#123;</span><br><span class="line">                System.out.print((<span class="type">char</span>) data);</span><br><span class="line">                data = fileInputStream.read();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (fileInputStream != <span class="literal">null</span>)&#123;</span><br><span class="line">                    fileInputStream.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–¹æ³•é‡å†™çš„è§„åˆ™">æ–¹æ³•é‡å†™çš„è§„åˆ™</h3><p>å­ç±»é‡å†™çš„æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹ä¸å¤§äºçˆ¶ç±»è¢«é‡å†™çš„æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day19.java3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> OverrideTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/12 14:10</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OverrideTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">OverrideTest</span> <span class="variable">overrideTest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OverrideTest</span>();</span><br><span class="line">        overrideTest.display(<span class="keyword">new</span> <span class="title class_">SubClass</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">(SuperClass s)</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            s.method();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SuperClass</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubClass</span> <span class="keyword">extends</span> <span class="title class_">SuperClass</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-8">æ€»ç»“</h2><p>æ ¹æ®è§†é¢‘çš„è¿›åº¦é©¬ä¸Šåˆ°javaé«˜çº§äº†ï¼Œæ‰€ä»¥ä»Šå¤©æœ‰å¹²åŠ²ï¼ŒæŠŠå¼‚å¸¸å­¦ä¹ å®Œäº†ï¼ŒåŸºç¡€éƒ¨åˆ†ä¹Ÿç»“æŸäº†ï¼Œå…ˆå¤ä¹ äº†è¿™æ®µæ—¶é—´çš„å­¦ä¹ å†…å®¹ï¼Œç»“æŸäº†javaçš„é¢å‘å¯¹è±¡ï¼Œçœ‹åšå®¢ç†è§£å…³é”®å­—çš„åŒºåˆ«å’Œé€‚ç”¨åœºæ™¯ç­‰ï¼Œç„¶åå†è¿›å…¥å¼‚å¸¸çš„å­¦ä¹ ï¼Œå¤šæ•²ä»£ç ï¼Œå¼‚å¸¸å¥½ç†è§£ï¼Œä»£ç ç†Ÿç»ƒå°±å¥½äº†,pythonä¸­ä¹Ÿæœ‰å¼‚å¸¸å¤„ç†çš„æ–¹æ³•ï¼Œå­¦javaçš„æ—¶å€™ä¹Ÿæ˜¯é¡ºæ°´æ¨èˆŸï¼Œæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œä»Šå¤©ä¹Ÿå½»åº•æ˜ç™½äº†ä¸ºä»€ä¹ˆjavaæ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œæ‰€æœ‰çš„éƒ½é€ƒä¸å¼€é¢å‘å¯¹è±¡ï¼Œçœ‹æºä»£ç éƒ½æ˜¯é¢å‘å¯¹è±¡ï¼Œç»§æ‰¿ä»€ä¹ˆçš„ï¼Œä»Šå¤©å­¦ä¹ çŠ¶æ€ä¸é”™ï¼Œä»£ç æ•²çš„æ¯”è¾ƒå¤šã€‚</p><h1 id="4-13-å¯¹æ¥å£å’ŒæŠ½è±¡ç±»çš„ç†è§£">4.13 å¯¹æ¥å£å’ŒæŠ½è±¡ç±»çš„ç†è§£</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-9">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-9">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="æŠ½è±¡ç±»-abstract"><strong>æŠ½è±¡ç±»(abstract )</strong></h3><p><strong>å­ç±»ç»§æ‰¿å¿…é¡»è¦é‡å†™è¯¥æ–¹æ³•</strong></p><p>1ã€å®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•ä½¿ç”¨çš„å…³é”®å­—æ˜¯â€œabstract&quot;</p><p>2ã€æŠ½è±¡ç±»è¢«å«åšä¸€ä¸ªä¸å®Œæ•´çš„ç±»å› ä¸ºå®ƒæœ‰è‡ªå·±çš„æ„é€ æ–¹æ³•ï¼Œä½†æ˜¯å´ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–å¯¹è±¡ï¼Œä»–çš„æŠ½è±¡æ–¹æ³•æ²¡æœ‰æ–¹æ³•ä½“ã€‚</p><p>3ã€å¦‚æœå­ç±»ä¸æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»é‚£ä¹ˆå¿…é¡»è¦†å†™çˆ¶ç±»çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•</p><h3 id="æ¥å£ï¼ˆinterfaceï¼‰">æ¥å£ï¼ˆ<strong>interface</strong>ï¼‰</h3><p>ä»è¿™ä¸ªä¸¤ä¸ªç½‘ç«™åŠ å…¥è‡ªå·±çš„ç†è§£</p><p><a href="https://blog.csdn.net/wei_zhi/article/details/52738471">https://blog.csdn.net/wei_zhi/article/details/52738471</a></p><p><a href="https://blog.csdn.net/sun_shine56/article/details/86621481?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164984761616782248510008%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164984761616782248510008&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-86621481.142">https://blog.csdn.net/sun_shine56/article/details/86621481?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164984761616782248510008%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164984761616782248510008&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-86621481.142</a></p><p>æœ‰æ—¶å¿…é¡»ä»å‡ ä¸ªç±»ä¸­æ´¾ç”Ÿå‡ºä¸€ä¸ªå­ç±»ï¼Œç»§æ‰¿å®ƒä»¬æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚ä½†æ˜¯ï¼ŒJavaä¸æ”¯æŒå¤šé‡ç»§æ‰¿ã€‚æœ‰äº†æ¥å£ï¼Œå°±å¯ä»¥å¾—åˆ°å¤šé‡ç»§æ‰¿çš„æ•ˆæœã€‚</p><p><strong>æ¥å£æ˜¯æŠ½è±¡æ–¹æ³•   å’Œå¸¸é‡å€¼çš„å®šä¹‰çš„é›†åˆã€‚</strong></p><p>ä»æœ¬è´¨ä¸Šè®²ï¼Œæ¥å£åªåŒ…å«å¸¸é‡å’Œæ–¹æ³•çš„å®šä¹‰ï¼Œè€Œæ²¡æœ‰å˜é‡å’Œæ–¹æ³•çš„å®ç°ã€‚</p><p>ç”±äºæ¥å£é‡Œé¢å­˜åœ¨æŠ½è±¡æ–¹æ³•ï¼Œæ‰€ä»¥æ¥å£å¯¹è±¡ä¸èƒ½ç›´æ¥ä½¿ç”¨å…³é”®å­—newè¿›è¡Œå®ä¾‹åŒ–ã€‚æ¥å£çš„ä½¿ç”¨åŸåˆ™å¦‚ä¸‹ï¼š<br>ï¼ˆ1ï¼‰æ¥å£å¿…é¡»è¦æœ‰å­ç±»ï¼Œä½†æ­¤æ—¶ä¸€ä¸ªå­ç±»å¯ä»¥ä½¿ç”¨implementså…³é”®å­—å®ç°å¤šä¸ªæ¥å£ï¼›<br>ï¼ˆ2ï¼‰æ¥å£çš„å­ç±»ï¼ˆå¦‚æœä¸æ˜¯æŠ½è±¡ç±»ï¼‰ï¼Œé‚£ä¹ˆå¿…é¡»è¦è¦†å†™æ¥å£ä¸­çš„å…¨éƒ¨æŠ½è±¡æ–¹æ³•ï¼›<br>ï¼ˆ3ï¼‰æ¥å£çš„å¯¹è±¡å¯ä»¥åˆ©ç”¨å­ç±»å¯¹è±¡çš„å‘ä¸Šè½¬å‹è¿›è¡Œå®ä¾‹åŒ–ã€‚</p><p>åœ¨Javaä¸­ï¼Œä¸€ä¸ªæŠ½è±¡ç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä½†ä¸€ä¸ªæ¥å£å´å¯ä»¥ä½¿ç”¨extendså…³é”®å­—åŒæ—¶ç»§æ‰¿å¤šä¸ªæ¥å£ï¼ˆä½†æ¥å£ä¸èƒ½ç»§æ‰¿æŠ½è±¡ç±»ï¼‰ã€‚</p><p>èŒƒä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">funA</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">funB</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Cæ¥å£åŒæ—¶ç»§æ‰¿äº†Aå’ŒBä¸¤ä¸ªæ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">C</span> <span class="keyword">extends</span> <span class="title class_">A</span>,B&#123;<span class="comment">//ä½¿ç”¨çš„æ˜¯extends</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">funC</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">X</span> <span class="keyword">implements</span> <span class="title class_">C</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">funA</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">funB</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">funC</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±æ­¤å¯è§ï¼Œä»ç»§æ‰¿å…³ç³»æ¥è¯´æ¥å£çš„é™åˆ¶æ¯”æŠ½è±¡ç±»å°‘ï¼š<br>ï¼ˆ1ï¼‰ä¸€ä¸ªæŠ½è±¡ç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡çˆ¶ç±»ï¼Œè€Œæ¥å£å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£ï¼›<br>ï¼ˆ2ï¼‰ä¸€ä¸ªå­ç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå´å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼ˆåœ¨Javaä¸­ï¼Œæ¥å£çš„ä¸»è¦åŠŸèƒ½æ˜¯è§£å†³å•ç»§æ‰¿å±€é™é—®é¢˜ï¼‰</p><h4 id="æ¥å£çš„ç‰¹ç‚¹ï¼š">æ¥å£çš„ç‰¹ç‚¹ï¼š</h4><p>1.ç”¨ interface æ¥å®šä¹‰ã€‚</p><p>2.æ¥å£ä¸­çš„æ‰€æœ‰æˆå‘˜å˜é‡éƒ½é»˜è®¤æ˜¯ç”±public static finalä¿®é¥°çš„ã€‚</p><p>3.æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½é»˜è®¤æ˜¯ç”±public abstractä¿®é¥°çš„ã€‚</p><p>4.æ¥å£æ²¡æœ‰æ„é€ æ–¹æ³•ã€‚æ„é€ æ–¹æ³•ç”¨äºåˆ›å»ºå¯¹è±¡</p><p>5.å®ç°æ¥å£çš„ç±»ä¸­å¿…é¡»æä¾›æ¥å£ä¸­æ‰€æœ‰æ–¹æ³•çš„å…·ä½“å®ç°å†…å®¹ã€‚</p><p>6.å¤šä¸ªæ— å…³çš„ç±»å¯ä»¥å®ç°åŒä¸€ä¸ªæ¥å£</p><p>7.ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ— å…³çš„æ¥å£</p><p>8.ä¸ç»§æ‰¿å…³ç³»ç±»ä¼¼ï¼Œæ¥å£ä¸å®ç°ç±»ä¹‹é—´å­˜åœ¨å¤šæ€æ€§</p><p><strong>9.æ¥å£ä¹Ÿå¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªæ¥å£ï¼Œä½¿ç”¨extendså…³é”®å­—ã€‚</strong></p><p>10.å®ç°æ¥å£çš„ç±»ä¸­å¿…é¡»æä¾›æ¥å£ä¸­æ‰€æœ‰æ–¹æ³•çš„å…·ä½“å®ç°å†…å®¹ã€‚</p><p>11.å¤šä¸ªæ— å…³çš„ç±»å¯ä»¥å®ç°åŒä¸€ä¸ªæ¥å£</p><p>12.ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ— å…³çš„æ¥å£</p><p>13.ä¸ç»§æ‰¿å…³ç³»ç±»ä¼¼ï¼Œæ¥å£ä¸å®ç°ç±»ä¹‹é—´å­˜åœ¨å¤šæ€æ€§</p><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-9">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>æš‚æ— </p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-9">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="æŠ½è±¡ç±»å’Œæ¥å£çš„å¼‚åŒ">æŠ½è±¡ç±»å’Œæ¥å£çš„å¼‚åŒ</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220413192337165.png" alt="image-20220413192337165"></p><h3 id="é¢è¯•é¢˜">é¢è¯•é¢˜:</h3><p>1ã€æŠ½è±¡ç±»ä¸­å¯ä»¥æ²¡æœ‰æŠ½è±¡æ–¹æ³•å—?</p><p>ç­”:å¯ä»¥çš„</p><p>2ã€å¦‚æŠ½è±¡ç±»æ²¡æœ‰æŠ½è±¡æ–¹æ³•ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥å®ä¾‹åŒ–å¯¹è±¡å—?</p><p>ç­”:ä¸å¯ä»¥ï¼Œå› ä¸ºæ²¡æœ‰æŠ½è±¡æ–¹æ³•å®ƒä¾ç„¶æ˜¯-ä¸€ä¸ªæŠ½è±¡ç±»</p><p>3ã€æŠ½è±¡ç±»çš„æ–¹æ³•å¿…é¡»è¢«å­ç±»è¦†å†™å—?</p><p>ç­”:ä¸ä¸€å®šï¼Œå¦‚æœå­ç±»æ˜¯ä¸€ä¸ªæ™®é€šç±»åˆ™å¿…é¡»å…¨éƒ¨è¦†å†™ï¼Œå¦‚æœå­ç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»åˆ™ä¸å¼ºåˆ¶è¦æ±‚å…¨éƒ¨è¦†å†™çˆ¶ç±»çš„æŠ½è±¡æ–¹æ³•ã€‚</p><p>5ã€æŠ½è±¡ç±»ä¸­çš„æŠ½è±¡æ–¹æ³•çš„abstractå…³é”®å­—å¯ä»¥è¢«çœç•¥å—?</p><p>ç­”:ä¸å¯ä»¥(ä½†æ˜¯åœ¨åé¢çš„æ¥å£ä¸­å¯ä»¥çœç•¥)</p><h2 id="æ€»ç»“-9">æ€»ç»“</h2><p>ä»Šå¤©åªå­¦äº†æ™šè‡ªä¹ ï¼Œè¿™æ˜ŸæœŸå­¦ä¹ çš„å†…å®¹é‡æœ‰ç‚¹å¤§ï¼Œæ‰€ä»¥æƒ³è‡ªå·±æŠ½ä¸ªç©ºæŠŠå†…å®¹æ¢³ç†ä¸€ä¸‹ï¼Œä»Šå¤©æŠŠæ¯”è¾ƒå®¹æ˜“ææ··çš„ï¼ŒæŠ½è±¡ç±»å’Œæ¥å£è¿™ä¸¤ä¸ªæ¯”è¾ƒéš¾ç†è§£å’Œä»¥åæ¯”è¾ƒå¸¸ç”¨çš„ä¸¤ä¸ªé‡ç‚¹å¤ä¹ äº†ä¸€ä¸‹ï¼Œç»“åˆåšå®¢å’Œè‡ªå·±çš„ç†è§£ï¼Œå°†å†…å®¹æ¢³ç†äº†ä¸€ä¸‹ï¼Œç„¶åçœ‹äº†ä¸€ä¸‹é¡¹ç›®ä¸‰çš„è½¯ä»¶æ¶æ„å’Œå®ä¾‹æ¼”ç¤ºï¼Œä»Šå¤©ä¸»è¦æ˜¯å½“è¿™æ®µæ—¶é—´çš„ç¼“å†²ï¼Œæ˜å¤©æŠŠé¡¹ç›®ä¸‰å®Œæˆï¼Œè¿›å…¥javaçš„ç¬¬äºŒé˜¶æ®µã€‚</p><h1 id="4-15-å¯¹æ¥å£å’ŒæŠ½è±¡ç±»çš„ç†è§£">4.15 å¯¹æ¥å£å’ŒæŠ½è±¡ç±»çš„ç†è§£</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-10">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-10">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><p>åšäº†é¡¹ç›®ä¸‰çš„åŸºæœ¬ç±»</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220418093242079.png" alt="image-20220418093242079"></p><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-10">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>æš‚æ— </p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-10">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220418093329135.png" alt="image-20220418093329135"></p><h3 id="åŠ¨ç‰©ç±»">åŠ¨ç‰©ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day20;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&quot;æ©˜é»„è‰²&quot;</span>,<span class="number">3</span>);</span><br><span class="line">        cat.Myself();</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;é»‘è‰²&quot;</span>,<span class="number">5</span>);</span><br><span class="line">        dog.Myself();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String hair;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Animal</span><span class="params">(String hair, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.hair = hair;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getHair</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> hair;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è‡ªæˆ‘ä»‹ç»</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">Myself</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Cat</span><span class="params">(String hair, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(hair, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">Myself</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æ˜¯çŒ«,æˆ‘çš„æ¯›å‘æ˜¯&quot;</span> + getHair() + <span class="string">&quot;   æˆ‘ä»Šå¹´&quot;</span> + getAge()+ <span class="string">&quot;å²&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Dog</span><span class="params">(String hair, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(hair, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">Myself</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æ˜¯ç‹—,æˆ‘çš„æ¯›å‘æ˜¯&quot;</span> + getHair() + <span class="string">&quot;   æˆ‘ä»Šå¹´&quot;</span> + getAge() + <span class="string">&quot;å²&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å½¢çŠ¶">å½¢çŠ¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day20;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;1:çƒå‹ 2ï¼šæ­£æ–¹å½¢ 3.é•¿æ–¹å½¢ 4.åœ†æŸ±å½¢&quot;</span>);</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·è¾“å…¥ä½ è¦è®¡ç®—çš„å›¾å½¢ç±»å‹ï¼š&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">            <span class="keyword">if</span> (count == <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">//åˆ›å»ºä¸€ä¸ªçƒç±»</span></span><br><span class="line">                <span class="type">Sphere</span> <span class="variable">sphere</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Sphere</span>();</span><br><span class="line">                sphere.input();</span><br><span class="line">                System.out.println(sphere.display());</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (count == <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="comment">//åˆ›å»ºä¸€ä¸ªæ­£æ–¹ä½“</span></span><br><span class="line">                <span class="type">Square</span> <span class="variable">square</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Square</span>();</span><br><span class="line">                square.input();</span><br><span class="line">                System.out.println(square.display());</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (count == <span class="number">3</span>) &#123;</span><br><span class="line">                <span class="comment">//åˆ›å»ºä¸€ä¸ªé•¿æ–¹ä½“</span></span><br><span class="line">                <span class="type">Cuboid</span> <span class="variable">cuboid</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cuboid</span>();</span><br><span class="line">                cuboid.input();</span><br><span class="line">                System.out.println(cuboid.display());</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (count == <span class="number">4</span>) &#123;</span><br><span class="line">                <span class="comment">//åˆ›å»ºä¸€ä¸ªåœ†æŸ±ä½“</span></span><br><span class="line">                <span class="type">Circle</span> <span class="variable">circle</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>();</span><br><span class="line">                circle.input();</span><br><span class="line">                System.out.println(circle.display());</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;è¾“å…¥é”™è¯¯ï¼Œé‡æ–°è¾“å…¥&quot;</span>);</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å½¢çŠ¶æŠ½è±¡ç±»</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">shape</span>&#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">input</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">abstract</span> String  <span class="title function_">display</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="type">double</span> <span class="title function_">area</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="type">double</span> <span class="title function_">volume</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//çƒç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sphere</span> <span class="keyword">extends</span> <span class="title class_">shape</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> radius;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">input</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥çƒçš„åŠå¾„&quot;</span>);</span><br><span class="line">        radius = scanner.nextDouble();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    String <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;çƒå½¢&quot;</span> + <span class="string">&quot;çš„è¡¨é¢ç§¯æ˜¯:&quot;</span> + area() + <span class="string">&quot;,ä½“ç§¯æ˜¯:&quot;</span> + volume();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="type">double</span> <span class="title function_">area</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">4</span>*Math.PI*radius*radius;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="type">double</span> <span class="title function_">volume</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">4</span>*Math.PI*radius*radius*radius/<span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ­£æ–¹ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Square</span> <span class="keyword">extends</span> <span class="title class_">shape</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> sideLength;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">input</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥æ­£æ–¹å½¢çš„è¾¹é•¿&quot;</span>);</span><br><span class="line">        sideLength = scanner.nextDouble();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    String <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æ­£æ–¹å½¢&quot;</span>+ <span class="string">&quot;çš„è¡¨é¢ç§¯æ˜¯:&quot;</span> + area() + <span class="string">&quot;,ä½“ç§¯æ˜¯:&quot;</span> + volume();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="type">double</span> <span class="title function_">area</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sideLength*sideLength * <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="type">double</span> <span class="title function_">volume</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> area()*sideLength;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é•¿æ–¹ä½“ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cuboid</span> <span class="keyword">extends</span> <span class="title class_">shape</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> width; <span class="comment">//å®½</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> length; <span class="comment">//é•¿åº¦</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> highly; <span class="comment">//é«˜åº¦</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">input</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥é•¿æ–¹å½¢çš„é•¿åº¦&quot;</span>);</span><br><span class="line">        length = scanner.nextDouble();</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥é•¿æ–¹å½¢çš„å®½åº¦&quot;</span>);</span><br><span class="line">        width = scanner.nextDouble();</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥é•¿æ–¹å½¢çš„é«˜åº¦&quot;</span>);</span><br><span class="line">        highly = scanner.nextDouble();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    String <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;é•¿æ–¹å½¢&quot;</span>+ <span class="string">&quot;çš„è¡¨é¢ç§¯æ˜¯:&quot;</span> + area() + <span class="string">&quot;,ä½“ç§¯æ˜¯:&quot;</span> + volume();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="type">double</span> <span class="title function_">area</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> length*width *<span class="number">2</span> + length * highly*<span class="number">2</span> + highly * width * <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="type">double</span> <span class="title function_">volume</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> length * width * highly;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åœ†æŸ±ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_">shape</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> radius;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> highly;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">input</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥åœ†æŸ±çš„åŠå¾„&quot;</span>);</span><br><span class="line">        radius = scanner.nextDouble();</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥åœ†æŸ±çš„é«˜åº¦&quot;</span>);</span><br><span class="line">        highly = scanner.nextDouble();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    String <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;åœ†æŸ±ä½“&quot;</span>+ <span class="string">&quot;çš„è¡¨é¢ç§¯æ˜¯:&quot;</span> + area() + <span class="string">&quot;,ä½“ç§¯æ˜¯:&quot;</span> + volume();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="type">double</span> <span class="title function_">area</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span>*Math.PI*radius*radius + <span class="number">2</span> * Math.PI * radius * highly;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="type">double</span> <span class="title function_">volume</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Math.PI *radius *radius *highly;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220418095222014.png" alt="image-20220418095222014"></p><h3 id="è½¦ç±»">è½¦ç±»</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day20;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> Test3</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/15 17:13</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="string">&quot;å¥”é©°&quot;</span>,<span class="string">&quot;é»‘è‰²&quot;</span>,<span class="number">4</span>,<span class="number">5000</span>,<span class="number">5</span>);</span><br><span class="line">        car.run();</span><br><span class="line">        car.showCar();</span><br><span class="line">        <span class="type">Truck</span> <span class="variable">truck</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Truck</span>(<span class="string">&quot;æœ¬ç”°&quot;</span>,<span class="string">&quot;çº¢è‰²&quot;</span>,<span class="number">8</span>,<span class="number">300000</span>,<span class="number">200000</span>);</span><br><span class="line">        truck.run();</span><br><span class="line">        truck.showTruck();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Vehicles</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String brand; <span class="comment">// å•†æ ‡</span></span><br><span class="line">    <span class="keyword">private</span> String color; <span class="comment">// é¢œè‰²</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> wheelsNum; <span class="comment">// è½®å­ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> wheelsWight; <span class="comment">// è½®å­é‡é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Vehicles</span><span class="params">(String brand, String color, <span class="type">int</span> wheelsNum, <span class="type">double</span> wheelsWight)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.brand = brand;</span><br><span class="line">        <span class="built_in">this</span>.color = color;</span><br><span class="line">        <span class="built_in">this</span>.wheelsNum = wheelsNum;</span><br><span class="line">        <span class="built_in">this</span>.wheelsWight = wheelsWight;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘å·²ç»å¼€åŠ¨å•¦&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showInfo</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">                <span class="string">&quot;brand=&#x27;&quot;</span> + brand + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, color=&#x27;&quot;</span> + color + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, wheelsNum=&quot;</span> + wheelsNum +</span><br><span class="line">                <span class="string">&quot;, wheelsWight=&quot;</span> + wheelsWight;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span> <span class="keyword">extends</span> <span class="title class_">Vehicles</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> seats; <span class="comment">// åº§ä½ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(String brand, String color, <span class="type">int</span> wheelsNum, <span class="type">double</span> wheelsWight,<span class="type">int</span> seats)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(brand, color, wheelsNum, wheelsWight);</span><br><span class="line">        <span class="built_in">this</span>.seats = seats;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showCar</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span>   <span class="string">&quot;Car&#123; &quot;</span> +<span class="built_in">super</span>.toString() +</span><br><span class="line">                <span class="string">&quot;seats=&quot;</span> + seats +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Truck</span> <span class="keyword">extends</span> <span class="title class_">Vehicles</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> load; <span class="comment">// è½½é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Truck</span><span class="params">(String brand, String color, <span class="type">int</span> wheelsNum, <span class="type">double</span> wheelsWight,<span class="type">int</span> load)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(brand, color, wheelsNum, wheelsWight);</span><br><span class="line">        <span class="built_in">this</span>.load = load;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">showTruck</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span>   <span class="string">&quot;Truck&#123;&quot;</span> + <span class="built_in">super</span>.toString() +</span><br><span class="line">                <span class="string">&quot;load=&quot;</span> + load +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220418094052455.png" alt="image-20220418094052455"></p><h2 id="æ€»ç»“-10">æ€»ç»“</h2><p>ä¸‹åˆå­¦ä¹ äº†40åˆ†é’Ÿå·¦å³ï¼Œç”±èµ–ç³åŒå­¦å’Œç‹é™è€å¸ˆè®²æ¥å£å’ŒæŠ½è±¡ç±»ï¼Œç‹é™è€å¸ˆæé—®é—®é¢˜ï¼Œä¸€äº›é—®é¢˜ä¸“ä¸šåè¯ï¼Œåœ¨javaä¸­ä¸ä¸€æ ·ï¼Œä¸€ä¸‹å­å›ç­”ä¸ä¸Šæ¥ï¼ŒçŸ¥é“ä½œç”¨å°±çŸ¥é“æ˜¯ä»€ä¹ˆäº†ï¼Œè€å¸ˆé—®äº†äº›é™·é˜±çš„é—®é¢˜ï¼Œå¯¹å¤šæ€å¯¹æŠ½è±¡ç±»ï¼Œä¹Ÿå‘Šè¯‰æˆ‘ä»¬æ¼”è®²åº”è¯¥æ€ä¹ˆæ¼”è®²ï¼Œå‡ºäº†ä¸€äº›æŠ½è±¡ç±»çš„é¢˜ç›®ï¼Œå‘ŠçŸ¥æˆ‘ä»¬ä»£ç èƒ½åŠ›çš„é‡è¦æ€§ã€‚è¿™æ ·è®¨è®ºä¸‹æ¥ï¼ŒçŸ¥é“äº†æœªæ¥çš„å­¦ä¹ æ­¥éª¤ï¼Œå˜å¾—ç³»ç»ŸåŒ–é«˜æ•ˆã€‚</p><h1 id="4-18-4-19é¡¹ç›®ä¸‰å®Œæˆ">4.18 - 4.19é¡¹ç›®ä¸‰å®Œæˆ</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-11">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜">2.æ ‡é¢˜</h2><h3 id="é¡¹ç›®ä¸‰å¼€å‘å›¢é˜Ÿè°ƒåº¦è½¯ä»¶">é¡¹ç›®ä¸‰å¼€å‘å›¢é˜Ÿè°ƒåº¦è½¯ä»¶</h3><p>IDEAçš„åŸºæœ¬ä½¿ç”¨</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>é¡¹ç›®ä¸‰</p><p>IDEA</p><p>è€ƒå¯Ÿçš„ä¸œè¥¿å¾ˆå¤š(åŸºç¡€å‘)ï¼šå¤šæ€ã€å°è£…ã€ç»§æ‰¿ç­‰éƒ½æœ‰ä½“ç°ã€ä»¥åŠåŸºæœ¬è¯­æ³•å’Œæ•°ç»„çš„ä½¿ç”¨ï¼Œå¼‚å¸¸å¤„ç†ç­‰çŸ¥è¯†ç‚¹ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220420123909423.png" alt="image-20220420123909423"></p><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><p>å†…å®¹åˆ†ä¸º4ä¸ªåŒ…ï¼ŒdomainåŸºæœ¬æ˜¯ç¨‹åºä¸­çš„ä¿¡æ¯ï¼Œserviceä¸­æ˜¯ä¿¡æ¯æ•°ç»„ï¼Œviewä¸­ä¸€ä¸ªå·¥å…·ç±»ï¼Œä¸€ä¸ªä¸»ç¨‹åºmainã€‚</p><p>domainçš„åŒ…æ¯”è¾ƒç®€å•ï¼ŒåŸºæœ¬åˆ©ç”¨æŠ½è±¡ç±»ï¼Œé‡å†™æ–¹æ³•å°±è¡Œã€‚serviceä¸­å°±ç”¨åˆ°çš„å¯¹è±¡æ•°ç»„å’Œå¤šæ€æ¯”è¾ƒå¤šï¼Œè°ƒç”¨å…¶ä»–ç±»ä¸­çš„å¯¹è±¡ä¿¡æ¯ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œå®¹æ˜“ææ··ï¼Œä¸»ç¨‹åºmainä¹Ÿæ¯”è¾ƒç®€å•åŸºæœ¬ç”¨æ˜¯switchå°±å¥½ã€‚æ ¹æ®é€‰æ‹©è°ƒç”¨ä¸åŒçš„å¯¹è±¡çš„æ–¹æ³•å°±å¥½ã€‚</p><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="ç« èŠ‚å†…å®¹"><strong>ç« èŠ‚å†…å®¹</strong></h3><p>é‡ç‚¹ï¼šé¡¹ç›®ä¸‰çš„å®Œæˆ</p><p>IDEAçš„åŸºæœ¬ä½¿ç”¨</p><h3 id="éš¾ç‚¹"><strong>éš¾ç‚¹</strong></h3><p>å¯¹å›¢é˜Ÿæ·»åŠ æˆå‘˜çš„æ“ä½œ</p><p>ç”¨åˆ°äº†å¼ºè½¬å’Œå¤šæ¬¡çš„å¼‚å¸¸å¤„ç†equalsçš„ç”¨æ³•ç­‰</p><p>ç±»åˆ›é€ çš„å¯¹è±¡ å¯¹è±¡çš„ç»§æ‰¿ç‚¹ è°ƒç”¨çš„å±æ€§å®¹æ˜“ææ··ï¼Œå•è¯ä¸å¤ªç†Ÿæ‚‰ï¼Œæ¥å›ç¿»çœ‹ï¼Œè‹±è¯­å•è¯å¾ˆé‡è¦ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addMember</span><span class="params">(Employee e)</span> <span class="keyword">throws</span> TeamException &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        æˆå‘˜å·²ç»æ»¡äº† æ— æ³•æ·»åŠ </span></span><br><span class="line">        <span class="keyword">if</span> (total &gt;= MAX_MEMBER)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TeamException</span>(<span class="string">&quot;æˆå‘˜å·²æ»¡ï¼Œæ— æ³•æ·»åŠ &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        è¯¥æˆå‘˜ä¸æ˜¯å¼€æ”¾äººå‘˜ æ— æ³•æ·»åŠ </span></span><br><span class="line">        <span class="keyword">if</span> (!(e <span class="keyword">instanceof</span> programmer))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TeamException</span>(<span class="string">&quot;è¯¥æˆå‘˜ä¸æ˜¯å¼€æ”¾äººå‘˜ï¼Œæ— æ³•æ·»åŠ &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//        è¯¥å‘˜å·¥å·²ç»åœ¨æœ¬å¼€å‘å›¢é˜Ÿ</span></span><br><span class="line">        <span class="keyword">if</span> (isExist(e))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TeamException</span>(<span class="string">&quot;è¯¥å‘˜å·¥å·²ç»åœ¨æœ¬å¼€å‘å›¢é˜Ÿ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//        è¯¥å‘˜å·¥å·²ç»æ˜¯æŸå›¢é˜Ÿæˆå‘˜</span></span><br><span class="line">        <span class="type">programmer</span> <span class="variable">p</span> <span class="operator">=</span> (programmer) e;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;BUSY&quot;</span>.equals(p.getStatus().getNAME())) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TeamException</span>(<span class="string">&quot;è¯¥å‘˜å·¥å·²ç»æ˜¯æŸå›¢é˜Ÿçš„æˆå‘˜&quot;</span>);</span><br><span class="line">        &#125;<span class="comment">//        è¯¥å‘˜å·¥æ­£åœ¨ä¼‘å‡</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;VOCATION&quot;</span>.equals(p.getStatus().getNAME()))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TeamException</span>(<span class="string">&quot;è¯¥å‘˜å·¥æ­£åœ¨ä¼‘å‡&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–å›¢é˜Ÿä¸­å·²ç»æœ‰çš„ç¨‹åºå‘˜ è®¾è®¡å¸ˆ æ¶æ„å¸ˆ çš„æ•°é‡</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">programmerNum</span> <span class="operator">=</span> <span class="number">0</span>,designerNum = <span class="number">0</span>,architectNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ¶æ„å¸ˆ</span></span><br><span class="line">        <span class="keyword">for</span> (programmer teams : team)&#123;</span><br><span class="line">            <span class="keyword">if</span> (teams <span class="keyword">instanceof</span> Architect)&#123;</span><br><span class="line">                architectNum++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (teams <span class="keyword">instanceof</span> Designer)&#123;</span><br><span class="line">                designerNum++;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(teams != <span class="literal">null</span>)&#123;</span><br><span class="line">                programmerNum++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//        å›¢é˜Ÿè‡³å¤šåªèƒ½æœ‰ä¸€åæ¶æ„å¸ˆ</span></span><br><span class="line">        <span class="comment">//        å›¢é˜Ÿè‡³å¤šåªèƒ½æœ‰ä¸¤åè®¾è®¡å¸ˆ</span></span><br><span class="line">        <span class="comment">//        å›¢é˜Ÿè‡³å¤šåªèƒ½æœ‰ä¸‰åç¨‹åºå‘˜</span></span><br><span class="line">        <span class="keyword">if</span> (p <span class="keyword">instanceof</span> Architect)&#123;</span><br><span class="line">            <span class="keyword">if</span> (architectNum &gt;= <span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TeamException</span>(<span class="string">&quot;å›¢é˜Ÿè‡³å¤šåªèƒ½æœ‰ä¸€åæ¶æ„å¸ˆ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> Designer)&#123;</span><br><span class="line">            <span class="keyword">if</span> (designerNum &gt;= <span class="number">2</span>)&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TeamException</span>(<span class="string">&quot;å›¢é˜Ÿè‡³å¤šåªèƒ½æœ‰ä¸¤åè®¾è®¡å¸ˆ&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (programmerNum &gt;= <span class="number">3</span>)&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TeamException</span>(<span class="string">&quot;å›¢é˜Ÿè‡³å¤šåªèƒ½æœ‰ä¸‰åç¨‹åºå‘˜&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å±æ€§ä¿®æ”¹èµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">        p.setStatus(Status.BUSY); <span class="comment">//å·¥ä½œçŠ¶æ€</span></span><br><span class="line">        p.setMemberId(counter++); <span class="comment">//å›¢é˜ŸID</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//å°†eæ·»åŠ åœ¨ç°æœ‰çš„teamä¸­</span></span><br><span class="line">        team[total++] = p;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="é‡åˆ°çš„BUG"><strong>é‡åˆ°çš„BUG</strong></h3><p>è‡ªå·±å†™æ·»åŠ ç”¨æˆ·æˆå‘˜è¿™é‡Œçš„æ—¶å€™ï¼Œä¸€ç›´æŠ¥é”™ï¼Œçœ‹æŠ¥é”™çš„å¼‚å¸¸ï¼Œæ·»åŠ å¤±è´¥ï¼Œå¯»æ‰¾æºå¤´ï¼ŒaddMemberä¸­æœ‰ä¸€ä¸ªisExistè¿™é‡Œçš„é—®é¢˜ï¼Œå’Œè€å¸ˆçš„ä»£ç å¯¹åº”ï¼Œå‘ç°æ˜¯è‡ªå·±çš„å¯¹å¯¹è±¡æ•°ç»„çš„éå†æœ‰äº›è®¸ä¸ä¸€æ ·ï¼Œä¿®æ”¹åæˆåŠŸäº†ï¼Œæˆ‘æƒ³åŸå› æ˜¯åœ¨å›¢é˜Ÿæˆå‘˜ä¸­ä»æ¥æ²¡æœ‰å¯¹è±¡çš„æ—¶å€™ï¼Œéå†çš„æ—¶å€™æ˜¯ç©ºæŒ‡é’ˆï¼Œæ‰€æœ‰ä¼šæŠ¥é”™ï¼Œæ²¡æœ‰æ­£å¸¸çš„å¤„ç†æ–¹å¼.</p><p><img src="https://docimg3.docs.qq.com/image/orhGhw3hjF3hFR9aAa_D3g.png?w=954&amp;h=982" alt="img"></p><p><img src="https://docimg2.docs.qq.com/image/N2cckENY63ucRlY_ka3NoA.png?w=660&amp;h=300" alt="img"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="æ— ">æ— </h3><h2 id="7-æ€»ç»“">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹ã€‚</p><p>ä»Šå¤©æ—©ä¸ŠæŠŠé¡¹ç›®ä¸‰å¤ä¹ å·©å›ºäº†ä¸€ä¸‹ï¼Œè¯•ç€è‡ªå·±æ•²å‡ºæ¥ï¼Œç»“æœè¿˜æ˜¯æœ‰ç‚¹éš¾åº¦çš„ï¼Œæœ‰äº›è°ƒç”¨ç±»çš„æ—¶å€™ï¼Œå°¤å…¶æ˜¯åœ¨æ·»åŠ æˆå‘˜å’ŒæŸ¥çœ‹å›¢é˜Ÿæˆå‘˜çš„æ—¶å€™ï¼Œæä¸æ¸…æ¥šï¼Œä¸å¤ªå¥½æŒæ¡ï¼Œè€ƒå¯Ÿçš„ä¸œè¥¿å¾ˆå¤š(åŸºç¡€å‘)ï¼šå¤šæ€ã€å°è£…ã€ç»§æ‰¿ç­‰éƒ½æœ‰ä½“ç°ã€ä»¥åŠåŸºæœ¬è¯­æ³•å’Œæ•°ç»„çš„ä½¿ç”¨ï¼Œå¼‚å¸¸å¤„ç†ç­‰çŸ¥è¯†ç‚¹ï¼Œæ˜å¤©å¯ä»¥å†å°è¯•ä¸€ä¸‹ï¼Œä¸‹åˆå­¦ä¹ äº†ç³»ç»Ÿå­¦ä¹ äº†IDEAä½¿ç”¨ï¼Œä¸€ç›´å†ç”¨IDEAéšä¾¿è¿‡è¿‡å°±å¥½äº†ã€‚</p><h1 id="4-21-å¤šçº¿ç¨‹">4.21 å¤šçº¿ç¨‹</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-12">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜-2">2.æ ‡é¢˜</h2><h3 id="å¤šçº¿ç¨‹">å¤šçº¿ç¨‹</h3><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-2">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>å¤šçº¿ç¨‹-ç« èŠ‚æ¦‚è¿°_ç¨‹åºè¿›ç¨‹çº¿ç¨‹çš„æ¦‚å¿µ<br>å¤šçº¿ç¨‹-å•æ ¸ä¸å¤šæ ¸CPUçš„ä»»åŠ¡æ‰§è¡Œ_å¹¶è¡Œä¸å¹¶å‘<br>å¤šçº¿ç¨‹-å¤šçº¿ç¨‹çš„ä¼˜ç‚¹ç­‰<br>å¤šçº¿ç¨‹-åˆ›å»ºå¤šçº¿ç¨‹æ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±»<br>å¤šçº¿ç¨‹-åˆ›å»ºè¿‡ç¨‹ä¸­ä¸¤ä¸ªé—®é¢˜çš„è¯´æ˜<br>å¤šçº¿ç¨‹-ç»§æ‰¿æ–¹å¼çš„è¯¾åç»ƒä¹ <br>å¤šçº¿ç¨‹-çº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•</p><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-2">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="ç¨‹åºè¿›ç¨‹çº¿ç¨‹çš„æ¦‚å¿µ">ç¨‹åºè¿›ç¨‹çº¿ç¨‹çš„æ¦‚å¿µ</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220421135821845.png" alt="image-20220421135821845"></p><p>ä¼˜ç‚¹ï¼šå’Œæ‰€æœ‰è¯­è¨€ä¸€æ ·</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220422081331907.png" alt="image-20220422081331907"></p><p>å¤šçº¿ç¨‹ä¸­çš„å¸¸ç”¨æ–¹æ³•</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220421171515081.png" alt="image-20220421171515081"></p><p>ä»£ç æ¼”ç¤º</p><p><strong>è¿‡ç¨‹ä¸­å‡ºç°äº†ç‚¹å°é—®é¢˜ï¼ŒisAliveæ–¹æ³•åˆšå¼€å§‹åœ¨startå‰é¢ï¼Œæ‰§è¡Œå‡ºæ¥æ˜¯false æ”¾åˆ° startåé¢å°±æ˜¯æ­£å¸¸çš„trueçº¿ç¨‹å­˜åœ¨</strong></p><p>isAlive() æ–¹æ³•çš„ä½œç”¨æ˜¯åˆ¤æ–­å½“å‰çš„çº¿ç¨‹æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚ä»€ä¹ˆæ˜¯æ´»åŠ¨çŠ¶æ€å‘¢ï¼Ÿæ´»åŠ¨çŠ¶æ€å°±æ˜¯çº¿ç¨‹å·²ç»å¯åŠ¨ä¸”å°šæœªç»ˆæ­¢ã€‚çº¿ç¨‹å¤„äºæ­£åœ¨è¿è¡Œæˆ–å‡†å¤‡å¼€å§‹è¿è¡Œçš„çŠ¶æ€ï¼Œå°±è®¤ä¸ºçº¿ç¨‹æ˜¯â€œå­˜æ´»â€çš„ã€‚</p><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹-2">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="é‡ç‚¹">é‡ç‚¹</h3><p>10å¸¸ç”¨æ–¹æ³•çš„ä½¿ç”¨</p><p>éš¾ç‚¹ ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadMethodTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="type">HelloThread1</span> <span class="variable">h1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HelloThread1</span>(<span class="string">&quot;hello1&quot;</span>);</span><br><span class="line"><span class="comment">//        h1.setName(&quot;Hello1&quot;);</span></span><br><span class="line">        System.out.println(h1.isAlive());</span><br><span class="line"></span><br><span class="line">        h1.start();</span><br><span class="line">        System.out.println(h1.isAlive());</span><br><span class="line"></span><br><span class="line">        Thread.currentThread().setName(<span class="string">&quot;ä¸»çº¿ç¨‹&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">100</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> != <span class="number">0</span>)&#123;</span><br><span class="line">                Thread.sleep(<span class="number">1</span>);</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;  :ã€€ã€€&quot;</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//            if (i == 20)&#123;</span></span><br><span class="line"><span class="comment">//                try &#123;</span></span><br><span class="line"><span class="comment">//                    h1.join();</span></span><br><span class="line"><span class="comment">//                &#125; catch (InterruptedException e) &#123;</span></span><br><span class="line"><span class="comment">//                    e.printStackTrace();</span></span><br><span class="line"><span class="comment">//                &#125;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HelloThread1</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HelloThread1</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; <span class="number">100</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    sleep(<span class="number">2</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;  :ã€€ã€€&quot;</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line"><span class="comment">//            if (i % 20 == 0)&#123;</span></span><br><span class="line"><span class="comment">//                yield();</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="BUG-å¤±è¯¯">BUG(å¤±è¯¯)</h3><p>è¿‡ç¨‹ä¸­å‡ºç°äº†ç‚¹å°é—®é¢˜ï¼ŒisAliveæ–¹æ³•åˆšå¼€å§‹åœ¨startå‰é¢ï¼Œæ‰§è¡Œå‡ºæ¥æ˜¯false æ”¾åˆ° startåé¢å°±æ˜¯æ­£å¸¸çš„trueçº¿ç¨‹å­˜åœ¨</p><p>isAliceæ–¹æ³•åœ¨å®è¡Œçº¿ç¨‹æ—¶å€™å’Œæ²¡æ‰§è¡Œç»“æœä¸åŒ</p><p>isAlive() æ–¹æ³•çš„ä½œç”¨æ˜¯åˆ¤æ–­å½“å‰çš„çº¿ç¨‹æ˜¯å¦å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚ä»€ä¹ˆæ˜¯æ´»åŠ¨çŠ¶æ€å‘¢ï¼Ÿæ´»åŠ¨çŠ¶æ€å°±æ˜¯çº¿ç¨‹å·²ç»å¯åŠ¨ä¸”å°šæœªç»ˆæ­¢ã€‚çº¿ç¨‹å¤„äºæ­£åœ¨è¿è¡Œæˆ–å‡†å¤‡å¼€å§‹è¿è¡Œçš„çŠ¶æ€ï¼Œå°±è®¤ä¸ºçº¿ç¨‹æ˜¯â€œå­˜æ´»â€çš„ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220422081450814.png" alt="image-20220422081450814"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-2">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="äº¤æ›¿æ‰§è¡Œ">äº¤æ›¿æ‰§è¡Œ</h3><p>å¤±è´¥</p><p>çªå‘å¥‡æƒ³ æƒ³ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰§è¡Œ ï¼Œä¸Šé¢çº¿ç¨‹æ‰“å°å®Œä¸€ä¸ªä¸‹é¢æ‰“å°ä¸€ä¸ªå†ä¸Šé¢ï¼Œåˆ©ç”¨æ‰€å­¦çŸ¥è¯†ï¼Œæƒ³ç”¨æ—¶é—´å·®ï¼Œè¿›è¡Œä¸€ä¸ªå®Œæˆï¼Œç»“æœå¤±è´¥ï¼Œåº”è¯¥æ˜¯çº¿ç¨‹å¤„ç†æ—¶å€™ï¼Œçš„æ—¶é—´å·®ä¸è¶³ï¼Œçº¿ç¨‹åŒæ—¶æ‰§è¡Œï¼Œå®Œæˆçš„æ—¶é—´ä¹Ÿä¸æ˜¯å›ºå®šçš„ï¼Œæ‰ä¼šå¤±è´¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day21;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> subjectTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/22 8:18</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">subjectTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">test1</span> <span class="variable">test1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">test1</span>(<span class="string">&quot;å¶çº¿ç¨‹&quot;</span>);</span><br><span class="line">        <span class="type">test2</span> <span class="variable">test2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">test2</span>(<span class="string">&quot;å¥‡çº¿ç¨‹&quot;</span>);</span><br><span class="line">        test1.start();</span><br><span class="line">        test2.start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">test1</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">test1</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">101</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> ==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="built_in">this</span>.getName() + <span class="string">&quot; : &quot;</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">test2</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">test2</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">101</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    sleep(<span class="number">1500</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="built_in">this</span>.getName() + <span class="string">&quot; : &quot;</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220422083648354.png" alt="image-20220422083648354"></p><p>CSDNæœåˆ°çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">subjectTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SSS</span> <span class="variable">sss</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SSS</span>();</span><br><span class="line">        sss.turning();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SSS</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">turning</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">even</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (count &lt; <span class="number">100</span>) &#123;</span><br><span class="line">                <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                    <span class="comment">// åªå¤„ç†å¶æ•°</span></span><br><span class="line">                    <span class="keyword">if</span> ((count &amp; <span class="number">1</span>) == <span class="number">0</span>) &#123;</span><br><span class="line">                        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;: &quot;</span> + count++);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;å¶æ•°&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">odd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (count &lt; <span class="number">100</span>) &#123;</span><br><span class="line">                <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">                    <span class="comment">// åªå¤„ç†å¥‡æ•°</span></span><br><span class="line">                    <span class="keyword">if</span> ((count &amp; <span class="number">1</span>) == <span class="number">1</span>) &#123;</span><br><span class="line">                        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;: &quot;</span> + count++);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;å¥‡æ•°&quot;</span>);</span><br><span class="line">        even.start();</span><br><span class="line">        odd.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220422084258274.png" alt="image-20220422084258274"></p><p>æ˜¯åˆ©ç”¨ä¸€ä¸ªè¾“å‡ºçš„æ—¶å€™åˆ¤æ–­ä¸€ä¸‹å½“å‰éœ€è¦è¾“å‡ºçš„æ•°æ˜¯ä¸æ˜¯è‡ªå·±è¦è´Ÿè´£æ‰“å°çš„å€¼ï¼Œå¦‚æœæ˜¯å°±è¾“å‡ºï¼Œä¸æ˜¯å°±ç›´æ¥é‡Šæ”¾é”ã€‚</p><p>å› ä¸ºè‡ªå·±è¿˜æ²¡å­¦åˆ°ï¼Œç­‰åˆ°å­¦å®Œé”ï¼Œå†å›æ¥å†™ä¸€æ¬¡</p><h2 id="7-æ€»ç»“-2">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯ç†è§£å¤šçº¿ç¨‹çš„å¥½å¤„ï¼Œä»¥åŠåŸç†ï¼Œéš¾ç‚¹æš‚æ—¶æ²¡æœ‰å¾ˆéš¾ï¼Œç†è§£å¤šçº¿ç¨‹ï¼Œå‰æ®µæ—¶é—´ï¼Œå­¦äº†pythonä¸­çš„å¤šçº¿ç¨‹ï¼Œå¤§å·®ä¸å¤§ï¼Œå°±æ˜¯ä»£ç ä¸å¤ªä¸€æ ·ï¼Œç”¨ä¸€äº›æ–¹æ³•çš„æ—¶å€™æ˜¯éœ€è¦åŠ ä¸Štry æ¥å¤„ç†å¼‚å¸¸çš„ã€‚å¤šçº¿ç¨‹ä¹Ÿæ˜¯javaé«˜çº§çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œéœ€è¦ç†Ÿç»ƒæŒæ¡ï¼ŒçŸ¥é“å¤šè¿›ç¨‹çš„ä½¿ç”¨å’Œåœºæ™¯ï¼Œå°±çŸ¥é“ä»¥åå¼€å‘ï¼Œåº”è¯¥éƒ½æ˜¯å¤šä»»åŠ¡æ‰§è¡Œï¼Œå¤§å¤§æé«˜äº†æ•ˆç‡ï¼Œä¸€äº›è‡ªå·±æƒ³å®ç°çš„ç¨‹åºï¼Œåˆ©ç”¨å¤šçº¿ç¨‹ï¼Œæ˜¯å¯ä»¥åšåˆ°çš„ã€‚</p><h1 id="4-25å¤šçº¿ç¨‹-çº¿ç¨‹å®‰å…¨é—®é¢˜">4.25å¤šçº¿ç¨‹ çº¿ç¨‹å®‰å…¨é—®é¢˜</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-13">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜-3">2.æ ‡é¢˜</h2><p>P431 429.å°šç¡…è°·_å¤šçº¿ç¨‹-ç†è§£çº¿ç¨‹çš„å®‰å…¨é—®é¢˜<br>P432 430.å°šç¡…è°·_å¤šçº¿ç¨‹-çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä¸¾ä¾‹å’Œè§£å†³æªæ–½<br>P433 431.å°šç¡…è°·_å¤šçº¿ç¨‹-åŒæ­¥ä»£ç å—å¤„ç†å®ç°Runnableçš„çº¿ç¨‹å®‰å…¨é—®é¢˜<br>P434 432.å°šç¡…è°·_å¤šçº¿ç¨‹-åŒæ­¥ä»£ç å—å¤„ç†ç»§æ‰¿Threadç±»çš„çº¿ç¨‹å®‰å…¨é—®é¢˜<br>P435 433.å°šç¡…è°·_å¤šçº¿ç¨‹-åŒæ­¥æ–¹æ³•å¤„ç†å®ç°Runnableçš„çº¿ç¨‹å®‰å…¨é—®é¢˜<br>P436 434.å°šç¡…è°·_å¤šçº¿ç¨‹-åŒæ­¥æ–¹æ³•å¤„ç†ç»§æ‰¿Threadç±»çš„çº¿ç¨‹å®‰å…¨é—®é¢˜<br>P437 435.å°šç¡…è°·_å¤šçº¿ç¨‹-çº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼ä¹‹æ‡’æ±‰å¼<br>P438 436.å°šç¡…è°·_å¤šçº¿ç¨‹-æ­»é”çš„é—®é¢˜<br>P439 437.å°šç¡…è°·_å¤šçº¿ç¨‹-Locké”æ–¹å¼è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜<br>P440 438.å°šç¡…è°·_å¤šçº¿ç¨‹-åŒæ­¥æœºåˆ¶çš„è¯¾åç»ƒä¹ <br>P441 439.å°šç¡…è°·_å¤šçº¿ç¨‹-çº¿ç¨‹é€šä¿¡çš„ä¾‹é¢˜</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-3">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>å¤šçº¿ç¨‹çº¿ç¨‹å®‰å…¨é—®é¢˜ä»¥åŠå¤„ç†æ–¹æ³•</p><p>lockè§£å†³æ­»é”é—®é¢˜</p><p>å®Œæˆçº¿ç¨‹é—´é€šè®¯</p><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-3">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220425093807313.png" alt="image-20220425093807313"></p><h4 id="Runnableæ¥å£çº¿ç¨‹å®‰å…¨é—®é¢˜-è§£å†³æ–¹æ³•-å¯ç”¨this">Runnableæ¥å£çº¿ç¨‹å®‰å…¨é—®é¢˜ è§£å†³æ–¹æ³• å¯ç”¨this</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">m1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(m1);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(m1);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(m1);</span><br><span class="line">        t1.setName(<span class="string">&quot;ç”µè„‘ä¸€&quot;</span>);</span><br><span class="line">        t2.setName(<span class="string">&quot;ç”µè„‘äºŒ&quot;</span>);</span><br><span class="line">        t3.setName(<span class="string">&quot;ç”µè„‘ä¸‰&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">10</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : å–ç¥¨ : ç¥¨å·ä¸º  &quot;</span> + ticket);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç»§æ‰¿çº¿ç¨‹å®‰å…¨é—®é¢˜-åŒæ­¥ä»£ç å—">ç»§æ‰¿çº¿ç¨‹å®‰å…¨é—®é¢˜ åŒæ­¥ä»£ç å—</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">windowsTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">windows</span> <span class="variable">w1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">windows</span>();</span><br><span class="line">        <span class="type">windows</span> <span class="variable">w2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">windows</span>();</span><br><span class="line">        <span class="type">windows</span> <span class="variable">w3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">windows</span>();</span><br><span class="line">        w1.setName(<span class="string">&quot;ç”µè„‘ä¸€&quot;</span>);</span><br><span class="line">        w2.setName(<span class="string">&quot;ç”µè„‘äºŒ&quot;</span>);</span><br><span class="line">        w3.setName(<span class="string">&quot;ç”µè„‘ä¸‰&quot;</span>);</span><br><span class="line">        w1.start();</span><br><span class="line">        w2.start();</span><br><span class="line">        w3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">windows</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">10000</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Object</span> <span class="variable">object</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line"><span class="comment">//            synchronized (object) &#123;</span></span><br><span class="line">           <span class="keyword">synchronized</span> (windows.class) &#123;</span><br><span class="line">                <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">1</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(getName() + <span class="string">&quot; : å–ç¥¨ : ç¥¨å·ä¸º  &quot;</span> + ticket);</span><br><span class="line">                    ticket--;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŒæ­¥æ–¹æ³•è§£å†³ç»§æ‰¿çº¿ç¨‹å®‰å…¨é—®é¢˜">åŒæ­¥æ–¹æ³•è§£å†³ç»§æ‰¿çº¿ç¨‹å®‰å…¨é—®é¢˜</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">windowsTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">windows</span> <span class="variable">w1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">windows</span>();</span><br><span class="line">        <span class="type">windows</span> <span class="variable">w2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">windows</span>();</span><br><span class="line">        <span class="type">windows</span> <span class="variable">w3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">windows</span>();</span><br><span class="line">        w1.setName(<span class="string">&quot;ç”µè„‘ä¸€&quot;</span>);</span><br><span class="line">        w2.setName(<span class="string">&quot;ç”µè„‘äºŒ&quot;</span>);</span><br><span class="line">        w3.setName(<span class="string">&quot;ç”µè„‘ä¸‰&quot;</span>);</span><br><span class="line">        w1.start();</span><br><span class="line">        w2.start();</span><br><span class="line">        w3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">windows</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line"><span class="comment">//            synchronized (object) &#123;</span></span><br><span class="line">             show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : å–ç¥¨ : ç¥¨å·ä¸º  &quot;</span> + ticket);</span><br><span class="line">            ticket--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒæ­¥æ–¹æ³•è§£å†³æ¥å£é—®é¢˜</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">m1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(m1,<span class="string">&quot;ç”µè„‘ä¸€&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(m1);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(m1);</span><br><span class="line">        t2.setName(<span class="string">&quot;ç”µè„‘äºŒ&quot;</span>);</span><br><span class="line">        t3.setName(<span class="string">&quot;ç”µè„‘ä¸‰&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">ticket</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">            show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (ticket &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">10</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : å–ç¥¨ : ç¥¨å·ä¸º  &quot;</span> + ticket);</span><br><span class="line">            ticket--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="çº¿ç¨‹åŒæ­¥-é”">çº¿ç¨‹åŒæ­¥ é”</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220425231622951.png" alt="image-20220425231622951"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">private</span> <span class="type">ReentrantLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">//trueäº¤æ›¿</span></span><br></pre></td></tr></table></figure><h3 id="åŒæ­¥æœºåˆ¶">åŒæ­¥æœºåˆ¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Account</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> balance;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">ReentrantLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(<span class="type">double</span> balance)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.balance = balance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//  å­˜é’±</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deposit</span><span class="params">(<span class="type">double</span> amt)</span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">if</span> (amt &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                balance += amt;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() +<span class="string">&quot;å­˜é’±æˆåŠŸ è´¦æˆ·ä½™é¢ ï¼š &quot;</span> + balance);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Customer</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Account account;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer</span><span class="params">(Account account)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.account = account;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">                account.deposit(<span class="number">1000</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Account</span> <span class="variable">account</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="type">Customer</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer</span>(account);</span><br><span class="line">        <span class="type">Customer</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer</span>(account);</span><br><span class="line">        c1.setName(<span class="string">&quot;ç”²&quot;</span>);</span><br><span class="line">        c2.setName(<span class="string">&quot;ä¹™&quot;</span>);</span><br><span class="line">        c1.start();</span><br><span class="line">        c2.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="çº¿ç¨‹é€šè®¯">çº¿ç¨‹é€šè®¯</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220425231746643.png" alt="image-20220425231746643"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">waitTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">wait</span> <span class="variable">wait</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">wait</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(wait,<span class="string">&quot;å¥‡çº¿ç¨‹&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(wait,<span class="string">&quot;å¶çº¿ç¨‹&quot;</span>);</span><br><span class="line">        t2.start();</span><br><span class="line">        t1.start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">wait</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">                    notify();</span><br><span class="line">                    <span class="keyword">if</span> (num &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()+ <span class="string">&quot; : &quot;</span> + num);</span><br><span class="line">                    num--;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            wait();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹-3">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="ç« èŠ‚å†…å®¹-2">ç« èŠ‚å†…å®¹</h3><p>æ€»ç»“åœ¨ä¸€ä¸ªæ¡ˆä¾‹ä¸­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Clerk</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">product</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">produceProduct</span><span class="params">()</span> &#123; <span class="comment">//ç”Ÿäº§</span></span><br><span class="line">        <span class="keyword">if</span> (product &lt; <span class="number">20</span>)&#123;</span><br><span class="line">            product++;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot; å¼€å§‹ç”Ÿäº§ç¬¬ &quot;</span> + product + <span class="string">&quot;ä¸ªäº§å“&quot;</span>);</span><br><span class="line">            notify();</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">printProduct</span><span class="params">()</span> &#123; <span class="comment">//æ¶ˆè´¹</span></span><br><span class="line">        <span class="keyword">if</span> (product &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">19</span>)+<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (product &gt; num)&#123;</span><br><span class="line">                product -= num;</span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot; æ¶ˆè´¹äº† &quot;</span> + num + <span class="string">&quot;ä¸ªäº§å“&quot;</span>);</span><br><span class="line">                notify();</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    wait();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Consumer</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123; <span class="comment">//æ¶ˆè´¹è€…</span></span><br><span class="line">    <span class="keyword">private</span> Clerk clerk;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Consumer</span><span class="params">(Clerk clerk)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.clerk = clerk;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(getName() + <span class="string">&quot; : å¼€å§‹æ¶ˆè´¹äº§å“........&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            clerk.printProduct();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Producer</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123; <span class="comment">// ç”Ÿäº§è€…</span></span><br><span class="line">    <span class="keyword">private</span> Clerk clerk;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Producer</span><span class="params">(Clerk clerk)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.clerk = clerk;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(getName() + <span class="string">&quot; : å¼€å§‹ç”Ÿäº§äº§å“........&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            clerk.produceProduct();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProductTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Clerk</span> <span class="variable">clerk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Clerk</span>();</span><br><span class="line">        <span class="type">Consumer</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Consumer</span>(clerk);</span><br><span class="line">        p1.setName(<span class="string">&quot;æ¶ˆè´¹è€…[11]&quot;</span>);</span><br><span class="line">        <span class="type">Producer</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Producer</span>(clerk);</span><br><span class="line">        p2.setName(<span class="string">&quot;ç”Ÿäº§è€…[1]&quot;</span>);</span><br><span class="line">        p1.start();</span><br><span class="line">        p2.start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-3">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="synchronizedå’ŒLockçš„å¼‚åŒ">synchronizedå’ŒLockçš„å¼‚åŒ</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220425103544527.png" alt="image-20220425103544527"></p><p>å¼€å‘ä¸­Lock &gt; åŒæ­¥ä»£ç å— &gt; åŒæ­¥æ–¹æ³•</p><h3 id="Lockå¥‡å¶äº¤æ›¿">Lockå¥‡å¶äº¤æ›¿</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LockTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Lock</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">lock1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(lock,<span class="string">&quot;å¥‡çº¿ç¨‹&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">lock2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(lock,<span class="string">&quot;å¶çº¿ç¨‹&quot;</span>);</span><br><span class="line">        lock1.start();</span><br><span class="line">        lock2.start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Lock</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">ReentrantLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                lock.lock();</span><br><span class="line">                <span class="keyword">if</span> (num &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">&quot; : &quot;</span> + num);</span><br><span class="line">                    num--;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">                lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>wait notifyäº¤æ›¿</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> waitTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/25 14:41</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">waitTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">wait</span> <span class="variable">wait</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">wait</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(wait,<span class="string">&quot;å¥‡çº¿ç¨‹&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(wait,<span class="string">&quot;å¶çº¿ç¨‹&quot;</span>);</span><br><span class="line">        t2.start();</span><br><span class="line">        t1.start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">wait</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">                    notify();</span><br><span class="line">                    <span class="keyword">if</span> (num &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">100</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()+ <span class="string">&quot; : &quot;</span> + num);</span><br><span class="line">                    num--;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            wait();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-3">7.æ€»ç»“</h2><p>ä»Šå¤©å†™äº†11ä¸ªçš„ä»£ç ï¼Œä»Šå¤©çš„å¤šçº¿ç¨‹å®‰å…¨é—®é¢˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¿…è¦å½»åº•å¼„æ‡‚ ï¼Œéš¾ç‚¹åœ¨äºå¯»æ‰¾å­˜åœ¨å®‰å…¨æ€§çš„ä»£ç è¡Œï¼ŒåŠ å…¥ synchronizedå’Œlockç­‰æ–¹æ³•è§£å†³ï¼Œåœ¨åšäº†æœ€åä¸€ä¸ªç»¼åˆæ€§å¾ˆå¼ºçš„ç»ƒä¹ åï¼Œæœ‰å¾ˆå¤§çš„æå‡ï¼ŒåŸºæœ¬å¯ä»¥è§£å†³ç®€å•çš„å®‰å…¨é—®é¢˜äº†ã€‚CSDNçš„æ–‡ç« ï¼Œæœ‰äº›èƒ½è®²è¿°çš„å¾ˆæ˜ç™½ã€‚</p><h1 id="4-26-çº¿ç¨‹æ± -å¸¸ç”¨ç±»">4.26 çº¿ç¨‹æ±  å¸¸ç”¨ç±»</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-14">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜-4">2.æ ‡é¢˜</h2><p>P444 442.å°šç¡…è°·_å¤šçº¿ç¨‹-åˆ›å»ºå¤šçº¿ç¨‹çš„æ–¹å¼ä¸‰ï¼šå®ç°Callableæ¥å£<br>P445 443.å°šç¡…è°·_å¤šçº¿ç¨‹-ä½¿ç”¨çº¿ç¨‹æ± çš„å¥½å¤„<br>P446 444.å°šç¡…è°·_å¤šçº¿ç¨‹-åˆ›å»ºå¤šçº¿ç¨‹çš„æ–¹å¼å››ï¼šä½¿ç”¨çº¿ç¨‹æ± <br>P447 445.å°šç¡…è°·_å¸¸ç”¨ç±»-æ¯å¤©ä¸€è€ƒ<br>P448 446.å°šç¡…è°·_å¸¸ç”¨ç±»-å¤ä¹ ï¼šç”Ÿå‘½å‘¨æœŸä¸åŒæ­¥æœºåˆ¶<br>P449 447.å°šç¡…è°·_å¸¸ç”¨ç±»-å¤ä¹ ï¼šçº¿ç¨‹é€šä¿¡å’Œæ–°çš„çº¿ç¨‹åˆ›å»ºæ–¹å¼ç­‰<br>P450 448.å°šç¡…è°·_å¸¸ç”¨ç±»-Javaå¸¸ç”¨ç±»çš„æ¦‚è¿°<br>P451 449.å°šç¡…è°·_å¸¸ç”¨ç±»-Stringç±»çš„æ¦‚è¿°<br>P452 450.å°šç¡…è°·_å¸¸ç”¨ç±»-ç†è§£Stringçš„ä¸å¯å˜æ€§<br>P453 451.å°šç¡…è°·_å¸¸ç”¨ç±»-Stringä¸åŒå®ä¾‹åŒ–æ–¹å¼çš„å¯¹æ¯”<br>P454 452.å°šç¡…è°·_å¸¸ç”¨ç±»-Stringä¸åŒæ‹¼æ¥æ“ä½œçš„å¯¹æ¯”<br>P455 453.å°šç¡…è°·_å¸¸ç”¨ç±»-Stringçš„ä¸€é“é¢è¯•é¢˜<br>P456 454.å°šç¡…è°·_å¸¸ç”¨ç±»-JVMä¸­æ¶‰åŠå­—ç¬¦ä¸²çš„å†…å­˜ç»“æ„<br>P457 455.å°šç¡…è°·_å¸¸ç”¨ç±»-Stringçš„å¸¸ç”¨æ–¹æ³•1<br>P458 456.å°šç¡…è°·_å¸¸ç”¨ç±»-Stringçš„å¸¸ç”¨æ–¹æ³•2<br>P459 457.å°šç¡…è°·_å¸¸ç”¨ç±»-Stringçš„å¸¸ç”¨æ–¹æ³•3<br>P460 458.å°šç¡…è°·_å¸¸ç”¨ç±»-å›é¡¾Stringä¸åŸºæœ¬æ•°æ®ç±»å‹åŒ…è£…ç±»çš„è½¬æ¢<br>P461 459.å°šç¡…è°·_å¸¸ç”¨ç±»-Stringä¸char[]ä¹‹é—´çš„è½¬æ¢<br>P462 460.å°šç¡…è°·_å¸¸ç”¨ç±»-Stringä¸byte[]ä¹‹é—´çš„è½¬æ¢<br>P463 461.å°šç¡…è°·_å¸¸ç”¨ç±»-è§£å†³ä¸€ä¸ªæ‹¼æ¥é—®é¢˜<br>P464 462.å°šç¡…è°·_å¸¸ç”¨ç±»-é¢è¯•ä¸­Stringç®—æ³•è€ƒæŸ¥çš„è¯´æ˜<br>P465 463.å°šç¡…è°·_å¸¸ç”¨ç±»-StringBufferå’ŒStringBuilderçš„ä»‹ç»<br>P466 464.å°šç¡…è°·_å¸¸ç”¨ç±»-StringBufferçš„æºç åˆ†æ<br>P467 465.å°šç¡…è°·_å¸¸ç”¨ç±»-StringBufferä¸­çš„å¸¸ç”¨æ–¹æ³•<br>P468 466.å°šç¡…è°·_å¸¸ç”¨ç±»-Stringã€StringBufferã€StringBuilderæ•ˆç‡å¯¹æ¯”<br>P469 467.å°šç¡…è°·_å¸¸ç”¨ç±»-Systemç±»ä¸­è·å–æ—¶é—´æˆ³çš„æ–¹æ³•<br>P470 468.å°šç¡…è°·_å¸¸ç”¨ç±»-Javaä¸­ä¸¤ä¸ªDateç±»çš„ä½¿ç”¨</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-4">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>ä½¿ç”¨ç”¨æ›´åŠ å¼ºå¤§çš„Callableæ¥å£åˆ›å»ºå¤šçº¿ç¨‹</p><p>åˆ©ç”¨çº¿ç¨‹æ± åˆ›å»ºçº¿ç¨‹ï¼Œå¹¶æ˜ç™½å…¶ä¼˜ç‚¹ã€‚</p><p>å¤ä¹ çº¿ç¨‹å†…å®¹ Stringç±»çš„ä½¿ç”¨</p><p>StringBufferã€StringBuilderçš„è¿›é˜¶æ–¹æ³•</p><p>Dataç±»çš„ä½¿ç”¨</p><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-4">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="callableçš„å¥½å¤„">callableçš„å¥½å¤„</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220426094503725.png" alt="image-20220426094503725"></p><h3 id="callableæ¥å£çš„åˆ›å»ºçº¿ç¨‹">callableæ¥å£çš„åˆ›å»ºçº¿ç¨‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.FutureTask;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> CallableTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/26 8:36</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CallableTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">person</span>();</span><br><span class="line">        <span class="type">FutureTask</span> <span class="variable">futureTask</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FutureTask</span>(p1);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(futureTask).start();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> futureTask.get();</span><br><span class="line">            System.out.println(<span class="string">&quot;æ€»å’Œ ï¼š &quot;</span>+o);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ExecutionException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">person</span> <span class="keyword">implements</span> <span class="title class_">Callable</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> ==<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(i);</span><br><span class="line">                sum += i;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="çº¿ç¨‹æ± çš„å¥½å¤„">çº¿ç¨‹æ± çš„å¥½å¤„</h3><p>1ã€çº¿ç¨‹æ± çš„ä¼˜åŠ¿ä¸ç»“æ„<br>ï¼ˆ1ï¼‰é™ä½ç³»ç»Ÿèµ„æºæ¶ˆè€—ï¼Œé€šè¿‡é‡ç”¨å·²å­˜åœ¨çš„çº¿ç¨‹ï¼Œé™ä½çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯é€ æˆçš„æ¶ˆè€—ï¼›</p><p>ï¼ˆ2ï¼‰æé«˜ç³»ç»Ÿå“åº”é€Ÿåº¦ï¼Œå½“æœ‰ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œé€šè¿‡å¤ç”¨å·²å­˜åœ¨çš„çº¿ç¨‹ï¼Œä»»åŠ¡å¯ä»¥ä¸éœ€è¦ç­‰å¾…æ–°çº¿ç¨‹çš„åˆ›å»ºä¾¿èƒ½ç«‹å³æ‰§è¡Œï¼›</p><p>ï¼ˆ3ï¼‰æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§ã€‚æ–¹ä¾¿çº¿ç¨‹å¹¶å‘æ•°çš„ç®¡æ§ã€‚å¦‚æœçº¿ç¨‹æ— é™åˆ¶çš„åˆ›å»ºï¼Œä¸ä»…ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œè¿˜ä¼šé™ä½ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œå¯èƒ½ä¹Ÿä¼šå¯¼è‡´å†…å­˜å ç”¨è¿‡å¤šè€Œäº§ç”ŸOOMã€‚</p><p>ï¼ˆ4ï¼‰æä¾›æ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œå»¶æ—¶å®šæ—¶çº¿ç¨‹æ± ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220426094339909.png" alt="image-20220426094339909"></p><h3 id="åˆ›å»ºçº¿ç¨‹æ± ">åˆ›å»ºçº¿ç¨‹æ± </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> poolTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/26 9:00</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">runPoll</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;runPoll-----------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> ==<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(i);</span><br><span class="line">                sum += i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(sum);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">callPool</span> <span class="keyword">implements</span> <span class="title class_">Callable</span> &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;callPoll-----------------&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> ==<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(i);</span><br><span class="line">                sum += i;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">poolTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">service</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">10</span>);</span><br><span class="line">        System.out.println(service.getClass());</span><br><span class="line">        <span class="type">ThreadPoolExecutor</span> <span class="variable">service1</span> <span class="operator">=</span> (ThreadPoolExecutor) service; <span class="comment">//å¼ºè½¬ çˆ¶ç±»ç”¨å­ç±»æ–¹æ³•</span></span><br><span class="line">        service1.setCorePoolSize(<span class="number">16</span>);</span><br><span class="line"><span class="comment">//        service1.setKeepAliveTime();</span></span><br><span class="line"></span><br><span class="line">        service.execute(<span class="keyword">new</span> <span class="title class_">runPoll</span>()); <span class="comment">//Runnable</span></span><br><span class="line">        <span class="type">callPool</span> <span class="variable">callPool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">callPool</span>();</span><br><span class="line"></span><br><span class="line">        service.submit(callPool); <span class="comment">//callable pool</span></span><br><span class="line"></span><br><span class="line">        service.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Stringå¸¸ç”¨æ–¹æ³•">Stringå¸¸ç”¨æ–¹æ³•</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220426103843405.png" alt="image-20220426103843405"></p><p>ç¤ºä¾‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day24;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> StringMethodTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/26 10:40</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringMethodTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;helloWorld&quot;</span>;</span><br><span class="line">        System.out.println(s1.length()); <span class="comment">// 10 å­—ç¬¦ä¸²é•¿åº¦</span></span><br><span class="line">        System.out.println(s1.charAt(<span class="number">0</span>)); <span class="comment">// h //è¿”å›ç´¢å¼•å¤„å­—ç¬¦</span></span><br><span class="line">        System.out.println(s1.charAt(s1.length()-<span class="number">1</span>)); <span class="comment">//d</span></span><br><span class="line">        System.out.println(s1.isEmpty());</span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        System.out.println(s2.isEmpty()); <span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºç©ºå­—ç¬¦</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> s1.toUpperCase();</span><br><span class="line">        System.out.println(s3);</span><br><span class="line">        System.out.println(s1.toLowerCase()); <span class="comment">//å…¨éƒ¨å°å†™</span></span><br><span class="line">        System.out.println(s1.toUpperCase()); <span class="comment">//å…¨éƒ¨å¤§å†™</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="string">&quot;    he   llo    world   &quot;</span>;</span><br><span class="line">        System.out.println(s4);</span><br><span class="line">        System.out.println(s4.trim()); <span class="comment">//å»é™¤å‡ºå‰åç©ºæ ¼</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="comment">//        boolean equals(String s)           æ˜¯å¦å®Œå…¨ç›¸åŒ</span></span><br><span class="line"><span class="comment">//        boolean equalsIgnoreCase(String s)  å¿½ç•¥å¤§å°å†™è¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line"><span class="comment">//        boolean startsWith(String s)    åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŸå­—ç¬¦ä¸²å¼€å¤´</span></span><br><span class="line"><span class="comment">//        boolean endsWith(String s)          åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŸå­—ç¬¦ä¸²ç»“å°¾</span></span><br><span class="line"><span class="comment">//        int compareTo(String s)           æ¯”è¾ƒå¤§å°ï¼Œè¿”å›æ­£æ•°ï¼ˆå¤§äºï¼‰ã€è´Ÿæ•°ï¼ˆå°äºï¼‰ã€0ï¼ˆç›¸ç­‰ï¼‰</span></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;abe&quot;</span>;</span><br><span class="line">        System.out.println(s1.compareTo(s2));</span><br><span class="line">        <span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="string">&quot;æ— æ•Œæš´é¾™ç¥ä¹‹é£ä¹‹å‘¼å¸&quot;</span>;</span><br><span class="line">        System.out.println(s3.substring(<span class="number">3</span>)); <span class="comment">//ä» 3 å¼€å§‹æˆªå–æ–°å­—ç¬¦ä¸²</span></span><br><span class="line">        System.out.println(s3.substring(<span class="number">0</span>, <span class="number">2</span>)); <span class="comment">//åˆ‡ç‰‡ å·¦é—­å³å¼€</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="string">&quot;hello|world|java&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (String s : s4.split(<span class="string">&quot;\\|&quot;</span>)) &#123;</span><br><span class="line">            System.out.print(s);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(s4.replace(<span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;,&#x27;</span>));<span class="comment">//åˆ›å»ºæ–°çš„ |æ›¿æ¢ ï¼Œ</span></span><br><span class="line">        System.out.println(s4);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¸¸ç”¨æ–¹æ³•äºŒ</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220426105716108.png" alt="image-20220426105716108"></p><p>å¸¸ç”¨æ–¹æ³•ä¸‰</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220426110725502.png" alt="image-20220426110725502"></p><h3 id="javaå¸¸ç”¨ç±»">javaå¸¸ç”¨ç±»</h3><p><a href="https://blog.csdn.net/u013343114/article/details/112599438?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165093765816781432998816%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=165093765816781432998816&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-112599438.142%5E">https://blog.csdn.net/u013343114/article/details/112599438?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165093765816781432998816%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=165093765816781432998816&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-112599438.142^</a></p><h3 id="String-å’Œ-char-è½¬æ¢">String å’Œ char[ ]è½¬æ¢</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;abc1234&quot;</span>; <span class="comment">// a321cb4</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">char</span> c : str1.toCharArray()) &#123;</span><br><span class="line">        System.out.println(c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span>[] arr = <span class="keyword">new</span> <span class="title class_">char</span>[]&#123;<span class="string">&#x27;h&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;l&#x27;</span>,<span class="string">&#x27;l&#x27;</span>,<span class="string">&#x27;o&#x27;</span>&#125;;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(arr);</span><br><span class="line">    System.out.println(str2);</span><br><span class="line">    <span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> <span class="string">&quot;abc1234&quot;</span>; <span class="comment">// a321cb4</span></span><br><span class="line">    <span class="type">char</span>[] chars = str3.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>, j = <span class="number">5</span>; i &lt; j; i++, j--) &#123;</span><br><span class="line">        <span class="type">char</span> <span class="variable">temp</span> <span class="operator">=</span> chars[j];</span><br><span class="line">        chars[j] = chars[i];</span><br><span class="line">        chars[i] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(chars);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="String-å’Œ-byte-çš„ç›¸äº’è½¬æ¢">String å’Œ byte[ ]çš„ç›¸äº’è½¬æ¢</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test5</span><span class="params">()</span> <span class="keyword">throws</span> UnsupportedEncodingException &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;abc123æˆ‘çˆ±ä¸­å›½&quot;</span>;</span><br><span class="line">    <span class="comment">//ç¼–ç </span></span><br><span class="line">    <span class="type">byte</span>[] bytes = str1.getBytes();</span><br><span class="line">    System.out.println(Arrays.toString(bytes));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">byte</span>[] gbks = str1.getBytes(<span class="string">&quot;gbk&quot;</span>);</span><br><span class="line">    System.out.println(Arrays.toString(gbks));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è§£ç </span></span><br><span class="line">    System.out.println(<span class="string">&quot;--------------------&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes);</span><br><span class="line">    System.out.println(s);<span class="comment">//é»˜è®¤UTF-8</span></span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">gbk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(gbks);</span><br><span class="line">    System.out.println(gbk);</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">gbk1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(gbks,<span class="string">&quot;gbk&quot;</span>);</span><br><span class="line">    System.out.println(gbk1);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> <span class="type">String</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s6</span> <span class="operator">=</span> <span class="string">&quot;helloworld&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s7</span> <span class="operator">=</span> s4 + <span class="string">&quot;world&quot;</span>;</span><br><span class="line">    System.out.println(s7 == s6);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹-4">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="Stringæ‹¼æ¥-å†…å­˜è§£æ">Stringæ‹¼æ¥ å†…å­˜è§£æ</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220426102458518.png" alt="image-20220426102458518"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220426103529621.png" alt="image-20220426103529621"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;1234&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;1234&quot;</span>);</span><br><span class="line">System.out.println(s1 == s2); <span class="comment">// true</span></span><br><span class="line">System.out.println(s1.equals(s2)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„å¦‚æœå˜é‡åŠ finalå°±æ˜¯å¸¸é‡äº†ï¼Œåœ¨å¸¸é‡æ± ä¸­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">String</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s6</span> <span class="operator">=</span> <span class="string">&quot;helloworld&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">s7</span> <span class="operator">=</span> s4 + <span class="string">&quot;world&quot;</span>;</span><br><span class="line">System.out.println(s7 == s6);<span class="comment">//true</span></span><br></pre></td></tr></table></figure><h3 id="String-Bufferå¸¸ç”¨æ–¹æ³•">String Bufferå¸¸ç”¨æ–¹æ³•</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220426144158658.png" alt="image-20220426144158658"></p><h3 id="ä¸‰è€…æ•ˆç‡å¯¹æ¯”">ä¸‰è€…æ•ˆç‡å¯¹æ¯”</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220426144411138.png" alt="image-20220426144411138"></p><h3 id="ä¸¤ä¸ªDateç±»çš„ä½¿ç”¨">ä¸¤ä¸ªDateç±»çš„ä½¿ç”¨</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220426151233672.png" alt="image-20220426151233672"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220426151351714.png" alt="image-20220426151351714"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-4">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="æ•°ç»„åè½¬">æ•°ç»„åè½¬</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="comment">//å­—ç¬¦ä¸²åè½¬</span></span><br><span class="line">       <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;å°ç™½å…”çˆ±åƒå¤§ç™½èœ&quot;</span>;</span><br><span class="line">       System.out.println(s1.length());</span><br><span class="line">       <span class="type">StringBuilder</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line"></span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> s1.length()-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">           s2.append(s1.charAt(i));</span><br><span class="line">       &#125;</span><br><span class="line">       System.out.println(s2);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="æ•°æ®å±€éƒ¨åè½¬">æ•°æ®å±€éƒ¨åè½¬</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str3</span> <span class="operator">=</span> <span class="string">&quot;abc1234&quot;</span>; <span class="comment">// a321cb4</span></span><br><span class="line">        <span class="type">char</span>[] chars = str3.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>, j = <span class="number">5</span>; i &lt; j; i++, j--) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">temp</span> <span class="operator">=</span> chars[j];</span><br><span class="line">            chars[j] = chars[i];</span><br><span class="line">            chars[i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(chars);</span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-4">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>çº¿ç¨‹æ± çš„åˆ›å»ºåº”è¯¥æ˜¯å¾ˆé‡è¦çš„ï¼Œæ„Ÿè§‰ä¹Ÿä¸ç®€å•ï¼Œè€å¸ˆåªæ˜¯ç²—ç•¥çš„è¿‡äº†ä¸€éï¼Œè‡ªå·±åˆå»CSDNçœ‹äº†ï¼Œæœ‰å¾ˆå¤šåˆ›å»ºæ–¹æ³•ï¼Œæƒ³æŒæ¡ä¹Ÿæ˜¯æœ‰éš¾åº¦çš„ï¼Œä»Šå¤©çš„å­¦ä¹ åŠ²å¤´å¾ˆå¥½ï¼Œä¸€ä¸‹çœ‹äº†40çº§ï¼Œ6ä¸ªå¤šå°æ—¶çš„è§†é¢‘ï¼Œåšå®¢å’Œè§†é¢‘ç»“åˆçš„æ–¹æ³•ï¼Œæ˜¯å¾ˆèƒ½å¢åŠ è‡ªå·±çš„è¿›åº¦ï¼ŒString Buffeçš„æ–¹æ³•å’Œpythonçš„åˆ—è¡¨å·®ä¸å¤šï¼Œæœ‰åˆ é™¤ æ·»åŠ  æŸ¥æ‰¾ æ›¿æ¢ ï¼ŒStringå› ä¸ºæ˜¯ä¸€ä¸ªfinalçš„ç±»æ‰€ä»¥æ— æ³•ä¿®æ”¹ã€‚è¿™æ˜¯æºä»£ç å‘ŠçŸ¥çš„ã€‚</p><h1 id="4-28æ¯”è¾ƒå™¨">4.28æ¯”è¾ƒå™¨</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-15">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜-5">2.æ ‡é¢˜</h2><p>æ¯”è¾ƒå™¨(é‡è¦) å¸¸ç”¨å…¶ä»–ç±»</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-5">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>P485 483.å°šç¡…è°·_å¸¸ç”¨ç±»-LocalDateã€LocalTimeã€LocalDateTimeçš„ä½¿ç”¨<br>P486 484.å°šç¡…è°·_å¸¸ç”¨ç±»-Instantç±»çš„ä½¿ç”¨<br>P487 485.å°šç¡…è°·_å¸¸ç”¨ç±»-DateTimeFormatterçš„ä½¿ç”¨<br>P488 486.å°šç¡…è°·_å¸¸ç”¨ç±»-å…¶å®ƒæ—¥æœŸæ—¶é—´ç›¸å…³APIçš„ä½¿ç”¨<br>P489 487.å°šç¡…è°·_å¸¸ç”¨ç±»-IDEAçš„ä½¿ç”¨ï¼šå¯¼å…¥Module<br>P490 488.å°šç¡…è°·_å¸¸ç”¨ç±»-Javaæ¯”è¾ƒå™¨æ¦‚è¿°<br>P491 489.å°šç¡…è°·_å¸¸ç”¨ç±»-Comparableè‡ªç„¶æ’åºä¸¾ä¾‹<br>P492 490.å°šç¡…è°·_å¸¸ç”¨ç±»-è‡ªå®šä¹‰ç±»å®ç°Comparableè‡ªç„¶æ’åº<br>P493 491.å°šç¡…è°·_å¸¸ç”¨ç±»-ä½¿ç”¨Comparatorå®ç°å®šåˆ¶æ’åº<br>P494 492.å°šç¡…è°·_å¸¸ç”¨ç±»-Systemã€Mathã€BigIntegerã€BigDecimalçš„ä½¿ç”¨</p><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-5">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="Systemç±»">Systemç±»</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220428194835482.png" alt="image-20220428194835482"></p><h3 id="Mathç±»">Mathç±»</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220428194643960.png" alt="image-20220428194643960"></p><h3 id="BigIntegerç±»">BigIntegerç±»</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220428194739441.png" alt="image-20220428194739441"></p><h3 id="BigDecimalç±»">BigDecimalç±»</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220428194800368.png" alt="image-20220428194800368"></p><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹-5">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="æ¯”è¾ƒå™¨"><strong>æ¯”è¾ƒå™¨</strong></h3><p>åšå®¢</p><p><a href="https://blog.csdn.net/qq_43518425/article/details/113148547?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165114186516781818766465%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=165114186516781818766465&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-113148547.142">https://blog.csdn.net/qq_43518425/article/details/113148547?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522165114186516781818766465%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=165114186516781818766465&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-113148547.142</a></p><h4 id="1-æ¯”è¾ƒå™¨ä½¿ç”¨èƒŒæ™¯">1.æ¯”è¾ƒå™¨ä½¿ç”¨èƒŒæ™¯</h4><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Javaä¸­çš„å¯¹è±¡ï¼Œæ­£å¸¸æƒ…å†µä¸‹ï¼Œåªèƒ½è¿›è¡Œæ¯”è¾ƒï¼š==  æˆ–  != ã€‚ä¸èƒ½ä½¿ç”¨ &gt; æˆ– &lt; çš„</span><br><span class="line">ä½†æ˜¯åœ¨å¼€å‘åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å¤šä¸ªå¯¹è±¡è¿›è¡Œæ’åºï¼Œè¨€å¤–ä¹‹æ„ï¼Œå°±éœ€è¦æ¯”è¾ƒå¯¹è±¡çš„å¤§å°ã€‚</span><br><span class="line">å¦‚ä½•å®ç°ï¼Ÿä½¿ç”¨ä¸¤ä¸ªæ¥å£ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼š<span class="built_in">Comparable</span> æˆ– Comparator</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-è‡ªç„¶æ’åºï¼šä½¿ç”¨Comparableæ¥å£">2.è‡ªç„¶æ’åºï¼šä½¿ç”¨Comparableæ¥å£</h4><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.åƒStringã€åŒ…è£…ç±»ç­‰å®ç°äº†Comparableæ¥å£ï¼Œé‡å†™äº†<span class="built_in">compareTo</span>(obj)æ–¹æ³•ï¼Œç»™å‡ºäº†æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡å¤§å°çš„æ–¹å¼ã€‚</span><br><span class="line"><span class="number">2</span>.åƒStringã€åŒ…è£…ç±»é‡å†™<span class="built_in">compareTo</span>()æ–¹æ³•ä»¥åï¼Œè¿›è¡Œäº†ä»å°åˆ°å¤§çš„æ’åˆ—</span><br><span class="line"><span class="number">3</span>. é‡å†™<span class="built_in">compareTo</span>(obj)çš„è§„åˆ™ï¼š</span><br><span class="line">    å¦‚æœå½“å‰å¯¹è±¡thiså¤§äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›æ­£æ•´æ•°ï¼Œ</span><br><span class="line">    å¦‚æœå½“å‰å¯¹è±¡thiså°äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›è´Ÿæ•´æ•°ï¼Œ</span><br><span class="line">    å¦‚æœå½“å‰å¯¹è±¡thisç­‰äºå½¢å‚å¯¹è±¡objï¼Œåˆ™è¿”å›é›¶ã€‚</span><br><span class="line"><span class="number">4</span>. å¯¹äºè‡ªå®šä¹‰ç±»æ¥è¯´ï¼Œå¦‚æœéœ€è¦æ’åºï¼Œæˆ‘ä»¬å¯ä»¥è®©è‡ªå®šä¹‰ç±»å®ç°Comparableæ¥å£ï¼Œé‡å†™<span class="built_in">compareTo</span>(obj)æ–¹æ³•ã€‚åœ¨<span class="built_in">compareTo</span>(obj)æ–¹æ³•ä¸­æŒ‡æ˜å¦‚ä½•æ’åº</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="3-å®šåˆ¶æ’åºï¼šä½¿ç”¨Comparatoræ¥å£">3.å®šåˆ¶æ’åºï¼šä½¿ç”¨Comparatoræ¥å£</h4><ol start="3"><li><pre><code>3. è¯´æ˜   1.èƒŒæ™¯ï¼š   å½“å…ƒç´ çš„ç±»å‹æ²¡å®ç°java.lang.Comparableæ¥å£è€Œåˆä¸æ–¹ä¾¿ä¿®æ”¹ä»£ç ï¼Œæˆ–è€…å®ç°äº†java.lang.Comparableæ¥å£çš„æ’åºè§„åˆ™ä¸é€‚åˆå½“å‰çš„æ“ä½œï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨ Comparator çš„å¯¹è±¡æ¥æ’åº2.é‡å†™compare(Object o1,Object o2)æ–¹æ³•ï¼Œæ¯”è¾ƒo1å’Œo2çš„å¤§å°ï¼šå¦‚æœæ–¹æ³•è¿”å›æ­£æ•´æ•°ï¼Œåˆ™è¡¨ç¤ºo1å¤§äºo2ï¼›å¦‚æœè¿”å›0ï¼Œè¡¨ç¤ºç›¸ç­‰ï¼›è¿”å›è´Ÿæ•´æ•°ï¼Œè¡¨ç¤ºo1å°äºo2ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">```java</span><br><span class="line"><span class="keyword">package</span> day26;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> CompareTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/28 18:34</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CompareTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        String[] arr = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;AA&quot;</span>,<span class="string">&quot;CC&quot;</span>,<span class="string">&quot;GG&quot;</span>,<span class="string">&quot;MM&quot;</span>,<span class="string">&quot;DD&quot;</span>,<span class="string">&quot;JJ&quot;</span>&#125;;</span><br><span class="line">        Arrays.sort(arr);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        Good[] arr = <span class="keyword">new</span> <span class="title class_">Good</span>[<span class="number">5</span>];</span><br><span class="line">        arr[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Good</span>(<span class="string">&quot;mi&quot;</span>,<span class="number">15</span>);</span><br><span class="line">        arr[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Good</span>(<span class="string">&quot;dell&quot;</span>,<span class="number">24</span>);</span><br><span class="line">        arr[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">Good</span>(<span class="string">&quot;ROG&quot;</span>,<span class="number">36</span>);</span><br><span class="line">        arr[<span class="number">3</span>] = <span class="keyword">new</span> <span class="title class_">Good</span>(<span class="string">&quot;huawei&quot;</span>,<span class="number">46</span>);</span><br><span class="line">        arr[<span class="number">4</span>] = <span class="keyword">new</span> <span class="title class_">Good</span>(<span class="string">&quot;mic&quot;</span>,<span class="number">46</span>);</span><br><span class="line">        Arrays.sort(arr);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">        Good[] arr = <span class="keyword">new</span> <span class="title class_">Good</span>[<span class="number">5</span>];</span><br><span class="line">        arr[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">Good</span>(<span class="string">&quot;mi&quot;</span>,<span class="number">15</span>);</span><br><span class="line">        arr[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">Good</span>(<span class="string">&quot;dell&quot;</span>,<span class="number">24</span>);</span><br><span class="line">        arr[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">Good</span>(<span class="string">&quot;ROG&quot;</span>,<span class="number">36</span>);</span><br><span class="line">        arr[<span class="number">3</span>] = <span class="keyword">new</span> <span class="title class_">Good</span>(<span class="string">&quot;huawei&quot;</span>,<span class="number">46</span>);</span><br><span class="line">        arr[<span class="number">4</span>] = <span class="keyword">new</span> <span class="title class_">Good</span>(<span class="string">&quot;mic&quot;</span>,<span class="number">46</span>);</span><br><span class="line">        <span class="comment">// ä»·æ ¼ä»é«˜åˆ°ä½ åè¯ä»ä½åˆ°é«˜</span></span><br><span class="line">        Arrays.sort(arr, <span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (o1 <span class="keyword">instanceof</span> Good &amp;&amp; o2 <span class="keyword">instanceof</span> Good)&#123;</span><br><span class="line">                    <span class="type">Good</span> <span class="variable">g1</span> <span class="operator">=</span> (Good) o1;</span><br><span class="line">                    <span class="type">Good</span> <span class="variable">g2</span> <span class="operator">=</span> (Good) o2;</span><br><span class="line">                    <span class="comment">//ä»·æ ¼ä»é«˜åˆ°ä½</span></span><br><span class="line">                    <span class="keyword">if</span> (g1.getName().equals(g2.getName()))&#123;</span><br><span class="line">                        <span class="keyword">return</span> -Double.compare(g1.getAge(),g2.getAge());</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="comment">//åå­—ä»ä½åˆ°é«˜</span></span><br><span class="line">                        <span class="keyword">return</span> g1.getName().compareTo(g2.getName());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;ä¼ å…¥æ•°æ®ç±»å‹ä¸ä¸€æ ·&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>&#123;</span><br><span class="line">        String[] arr = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;AA&quot;</span>,<span class="string">&quot;CC&quot;</span>,<span class="string">&quot;GG&quot;</span>,<span class="string">&quot;MM&quot;</span>,<span class="string">&quot;DD&quot;</span>,<span class="string">&quot;JJ&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">        Arrays.sort(arr, <span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (o1 <span class="keyword">instanceof</span> String &amp;&amp; o2 <span class="keyword">instanceof</span> String)&#123;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> (String) o1;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> (String) o2;</span><br><span class="line">                    <span class="keyword">return</span> -s1.compareTo(s2);</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;ä¼ å…¥æ•°æ®ç±»å‹ä¸ä¸€æ ·&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day26;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> Good</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/28 18:41</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Good</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span>  <span class="title function_">Good</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Good</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Good&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (o <span class="keyword">instanceof</span> Good) &#123;</span><br><span class="line">            <span class="type">Good</span> <span class="variable">goods</span> <span class="operator">=</span> (Good)o;</span><br><span class="line">            <span class="keyword">return</span> Double.compare(<span class="built_in">this</span>.age, goods.age);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;ä¼ å…¥æ•°æ®ç±»å‹ä¸ä¸€æ ·&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="BUG">BUG</h3><p>equalsæ˜¯æ¯”è¾ƒå±æ€§çš„ï¼Œè¿™é‡Œæƒ³åŠ æ¡ä»¶è¯­å¥ï¼Œç”¨equalsåˆ¤æ–­æ˜¯å¦ç›¸ç­‰ï¼Œä½†æ˜¯æŠ¥é”™äº†ï¼Œæç¤ºä¸å¯ä»¥ç”¨intã€‚<br>CSDNæœåˆ°è¿™æ ·ä¸€å¥è¯ï¼šequalsæ–¹æ³•æ˜¯é’ˆå¯¹å¼•ç”¨ç±»å‹æ¯”è¾ƒçš„ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹æ²¡æœ‰equalsæ–¹æ³•</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/cIOpyrPKHnYPWHB12wBjpw.png" alt="img"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-5">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>æš‚æ— </p><h2 id="7-æ€»ç»“-5">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ ä»»åŠ¡æ¯”è¾ƒç®€å•ï¼Œé‡ç‚¹åœ¨æ¯”è¾ƒå™¨ï¼Œå…¶æ¬¡æ˜¯å…¶ä»–ç±»ï¼Œå…¶ä»–ç±»ä¸æ˜¯å¾ˆé‡è¦ï¼Œæ¯”è¾ƒå™¨ä¸­çš„comparatorå¯ä»¥è‡ªå®šä¹‰æ’åºï¼ŒåŠŸèƒ½ååˆ†å¼ºå¤§ï¼Œå¯ä»¥å®‰è£…ä»€ä¹ˆæ•°æ®æ’åºï¼Œå†æŒ‰ç…§ä»€ä¹ˆæ’åºã€‚comparableæ˜¯è¦æœ‰å®ç°ç±»ï¼Œé€šè¿‡é‡å†™compareæ–¹æ³•æ¥å®ç°ï¼Œcomparatorçš„åŠŸèƒ½æ¯”è¾ƒå¼ºå¤§ã€‚ä»Šå¤©å­¦ä¹ æ—¶é—´è¾ƒçŸ­ï¼Œæ²¡æœ‰æ‰©å±•å­¦ä¹ éƒ¨åˆ†ã€‚</p><h1 id="4-29æšä¸¾ç±»-æ³¨è§£-é›†åˆ">4.29æšä¸¾ç±» æ³¨è§£ é›†åˆ</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-16">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜-6">2.æ ‡é¢˜</h2><p>æšä¸¾ç±»çš„å­¦ä¹ ä»»åŠ¡</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-6">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>P495 493.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-æ¯å¤©ä¸€è€ƒ<br>P496 494.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-å¤ä¹ ï¼šæ—¥æœŸæ—¶é—´API<br>P497 495.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-å¤ä¹ ï¼šJavaæ¯”è¾ƒå™¨ç­‰<br>P498 496.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-æšä¸¾ç±»çš„ç†è§£<br>P499 497.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-è‡ªå®šä¹‰æšä¸¾ç±»<br>P500 498.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-ä½¿ç”¨enumå…³é”®å­—å®šä¹‰æšä¸¾ç±»<br>P501 499.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-Enumç±»ä¸­çš„å¸¸ç”¨æ–¹æ³•<br>P502 500.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-ä½¿ç”¨enumå…³é”®å­—å®šä¹‰çš„æšä¸¾ç±»å®ç°æ¥å£<br>P503 501.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-IDEAä¸­å¯¼å…¥Eclipseé¡¹ç›®ä¸‰ä¿®æ”¹Statusä¸ºenumçš„å®šä¹‰<br>P504 502.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-æ³¨è§£çš„ç†è§£<br>P505 503.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-Annotationçš„ä½¿ç”¨ç¤ºä¾‹<br>P506 504.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-JDKå†…ç½®çš„ä¸‰ä¸ªåŸºæœ¬æ³¨è§£<br>P507 505.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-å¦‚ä½•è‡ªå®šä¹‰æ³¨è§£<br>P508 506.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-jdkä¸­4ä¸ªåŸºæœ¬çš„å…ƒæ³¨è§£çš„ä½¿ç”¨1<br>P509 507.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-jdkä¸­4ä¸ªåŸºæœ¬çš„å…ƒæ³¨è§£çš„ä½¿ç”¨2<br>P510 508.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-jdk8æ–°ç‰¹æ€§ï¼šå¯é‡å¤æ³¨è§£<br>P511 509.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-jdk8æ–°ç‰¹æ€§ï¼šç±»å‹æ³¨è§£<br>P512 510.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-å¯é‡å¤æ³¨è§£ä¸­å…ƒæ³¨è§£ä¸ä¸€è‡´çš„é—®é¢˜è§£å†³<br>P513 511.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-é›†åˆæ¡†æ¶ä¸é¡¹ç›®çš„å¯¹æ¯”åŠæ¦‚è¿°<br>P514 512.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-é›†åˆæ¡†æ¶æ¶‰åŠåˆ°çš„API<br>P515 513.å°šç¡…è°·_æšä¸¾ç±»ä¸æ³¨è§£-Collectionæ¥å£ä¸­çš„å¸¸ç”¨æ–¹æ³•1</p><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-6">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="æšä¸¾ç±»çš„ä½¿ç”¨">æšä¸¾ç±»çš„ä½¿ç”¨</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#å®šä¹‰ä¸€ç»„å¸¸é‡æ—¶ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨æšä¸¾ç±»</span></span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220429082801683.png" alt="image-20220429082801683"></p><h4 id="å®šä¹‰æšä¸¾ç±»ä½¿ç”¨enumå…³é”®å­—">å®šä¹‰æšä¸¾ç±»ä½¿ç”¨<code>enum</code>å…³é”®å­—</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">    RED,BLACK,YELLOW;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æšä¸¾ç±»çš„å¥½å¤„">æšä¸¾ç±»çš„å¥½å¤„</h4><p>å¸¸ç”¨ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Color</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">RED</span> <span class="operator">=</span> <span class="string">&quot;red&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">BLACK</span> <span class="operator">=</span> <span class="string">&quot;black&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">BLUE</span> <span class="operator">=</span> <span class="string">&quot;blue&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Color å®šä¹‰çš„å€¼èŒƒå›´ <code>red</code>ã€<code>black</code>ã€<code>blue</code> å¹¶æ²¡æœ‰åŒ…æ‹¬ <code>java</code> ï¼Œç¼–è¯‘å™¨æ— æ³•æ£€æŸ¥ä¸åœ¨æšä¸¾ä¸­çš„å€¼ï¼›</li><li>å®šä¹‰çš„å¸¸é‡ä»å¯ä¸å…¶ä»–å¸¸é‡æ¯”è¾ƒï¼Œä½†å…¶ç”¨é€”å¹¶éæ˜¯æšä¸¾æ˜ŸæœŸå€¼ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">color</span> <span class="operator">=</span> <span class="string">&quot;java&quot;</span>;</span><br><span class="line">   <span class="keyword">if</span> (Color.RED.equals(color)) &#123;</span><br><span class="line">       <span class="comment">// <span class="doctag">TODO:</span></span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>æšä¸¾ç±»çš„Color</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Color</span>&#123;</span><br><span class="line">    RED,BLACK,GREEN;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Color</span> <span class="variable">color</span> <span class="operator">=</span> Color.RED;</span><br><span class="line">        <span class="keyword">if</span> (Color.RED == color)&#123; </span><br><span class="line">            <span class="comment">// TODO</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å’Œ<code>String</code>å®šä¹‰çš„å¸¸é‡ç›¸æ¯”ï¼Œä½¿ç”¨<code>enum</code>å®šä¹‰æšä¸¾æœ‰å¦‚ä¸‹å¥½å¤„ï¼š</p><ul><li><code>enum</code>å¸¸é‡æœ¬èº«å¸¦æœ‰ç±»å‹ä¿¡æ¯ï¼Œå³<code>Color.RED</code>ç±»å‹æ˜¯<code>Color</code>ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ£€æŸ¥å‡ºç±»å‹é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„è¯­å¥ä¸å¯èƒ½ç¼–è¯‘é€šè¿‡ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">color</span> <span class="operator">=</span> <span class="string">&quot;red&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (Color.RED == color)&#123; <span class="comment">// Operator &#x27;==&#x27; cannot be applied to &#x27;Color&#x27;,&#x27;java.lang.String&#x27;</span></span><br><span class="line">            <span class="comment">// TODO</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li><p>ä¸å¯èƒ½å¼•ç”¨åˆ°éæšä¸¾çš„å€¼ï¼Œå› ä¸ºæ— æ³•é€šè¿‡ç¼–è¯‘ã€‚</p></li><li><p>ä¸åŒç±»å‹çš„æšä¸¾ä¸èƒ½äº’ç›¸æ¯”è¾ƒæˆ–è€…èµ‹å€¼ï¼Œå› ä¸ºç±»å‹ä¸ç¬¦ã€‚ä¾‹å¦‚ï¼Œä¸èƒ½ç»™ä¸€ä¸ª<code>Weekday</code>æšä¸¾ç±»å‹çš„å˜é‡èµ‹å€¼ä¸º<code>Color</code>æšä¸¾ç±»å‹çš„å€¼</p></li><li><p><strong>è¿™å°±ä½¿å¾—ç¼–è¯‘å™¨å¯ä»¥åœ¨ç¼–è¯‘æœŸè‡ªåŠ¨æ£€æŸ¥å‡ºæ‰€æœ‰å¯èƒ½çš„æ½œåœ¨é”™è¯¯</strong>ã€‚ã€</p></li></ul><h4 id="æšä¸¾ç±»åŸºæœ¬ä½¿ç”¨">æšä¸¾ç±»åŸºæœ¬ä½¿ç”¨</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220429090942555.png" alt="image-20220429090942555"></p><p>ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day27;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  *<span class="doctag">@ClassName</span> enumTest</span></span><br><span class="line"><span class="comment">  *<span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment">  *<span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment">  *<span class="doctag">@DATE</span> 2022/4/29 8:36</span></span><br><span class="line"><span class="comment">  *<span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">enumTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Season</span> <span class="variable">summer</span> <span class="operator">=</span> Season.SUMMER;</span><br><span class="line">        <span class="type">Season</span> <span class="variable">spring</span> <span class="operator">=</span> Season.SPRING;</span><br><span class="line">        <span class="meta">@SuppressWarnings(&quot;unused&quot;)</span></span><br><span class="line">        <span class="type">Season</span> <span class="variable">winter</span> <span class="operator">=</span> Season.WINTER;</span><br><span class="line">        <span class="comment">//toString</span></span><br><span class="line">        System.out.println(summer);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//values æ‰€æœ‰æšä¸¾å€¼çš„toString</span></span><br><span class="line">        Season[] values = Season.values();</span><br><span class="line">        <span class="keyword">for</span> (Season value : values) &#123;</span><br><span class="line">            System.out.println(value);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="comment">//valueOf(String objName):è¿”å›æšä¸¾ç±»ä¸­å¯¹è±¡åæ˜¯objNameçš„å¯¹è±¡</span></span><br><span class="line">        <span class="type">Season</span> <span class="variable">autumn</span> <span class="operator">=</span> Season.valueOf(<span class="string">&quot;AUTUMN&quot;</span>);</span><br><span class="line">        System.out.println(autumn);</span><br><span class="line">        autumn.show(); <span class="comment">//ç§‹å¤©çš„show</span></span><br><span class="line">        spring.show(); <span class="comment">//æ˜¥å¤©çš„show</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        System.out.println(Season.class.getSuperclass());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Info</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æšä¸¾ç±»å®ç°æ¥å£</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Season</span> <span class="keyword">implements</span> <span class="title class_">Info</span>&#123;</span><br><span class="line">    SPRING(<span class="string">&quot;æ˜¥å¤©&quot;</span>,<span class="string">&quot;æ˜¥æš–èŠ±å¼€&quot;</span>)&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ˜¥å¤©åœ¨å“ªé‡Œ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    SUMMER(<span class="string">&quot;å¤å¤©&quot;</span>,<span class="string">&quot;å¤æ—¥ç‚ç‚&quot;</span>)&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å®é™çš„å¤å¤©&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    AUTUMN(<span class="string">&quot;ç§‹å¤©&quot;</span>,<span class="string">&quot;ç§‹é«˜æ°”çˆ½&quot;</span>)&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å°±è®©ç§‹é£å¸¦èµ°æˆ‘çš„æ€å¿µ&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    WINTER(<span class="string">&quot;å†¬å¤©&quot;</span>,<span class="string">&quot;å†¬æ³³æ€ªé¸½&quot;</span>)&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;é›ªèŠ±é£˜é£˜&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String seasonDesc;</span><br><span class="line"></span><br><span class="line">    Season(String seasonName, String seasonDesc) &#123;</span><br><span class="line">        <span class="built_in">this</span>.seasonName = seasonName;</span><br><span class="line">        <span class="built_in">this</span>.seasonDesc = seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unused&quot;)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSeasonName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> seasonName;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unused&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSeasonDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> seasonDesc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Season&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;seasonName=&#x27;&quot;</span> + seasonName + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, seasonDesc=&#x27;&quot;</span> + seasonDesc + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿™æ˜¯ä¸€ä¸ªå­£èŠ‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="é›†åˆ"><strong>é›†åˆ</strong></h3><h4 id="æ•°ç»„çš„ç¼ºç‚¹">æ•°ç»„çš„ç¼ºç‚¹</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220429103442303.png" alt="image-20220429103442303"></p><p><strong>javaé›†åˆåˆ†collectionå’ŒMapä½“ç³»</strong></p><p>3.å¸¸ç”¨é›†åˆçš„åˆ†ç±»ï¼š<br>Collection æ¥å£çš„æ¥å£ å¯¹è±¡çš„é›†åˆï¼ˆå•åˆ—é›†åˆï¼‰<br>â”œâ€”â€”-List æ¥å£ï¼šå…ƒç´ æŒ‰è¿›å…¥å…ˆåæœ‰åºä¿å­˜ï¼Œå¯é‡å¤<br>â”‚â€”â€”â€”â€”â€”-â”œ LinkedList æ¥å£å®ç°ç±»ï¼Œ é“¾è¡¨ï¼Œ æ’å…¥åˆ é™¤ï¼Œ æ²¡æœ‰åŒæ­¥ï¼Œ çº¿ç¨‹ä¸å®‰å…¨<br>â”‚â€”â€”â€”â€”â€”-â”œ ArrayList æ¥å£å®ç°ç±»ï¼Œ æ•°ç»„ï¼Œ éšæœºè®¿é—®ï¼Œ æ²¡æœ‰åŒæ­¥ï¼Œ çº¿ç¨‹ä¸å®‰å…¨<br>â”‚â€”â€”â€”â€”â€”-â”” Vector æ¥å£å®ç°ç±» æ•°ç»„ï¼Œ åŒæ­¥ï¼Œ çº¿ç¨‹å®‰å…¨<br>â”‚ â€”â€”â€”â€”â€”â€”â€”-â”” Stack æ˜¯Vectorç±»çš„å®ç°ç±»<br>â””â€”â€”-Set æ¥å£ï¼š ä»…æ¥æ”¶ä¸€æ¬¡ï¼Œä¸å¯é‡å¤ï¼Œå¹¶åšå†…éƒ¨æ’åº<br>â”œâ€”â€”â€”â€”â€”-â””HashSet ä½¿ç”¨hashè¡¨ï¼ˆæ•°ç»„ï¼‰å­˜å‚¨å…ƒç´ <br>â”‚â€”â€”â€”â€”â€”â€”â€”â€”â”” LinkedHashSet é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ’å…¥æ¬¡åº<br>â”” â€”â€”â€”â€”â€”-TreeSet åº•å±‚å®ç°ä¸ºäºŒå‰æ ‘ï¼Œå…ƒç´ æ’å¥½åº è‡ªç„¶æ’åº</p><p>Map æ¥å£ é”®å€¼å¯¹çš„é›†åˆ ï¼ˆåŒåˆ—é›†åˆï¼‰<br>â”œâ€”â€”â€”Hashtable æ¥å£å®ç°ç±»ï¼Œ åŒæ­¥ï¼Œ çº¿ç¨‹å®‰å…¨<br>â”œâ€”â€”â€”HashMap æ¥å£å®ç°ç±» ï¼Œæ²¡æœ‰åŒæ­¥ï¼Œ çº¿ç¨‹ä¸å®‰å…¨-<br>â”‚â€”â€”â€”â€”â€”â€“â”œ LinkedHashMap åŒå‘é“¾è¡¨å’Œå“ˆå¸Œè¡¨å®ç°<br>â”‚â€”â€”â€”â€”â€”â€“â”” WeakHashMap<br>â”œ â€”â€”â€“TreeMap çº¢é»‘æ ‘å¯¹æ‰€æœ‰çš„keyè¿›è¡Œæ’åº<br>â””â€”â€”â€”IdentifyHashMap</p><h3 id="Collectionæ¥å£çš„å¸¸ç”¨æ–¹æ³•">Collectionæ¥å£çš„å¸¸ç”¨æ–¹æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day27;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> CollectionTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/4/29 10:19</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Collection</span> <span class="variable">collection</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        <span class="comment">//  add(object e) å°†eæ·»åŠ åˆ°é›†åˆcollectionä¸­</span></span><br><span class="line">        collection.add(<span class="string">&quot;AA&quot;</span>);</span><br><span class="line">        collection.add(<span class="string">&quot;BB&quot;</span>);</span><br><span class="line">        collection.add(<span class="number">123</span>);</span><br><span class="line">        collection.add(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        System.out.println(collection);</span><br><span class="line">        System.out.println(collection.size());</span><br><span class="line">        <span class="type">Collection</span> <span class="variable">collection1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        collection1.add(<span class="number">123456</span>);</span><br><span class="line">        collection1.add(<span class="string">&quot;CC&quot;</span>);</span><br><span class="line">        <span class="comment">// å°† collection1ä¸­çš„å…ƒç´ æ·»åŠ åˆ°é›†åˆä¸­</span></span><br><span class="line">        collection.addAll(collection1);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// addAll():</span></span><br><span class="line">        System.out.println(collection.size());</span><br><span class="line">        System.out.println(collection);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">        System.out.println(collection.isEmpty());</span><br><span class="line">        <span class="comment">//æ¸…é™¤å…ƒç´ </span></span><br><span class="line">        collection.clear();</span><br><span class="line">        System.out.println(collection.isEmpty());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220429143153065.png" alt="image-20220429143153065"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Collection</span> <span class="variable">collection</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        collection.add(<span class="string">&quot;AA&quot;</span>);</span><br><span class="line">        collection.add(<span class="string">&quot;BB&quot;</span>);</span><br><span class="line">        collection.add(<span class="number">123</span>);</span><br><span class="line">        collection.add(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line"><span class="comment">//        é›†åˆ---æ•°ç»„</span></span><br><span class="line">        Object[] objects = collection.toArray();</span><br><span class="line">        <span class="keyword">for</span> (Object as : objects)&#123;</span><br><span class="line">            System.out.println(as);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        æ•°ç»„ ---- é›†åˆ</span></span><br><span class="line">        List&lt;String&gt; strings = Arrays.asList(<span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;AA&quot;</span>, <span class="string">&quot;BB&quot;</span>, <span class="string">&quot;CC&quot;</span>&#125;);</span><br><span class="line">        System.out.println(strings);</span><br><span class="line">        List&lt;<span class="type">int</span>[]&gt; ints = Arrays.asList(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">123</span>, <span class="number">4566</span>&#125;);</span><br><span class="line">        System.out.println(ints);</span><br><span class="line">        <span class="type">List</span> <span class="variable">ints1</span> <span class="operator">=</span> Arrays.asList(<span class="number">123</span>, <span class="number">4566</span>);</span><br><span class="line">        System.out.println(ints1);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="iteratoræ–¹æ³•">iteratoræ–¹æ³•</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220429144009619.png" alt="image-20220429144009619"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="type">Collection</span> <span class="variable">collection</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">       collection.add(<span class="string">&quot;AA&quot;</span>);</span><br><span class="line">       collection.add(<span class="string">&quot;BB&quot;</span>);</span><br><span class="line">       collection.add(<span class="number">123</span>);</span><br><span class="line">       collection.add(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line"></span><br><span class="line">       <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> collection.iterator();</span><br><span class="line">       <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">           System.out.println(iterator.next());</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//hasNextåˆ°æœ€åäº† è¦é‡æ–°ç”Ÿæˆiterator</span></span><br><span class="line">       iterator = collection.iterator();</span><br><span class="line"></span><br><span class="line">       <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">           <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> iterator.next();</span><br><span class="line">           <span class="keyword">if</span> (<span class="string">&quot;AA&quot;</span>.equals(o))&#123;</span><br><span class="line">               iterator.remove();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//</span></span><br><span class="line">       iterator = collection.iterator();</span><br><span class="line">       <span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line">           System.out.println(iterator.next());</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="Listæ¥å£çš„ä½¿ç”¨">Listæ¥å£çš„ä½¿ç”¨</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220429151807168.png" alt="image-20220429151807168"></p><p>Listå¸¸ç”¨æ–¹æ³•</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220429162840246.png" alt="image-20220429162840246"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">       list.add(<span class="string">&quot;AA&quot;</span>);</span><br><span class="line">       list.add(<span class="number">123</span>);</span><br><span class="line">       list.add(<span class="number">456</span>);</span><br><span class="line">       list.add(<span class="string">&quot;CC&quot;</span>);</span><br><span class="line">       list.add(<span class="number">456</span>);</span><br><span class="line">       list.add(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">       System.out.println(list);</span><br><span class="line">       list.add(<span class="number">1</span>,<span class="string">&quot;çˆ±&quot;</span>);</span><br><span class="line">       System.out.println(list);</span><br><span class="line">       list.set(<span class="number">1</span>,<span class="string">&quot;ä¸çˆ±&quot;</span>);</span><br><span class="line">       System.out.println(list);</span><br><span class="line">       System.out.println(list.subList(<span class="number">1</span>,<span class="number">5</span>));</span><br><span class="line">       <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> list.iterator();</span><br><span class="line">       <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">           System.out.println(iterator.next());</span><br><span class="line">       &#125;</span><br><span class="line">       System.out.println(<span class="string">&quot;--------------------------------&quot;</span>);</span><br><span class="line">       <span class="keyword">for</span> (Object as : list)&#123;</span><br><span class="line">           System.out.println(as);</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹-6">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="æ³¨è§£æ¦‚è¿°">æ³¨è§£æ¦‚è¿°</h3><p>â€˜<img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220429093303639.png" alt="image-20220429093303639">â€™</p><h3 id="æ³¨è§£é‡è¦çš„åŸºæœ¬å¸¸ç”¨-https-zhuanlan-zhihu-com-p-158054068">æ³¨è§£é‡è¦çš„åŸºæœ¬å¸¸ç”¨ <a href="https://zhuanlan.zhihu.com/p/158054068">https://zhuanlan.zhihu.com/p/158054068</a></h3><p><code>@Overrideï¼Œ@FunctionalInterfaceï¼Œ@SuppressWarningsï¼Œ@SafeVarargsï¼Œå’Œ@Deprecatedã€‚</code></p><p>å®ƒä»¬éƒ½ä¸ä¼šç›´æ¥å½±å“åˆ°ç¨‹åºçš„è¯­ä¹‰ï¼Œåªæ˜¯ä½œä¸ºæ³¨è§£ï¼ˆæ ‡è¯†ï¼‰å­˜åœ¨  ç†è§£:ç±»ä¼¼äºå¹³å¸¸çš„ä¾¿ç­¾çº¸</p><h4 id="è‡ªå®šä¹‰æ³¨è§£">è‡ªå®šä¹‰æ³¨è§£</h4><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> @<span class="keyword">interface</span> <span class="symbol">MyAnnotation</span> &#123;</span><br><span class="line">    <span class="comment">//è‡ªå®šä¹‰æ³¨è§£</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220429095957764.png" alt="image-20220429095957764"></p><h4 id="å…ƒæ³¨è§£">å…ƒæ³¨è§£</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220429100540460.png" alt="image-20220429100540460"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-6">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>ArrayListï¼Œæ•ˆç‡é«˜ çº¿ç¨‹ä¸å®‰å…¨</p><p>LinkedList, å¯¹äºé¢‘ç¹çš„æ’å…¥ åˆ é™¤æ“ä½œ ä½¿ç”¨æ­¤ç±»æ•ˆç‡æ¯”ArrayListé«˜ï¼Œåº•å±‚ä½¿ç”¨åŒå‘é“¾è¡¨å­˜å‚¨</p><p>Vector æ•ˆç‡ä½ çº¿ç¨‹å®‰å…¨ å¤è€å®ç°ç±»</p><p>ä¸‰è€…çš„å¼‚åŒç‚¹</p><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">åŒ:ä¸‰ä¸ªç±»éƒ½æ˜¯å®ç°äº†listæ¥å£ï¼Œå‚¨å­˜çš„ç‰¹ç‚¹ç›¸åŒ å‚¨å­˜æœ‰åºçš„ï¼Œå¯é‡å¤çš„æ•°æ®</span></span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-6">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©å­¦ä¹ çš„ä¸œè¥¿æœ‰ç‚¹å¤šï¼Œéœ€è¦æ¶ˆåŒ–ï¼Œå­¦ä¹ äº†æšä¸¾ç±»çš„ä½¿ç”¨å’Œåº”ç”¨ï¼Œæšä¸¾ç±»å¦‚æœå¼•ç”¨éæšä¸¾ç±»ä¸­çš„å€¼ï¼Œç¼–è¯‘å™¨ä¼šæ— æ³•é€šè¿‡ï¼Œå°±ä½¿å¾—ç¼–è¯‘å™¨å¯ä»¥åœ¨ç¼–è¯‘æœŸè‡ªåŠ¨æ£€æŸ¥å‡ºæ‰€æœ‰å¯èƒ½çš„æ½œåœ¨é”™è¯¯ã€‚ç„¶åæµ…æµ…çš„çœ‹äº†ä¸€ä¸‹æ³¨è§£ï¼Œå› ä¸ºæš‚æ—¶ç”¨ä¸åˆ°ï¼Œçœ‹åšå®¢å°±è¿‡äº†ï¼Œé‡ç‚¹çš„é›†åˆï¼Œåƒæ˜¯pythonä¸­çš„liståˆ—è¡¨ï¼Œæ˜¯æ•°ç»„çš„ä¼˜åŒ–æ€§ï¼ŒåŠŸèƒ½æ¯”è¾ƒå¼ºå¤§ï¼Œå…ˆå­¦äº†Collectionæ¥å£ ç„¶åæ˜¯å­æ¥å£listï¼Œæ·» åˆ  è¡¥ æŸ¥ éƒ½å¾ˆæ–¹ä¾¿ã€‚</p><h1 id="5-2-Setå’ŒMap">5.2 Setå’ŒMap</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-17">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜-7">2.æ ‡é¢˜</h2><p>P535 533.å°šç¡…è°·_é›†åˆ-Setæ¥å£å®ç°ç±»çš„å¯¹æ¯”<br>P536 534.å°šç¡…è°·_é›†åˆ-Setçš„æ— åºæ€§ä¸ä¸å¯é‡å¤æ€§çš„ç†è§£<br>P537 535.å°šç¡…è°·_é›†åˆ-HashSetä¸­å…ƒç´ çš„æ·»åŠ è¿‡ç¨‹<br>P538 536.å°šç¡…è°·_é›†åˆ-å…³äºhashCode()å’Œequals()çš„é‡å†™<br>P539 537.å°šç¡…è°·_é›†åˆ-LinkedHashSetçš„ä½¿ç”¨<br>P540 538.å°šç¡…è°·_é›†åˆ-TreeSetçš„è‡ªç„¶æ’åº<br>P541 539.å°šç¡…è°·_é›†åˆ-TreeSetçš„å®šåˆ¶æ’åº<br>P542 540.å°šç¡…è°·_é›†åˆ-æ¯å¤©ä¸€è€ƒ<br>P543 541.å°šç¡…è°·_é›†åˆ-å¤ä¹ ï¼šCollectionåŠCollectionçš„éå†<br>P544 542.å°šç¡…è°·_é›†åˆ-å¤ä¹ ï¼šListæ¥å£<br>P545 543.å°šç¡…è°·_é›†åˆ-å¤ä¹ ï¼šSetæ¥å£<br>P546 544.å°šç¡…è°·_é›†åˆ-TreeSetçš„è¯¾åç»ƒä¹ <br>P547 545.å°šç¡…è°·_é›†åˆ-Setè¯¾åä¸¤é“é¢è¯•é¢˜<br>P548 546.å°šç¡…è°·_é›†åˆ-Mapæ¥å£åŠå…¶å¤šä¸ªå®ç°ç±»çš„å¯¹æ¯”<br>P549 547.å°šç¡…è°·_é›†åˆ-Mapä¸­å­˜å‚¨çš„key-valueçš„ç‰¹ç‚¹</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-7">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>Setæ¥å£çš„æ¡†æ¶ å¯¹Setçš„ç†è§£</p><p>æ·»åŠ å…ƒç´ å’Œå“ˆå¸Œå€¼çš„å…³ç³»</p><p>é‡å†™equalså’Œhashcodeæ–¹æ³•</p><p>P539 537.å°šç¡…è°·_é›†åˆ-LinkedHashSetçš„ä½¿ç”¨</p><p>TreeSetçš„è‡ªç„¶æ’åº å’Œè‡ªå®šä¹‰æ’åº</p><p>å¤ä¹  è¯¾åç»ƒä¹ </p><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-7">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="setæ¥å£çš„æ¡†æ¶">setæ¥å£çš„æ¡†æ¶</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220502101815638.png" alt="image-20220502101815638"></p><h3 id="Setæ·»åŠ å…ƒç´ ">Set<strong>æ·»åŠ å…ƒç´ </strong></h3><h4 id="hashSetæ¥å£">hashSetæ¥å£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">    set.add(<span class="number">456</span>);</span><br><span class="line">    set.add(<span class="number">123</span>);</span><br><span class="line">    set.add(<span class="string">&quot;AA&quot;</span>);</span><br><span class="line">    set.add(<span class="string">&quot;CC&quot;</span>);</span><br><span class="line">    set.add(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">    set.add(<span class="number">129</span>);</span><br><span class="line">    set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;é‡‘å®ä¸‰&quot;</span>,<span class="number">39</span>));</span><br><span class="line">    set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;é‡‘å®ä¸‰&quot;</span>,<span class="number">39</span>));</span><br><span class="line"></span><br><span class="line">    <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> set.iterator();</span><br><span class="line">    System.out.println(set.size());</span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">        System.out.println(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="LinkedHashSetæ¥å£">LinkedHashSetæ¥å£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinkedHashSet</span>();</span><br><span class="line">    set.add(<span class="number">456</span>);</span><br><span class="line">    set.add(<span class="number">123</span>);</span><br><span class="line">    set.add(<span class="string">&quot;AA&quot;</span>);</span><br><span class="line">    set.add(<span class="string">&quot;CC&quot;</span>);</span><br><span class="line">    set.add(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">    set.add(<span class="number">129</span>);</span><br><span class="line">    set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;é‡‘å®ä¸‰&quot;</span>,<span class="number">39</span>));</span><br><span class="line">    set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;é‡‘å®ä¸‰&quot;</span>,<span class="number">39</span>));</span><br><span class="line"></span><br><span class="line">    <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> set.iterator();</span><br><span class="line">    System.out.println(set.size());</span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">        System.out.println(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Mapæ¥å£">Mapæ¥å£</h3><h4 id="Mapçš„æ¡†æ¶">Mapçš„æ¡†æ¶</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220502150434741.png" alt="image-20220502150434741"></p><h4 id="Mapçš„ç»“æ„">Mapçš„ç»“æ„</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220502151342333.png" alt="image-20220502151342333"></p><h4 id="Mapçš„ä½¿ç”¨æ–¹æ³•">Mapçš„ä½¿ç”¨æ–¹æ³•</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220502152530191.png" alt="image-20220502152530191"></p><p>éå†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Map</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">    map.put(<span class="string">&quot;AA&quot;</span>,<span class="number">123</span>);</span><br><span class="line">    map.put(<span class="string">&quot;BB&quot;</span>,<span class="number">23</span>);</span><br><span class="line">    map.put(<span class="number">45</span>,<span class="number">62</span>);</span><br><span class="line">    map.put(<span class="string">&quot;CC&quot;</span>,<span class="number">123</span>);</span><br><span class="line">    map.put(<span class="string">&quot;DD&quot;</span>,<span class="number">123</span>);</span><br><span class="line">    <span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> map.keySet();</span><br><span class="line">    System.out.println(set);   </span><br><span class="line">    <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> set.iterator();</span><br><span class="line">    <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">        System.out.println(iterator.next());</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;====&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">Collection</span> <span class="variable">values</span> <span class="operator">=</span> map.values();</span><br><span class="line">    <span class="keyword">for</span> (Object obj : values)&#123;</span><br><span class="line">        System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//éå†æ‰€æœ‰çš„key-value</span></span><br><span class="line">    <span class="comment">//entrySet();</span></span><br><span class="line">    <span class="type">Set</span> <span class="variable">entrySet</span> <span class="operator">=</span> map.entrySet();</span><br><span class="line">    <span class="keyword">for</span> (Object o: entrySet)&#123;</span><br><span class="line">            Map.<span class="type">Entry</span> <span class="variable">entry</span> <span class="operator">=</span> (Map.Entry)o;</span><br><span class="line">        System.out.println(entry.getKey() + <span class="string">&quot;------&gt;&quot;</span> + entry.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="TreeMapè‡ªç„¶æ’åº-å®šåˆ¶æ’åº">TreeMapè‡ªç„¶æ’åº å®šåˆ¶æ’åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">TreeMap</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeMap</span>();</span><br><span class="line">    <span class="type">User</span> <span class="variable">u1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Tom&quot;</span>,<span class="number">23</span>);</span><br><span class="line">    <span class="type">User</span> <span class="variable">u2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jerry&quot;</span>,<span class="number">20</span>);</span><br><span class="line">    <span class="type">User</span> <span class="variable">u3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jack&quot;</span>,<span class="number">32</span>);</span><br><span class="line">    <span class="type">User</span> <span class="variable">u4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Rose&quot;</span>,<span class="number">18</span>);</span><br><span class="line">    <span class="type">User</span> <span class="variable">u5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Bali&quot;</span>,<span class="number">20</span>);</span><br><span class="line">    map.put(u1,<span class="number">98</span>);</span><br><span class="line">    map.put(u2,<span class="number">123</span>);</span><br><span class="line">    map.put(u4,<span class="number">88</span>);</span><br><span class="line">    map.put(u3,<span class="number">98</span>);</span><br><span class="line">    map.put(u5,<span class="number">250</span>);</span><br><span class="line">    <span class="type">Set</span> <span class="variable">entrySet</span> <span class="operator">=</span> map.entrySet();</span><br><span class="line">    <span class="keyword">for</span> (Object o: entrySet)&#123;</span><br><span class="line">        Map.<span class="type">Entry</span> <span class="variable">entry</span> <span class="operator">=</span> (Map.Entry)o;</span><br><span class="line">        System.out.println(entry.getKey() + <span class="string">&quot;------&gt;&quot;</span> + entry.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test5</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">TreeMap</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeMap</span>(<span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (o1 <span class="keyword">instanceof</span> User &amp;&amp; o2 <span class="keyword">instanceof</span> User)&#123;</span><br><span class="line">                <span class="type">User</span> <span class="variable">u1</span> <span class="operator">=</span> (User)o1;</span><br><span class="line">                <span class="type">User</span> <span class="variable">u2</span> <span class="operator">=</span> (User)o2;</span><br><span class="line">                <span class="type">int</span> <span class="variable">compare</span> <span class="operator">=</span> u1.getName().compareTo(u2.getName());</span><br><span class="line">                <span class="keyword">if</span> (compare!=<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> compare;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> Integer.compare(u1.getAge(),u2.getAge());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;ç±»å‹ä¸åŒ¹é…&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">User</span> <span class="variable">u1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Tom&quot;</span>,<span class="number">23</span>);</span><br><span class="line">    <span class="type">User</span> <span class="variable">u2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jerry&quot;</span>,<span class="number">20</span>);</span><br><span class="line">    <span class="type">User</span> <span class="variable">u3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jack&quot;</span>,<span class="number">32</span>);</span><br><span class="line">    <span class="type">User</span> <span class="variable">u4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Rose&quot;</span>,<span class="number">18</span>);</span><br><span class="line">    <span class="type">User</span> <span class="variable">u5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Bali&quot;</span>,<span class="number">20</span>);</span><br><span class="line">    map.put(u1,<span class="number">98</span>);</span><br><span class="line">    map.put(u2,<span class="number">123</span>);</span><br><span class="line">    map.put(u4,<span class="number">88</span>);</span><br><span class="line">    map.put(u3,<span class="number">98</span>);</span><br><span class="line">    map.put(u5,<span class="number">250</span>);</span><br><span class="line">    <span class="type">Set</span> <span class="variable">entrySet</span> <span class="operator">=</span> map.entrySet();</span><br><span class="line">    <span class="keyword">for</span> (Object o: entrySet)&#123;</span><br><span class="line">        Map.<span class="type">Entry</span> <span class="variable">entry</span> <span class="operator">=</span> (Map.Entry)o;</span><br><span class="line">        System.out.println(entry.getKey() + <span class="string">&quot;------&gt;&quot;</span> + entry.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Collectionså·¥å…·ç±»çš„å¸¸ç”¨æ–¹æ³•">Collectionså·¥å…·ç±»çš„å¸¸ç”¨æ–¹æ³•</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220502160019291.png" alt="image-20220502160019291"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220502155954389.png" alt="image-20220502155954389"></p><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹-7">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="æ·»åŠ å…ƒç´ ï¼ˆéš¾ç‚¹ï¼‰">æ·»åŠ å…ƒç´ ï¼ˆéš¾ç‚¹ï¼‰</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220502101546347.png" alt="image-20220502101546347"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SetTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Set</span> <span class="variable">set</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line">        set.add(<span class="number">456</span>);</span><br><span class="line">        set.add(<span class="number">123</span>);</span><br><span class="line">        set.add(<span class="string">&quot;AA&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;CC&quot;</span>);</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        set.add(<span class="number">129</span>);</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;é‡‘å®ä¸‰&quot;</span>,<span class="number">39</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;é‡‘å®ä¸‰&quot;</span>,<span class="number">39</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> set.iterator();</span><br><span class="line">        System.out.println(set.size());</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) o;</span><br><span class="line">        <span class="keyword">return</span> age == user.age &amp;&amp; Objects.equals(name, user.name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é‡å†™hashcodeå’Œequalsæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220502101648772.png" alt="image-20220502101648772"></p><h3 id="TreeSetè‡ªç„¶æ’åºå’Œå®šåˆ¶æ’åº">TreeSetè‡ªç„¶æ’åºå’Œå®šåˆ¶æ’åº</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220502105240689.png" alt="image-20220502105240689"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeSetTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">TreeSet</span> <span class="variable">set</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeSet</span>();</span><br><span class="line">        <span class="comment">//ä¸èƒ½æ·»åŠ ä¸åŒç±»</span></span><br><span class="line"><span class="comment">//        set.add(123);</span></span><br><span class="line"><span class="comment">//        set.add(&quot;AA&quot;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//        set.add(123);</span></span><br><span class="line"><span class="comment">//        set.add(456);</span></span><br><span class="line"><span class="comment">//        set.add(-42);</span></span><br><span class="line"><span class="comment">//        set.add(0);</span></span><br><span class="line"><span class="comment">//        Iterator iterator = set.iterator();</span></span><br><span class="line"><span class="comment">//        while (iterator.hasNext())&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(iterator.next());</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">TreeSet</span> <span class="variable">set</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeSet</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;=========================&quot;</span>);</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Tom&quot;</span>,<span class="number">23</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jerry&quot;</span>,<span class="number">37</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jack&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jack&quot;</span>,<span class="number">39</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;smith&quot;</span>,<span class="number">23</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Carry&quot;</span>,<span class="number">23</span>));</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> set.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Comparator</span> <span class="variable">com</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (o1 <span class="keyword">instanceof</span> User &amp;&amp; o2 <span class="keyword">instanceof</span> User)&#123;</span><br><span class="line">                    <span class="type">User</span> <span class="variable">u1</span> <span class="operator">=</span> (User)o1;</span><br><span class="line">                    <span class="type">User</span> <span class="variable">u2</span> <span class="operator">=</span> (User)o2;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">compare</span> <span class="operator">=</span> u1.getName().compareTo(u2.getName());</span><br><span class="line">                    <span class="keyword">if</span> (compare!=<span class="number">0</span>)&#123;</span><br><span class="line">                        <span class="keyword">return</span> compare;</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> Integer.compare(u1.getAge(),u2.getAge());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;ç±»å‹ä¸åŒ¹é…&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="type">TreeSet</span> <span class="variable">set</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeSet</span>(com);</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Tom&quot;</span>,<span class="number">23</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jerry&quot;</span>,<span class="number">37</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jack&quot;</span>,<span class="number">18</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jack&quot;</span>,<span class="number">39</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;smith&quot;</span>,<span class="number">23</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Carry&quot;</span>,<span class="number">23</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Mary&quot;</span>,<span class="number">33</span>));</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> set.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220502105314711.png" alt="image-20220502105314711"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-7">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="è‡ªç„¶æ’åº-å®šåˆ¶æ’åº-Date">è‡ªç„¶æ’åº å®šåˆ¶æ’åº Date</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> MyDate birthday;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name, <span class="type">int</span> age, MyDate birthday)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> MyDate <span class="title function_">getBirthday</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBirthday</span><span class="params">(MyDate birthday)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.birthday = birthday;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Employee&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, birthday=&quot;</span> + birthday +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (o <span class="keyword">instanceof</span> Employee)&#123;</span><br><span class="line">            <span class="type">Employee</span> <span class="variable">e1</span> <span class="operator">=</span> (Employee) o;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>.name.compareTo(e1.name);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;ç±»å‹ä¸åŒ¹é…&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyDate</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> year;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> month;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> day;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyDate</span><span class="params">(<span class="type">int</span> year, <span class="type">int</span> month, <span class="type">int</span> day)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.year = year;</span><br><span class="line">        <span class="built_in">this</span>.month = month;</span><br><span class="line">        <span class="built_in">this</span>.day = day;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getYear</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> year;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMonth</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> month;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getDay</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> day;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> year + <span class="string">&quot;å¹´&quot;</span> + month +<span class="string">&quot;æœˆ&quot;</span> + day + <span class="string">&quot;æ—¥&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TreeSetTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Comparator</span> <span class="variable">com</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (o1 <span class="keyword">instanceof</span> Employee &amp;&amp; o2 <span class="keyword">instanceof</span> Employee)&#123;</span><br><span class="line">                    <span class="type">Employee</span> <span class="variable">e1</span> <span class="operator">=</span> (Employee) o1;</span><br><span class="line">                    <span class="type">Employee</span> <span class="variable">e2</span> <span class="operator">=</span> (Employee) o2;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">compare</span> <span class="operator">=</span> Integer.compare(e1.getBirthday().getYear(),e2.getBirthday().getYear());</span><br><span class="line">                    <span class="comment">//å…ˆå¹´</span></span><br><span class="line">                    <span class="keyword">if</span> (compare != <span class="number">0</span>)&#123;</span><br><span class="line">                        <span class="keyword">return</span> compare;</span><br><span class="line">                    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                        <span class="comment">//æœˆ</span></span><br><span class="line">                        <span class="type">int</span> <span class="variable">compare1</span> <span class="operator">=</span> Integer.compare(e1.getBirthday().getMonth(),e2.getBirthday().getMonth());</span><br><span class="line">                        <span class="keyword">if</span> (compare1 != <span class="number">0</span>)&#123;</span><br><span class="line">                            <span class="keyword">return</span> compare1;</span><br><span class="line">                        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="comment">//æ—¥</span></span><br><span class="line">                            <span class="keyword">return</span> Integer.compare(e1.getBirthday().getDay(),e2.getBirthday().getDay());</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;ç±»å‹ä¸åŒ¹é…&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">TreeSet</span> <span class="variable">set</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeSet</span>(com);</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Jane&quot;</span>,<span class="number">20</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2002</span>,<span class="number">11</span>,<span class="number">19</span>)));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Jack&quot;</span>,<span class="number">19</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2003</span>,<span class="number">8</span>,<span class="number">2</span>)));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Smith&quot;</span>,<span class="number">20</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2003</span>,<span class="number">3</span>,<span class="number">28</span>)));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Tom&quot;</span>,<span class="number">20</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2002</span>,<span class="number">10</span>,<span class="number">1</span>)));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;Carry&quot;</span>,<span class="number">20</span>,<span class="keyword">new</span> <span class="title class_">MyDate</span>(<span class="number">2003</span>,<span class="number">3</span>,<span class="number">21</span>)));</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">iterator</span> <span class="operator">=</span> set.iterator();</span><br><span class="line">        <span class="keyword">while</span> (iterator.hasNext())&#123;</span><br><span class="line">            System.out.println(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-7">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ å†…å®¹å¾ˆå¤šï¼Œå­¦ä¹ éš¾åº¦ä¸€èˆ¬ï¼Œé›†åˆå·²ç»å®Œæˆï¼Œä¸»è¦æ˜¯Setæ¥å£å’ŒMapçš„æ–¹æ³•æ˜¯é‡ç‚¹ï¼Œæºç è§£æç­‰æœ‰ç‚¹éš¾åº¦ï¼Œä¹Ÿæ²¡æ‰§ç€äºç†è§£ï¼Œä»Šå¤©çš„å­¦ä¹ ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œåº•å±‚ç»“æ„é™¤å¤–ï¼ŒæŒæ¡ç¨‹åº¦90%ï¼Œä»£ç æ•²äº†åå‡ ä¸ªï¼Œç†Ÿèƒ½ç”Ÿå·§ï¼Œå­¦ä¹ æ­¥éª¤ï¼šä¸¤ä¸ªæ¡ˆä¾‹ï¼Œåœ¨è€å¸ˆæ•²ä¹‹å‰æˆªå›¾ï¼Œè‡ªå·±åšã€‚æ–¹æ³•ä¹Ÿæ˜¯çœ‹åšå®¢ï¼Œåšå®Œå†çœ‹è€å¸ˆæœ€åçš„ä»£ç å’Œå®ç°ï¼Œæ˜å¤©å°†æ³›å‹æ”»å…‹ã€‚</p><h1 id="5-3-File-å’Œ-æ³›å‹">5.3 File å’Œ æ³›å‹</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-18">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜-8">2.æ ‡é¢˜</h2><p>P562 560.å°šç¡…è°·_æ³›å‹ä¸File-æ¯å¤©ä¸€è€ƒ<br>P563 561.å°šç¡…è°·_æ³›å‹ä¸File-å¤ä¹ 1ï¼šMap<br>P564 562.å°šç¡…è°·_æ³›å‹ä¸File-å¤ä¹ 2ï¼šCollectionså’Œæ•°æ®ç»“æ„<br>P565 563.å°šç¡…è°·_æ³›å‹ä¸File-ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ³›å‹<br>P566 564.å°šç¡…è°·_æ³›å‹ä¸File-æ³›å‹ä¸Fileä¸­ä½¿ç”¨æ³›å‹ä¸¾ä¾‹<br>P567 565.å°šç¡…è°·_æ³›å‹ä¸File-æ³›å‹ä¸Fileä¸­ä½¿ç”¨æ³›å‹çš„ç»ƒä¹ <br>P568 566.å°šç¡…è°·_æ³›å‹ä¸File-è‡ªå®šä¹‰æ³›å‹ç±»ä¸¾ä¾‹<br>P569 567.å°šç¡…è°·_æ³›å‹ä¸File-è‡ªå®šä¹‰æ³›å‹ç±»æ³›å‹æ¥å£çš„æ³¨æ„ç‚¹<br>P570 568.å°šç¡…è°·_æ³›å‹ä¸File-è‡ªå®šä¹‰æ³›å‹æ–¹æ³•ä¸¾ä¾‹<br>P571 569.å°šç¡…è°·_æ³›å‹ä¸File-ä¸¾ä¾‹æ³›å‹ç±»å’Œæ³›å‹æ–¹æ³•çš„ä½¿ç”¨æƒ…å¢ƒ<br>P572 570.å°šç¡…è°·_æ³›å‹ä¸File-æ³›å‹åœ¨ç»§æ‰¿æ–¹é¢çš„ä½“ç°<br>P573 571.å°šç¡…è°·_æ³›å‹ä¸File-é€šé…ç¬¦çš„ä½¿ç”¨<br>P574 572.å°šç¡…è°·_æ³›å‹ä¸File-ä½¿ç”¨é€šé…ç¬¦åæ•°æ®çš„è¯»å–å’Œå†™å…¥è¦æ±‚<br>P575 573.å°šç¡…è°·_æ³›å‹ä¸File-æœ‰é™åˆ¶æ¡ä»¶çš„é€šé…ç¬¦çš„ä½¿ç”¨<br>P576 574.å°šç¡…è°·_æ³›å‹ä¸File-è‡ªå®šä¹‰æ³›å‹ç±»ç»ƒä¹ <br>P577 575.å°šç¡…è°·_æ³›å‹ä¸File-Fileç±»çš„å®ä¾‹åŒ–<br>P578 576.å°šç¡…è°·_æ³›å‹ä¸File-Fileç±»çš„å¸¸ç”¨æ–¹æ³•1<br>P579 577.å°šç¡…è°·_æ³›å‹ä¸File-Fileç±»çš„å¸¸ç”¨æ–¹æ³•2<br>P580 578.å°šç¡…è°·_æ³›å‹ä¸File-Fileç±»çš„è¯¾åç»ƒä¹ </p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-8">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>æ³›å‹çš„å¥½å¤„ å¦‚ä½•ä½¿ç”¨ è‡ªå®šä¹‰æ³›å‹ æ³›å‹çš„ä½¿ç”¨æƒ…æ™¯ ç»§æ‰¿ä¸­çš„æ³›å‹ æ³›å‹ä¸­é€šé…ç¬¦çš„ä½¿ç”¨ FIleæ–‡ä»¶çš„æ–¹æ³•å’Œå®ä¾‹åŒ– ä»¥åŠè¯¾åç»ƒä¹ </p><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-8">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="æ³›å‹ç»§æ‰¿">æ³›å‹ç»§æ‰¿</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220503085505877.png" alt="image-20220503085505877"></p><h3 id="æ³›å‹é€šé…ç¬¦">æ³›å‹é€šé…ç¬¦</h3><p>å¦‚å›¾ åœ¨showketvalue1ä¸­å®šä¹‰æ³›å‹ä¸ºNumber ä½†æ˜¯integer æ˜¯numberçš„å­ç±» å´æ— æ³•ä½¿ç”¨ï¼Œ è¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ°æˆ‘ä»¬çš„é€šé…ç¬¦</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220503143539036.png" alt="image-20220503143539036"></p><p>ä¿®æ”¹ä»¥å</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220503143715881.png" alt="image-20220503143715881"></p><p>æ­¤å¤„ï¼Ÿæ˜¯ç±»å‹å®å‚ï¼Œè€Œä¸æ˜¯ç±»å‹å½¢å‚ ï¼æ„æ€å°±æ˜¯ï¼Œæ­¤å¤„çš„ï¼Ÿå’ŒNumberã€Stringã€Integerä¸€æ ·éƒ½æ˜¯ä¸€ç§å®é™…çš„ç±»å‹ï¼Œå¯ä»¥æŠŠï¼Ÿçœ‹æˆæ‰€æœ‰ç±»å‹çš„çˆ¶ç±»Objectã€‚æ˜¯ä¸€ç§çœŸå®çš„ç±»å‹ã€‚å¯ä»¥è§£å†³å½“å…·ä½“ç±»å‹ä¸ç¡®å®šçš„æ—¶å€™ï¼Œè¿™ä¸ªé€šé…ç¬¦å°±æ˜¯ ?  ï¼›å½“æ“ä½œç±»å‹æ—¶ï¼Œä¸éœ€è¦ä½¿ç”¨ç±»å‹çš„å…·ä½“åŠŸèƒ½æ—¶ï¼Œåªä½¿ç”¨Objectç±»ä¸­çš„åŠŸèƒ½ã€‚é‚£ä¹ˆå¯ä»¥ç”¨ ? é€šé…ç¬¦æ¥è¡¨æœªçŸ¥ç±»å‹ã€‚</p><h4 id="æ³›å‹çš„ä¸Šä¸‹ç•Œ">æ³›å‹çš„ä¸Šä¸‹ç•Œ</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220503144111160.png" alt="image-20220503144111160"></p><p>ç¼–è¯‘ä¼šæŠ¥é”™å› ä¸ºStringä¸æ˜¯Numberçš„å­ç±»</p><p>extendsç›¸å½“äº[-æ— ç©·,Number]</p><p>superç›¸å½“äº[Number,+æ— ç©·]</p><h3 id="Fileçš„åˆ›å»ºæ–¹å¼">Fileçš„åˆ›å»ºæ–¹å¼</h3><p>å››ç§</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\CC\\IDEA\\day29\\hello.txt&quot;</span>);</span><br><span class="line">    System.out.println(file);</span><br><span class="line">    System.out.println(file1);</span><br><span class="line">    <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\CC\\IDEA&quot;</span>,<span class="string">&quot;day29&quot;</span>);</span><br><span class="line">    System.out.println(file2.isFile());</span><br><span class="line">    <span class="type">File</span> <span class="variable">file3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(file2,<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    System.out.println(file3.isFile());</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Fileçš„æ–¹æ³•</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220503144348807.png" alt="image-20220503144348807"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\CC\\IDEA\\day29\\hello.txt&quot;</span>);</span><br><span class="line">    <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\CC\\IDEA&quot;</span>,<span class="string">&quot;day29&quot;</span>);</span><br><span class="line">    <span class="type">File</span> <span class="variable">file3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(file2,<span class="string">&quot;hi.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    System.out.println(file1.getAbsolutePath());</span><br><span class="line">    System.out.println(file1.getPath());</span><br><span class="line">    System.out.println(file1.getName());</span><br><span class="line">    System.out.println(file1.getParent());</span><br><span class="line">    System.out.println(file1.length());</span><br><span class="line">    <span class="comment">//æ¯«ç§’æ•°</span></span><br><span class="line">    <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(file1.lastModified());</span><br><span class="line">    System.out.println(date);</span><br><span class="line">    System.out.println(<span class="string">&quot;================&quot;</span>);</span><br><span class="line">    System.out.println(file3.getAbsolutePath());</span><br><span class="line">    System.out.println(file3.getPath());</span><br><span class="line">    System.out.println(file3.getName());</span><br><span class="line">    System.out.println(file3.getParent());</span><br><span class="line">    System.out.println(file3.length());</span><br><span class="line">    <span class="comment">//æ¯«ç§’æ•°</span></span><br><span class="line">    System.out.println(<span class="keyword">new</span> <span class="title class_">Date</span>(file3.lastModified()));</span><br><span class="line">    System.out.println(<span class="string">&quot;================&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\CC\\IDEA&quot;</span>);</span><br><span class="line">    String[] list = file.list();</span><br><span class="line">    <span class="keyword">for</span> (String s : list)&#123;</span><br><span class="line">        System.out.println (s);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;=====&quot;</span>);</span><br><span class="line"></span><br><span class="line">    File[] list1 = file.listFiles();</span><br><span class="line">    <span class="keyword">for</span> (File f : list1)&#123;</span><br><span class="line">        System.out.println(f);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\IO\\hi.txt&quot;</span>);</span><br><span class="line">    System.out.println(file2.renameTo(file1));</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Fileç±»çš„åˆ¤æ–­">Fileç±»çš„åˆ¤æ–­</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220503150808314.png" alt="image-20220503150808314"></p><h3 id="IOæµ">IOæµ</h3><h4 id="IOæµçš„åˆ†ç±»">IOæµçš„åˆ†ç±»</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220503165255640.png" alt="image-20220503165255640"></p><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹-8">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>Fileçš„åˆ›å»ºå’Œåˆ é™¤</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220503151720613.png" alt="image-20220503151720613"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hi.txt&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!file.exists())&#123;<span class="comment">//æ–‡ä»¶å­˜åœ¨</span></span><br><span class="line">        file.createNewFile();</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ›å»ºæˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        file.delete();</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-8">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="æ‰“å°å‡ºç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶">æ‰“å°å‡ºç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\CC\\IDEA\\scr&quot;</span>);</span><br><span class="line">    printSubFile(file);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title function_">printSubFile</span><span class="params">(File file)</span> &#123;</span><br><span class="line">    File[] files = file.listFiles();</span><br><span class="line">    <span class="keyword">assert</span> files != <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">for</span> (File f : files)&#123;</span><br><span class="line">        <span class="keyword">if</span> (f.isDirectory())&#123;</span><br><span class="line">            printSubFile(f);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(f);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220503155735768.png" alt="image-20220503155735768"></p><h2 id="7-æ€»ç»“-8">7.æ€»ç»“</h2><p>å­¦ä¹ éš¾åº¦ä¸€èˆ¬ï¼Œä¸»è¦æ˜¯æ–¹æ³•çš„ä½¿ç”¨æ¯”è¾ƒæ¯ç‡¥ï¼ŒæŒæ¡äº†90% ï¼Œåˆšå¼€å§‹å¯¹äºæ³›å‹çš„&lt;ï¼Ÿ&gt;é€šé…ç¬¦ä¸å¤ªç†è§£ï¼Œè¿˜æœ‰ç»§æ‰¿è¿™å—ï¼Œå»çœ‹äº†åšå®¢ï¼Œé€æ¸æ˜ç™½?æ˜¯è§£å†³æ³›å‹æ— æ³•ç»§æ‰¿çš„ä¸œè¥¿ï¼Œåœ¨jdk1.2å‡ºæ¥çš„ï¼Œç„¶åå°±æ˜¯å¯¹æ–‡ä»¶çš„å¤„ç†ï¼Œè‡ªå·±æ—©åœ¨ä¹‹å‰å°±çœ‹è¿‡å¯¹æ–‡ä»¶çš„å¤„ç†ï¼ŒæŒæ¡èµ·æ¥ä¹Ÿæ¯”è¾ƒå®¹æ˜“ï¼Œä»Šå¤©å­¦ä¹ å†…å®¹è¿˜æ˜¯è›®å¤šçš„ï¼Œæ³›å‹å’ŒFileçš„å¤„ç†ï¼Œç„¶ååˆè§IOæµï¼Œåšäº†å‡ ä¸ªç»ƒä¹ é¢˜ï¼Œä»£ç æµ‹è¯•çš„æ–¹æ³•æ¯”è¾ƒå¤šã€‚</p><h1 id="5-5-IOæµ">5.5 IOæµ</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-19">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜-9">2.æ ‡é¢˜</h2><p>P581 579.å°šç¡…è°·_IOæµ-æ¯å¤©ä¸€è€ƒ<br>P582 580.å°šç¡…è°·_IOæµ-å¤ä¹ ï¼šIOæµä¸­ä½¿ç”¨æ³›å‹<br>P583 581.å°šç¡…è°·_IOæµ-å¤ä¹ ï¼šè‡ªå®šä¹‰æ³›å‹ç»“æ„ä¸é€šé…ç¬¦<br>P584 582.å°šç¡…è°·_IOæµ-å¤ä¹ ï¼šFileç±»çš„ä½¿ç”¨<br>P585 583.å°šç¡…è°·_IOæµ-IOæµæ¦‚è¿°ä¸æµçš„åˆ†ç±»<br>P586 584.å°šç¡…è°·_IOæµ-IOæµçš„ä½“ç³»ç»“æ„<br>P587 585.å°šç¡…è°·_IOæµ-FileReaderè¯»å…¥æ•°æ®çš„åŸºæœ¬æ“ä½œ<br>P588 586.å°šç¡…è°·_IOæµ-FileReaderä¸­ä½¿ç”¨read(char[] cbuf)è¯»å…¥æ•°æ®<br>P589 587.å°šç¡…è°·_IOæµ-FileWriterå†™å‡ºæ•°æ®çš„æ“ä½œ<br>P590 588.å°šç¡…è°·_IOæµ-ä½¿ç”¨FileReaderå’ŒFileWriterå®ç°æ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶<br>P591 589.å°šç¡…è°·_IOæµ-å­—ç¬¦æµä¸èƒ½å¤„ç†å›¾ç‰‡æ–‡ä»¶çš„æµ‹è¯•<br>P592 590.å°šç¡…è°·_IOæµ-ä½¿ç”¨FileInputStreamä¸èƒ½è¯»å–æ–‡æœ¬æ–‡ä»¶çš„æµ‹è¯•<br>P593 591.å°šç¡…è°·_IOæµ-ä½¿ç”¨FileInputStreamå’ŒFileOutputStreamè¯»å†™éæ–‡æœ¬æ–‡ä»¶<br>P594 592.å°šç¡…è°·_IOæµ-ä½¿ç”¨FileInputStreamå’ŒFileOutputStreamå¤åˆ¶æ–‡ä»¶çš„æ–¹æ³•æµ‹è¯•</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-9">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>IOçš„ä»‹ç»</p><p>IOå­—ç¬¦æµçš„å†™å…¥å’Œè¯»å–</p><p>IOå­—èŠ‚æµçš„å†™å…¥å’Œè¯»å–</p><p>IOå­—ç¬¦æµå’Œå­—èŠ‚æµçš„é€‚ç”¨åœºæ™¯</p><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-9">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="IOæµçš„ä»‹ç»">IOæµçš„ä»‹ç»</h3><h4 id="åŸç†">åŸç†</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220505201000170.png" alt="image-20220505201000170"></p><h4 id="IOæµçš„åˆ†ç±»-2">IOæµçš„åˆ†ç±»</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220505203243307.png" alt="image-20220505203243307"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220505201047511.png" alt="image-20220505201047511"></p><h4 id="IOçš„ä½“ç³»">IOçš„ä½“ç³»</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220505202059232.png" alt="image-20220505202059232"></p><p><strong><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220506081437053.png" alt="image-20220506081437053"></strong></p><h3 id="æ–‡æœ¬æ–‡ä»¶è¯»å–"><strong>æ–‡æœ¬æ–‡ä»¶è¯»å–</strong></h3><p>ä½¿ç”¨FileReaderç±» read(æ•°ç»„)æ–¹æ³•è¯»å–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//1.fileç±»çš„å®ä¾‹åŒ–</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fileReader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//2.FileReaderæµçš„å®ä¾‹åŒ–</span></span><br><span class="line">             fileReader = <span class="keyword">new</span> <span class="title class_">FileReader</span>(file);</span><br><span class="line">            <span class="comment">//3.è¯»å–</span></span><br><span class="line">            <span class="type">char</span>[] chars = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">5</span>];<span class="comment">//5ä¸ª5ä¸ªè¯»å–</span></span><br><span class="line">            <span class="type">int</span> num;</span><br><span class="line">            <span class="keyword">while</span> ((num =fileReader.read(chars)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(chars,<span class="number">0</span>,num);</span><br><span class="line">                System.out.print(str);</span><br><span class="line"></span><br><span class="line"><span class="comment">//                System.out.print(String.valueOf(chars));</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (fileReader != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fileReader.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="æ–‡ä»¶çš„å†™å…¥">æ–‡ä»¶çš„å†™å…¥</h3><p>ç”¨FileWriter ä¸­çš„writerå†™å…¥</p><p>FileWriteræ„é€ å™¨åé¢åŠ trueæ˜¯æ·»åŠ  é»˜è®¤æ˜¯false è¦†ç›–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello1.txt&quot;</span>);</span><br><span class="line">    <span class="type">FileWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(file,<span class="literal">true</span>);</span><br><span class="line">    writer.write(<span class="string">&quot;hello java\n&quot;</span>);</span><br><span class="line">    writer.write(<span class="string">&quot;hello python\n&quot;</span>);</span><br><span class="line">    writer.write(<span class="string">&quot;hfa\n&quot;</span>);</span><br><span class="line">    writer.write(<span class="string">&quot;cxy\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    writer.close();</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>æ³¨æ„ FileWriterå’ŒFileReaderéƒ½å±äºå­—ç¬¦æµ æ— æ³•è¯»å’Œå†™éæ–‡æœ¬æ–‡ä»¶ï¼Œéæ–‡æœ¬æ–‡ä»¶éœ€è¦ç”¨å­—èŠ‚æµ</code></p><h3 id="å­—èŠ‚æµ">å­—èŠ‚æµ</h3><h4 id="image-20220505201935633"><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220505201935633.png" alt="image-20220505201935633"></h4><h4 id="æ–‡ä»¶çš„å†™å…¥-2">æ–‡ä»¶çš„å†™å…¥</h4><p>ä¼šé€ æˆä¸­æ–‡çš„ä¹±ç  è¯¦ç»†è§æ‰©å±•å­¦ä¹ éƒ¨åˆ†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello31.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//é€ æµ</span></span><br><span class="line">        fis = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">        <span class="comment">//è¯»å–</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">38</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = fis.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes,<span class="number">0</span>,len);</span><br><span class="line">            System.out.print(str);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (fis != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å…³é—­</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹-9">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>é‡ç‚¹</p><h3 id="ä¸ªäººç†è§£">ä¸ªäººç†è§£</h3><p>å­—ç¬¦æµæ˜¯å¯¹äºæ–‡æœ¬æ–‡ä»¶æœ‰å¾ˆå¥½çš„è¯»å–ï¼Œå­—èŠ‚æµå› ä¸ºä¸­æ–‡çš„å ä½ä¸ä¸€æ ·ï¼Œå®¹æ˜“è¯»å–ä¸€åŠé€ æˆä¹±ç ï¼Œä½†æ˜¯æ™®é€šçš„å¤åˆ¶ åªè¦å°†æ•°ç»„è°ƒçš„å¤§ä¸€ç‚¹å°±å¥½äº†ã€‚</p><h3 id="æ–‡æœ¬æ–‡ä»¶çš„copyç”¨å­—ç¬¦æµ">æ–‡æœ¬æ–‡ä»¶çš„copyç”¨å­—ç¬¦æµ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">FileReaderFileWriter</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.åˆ›å»ºFileç±»çš„å¯¹è±¡,æŒ‡æ˜ è¯»å…¥å’Œå†™å‡ºçš„æ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line">    <span class="type">File</span> <span class="variable">fileRead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;hello.txt&quot;</span>);</span><br><span class="line">    <span class="type">File</span> <span class="variable">fileWrite</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;helloCopy.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.åˆ›é€ è¾“å…¥æµå’Œè¾“å‡ºæµçš„å¯¹è±¡</span></span><br><span class="line">    <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">FileWriter</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        fr = <span class="keyword">new</span> <span class="title class_">FileReader</span>(fileRead);</span><br><span class="line">        fw = <span class="keyword">new</span> <span class="title class_">FileWriter</span>(fileWrite);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.æ•°æ®çš„è¯»å…¥å’Œå†™å…¥æ“ä½œ</span></span><br><span class="line">        <span class="comment">//è¯»æ•°æ®</span></span><br><span class="line"></span><br><span class="line">        <span class="type">char</span>[] chars = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> num;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> ((num = fr.read(chars)) != -<span class="number">1</span>)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å†™å…¥</span></span><br><span class="line">            fw.write(chars,<span class="number">0</span>,num);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;CopyæˆåŠŸ&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.å…³é—­æµèµ„æº</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (fr != <span class="literal">null</span> &amp;&amp; fw != <span class="literal">null</span>)&#123;</span><br><span class="line">                fr.close();</span><br><span class="line">                fw.close();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="éæ–‡æœ¬æ–‡ä»¶çš„copyå­—èŠ‚æµ">éæ–‡æœ¬æ–‡ä»¶çš„copyå­—èŠ‚æµ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> copyInfile</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/5/5 19:25</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">copyInfile</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¾“å…¥è¦å¤åˆ¶çš„æ–‡ä»¶&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> scanner.next();</span><br><span class="line">        System.out.println(<span class="string">&quot;è¾“å…¥å¤åˆ¶è¿‡æ¥çš„æ–‡ä»¶é‡å‘½å&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> scanner.next();</span><br><span class="line"></span><br><span class="line"><span class="comment">//        String s1 = &quot;D://CC//Videos//douyin.mp4&quot;;</span></span><br><span class="line"><span class="comment">//        String s2 = &quot;D://Desktop//java2.mp4&quot;;</span></span><br><span class="line"></span><br><span class="line">        copyPicture(s1,s2);</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;å¤åˆ¶æ“ä½œèŠ±è´¹çš„æ—¶é—´ä¸º : &quot;</span> + (end - start));</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">copyPicture</span><span class="params">(String Filename1,String Filename2)</span>&#123;</span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ›é€ æ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(Filename1);</span><br><span class="line">            <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(Filename2);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//é€ æµ</span></span><br><span class="line">            fis = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file); <span class="comment">//å­˜åœ¨çš„å›¾ç‰‡</span></span><br><span class="line">            fos = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file1);<span class="comment">//å¤åˆ¶çš„åœ°æ–¹</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];<span class="comment">//æ•°ç»„å‚¨å­˜</span></span><br><span class="line">            <span class="type">int</span> len; <span class="comment">//è®°é•¿åº¦</span></span><br><span class="line">            <span class="comment">//è¯»æ–‡ä»¶ å†™å…¥</span></span><br><span class="line">            <span class="keyword">while</span> ((len = fis.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                fos.write(bytes,<span class="number">0</span>,len);<span class="comment">//å†™å…¥</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (fis != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fis.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (fos != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fos.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="BUG-2">BUG</h3><p>è¯´æ‰¾ä¸åˆ°è·¯å¾„ï¼Œä½†æ˜¯æˆ‘æ–‡ä»¶æ˜¯åœ¨åŒä¸€ä¸ªæ¨¡å—ä¸‹é¢çš„ï¼Œåé¢æŸ¥CSDN è¯´åœ¨IDEAä¸­åœ¨mainä¸»ç¨‹åºé‡Œé¢è¾“å…¥ç›¸å¯¹è·¯å¾„ï¼Œè¯»å–çš„IDEAå¤§æ¨¡å—åŒ…ä¸‹ï¼Œæ‰€ä»¥ä¸å¯ä»¥ï¼Œå¦‚æœæ˜¯åœ¨å•å…ƒæµ‹è¯•ä¸­å°±æ˜¯è¯»å–çš„åŒä¸€ä¸ªæ¨¡å—ï¼Œåœ¨mainçš„ä¸‹éœ€è¦æŠŠæ–‡ä»¶ç§»åŠ¨åˆ°IDEAä¸­åˆ›å»ºæ–‡ä»¶ä¹Ÿæ˜¯åœ¨IDEAæ¨¡å—ä¸­ï¼Œæˆ–è€…å†™ç»å¯¹è·¯å¾„</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/W9cIYM4k_6jWXMypOVcISw.png" alt="img"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-9">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="ä¸­æ–‡çš„è¯»å–">ä¸­æ–‡çš„è¯»å–</h3><p>å‡è®¾æ–‡ä»¶file1.txtï¼Œé‡‡ç”¨å­—èŠ‚æµçš„è¯æ˜¯è¿™æ ·è¯»çš„ï¼š<br>aä¸­å›½bcå¼ ä¸‰fe<br>ç¬¬ä¸€æ¬¡è¯»ï¼šä¸€ä¸ªå­—èŠ‚ï¼Œæ­£å¥½è¯»åˆ°â€™aâ€™<br>ç¬¬äºŒæ¬¡è¯»ï¼šä¸€ä¸ªå­—èŠ‚ï¼Œæ­£å¥½è¯»åˆ°â€™ä¸­â€™å­—ç¬¦çš„ä¸€åŠã€‚<br>ç¬¬ä¸‰æ¬¡è¯»ï¼šä¸€ä¸ªå­—èŠ‚ï¼Œæ­£å¥½è¯»åˆ°â€™ä¸­â€™å­—ç¬¦çš„å¦å¤–ä¸€åŠã€‚</p><p>æŒ‰ç…§ å­—ç¬¦ çš„æ–¹å¼è¯»å–æ•°æ®çš„ï¼Œä¸€æ¬¡è¯»å–ä¸€ä¸ªå­—ç¬¦.<br>è¿™ç§æµæ˜¯ä¸ºäº†æ–¹ä¾¿è¯»å– æ™®é€šæ–‡æœ¬æ–‡ä»¶ è€Œå­˜åœ¨çš„ï¼Œè¿™ç§æµä¸èƒ½è¯»å–ï¼šå›¾ç‰‡ã€å£°éŸ³ã€è§†é¢‘ç­‰æ–‡ä»¶ã€‚åªèƒ½è¯»å– çº¯æ–‡æœ¬æ–‡ä»¶ï¼Œè¿wordæ–‡ä»¶éƒ½æ— æ³•è¯»å–ã€‚</p><p>æ³¨æ„ï¼š<br>çº¯æ–‡æœ¬æ–‡ä»¶ï¼Œä¸å•å•æ˜¯.txtæ–‡ä»¶ï¼Œè¿˜åŒ…æ‹¬ .javaã€.iniã€.py ã€‚æ€»ä¹‹åªè¦ èƒ½ç”¨è®°äº‹æœ¬æ‰“å¼€ çš„æ–‡ä»¶éƒ½æ˜¯æ™®é€šæ–‡æœ¬æ–‡ä»¶ã€‚</p><p>eg.<br>å‡è®¾æ–‡ä»¶file1.txtï¼Œé‡‡ç”¨å­—ç¬¦æµçš„è¯æ˜¯è¿™æ ·è¯»çš„ï¼š<br>aä¸­å›½bcå¼ ä¸‰fe<br>ç¬¬ä¸€æ¬¡è¯»ï¼š'aâ€™å­—ç¬¦ï¼ˆ'aâ€™å­—ç¬¦åœ¨windowsç³»ç»Ÿä¸­å ç”¨1ä¸ªå­—èŠ‚ã€‚ï¼‰<br>ç¬¬äºŒæ¬¡è¯»ï¼š'ä¸­â€™å­—ç¬¦ï¼ˆ'ä¸­â€™å­—ç¬¦åœ¨windowsç³»ç»Ÿä¸­å ç”¨2ä¸ªå­—èŠ‚ã€‚ï¼‰</p><h2 id="7-æ€»ç»“-9">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ æ¯”è¾ƒå®¹æ˜“ï¼Œä¸»è¦æ˜¯å…ˆè®¤è¯†IOæµï¼Œç„¶åå®ç°å¯¹æ–‡æœ¬çš„è¯»å–å’Œå†™å…¥ï¼Œå…¨éƒ¨æŒæ¡äº†ï¼Œè‡ªå·±ä¹Ÿå¯ä»¥ç‹¬ç«‹å®Œæˆæ–‡æœ¬æ–‡ä»¶å’Œéæ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶ï¼Œè¿™é‡Œçš„æ–¹æ³•å’Œpythonä¸­çš„æ–‡ä»¶å¤„ç†ç±»ä¼¼ï¼Œæ‰€ä»¥å­¦ä¹ æ¯”è¾ƒå®¹æ˜“ï¼ŒIOçš„ç±»å’Œæ–¹æ³•æ¯”è¾ƒå¤šï¼Œè¿˜æ˜¯å¾—å¤šåŠ æŒæ¡ï¼Œå¤šæ•²ä»£ç ï¼Œåšäº†ä¸¤ä¸ªæ–‡ä»¶çš„copy è§†é¢‘ å›¾ç‰‡éƒ½å¯ä»¥ï¼Œå¯¹æ–‡ä»¶çš„å¤„ç†è¿˜æ˜¯å¾ˆæœ‰å…´è¶£çš„ã€‚</p><h1 id="5-6-ç¼“å†²æµå’Œç½‘ç»œç¼–ç¨‹å…¥é—¨">5.6 ç¼“å†²æµå’Œç½‘ç»œç¼–ç¨‹å…¥é—¨</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-20">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜-10">2.æ ‡é¢˜</h2><p>P595 593.å°šç¡…è°·_IOæµ-ç¼“å†²æµ(å­—èŠ‚å‹)å®ç°éæ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶<br>P596 594.å°šç¡…è°·_IOæµ-ç¼“å†²æµä¸èŠ‚ç‚¹æµè¯»å†™é€Ÿåº¦å¯¹æ¯”<br>P597 595.å°šç¡…è°·_IOæµ-ç¼“å†²æµ(å­—ç¬¦å‹)å®ç°æ–‡æœ¬æ–‡ä»¶çš„å¤åˆ¶<br>P598 596.å°šç¡…è°·_IOæµ-ç¼“å†²æµè¯¾åç»ƒä¹ 1<br>P599 597.å°šç¡…è°·_IOæµ-ç¼“å†²æµè¯¾åç»ƒä¹ 2<br>P600 598.å°šç¡…è°·_IOæµ-è½¬æ¢æµæ¦‚è¿°ä¸InputStreamReaderçš„ä½¿ç”¨<br>P601 599.å°šç¡…è°·_IOæµ-è½¬æ¢æµå®ç°æ–‡ä»¶çš„è¯»å…¥å’Œå†™å‡º<br>P602 600.å°šç¡…è°·_IOæµ-å¤šç§å­—ç¬¦ç¼–ç é›†çš„è¯´æ˜<br>P603 601.å°šç¡…è°·_IOæµ-æ ‡å‡†çš„è¾“å…¥ã€è¾“å‡ºæµ<br>P604 602.å°šç¡…è°·_IOæµ-æ‰“å°æµçš„ä½¿ç”¨<br>P605 603.å°šç¡…è°·_IOæµ-æ•°æ®æµçš„ä½¿ç”¨<br>P606 604.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-æ¯å¤©ä¸€è€ƒ<br>P607 605.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-å¤ä¹ ï¼šIOæµæ¦‚è¿°<br>P608 606.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-å¤ä¹ ï¼šèŠ‚ç‚¹æµ<br>P609 607.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-å¤ä¹ ï¼šç¼“å†²æµä¸è½¬æ¢æµ<br>P610 608.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-å¤ä¹ ï¼šå…¶å®ƒå‡ ä¸ªå¤„ç†æµ<br>P611 609.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-å¯¹è±¡åºåˆ—åŒ–æœºåˆ¶çš„ç†è§£<br>P612 610.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-å¯¹è±¡æµåºåˆ—åŒ–ä¸ååºåˆ—åŒ–å­—ç¬¦ä¸²æ“ä½œ<br>P613 611.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-è‡ªå®šä¹‰ç±»å®ç°åºåˆ—åŒ–ä¸ååºåˆ—åŒ–æ“ä½œ<br>P614 612.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-serialVersionUIDçš„ç†è§£<br>P615 613.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-è‡ªå®šä¹‰ç±»å¯åºåˆ—åŒ–çš„å…¶å®ƒè¦æ±‚<br>P616 614.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-RandomAccessFileå®ç°æ•°æ®çš„è¯»å†™æ“ä½œ<br>P617 615.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-RandomAccessFileå®ç°æ•°æ®çš„æ’å…¥<br>P618 616.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-NIOä»‹ç»åŠNIO2ä¸­Pathã€Pathsã€Filesçš„ä»‹ç»</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-10">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>äº†è§£ç¼“å†²æµ  å®ç°å¤åˆ¶æ–‡æœ¬ å’Œå­—èŠ‚å‹å’Œå­—ç¬¦æµæ¯”è¾ƒè¯»å†™é€Ÿåº¦</p><p>è½¬æ¢æµæ¦‚è¿°å’Œå®ç°é”®ç›˜è¾“å…¥è¾“å‡º</p><p>æ‰“å°æµå’Œæ•°æ®æµçš„ä½¿ç”¨ å¯¹è±¡çš„åºåˆ—åŒ–ç†è§£æ“ä½œ</p><p>serialVersionUIDçš„ä½¿ç”¨ è‡ªå®šä¹‰å¯åºåˆ—åŒ–çš„è¦æ±‚</p><p>RandomAccessFileå®ç°æ•°æ®çš„è¯»å†™æ“ä½œ NIOç†è§£</p><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-10">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="ç¼“å†²æµ">ç¼“å†²æµ</h3><p>åˆ©ç”¨ç¼“å†²æµèƒ½å¤§å¤§ç¼©çŸ­ç¨‹åºçš„è¿è¡Œæ—¶é—´</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220507235313841.png" alt="image-20220507235313841"></p><h4 id="ç¼“å†²å­—èŠ‚æµ">ç¼“å†²å­—èŠ‚æµ</h4><p>å›¾ç‰‡</p><p><code>**BufferedInputStreamã€BufferedOutputStream**</code></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220507230615077.png" alt="image-20220507230615077"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">BufferedCopyMp4Secret</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é€ ç¼“å­˜æµ</span></span><br><span class="line">        <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            bis = <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;cxy1.jpg&quot;</span>));</span><br><span class="line">            bos = <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;cxy2.jpg&quot;</span>));</span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">20</span>];</span><br><span class="line">            <span class="type">int</span> len;</span><br><span class="line">            <span class="keyword">while</span> ((len = bis.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len;i++)&#123;</span><br><span class="line">                    bytes[i] = (<span class="type">byte</span>) (bytes[i] ^ <span class="number">5</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                bos.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">assert</span> bis != <span class="literal">null</span>;</span><br><span class="line">                bis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">assert</span> bos != <span class="literal">null</span>;</span><br><span class="line">                bos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>ç¼“å†²å­—èŠ‚æµæ˜¯ä¸ºé«˜æ•ˆç‡è€Œè®¾è®¡çš„ï¼ŒçœŸæ­£çš„è¯»å†™æ“ä½œè¿˜æ˜¯é <code>FileOutputStream</code>å’Œ<code>FileInputStream</code>ï¼Œæ‰€ä»¥å…¶æ„é€ æ–¹æ³•å…¥å‚æ˜¯è¿™ä¸¤ä¸ªç±»çš„å¯¹è±¡ä¹Ÿå°±ä¸å¥‡æ€ªäº†ã€‚</p><h4 id="ç¼“å†²å­—ç¬¦æµ">ç¼“å†²å­—ç¬¦æµ</h4><p><strong>å­—ç¬¦æµé€‚ç”¨äºæ–‡æœ¬æ–‡ä»¶çš„è¯»å†™</strong>ï¼Œ<code>OutputStreamWriter</code>ç±»å…¶å®ä¹Ÿæ˜¯å€ŸåŠ©<code>FileOutputStream</code>ç±»å®ç°çš„ï¼Œæ•…å…¶æ„é€ æ–¹æ³•æ˜¯<code>FileOutputStream</code>çš„å¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">BufferedCopyTxt</span> <span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;hello.txt&quot;</span>));</span><br><span class="line">            bw = <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;hello2.txt&quot;</span>));</span><br><span class="line">            <span class="comment">//è€æ–¹å¼ä¸€</span></span><br><span class="line"><span class="comment">//            char[] chars = new char[1024];</span></span><br><span class="line"><span class="comment">//            int len;</span></span><br><span class="line"><span class="comment">//            while ((len = br.read(chars)) != -1)&#123;</span></span><br><span class="line"><span class="comment">//                bw.write(chars,0,len);</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            String data; <span class="comment">//å­—ç¬¦å‹ æ–¹å¼äºŒ</span></span><br><span class="line">            <span class="keyword">while</span> ((data = br.readLine()) != <span class="literal">null</span>)&#123;</span><br><span class="line">                bw.write(data); <span class="comment">//dataæ²¡æœ‰æ¢è¡Œç¬¦</span></span><br><span class="line">                bw.newLine(); <span class="comment">//æ¢è¡Œ</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">assert</span> br != <span class="literal">null</span>;</span><br><span class="line">                br.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">assert</span> bw != <span class="literal">null</span>;</span><br><span class="line">                bw.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="è½¬æ¢æµ">è½¬æ¢æµ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InOutStreamReaderTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//å°†UTF-8ç¼–ç æ–‡ä»¶å¤åˆ¶ å¹¶è½¬æ¢ä¸ºgbk</span></span><br><span class="line">        <span class="type">InputStreamReader</span> <span class="variable">isr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;hello_gbk.txt&quot;</span>),<span class="string">&quot;gbk&quot;</span>);</span><br><span class="line">        <span class="type">OutputStreamWriter</span> <span class="variable">isw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;hello_utf.txt&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">char</span>[] chars = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">20</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = isr.read(chars)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            isw.write(chars,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        isr.close();</span><br><span class="line">        isw.close();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡æµ">å¯¹è±¡æµ</h3><h4 id="å¯¹è±¡è¾“å‡ºæµï¼ˆå†™ï¼‰">å¯¹è±¡è¾“å‡ºæµï¼ˆå†™ï¼‰</h4><h5 id="1-ObjectOutputStream">1.ObjectOutputStream</h5><p>æä¾›äº†writeObject(object obj)ï¼›ooså°†å¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚å å°†è¿™ç»„å­—èŠ‚äº¤ç»™foså†™å…¥æ–‡æœ¬ç­‰äºå†™åˆ°ç¡¬ç›˜ï¼Œ è¿™ä¸ªè¿‡ç¨‹ç§°ä¹‹ä¸ºâ€œæ•°æ®æŒä¹…åŒ–â€ï¼› ooså°†ç»™å®šçš„å¯¹è±¡pddè½¬ä¸ºä¸€ç»„å­—èŠ‚ï¼Œè¿™ä¸ªè¿‡image-20220508001715638ç¨‹ç§°ä¹‹ä¸ºâ€œå¯¹è±¡åºåˆ—åŒ–â€ï¼›ç®€å•æ¥è®²â€œå¯¹è±¡åºåˆ—åŒ–â€å°±æ˜¯å°†å¯¹è±¡å†™å…¥æ–‡æœ¬ä¸­ï¼Œç§°ä¹‹ä¸ºå¯¹è±¡&quot;åºåˆ—åŒ–&quot;.</p><h5 id="2-serializableæ¥å£">2.serializableæ¥å£:</h5><p>objectOutputstreamåœ¨å¯¹è±¡è¿›è¡Œåºåˆ—åŒ–æ—¶æœ‰ä¸ªè¦æ±‚ï¼šéœ€è¦åºåˆ—åŒ–å¯¹è±¡æ‰€å±çš„ç±»ã€‚å¿…é¡»æ˜¯å®ç°serializableæ¥å£,å®ç°è¯¥æ¥å£ä¸éœ€è¦é‡å†™ä»»ä½•æ–¹æ³•ï¼Œç›®çš„æ˜¯å¯åºåŒ–çš„ä¸€ç§æ ‡è¯†ã€‚</p><h4 id="æ¯ä¸€ä¸ªç±»åºåˆ—åŒ–éƒ½è¦å®ä¾‹åŒ–æ¥å£">æ¯ä¸€ä¸ªç±»åºåˆ—åŒ–éƒ½è¦å®ä¾‹åŒ–æ¥å£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">person</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">2314124125L</span>;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> Acct id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">person</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">person</span><span class="params">(String name, <span class="type">int</span> age, Acct id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> person</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/5/6 14:43</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">person</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">2314124125L</span>;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> Acct id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">person</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">person</span><span class="params">(String name, <span class="type">int</span> age, Acct id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Acct</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">2314124125L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Acct</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Acct</span><span class="params">(<span class="type">double</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Acct&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºpersonå¯¹è±¡</span></span><br><span class="line">        <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//å®ä¾‹åŒ–ä¸€ä¸ªéœ€è¦åºåˆ—åŒ–çš„Personå¯¹è±¡</span></span><br><span class="line">            oos = <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;object.dat&quot;</span>));</span><br><span class="line">            oos.writeObject(<span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;æˆ‘æ˜¯æ— æ•Œçš„&quot;</span>));</span><br><span class="line">            oos.flush();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="type">person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">person</span>(<span class="string">&quot;æ±ªå¤§ä¸œ&quot;</span>,<span class="number">28</span>);</span><br><span class="line">            oos.writeObject(p);</span><br><span class="line">            oos.flush();</span><br><span class="line"></span><br><span class="line">            oos.writeObject(<span class="keyword">new</span> <span class="title class_">person</span>(<span class="string">&quot;é‡‘å®ä¸‰&quot;</span>,<span class="number">34</span>,<span class="keyword">new</span> <span class="title class_">Acct</span>(<span class="number">153</span>)));</span><br><span class="line">            oos.flush();</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">assert</span> oos != <span class="literal">null</span>;</span><br><span class="line">                oos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ååºåˆ—åŒ–</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ois = <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;object.dat&quot;</span>));</span><br><span class="line">            <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> ois.readObject();</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> (String)obj;</span><br><span class="line"></span><br><span class="line">            <span class="type">person</span> <span class="variable">p1</span> <span class="operator">=</span> (person) ois.readObject();</span><br><span class="line">            <span class="type">person</span> <span class="variable">p2</span> <span class="operator">=</span> (person) ois.readObject();</span><br><span class="line">            System.out.println(str);</span><br><span class="line">            System.out.println(p1);</span><br><span class="line">            System.out.println(p2);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException | ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">assert</span> ois != <span class="literal">null</span>;</span><br><span class="line">                ois.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RandomAccessFileeç±»">RandomAccessFileeç±»</h3><p>æ—¢å¯ä»¥åšè¾“å…¥æµä¹Ÿçœ‹å¯ä»¥åšè¾“å‡ºæµ</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220508001715638.png" alt="image-20220508001715638"></p><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹-10">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="é‡ç‚¹-2">é‡ç‚¹</h3><p>IOæµé‡ç‚¹ç±»</p><p>InputStreamï¼šInputStreamæ˜¯æ‰€æœ‰å­—èŠ‚è¾“å…¥æµçš„æŠ½è±¡åŸºç±»ï¼Œå‰é¢è¯´è¿‡æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œå®é™…ä¸Šæ˜¯ä½œä¸ºæ¨¡æ¿è€Œå­˜åœ¨çš„ï¼Œä¸ºæ‰€æœ‰å®ç°ç±»å®šä¹‰äº†å¤„ç†è¾“å…¥æµçš„æ–¹æ³•ã€‚<br>FileInputSreamï¼šæ–‡ä»¶è¾“å…¥æµï¼Œä¸€ä¸ªéå¸¸é‡è¦çš„å­—èŠ‚è¾“å…¥æµï¼Œç”¨äºå¯¹æ–‡ä»¶è¿›è¡Œè¯»å–æ“ä½œã€‚<br>PipedInputStreamï¼šç®¡é“å­—èŠ‚è¾“å…¥æµï¼Œèƒ½å®ç°å¤šçº¿ç¨‹é—´çš„ç®¡é“é€šä¿¡ã€‚<br>ByteArrayInputStreamï¼šå­—èŠ‚æ•°ç»„è¾“å…¥æµï¼Œä»å­—èŠ‚æ•°ç»„(byte[])ä¸­è¿›è¡Œä»¥å­—èŠ‚ä¸ºå•ä½çš„è¯»å–ï¼Œä¹Ÿå°±æ˜¯å°†èµ„æºæ–‡ä»¶éƒ½ä»¥å­—èŠ‚çš„å½¢å¼å­˜å…¥åˆ°è¯¥ç±»ä¸­çš„å­—èŠ‚æ•°ç»„ä¸­å»ã€‚<br>FilterInputStreamï¼šè£…é¥°è€…ç±»ï¼Œå…·ä½“çš„è£…é¥°è€…ç»§æ‰¿è¯¥ç±»ï¼Œè¿™äº›ç±»éƒ½æ˜¯å¤„ç†ç±»ï¼Œä½œç”¨æ˜¯å¯¹èŠ‚ç‚¹ç±»è¿›è¡Œå°è£…ï¼Œå®ç°ä¸€äº›ç‰¹æ®ŠåŠŸèƒ½ã€‚<br>DataInputStreamï¼šæ•°æ®è¾“å…¥æµï¼Œå®ƒæ˜¯ç”¨æ¥è£…é¥°å…¶å®ƒè¾“å…¥æµï¼Œä½œç”¨æ˜¯â€œå…è®¸åº”ç”¨ç¨‹åºä»¥ä¸æœºå™¨æ— å…³æ–¹å¼ä»åº•å±‚è¾“å…¥æµä¸­è¯»å–åŸºæœ¬ Java æ•°æ®ç±»å‹â€ã€‚<br>BufferedInputStreamï¼šç¼“å†²æµï¼Œå¯¹èŠ‚ç‚¹æµè¿›è¡Œè£…é¥°ï¼Œå†…éƒ¨ä¼šæœ‰ä¸€ä¸ªç¼“å­˜åŒºï¼Œç”¨æ¥å­˜æ”¾å­—èŠ‚ï¼Œæ¯æ¬¡éƒ½æ˜¯å°†ç¼“å­˜åŒºå­˜æ»¡ç„¶åå‘é€ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­—èŠ‚æˆ–ä¸¤ä¸ªå­—èŠ‚è¿™æ ·å‘é€ï¼Œæ•ˆç‡æ›´é«˜ã€‚<br>ObjectInputStreamï¼šå¯¹è±¡è¾“å…¥æµï¼Œç”¨æ¥æä¾›å¯¹åŸºæœ¬æ•°æ®æˆ–å¯¹è±¡çš„æŒä¹…å­˜å‚¨ã€‚é€šä¿—ç‚¹è¯´ï¼Œä¹Ÿå°±æ˜¯èƒ½ç›´æ¥ä¼ è¾“å¯¹è±¡ï¼Œé€šå¸¸åº”ç”¨åœ¨ååºåˆ—åŒ–ä¸­ã€‚å®ƒä¹Ÿæ˜¯ä¸€ç§å¤„ç†æµï¼Œæ„é€ å™¨çš„å…¥å‚æ˜¯ä¸€ä¸ªInputStreamçš„å®ä¾‹å¯¹è±¡ã€‚</p><h3 id="BUG1">BUG1</h3><p>ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œæé†’åœ¨34è¡Œï¼Œåå¤æ£€æŸ¥ä»£ç ï¼Œå‘ç°ï¼Œåˆšå¼€å§‹æ˜¯é›†åˆæ²¡æœ‰keyå€¼çš„ï¼Œæ‰€ä»¥è°ƒç”¨getValueä¹Ÿå°±æ˜¯ä¼šå¾—åˆ°ä¸€ä¸ªnullï¼Œå°†0æ”¹æˆnullï¼Œä»£ç å°±æ²¡äº‹æƒ…äº†</p><p><img src="https://docimg9.docs.qq.com/image/tQH2Ll6R9zGVqcitWIosHA.png?w=1648&amp;h=1066" alt="img"></p><h3 id="BUG2">BUG2</h3><p>ä¸€ç›´æ˜¾ç¤ºæ— æ³•è½¬æ¢ï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼ŒæŠŠæ–‡ä»¶åˆ é™¤ä»¥åï¼Œå†æ¬¡åˆ›é€ ï¼Œå†è·å–å°±æ²¡å¼‚å¸¸äº†ï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› </p><h3 id="img"><img src="https://docimg1.docs.qq.com/image/Q0Wp2l8oekFRTE8ox60pYA.png?w=1364&amp;h=1004" alt="img"></h3><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-10">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="ç»Ÿè®¡æ–‡æœ¬æ–‡ä»¶çš„æ¯ä¸ªå­—ç¬¦çš„æ¬¡æ•°"><strong>ç»Ÿè®¡æ–‡æœ¬æ–‡ä»¶çš„æ¯ä¸ªå­—ç¬¦çš„æ¬¡æ•°</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//ç»Ÿè®¡æ¯ä¸ªæ–‡å­—å‡ºç°çš„æ¬¡æ•° ï¼Œmap</span></span><br><span class="line">        <span class="comment">//ç¼“å­˜æµ</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;hello.txt&quot;</span>));</span><br><span class="line">            <span class="comment">//åˆ›å»ºmapé›†åˆ</span></span><br><span class="line">            Map&lt;Character,Integer&gt; map = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;();</span><br><span class="line">            <span class="type">int</span> len;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> ((len = br.read()) != -<span class="number">1</span>)&#123;            <span class="comment">//è¯»å–æ•°æ®</span></span><br><span class="line"></span><br><span class="line">                <span class="type">char</span> <span class="variable">char1</span> <span class="operator">=</span> (<span class="type">char</span>) len;<span class="comment">//è½¬æ¢</span></span><br><span class="line">                <span class="comment">//æ”¾å…¥map</span></span><br><span class="line">                <span class="keyword">if</span> (map.get(char1) == <span class="literal">null</span>) &#123;<span class="comment">//åˆšå¼€å§‹æ˜¯æ²¡æœ‰çš„ è¿”å›çš„æ˜¯null</span></span><br><span class="line">                    map.put(char1, <span class="number">1</span>);</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    map.put(char1,map.get(char1) + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//æŠŠmapçš„æ•°æ®éƒ½æ–¹æ³•å“¦æ–‡ä»¶count.txtä¸­</span></span><br><span class="line">            <span class="comment">//åˆ›å»ºå†™å…¥ç¼“å­˜æµ</span></span><br><span class="line">            bw = <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;helloCount.txt&quot;</span>));</span><br><span class="line">            Set&lt;Map.Entry&lt;Character, Integer&gt;&gt; entrySet = map.entrySet();</span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;Character, Integer&gt; entry : entrySet)&#123;</span><br><span class="line">                <span class="keyword">switch</span> (entry.getKey())&#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27; &#x27;</span>:</span><br><span class="line">                        bw.write(<span class="string">&quot;ç©ºæ ¼ = &quot;</span> + entry.getValue());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;\t&#x27;</span>:</span><br><span class="line">                        bw.write(<span class="string">&quot;tabé”® = &quot;</span> + entry.getValue());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;\r&#x27;</span>:</span><br><span class="line">                        bw.write(<span class="string">&quot;å›è½¦ = &quot;</span> + entry.getValue());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">case</span> <span class="string">&#x27;\n&#x27;</span>:</span><br><span class="line">                        bw.write(<span class="string">&quot;æ¢è¡Œ = &quot;</span> + entry.getValue());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    <span class="keyword">default</span>:</span><br><span class="line">                        bw.write(entry.getKey() + <span class="string">&quot; = &quot;</span> + entry.getValue());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                bw.newLine();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (br != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    br.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (bw != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    bw.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è§£å¯†-åŠ å¯†">è§£å¯† åŠ å¯†</h3><p>åœ¨åˆ›å»ºçš„æ—¶å€™åå­—æ¢è¿‡æ¥ã€ å°±æ˜¯è§£å¯†</p><p>å°†åŠ å¯†æ–‡ä»¶ä¸ºè¾“å…¥æµ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">BufferedCopyMp4Secret2</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">//è§£å¯†</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//é€ ç¼“å­˜æµ</span></span><br><span class="line">    <span class="type">BufferedInputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        bis = <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;cxy2.jpg&quot;</span>));</span><br><span class="line">        bos = <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;cxy4.jpg&quot;</span>));</span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">20</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = bis.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len;i++)&#123;</span><br><span class="line">                bytes[i] = (<span class="type">byte</span>) (bytes[i] ^ <span class="number">5</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            bos.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">assert</span> bis != <span class="literal">null</span>;</span><br><span class="line">            bis.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">assert</span> bos != <span class="literal">null</span>;</span><br><span class="line">            bos.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦è½¬æ¢æµ">å­—ç¬¦è½¬æ¢æµ</h3><p>æ‰“å°å•è¯ å¤§å†™è¾“å‡º</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InUp</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        test1();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;è¯·è¾“å…¥ä½ è¦è½¬æ¢çš„å•è¯ : &quot;</span>);</span><br><span class="line">            br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(System.in));</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">data</span> <span class="operator">=</span> br.readLine();</span><br><span class="line">                <span class="keyword">if</span> (<span class="string">&quot;e&quot;</span>.equalsIgnoreCase(data) || <span class="string">&quot;exit&quot;</span>.equalsIgnoreCase(data))&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;ç¨‹åºç»“æŸ&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(data.toUpperCase());</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">assert</span> br != <span class="literal">null</span>;</span><br><span class="line">                br.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-10">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>å­¦ä¹ éš¾åº¦è¾ƒéš¾ï¼Œä»Šå¤©çš„å­¦ä¹ å†…å®¹æ¯”è¾ƒå¤šï¼ŒIOæµçš„æ¡ˆä¾‹å¤§å¤šéƒ½æ˜¯copyï¼Œå…ˆå­¦äº†ç¼“å†²æµï¼Œèƒ½å¤§å¤§æé«˜å­—èŠ‚æµçš„æ•ˆç‡ï¼Œè¿™åº”è¯¥ä¹Ÿæ˜¯ä»¥åæ¯”è¾ƒå¸¸ç”¨çš„æµï¼Œç„¶åè½¬æ¢æµå’Œå¯¹è±¡æµï¼Œè½¬æ¢æµå¯ä»¥é”®ç›˜è¾“å…¥è¾“å‡ºï¼Œä¸»è¦ç”¨äºç¼–ç çš„ä¿®æ”¹ï¼Œå¯¹è±¡æµæœ‰ç‚¹éš¾åº¦ï¼Œåºåˆ—åŒ–çš„ç±»ä¸­çš„seversionUIDä¸å¤ªå¥½ç†è§£ï¼Œå‘¨æœ«å†çœ‹çœ‹åšå®¢ã€‚äº†è§£ç”¨å¤„ï¼Œå’Œé€‚ç”¨åœºæ™¯ã€‚ä»Šå¤©çš„ä»£ç é‡æ¯”è¾ƒå¤šï¼Œç„¶åå‡ºäº†ä¸¤ä¸ªä¸å¤ªä¸¥é‡çš„BUGï¼Œå­¦ä¹ æ•ˆç‡ä¸é”™ã€‚</p><h1 id="5-9-ç½‘ç»œç¼–ç¨‹-åå°„">5.9 ç½‘ç»œç¼–ç¨‹ åå°„</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-21">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜-11">2.æ ‡é¢˜</h2><p>P620 618.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-ç½‘ç»œç¼–ç¨‹æ¦‚è¿°<br>P621 619.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-IPçš„ç†è§£ä¸InetAddressç±»çš„å®ä¾‹åŒ–<br>P622 620.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-ç«¯å£å·çš„ç†è§£<br>P623 621.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-TCPå’ŒUDPç½‘ç»œé€šä¿¡åè®®çš„å¯¹æ¯”<br>P624 622.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-TCPç½‘ç»œç¼–ç¨‹ä¾‹é¢˜1<br>P625 623.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-TCPç½‘ç»œç¼–ç¨‹ä¾‹é¢˜2<br>P626 624.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-TCPç½‘ç»œç¼–ç¨‹ä¾‹é¢˜3<br>P627 625.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-æµè§ˆå™¨è®¿é—®TomcatæœåŠ¡å™¨èµ„æºæ“ä½œ<br>P628 626.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-UDPç½‘ç»œç¼–ç¨‹ä¸¾ä¾‹<br>P629 627.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-URLç±»çš„ç†è§£ä¸å®ä¾‹åŒ–<br>P630 628.å°šç¡…è°·_IOæµä¸ç½‘ç»œç¼–ç¨‹-URLç½‘ç»œç¼–ç¨‹å®ç°TomcatæœåŠ¡ç«¯æ•°æ®ä¸‹è½½<br>P631 629.å°šç¡…è°·_åå°„-æ¯å¤©ä¸€è€ƒ</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-11">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>InetAddreeç±»çš„å®ä¾‹åŒ–å’ŒåŸºæœ¬æ–¹æ³•</p><p>ç½‘ç»œé€šè®¯TCPå’ŒUDP ip ç«¯å£å·ç†è§£</p><p>TCPé€šè®¯ ä¼ æ–‡ä»¶</p><p>UDPé€šè®¯</p><p>URLæµè§ˆå™¨ ä¸‹è½½æœåŠ¡å™¨</p><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-11">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="é€šè®¯çš„è¦ç´ ">é€šè®¯çš„è¦ç´ </h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220509082517251.png" alt="image-20220509082517251"></p><h3 id="InetAddressçš„å®ä¾‹åŒ–æ–¹æ³•">InetAddressçš„å®ä¾‹åŒ–æ–¹æ³•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InetAddresseeTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">InetAddress</span> <span class="variable">ip</span> <span class="operator">=</span> InetAddress.getByName(<span class="string">&quot;192.168.10.14&quot;</span>);</span><br><span class="line">        System.out.println(ip);</span><br><span class="line">        System.out.print(<span class="string">&quot;æœ¬æœºipåœ°å€ : &quot;</span>);</span><br><span class="line">        System.out.println(InetAddress.getLocalHost());</span><br><span class="line">        <span class="type">InetAddress</span> <span class="variable">ip1</span> <span class="operator">=</span> InetAddress.getByName(<span class="string">&quot;www.baidu.com&quot;</span>);</span><br><span class="line">        System.out.println(ip1);</span><br><span class="line">        System.out.println();</span><br><span class="line">        <span class="type">InetSocketAddress</span> <span class="variable">inetSocketAddress</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InetSocketAddress</span>(<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8082</span>);</span><br><span class="line">        System.out.println(inetSocketAddress);</span><br><span class="line">        <span class="comment">//è¿”å›ä¸»æœºå</span></span><br><span class="line">        System.out.println(inetSocketAddress.getHostName());</span><br><span class="line">        <span class="comment">//è·å¾—InetSocketAddressçš„ç«¯å£</span></span><br><span class="line">        System.out.println(inetSocketAddress.getPort());</span><br><span class="line">        <span class="comment">//è¿”å›ä¸€ä¸ªInetAddresså¯¹è±¡ï¼ˆIPå¯¹è±¡ï¼‰</span></span><br><span class="line">        <span class="type">InetAddress</span> <span class="variable">address</span> <span class="operator">=</span> inetSocketAddress.getAddress();</span><br><span class="line">        System.out.println(address);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ¬åœ°ipå’Œç«¯å£  è®¾ç½®IPç«¯å£</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220509082135570.png" alt="image-20220509082135570"></p><h3 id="TCPå’ŒUDPåè®®">TCPå’ŒUDPåè®®</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220509112537988.png" alt="image-20220509112537988"></p><h3 id="UDPç½‘ç»œç¼–ç¨‹">UDPç½‘ç»œç¼–ç¨‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UdpTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>();</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">byte</span>[] bytes = scanner.next().getBytes();</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes,bytes.length, InetAddress.getByName(<span class="string">&quot;192.168.56.1&quot;</span>),<span class="number">8081</span>);</span><br><span class="line">        socket.send(packet);</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sender</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">scanner</span> <span class="operator">=</span> <span class="string">&quot;æˆ‘æ˜¯æ— æ•Œæš´é¾™å…½&quot;</span>;</span><br><span class="line">        <span class="type">byte</span>[] bytes = scanner.getBytes();</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes,bytes.length, InetAddress.getByName(<span class="string">&quot;127.0.0.1&quot;</span>),<span class="number">8081</span>);</span><br><span class="line">        socket.send(packet);</span><br><span class="line">        socket.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">receiver</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">8081</span>);</span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">100</span>];</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes,<span class="number">0</span>,bytes.length);</span><br><span class="line"></span><br><span class="line">        socket.receive(packet);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(packet.getData(),<span class="number">0</span>,packet.getLength()));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="URLç½‘é¡µä¸‹è½½å›¾ç‰‡">URLç½‘é¡µä¸‹è½½å›¾ç‰‡</h3><p>URLå®ç°Tomcatç½‘ç»œä¸‹è½½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UrlTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">URL</span>(<span class="string">&quot;https://i2.hdslb.com/bfs/archive/9c1780a14371ae4866e5f62d2b73d563a971e198.jpg@672w_378h_1c.webp&quot;</span>);</span><br><span class="line">        <span class="type">HttpURLConnection</span> <span class="variable">urlConnection</span> <span class="operator">=</span> (HttpURLConnection) url.openConnection();</span><br><span class="line">        urlConnection.connect();</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> urlConnection.getInputStream();</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fileOutputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;day33\\person.jpg&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = is.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fileOutputStream.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">        urlConnection.disconnect();</span><br><span class="line">        is.close();</span><br><span class="line">        fileOutputStream.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220509110756799.png" alt="image-20220509110756799"></p><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹-11">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="TCPç½‘ç»œç¼–ç¨‹">TCPç½‘ç»œç¼–ç¨‹</h3><p>tcpå‘é€æ–‡ä»¶ å¹¶ä¿å­˜ æœåŠ¡å™¨åé¦ˆç»™å®¢æˆ·ç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">subject3Test</span> &#123;</span><br><span class="line">    <span class="comment">//å®¢æˆ·ç«¯å‘é€æ–‡ä»¶ç»™æœåŠ¡å™¨ æœåŠ¡å™¨ä¿å­˜åˆ°æœ¬åœ° å¹¶è¿”å› å‘é€æˆåŠŸ ç»™å®¢æˆ·ç«¯ å…³é—­è¿æ¥</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">client</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">// 1.</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(InetAddress.getByName(<span class="string">&quot;127.0.0.1&quot;</span>),<span class="number">8081</span>);</span><br><span class="line">        <span class="comment">// 2.</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">        <span class="comment">// 3.</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fileInputStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;cxy1.jpg&quot;</span>);</span><br><span class="line">        <span class="comment">// 4.</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = fileInputStream.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            outputStream.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">        socket.shutdownOutput();</span><br><span class="line">        <span class="comment">//5.æ¥å—æ¥è‡ªæœåŠ¡å™¨ç«¯çš„æ•°æ® æ˜¾ç¤ºåœ¨æ§åˆ¶å°ä¸Š</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">byte</span>[] bytes1 = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">ByteArrayOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>();</span><br><span class="line">        <span class="type">int</span> len1;</span><br><span class="line">        <span class="keyword">while</span> ((len1 = inputStream.read(bytes1)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            bos.write(bytes1,<span class="number">0</span>,len1);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(bos);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ”¶åˆ°æ¥è‡ªæœåŠ¡å™¨ : &quot;</span> + socket.getInetAddress().getHostAddress());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.</span></span><br><span class="line">        inputStream.close();</span><br><span class="line">        bos.close();</span><br><span class="line">        socket.close();</span><br><span class="line">        outputStream.close();</span><br><span class="line">        fileInputStream.close();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">server</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">//1.</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">ss</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8081</span>);</span><br><span class="line">        <span class="comment">//2.</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> ss.accept();</span><br><span class="line">        <span class="comment">//3.</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="comment">//4.</span></span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;cxyCopy2.jpg&quot;</span>);</span><br><span class="line">        <span class="comment">//5.</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> len;</span><br><span class="line">        <span class="keyword">while</span> ((len = inputStream.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fis.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//6.æœåŠ¡å™¨ç»™äºˆå®¢æˆ·ç«¯åé¦ˆ</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">        outputStream.write(<span class="string">&quot;ä½ å¥½å®¢æˆ·ç«¯ cxyç…§ç‰‡å·²ç»æ”¶åˆ°&quot;</span>.getBytes());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//7.close</span></span><br><span class="line">        socket.close();</span><br><span class="line">        ss.close();</span><br><span class="line">        inputStream.close();</span><br><span class="line">        fis.close();</span><br><span class="line">        outputStream.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-11">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>æœåŠ¡å™¨ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.ServerSocket;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TcpTalkServer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="comment">//åˆ›å»ºæœåŠ¡å™¨å¯¹è±¡</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">server</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">9999</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;ç­‰å¾…æœåŠ¡å™¨å“åº”&quot;</span>);</span><br><span class="line">        <span class="comment">//ç›‘å¬</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">listen</span> <span class="operator">=</span> server.accept();</span><br><span class="line">        System.out.println(<span class="string">&quot;æœåŠ¡å™¨è¿æ¥æˆåŠŸ!&quot;</span>);</span><br><span class="line">        <span class="comment">//æ­»å¾ªç¯</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">//åˆ›å»ºæ•°æ®æŠ¥</span></span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> listen.getInputStream();</span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> in.read(bytes);</span><br><span class="line">            <span class="comment">//æ¥æ”¶æ¶ˆæ¯</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">recv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes,<span class="number">0</span>,len);</span><br><span class="line">            <span class="comment">//æ‰“å°æ¶ˆæ¯</span></span><br><span class="line">            System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯: &quot;</span> + recv);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å‘é€æ¶ˆæ¯</span></span><br><span class="line">            <span class="type">OutputStream</span> <span class="variable">out</span> <span class="operator">=</span> listen.getOutputStream();</span><br><span class="line">            System.out.print(<span class="string">&quot;æœåŠ¡å™¨: &quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">send</span> <span class="operator">=</span> sc.next();</span><br><span class="line">            out.write(send.getBytes());</span><br><span class="line">            <span class="comment">//å…³é—­</span></span><br><span class="line">          <span class="comment">/*  out.close();</span></span><br><span class="line"><span class="comment">            in.close();</span></span><br><span class="line"><span class="comment">            ss.close();*/</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®¢æˆ·ç«¯ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TcpTalkClient</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="comment">//åˆ›å»ºå®¢æˆ·ç«¯å¯¹è±¡</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">client</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">9999</span>);</span><br><span class="line">        <span class="comment">//æ­»å¾ªç¯</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="comment">//å‘é€æ•°æ®</span></span><br><span class="line">            <span class="type">OutputStream</span> <span class="variable">out</span> <span class="operator">=</span> client.getOutputStream();</span><br><span class="line">            System.out.print(<span class="string">&quot;å®¢æˆ·ç«¯: &quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">send</span> <span class="operator">=</span> sc.next();</span><br><span class="line">            <span class="comment">//out.write(&quot;Hello Server!!&quot;.getBytes());</span></span><br><span class="line">            out.write(send.getBytes());</span><br><span class="line"></span><br><span class="line">            <span class="comment">//åˆ›å»ºæ•°æ®æŠ¥</span></span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> client.getInputStream();</span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> in.read(bytes);</span><br><span class="line">            <span class="comment">//æ¥å—æ¶ˆæ¯</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">recv</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes,<span class="number">0</span>,len);</span><br><span class="line">            <span class="comment">//æ‰“å°æ•°æ®/æ¶ˆæ¯</span></span><br><span class="line">            System.out.println(<span class="string">&quot;æœåŠ¡å™¨: &quot;</span> + recv);</span><br><span class="line">            <span class="comment">//å…³é—­</span></span><br><span class="line">           <span class="comment">/* in.close();</span></span><br><span class="line"><span class="comment">            out.close();</span></span><br><span class="line"><span class="comment">            client.close();*/</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œæˆªå›¾</p><p><img src="http://10.2.51.165:4869/d69494532e7a521ae227d8a444986252" alt="img"></p><p><img src="http://10.2.51.165:4869/d9bdc5d8e6f057b9132250eb39a362bc" alt="img"></p><figure class="highlight mel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç¼ºç‚¹å…¶å®å¾ˆæ˜¾è€Œæ˜“è§ï¼Œæ— æ³•å…³é—­é€šè®¯ï¼Œè€Œä¸”åªèƒ½ä¸€å¯¹ä¸€èŠå¤©ï¼Œåœ¨<span class="keyword">python</span>ä¸­æœ‰åŠ å…¥å¤šä»»åŠ¡çš„èŠå¤©ï¼Œjavaè‚¯å®šä¹Ÿå¯ä»¥ï¼Œæœ‰ç©ºè‡ªå·±éœ€è¦å† </span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-11">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©çš„å­¦ä¹ ä»»åŠ¡ä¸æ˜¯å¾ˆé‡ï¼Œç›®æ ‡å°±æ˜¯æŠŠIOæµç»“æŸï¼Œå¹¶åˆæ­¥è¿›å…¥åå°„ï¼Œç½‘ç»œç¼–ç¨‹æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åŸºç¡€çš„TCPå’ŒUDPå®ç°ç½‘ç»œé€šä¿¡ï¼ŒåŸºæœ¬éƒ½æŒæ¡äº†ï¼ŒTCPæ¯”è¾ƒé‡è¦ï¼Œè‡ªå·±ä¹Ÿæ˜¯æ•²äº†å¥½å‡ ä¸ªä¸åŒä½œç”¨çš„TCPèŠå¤©ï¼Œè‡ªå·±åšäº†ä¸€ä¸ªå®æ—¶èŠå¤©å™¨ï¼Œä½†æ˜¯æ¯”è¾ƒç®€å•ï¼Œåªèƒ½å®ç°ä¸€å‘ä¸€æ”¶ï¼Œä»Šå¤©å­¦ä¹ çŠ¶æ€ä¸é”™ï¼Œä¹Ÿæ²¡å‡ºä»€ä¹ˆBUGã€‚</p><h1 id="5-10åå°„">5.10åå°„</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-22">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜-12">2.æ ‡é¢˜</h2><p>P636 634.å°šç¡…è°·_åå°„-åå°„çš„æ¦‚è¿°<br>P637 635.å°šç¡…è°·_åå°„-åå°„ä¹‹å‰ï¼Œç±»çš„å®ä¾‹åŒ–ç­‰æ“ä½œ<br>P638 636.å°šç¡…è°·_åå°„-ä½¿ç”¨åå°„ï¼Œå®ç°åŒä¸Šçš„æ“ä½œ<br>P639 637.å°šç¡…è°·_åå°„-åå°„çš„å¼ºå¤§ï¼šè°ƒç”¨ç±»çš„ç§æœ‰ç»“æ„<br>P640 638.å°šç¡…è°·_åå°„-å¦‚ä½•çœ‹å¾…åå°„å’Œå°è£…æ€§ä¸¤ä¸ªæŠ€æœ¯<br>P641 639.å°šç¡…è°·_åå°„-Classç±»çš„ç†è§£<br>P642 640.å°šç¡…è°·_åå°„-è·å–Classå®ä¾‹çš„4ç§æ–¹å¼<br>P643 641.å°šç¡…è°·_åå°„-Classå®ä¾‹å¯¹åº”çš„ç»“æ„çš„è¯´æ˜<br>P644 642.å°šç¡…è°·_åå°„-ç†è§£ç±»çš„åŠ è½½è¿‡ç¨‹<br>P645 643.å°šç¡…è°·_åå°„-ClassLoaderçš„ç†è§£<br>P646 644.å°šç¡…è°·_åå°„-ä½¿ç”¨ClassLoaderåŠ è½½é…ç½®æ–‡ä»¶<br>P647 645.å°šç¡…è°·_åå°„-é€šè¿‡åå°„ï¼Œåˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡<br>P648 646.å°šç¡…è°·_åå°„-ä¸¾ä¾‹ä½“ä¼šåå°„çš„åŠ¨æ€æ€§<br>P649 647.å°šç¡…è°·_åå°„-æä¾›ç»“æ„ä¸°å¯ŒPersonç±»<br>P650 648.å°šç¡…è°·_åå°„-è·å–è¿è¡Œæ—¶ç±»çš„å±æ€§ç»“æ„åŠå…¶å†…éƒ¨ç»“æ„<br>P651 649.å°šç¡…è°·_åå°„-è·å–è¿è¡Œæ—¶ç±»çš„æ–¹æ³•ç»“æ„<br>P652 650.å°šç¡…è°·_åå°„-è·å–è¿è¡Œæ—¶ç±»çš„æ–¹æ³•çš„å†…éƒ¨ç»“æ„<br>P653 651.å°šç¡…è°·_åå°„-è·å–è¿è¡Œæ—¶ç±»çš„æ„é€ å™¨ç»“æ„<br>P654 652.å°šç¡…è°·_åå°„-è·å–è¿è¡Œæ—¶ç±»çš„çˆ¶ç±»åŠçˆ¶ç±»çš„æ³›å‹<br>P655 653.å°šç¡…è°·_åå°„-è·å–è¿è¡Œæ—¶ç±»çš„æ¥å£ã€æ‰€åœ¨åŒ…ã€æ³¨è§£ç­‰<br>P656 654.å°šç¡…è°·_åå°„-è°ƒç”¨è¿è¡Œæ—¶ç±»ä¸­çš„æŒ‡å®šå±æ€§<br>P657 655.å°šç¡…è°·_åå°„-è°ƒç”¨è¿è¡Œæ—¶ç±»ä¸­çš„æŒ‡å®šæ–¹æ³•<br>P658 656.å°šç¡…è°·_åå°„-è°ƒç”¨è¿è¡Œæ—¶ç±»ä¸­çš„æŒ‡å®šæ„é€ å™¨<br>P659 657.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-æ¯å¤©ä¸€è€ƒ<br>P660 658.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-å¤ä¹ ï¼šåå°„ä¸Class<br>P661 659.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-å¤ä¹ ï¼šClassLoaderä¸åå°„çš„åº”ç”¨<br>P662 660.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-ä»£ç†æ¨¡å¼ä¸åŠ¨æ€ä»£ç†<br>P663 660.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-ä»£ç†æ¨¡å¼ä¸åŠ¨æ€ä»£ç†<br>P664 662.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-åŠ¨æ€ä»£ç†ä¸¾ä¾‹<br>P665 663.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-AOPä¸åŠ¨æ€ä»£ç†çš„ä¸¾ä¾‹</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-12">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="1-javaåå°„æœºåˆ¶æ¦‚è¿°">1.javaåå°„æœºåˆ¶æ¦‚è¿°</h3><h3 id="2-ç†è§£classç±»å¹¶è·å–classå®ä¾‹">2.ç†è§£classç±»å¹¶è·å–classå®ä¾‹</h3><h3 id="3-ç±»çš„åŠ è½½ä¸ClassLoaderçš„ç†è§£">3.ç±»çš„åŠ è½½ä¸ClassLoaderçš„ç†è§£</h3><h3 id="4-åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡">4.åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡</h3><h3 id="5-è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„">5.è·å–è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„</h3><h3 id="6-è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„">6.è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„</h3><h3 id="7-åå°„çš„åº”ç”¨åŠ¨æ€ä»£ç†">7.åå°„çš„åº”ç”¨åŠ¨æ€ä»£ç†</h3><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-12">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="åå°„æœºåˆ¶çš„æ¦‚è¿°">åå°„æœºåˆ¶çš„æ¦‚è¿°</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">JAVAåå°„æœºåˆ¶æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ï¼›è¿™ç§åŠ¨æ€è·å–çš„ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºjavaè¯­è¨€çš„åå°„æœºåˆ¶ã€‚</span><br><span class="line">è¦æƒ³è§£å‰–ä¸€ä¸ªç±»,å¿…é¡»å…ˆè¦è·å–åˆ°è¯¥ç±»çš„å­—èŠ‚ç æ–‡ä»¶å¯¹è±¡ã€‚è€Œè§£å‰–ä½¿ç”¨çš„å°±æ˜¯Classç±»ä¸­çš„æ–¹æ³•.æ‰€ä»¥å…ˆè¦è·å–åˆ°æ¯ä¸€ä¸ªå­—èŠ‚ç æ–‡ä»¶å¯¹åº”çš„Classç±»å‹çš„å¯¹è±¡.</span><br></pre></td></tr></table></figure><h3 id="è·å–Classå®ä¾‹"><strong>è·å–Classå®ä¾‹</strong></h3><h5 id="åˆ©ç”¨åå°„è°ƒç”¨ç±»">åˆ©ç”¨åå°„è°ƒç”¨ç±»</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">    Class&lt;person&gt; clazz = person.class;</span><br><span class="line">    <span class="comment">//1.é€šè¿‡åå°„åˆ›é€ personç±»çš„å¯¹è±¡</span></span><br><span class="line">    Constructor&lt;person&gt; constructor = clazz.getConstructor(String.class,<span class="type">int</span>.class);</span><br><span class="line">    <span class="type">person</span> <span class="variable">person</span> <span class="operator">=</span> constructor.newInstance(<span class="string">&quot;Tom&quot;</span>,<span class="number">12</span>);</span><br><span class="line">    System.out.println(person);</span><br><span class="line">    <span class="comment">//2.é€šè¿‡åå°„ è°ƒç”¨å¯¹è±¡æŒ‡å®šçš„å±æ€§å’Œæ–¹æ³•</span></span><br><span class="line">    <span class="comment">//è°ƒç”¨å±æ€§</span></span><br><span class="line">    <span class="type">Field</span> <span class="variable">age</span> <span class="operator">=</span> clazz.getDeclaredField(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">    age.set(person,<span class="number">10</span>);</span><br><span class="line">    System.out.println(person);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">    <span class="type">Method</span> <span class="variable">show</span> <span class="operator">=</span> clazz.getDeclaredMethod(<span class="string">&quot;show&quot;</span>);</span><br><span class="line">    show.invoke(person);</span><br><span class="line">    System.out.println(<span class="string">&quot;=================================&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é€šè¿‡åå°„ å¯ä»¥è°ƒç”¨personç±»çš„ç§æœ‰çš„ç»“æ„ ç§æœ‰çš„æ„é€ å™¨ æ–¹æ³• å±æ€§</span></span><br><span class="line">    <span class="comment">//è°ƒç”¨ç§æœ‰æ„é€ å™¨</span></span><br><span class="line">    Constructor&lt;person&gt; constructor1 = clazz.getDeclaredConstructor(String.class);</span><br><span class="line">    constructor1.setAccessible(<span class="literal">true</span>);</span><br><span class="line">    <span class="type">person</span> <span class="variable">person1</span> <span class="operator">=</span> constructor1.newInstance(<span class="string">&quot;Jerry&quot;</span>);</span><br><span class="line">    System.out.println(person1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è°ƒç”¨ç§æœ‰å±æ€§</span></span><br><span class="line">    <span class="type">Field</span> <span class="variable">name</span> <span class="operator">=</span> clazz.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    name.setAccessible(<span class="literal">true</span>);</span><br><span class="line">    name.set(person1,<span class="string">&quot;LiHua&quot;</span>);</span><br><span class="line">    System.out.println(person1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è°ƒç”¨ç§æœ‰æ–¹æ³•</span></span><br><span class="line">    <span class="type">Method</span> <span class="variable">showNation</span> <span class="operator">=</span> clazz.getDeclaredMethod(<span class="string">&quot;showNation&quot;</span>, String.class);</span><br><span class="line">    showNation.setAccessible(<span class="literal">true</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">nation</span> <span class="operator">=</span> (String) showNation.invoke(person1, <span class="string">&quot;ä¸­å›½&quot;</span>);</span><br><span class="line">    System.out.println(nation);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="classå®ä¾‹åŒ–å››ç§æ–¹å¼">classå®ä¾‹åŒ–å››ç§æ–¹å¼</h4><p><code>ç¬¬ä¸‰ç§æœ€é‡è¦</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è·å–classå®ä¾‹åŒ–çš„æ–¹å¼</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="comment">//æ–¹å¼ä¸€ è°ƒç”¨è¿è¡Œæ—¶ç±»çš„å±æ€§</span></span><br><span class="line">    Class&lt;person&gt; personClass = person.class;</span><br><span class="line">    System.out.println(personClass);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ–¹å¼äºŒ é€šè¿‡è¿è¡Œæ—¶ç±»çš„å¯¹è±¡ï¼Œè°ƒç”¨getClass()</span></span><br><span class="line">    <span class="type">person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">person</span>();</span><br><span class="line">    Class&lt;? <span class="keyword">extends</span> <span class="title class_">person</span>&gt; personClass1 = p1.getClass();</span><br><span class="line">    System.out.println(personClass1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ–¹å¼ä¸‰ è°ƒç”¨Classçš„é™æ€æ–¹æ³• forName(Sering classpath) å¸¸ç”¨</span></span><br><span class="line">    Class&lt;?&gt; personClass2 = Class.forName(<span class="string">&quot;java1.person&quot;</span>);</span><br><span class="line">    System.out.println(personClass2);</span><br><span class="line"></span><br><span class="line">    System.out.println(personClass == personClass2);</span><br><span class="line">    System.out.println(personClass2 == personClass1);</span><br><span class="line">    <span class="comment">//æ–¹å¼å››</span></span><br><span class="line">    <span class="type">ClassLoader</span> <span class="variable">classLoader</span> <span class="operator">=</span> Reflection.class.getClassLoader();</span><br><span class="line">    Class&lt;?&gt; personClass3 = classLoader.loadClass(<span class="string">&quot;java1.person&quot;</span>);</span><br><span class="line">    System.out.println(personClass3);</span><br><span class="line">    System.out.println(personClass3 == personClass);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ•°ç»„å…ƒç´ ç»´åº¦ä¸€æ · å°±æ˜¯åŒä¸€ä¸ªclass</span></span><br><span class="line">    <span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>];</span><br><span class="line">    <span class="type">int</span>[] b = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">100</span>];</span><br><span class="line">    System.out.println(a.getClass() == b.getClass());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¯¹classçš„ç†è§£">å¯¹classçš„ç†è§£</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220510172236894.png" alt="image-20220510172236894"></p><h3 id="ClassLoaderçš„ç†è§£">ClassLoaderçš„ç†è§£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è‡ªå®šä¹‰ç±» ç³»ç»Ÿç±»åŠ è½½</span></span><br><span class="line">    <span class="type">ClassLoader</span> <span class="variable">classLoader</span> <span class="operator">=</span> ClassLoaderTest.class.getClassLoader();</span><br><span class="line">    System.out.println(classLoader);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è·å–æ‰©å±•ç±»åŠ è½½å™¨ ç³»ç»Ÿç±»åŠ è½½å™¨çš„getParent()</span></span><br><span class="line">    <span class="type">ClassLoader</span> <span class="variable">parent</span> <span class="operator">=</span> classLoader.getParent();</span><br><span class="line">    System.out.println(parent);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ‰©å±•ç±»åŠ è½½å™¨çš„getParent() æ— æ³•è·å–å¼•å¯¼ç±»åŠ è½½å™¨</span></span><br><span class="line">    <span class="comment">//å¼•å¯¼ç±»åŠ è½½å™¨ ä¸»è¦è´Ÿè´£åŠ è½½javaçš„æ ¸å¿ƒç±»åº“ æ— æ³•åŠ è½½è‡ªå®šä¹‰ç±»</span></span><br><span class="line">    <span class="type">ClassLoader</span> <span class="variable">parent1</span> <span class="operator">=</span> parent.getParent();</span><br><span class="line">    System.out.println(parent1);</span><br><span class="line"></span><br><span class="line">    <span class="type">ClassLoader</span> <span class="variable">classLoader1</span> <span class="operator">=</span> String.class.getClassLoader();</span><br><span class="line">    System.out.println(classLoader1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ©ç”¨ClassLoaderé…ç½®æ–‡ä»¶">åˆ©ç”¨ClassLoaderé…ç½®æ–‡ä»¶</h4><p><strong>æ³¨æ„ä¸¤ç§æ–¹å¼è·¯å¾„æ˜¯ä¸ä¸€æ ·çš„</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Properties</span> <span class="variable">pos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ­¤æ—¶çš„æ–‡ä»¶é»˜è®¤åœ¨å½“å‰çš„moduleä¸‹</span></span><br><span class="line">        <span class="comment">//è¯»å–é…ç½®æ–‡ä»¶ æ–¹å¼ä¸€</span></span><br><span class="line"><span class="comment">//        FileInputStream fis = new FileInputStream(&quot;jdbc.properties&quot;);</span></span><br><span class="line"><span class="comment">//        pos.load(fis);</span></span><br><span class="line"></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">classLoader</span> <span class="operator">=</span> ClassLoaderTest.class.getClassLoader();</span><br><span class="line">        <span class="type">InputStreamReader</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>((Objects.requireNonNull(classLoader.getResourceAsStream(<span class="string">&quot;java1/jdbc1.properties&quot;</span>))), StandardCharsets.UTF_8);</span><br><span class="line">        pos.load(is);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> pos.getProperty(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> pos.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;user = &quot;</span> + user + <span class="string">&quot;, password = &quot;</span> + password);</span><br><span class="line"><span class="comment">//        fis.close();</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡"><strong>åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡</strong></h3><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è°ƒç”¨<span class="keyword">new</span><span class="type">Instance</span>()æ­¤æ–¹æ³• åˆ›å»ºå¯¹åº”çš„è¿è¡Œæ—¶ç±»çš„å¯¹è±¡</span><br><span class="line">è°ƒç”¨ç©ºå‚æ„é€ å™¨</span><br><span class="line">è¦æ˜¯æƒ³ä¾§æ–¹æ³•æ­£å¸¸åœ°åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡ è¦æ±‚</span><br><span class="line"><span class="number">1.</span>è¿è¡Œæ—¶ç±»å¿…é¡»æä¾›ç©ºå‚çš„æ„é€ å™¨</span><br><span class="line"><span class="number">2.</span>ç©ºå‚çš„æ„é€ å™¨çš„è®¿é—®æƒé™å¾—å¤Ÿ é€šå¸¸è®¾ç½®ä¸ºPublic</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">    Class&lt;person&gt; personClass = person.class;</span><br><span class="line">    <span class="type">person</span> <span class="variable">person</span> <span class="operator">=</span> personClass.newInstance();</span><br><span class="line">    System.out.println(person);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä½“ä¼šåå°„çš„åŠ¨æ€æ€§">ä½“ä¼šåå°„çš„åŠ¨æ€æ€§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">3</span>); <span class="comment">// 0 1 2</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">switch</span> (num)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            s = <span class="string">&quot;java.util.Date&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            s = <span class="string">&quot;java1.person&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            s = <span class="string">&quot;java.lang.Object&quot;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        System.out.println(getInstance(s));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">åˆ›å»ºä¸€ä¸ªæŒ‡å®šç±»çš„å¯¹è±¡</span></span><br><span class="line"><span class="comment">classpath ï¼š æŒ‡å®šç±»çš„å…¨ç±»å</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> Object <span class="title function_">getInstance</span><span class="params">(String classPath)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">    Class&lt;?&gt; objectClass = Class.forName(classPath);</span><br><span class="line">    <span class="keyword">return</span> objectClass.newInstance();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è·å–è¿è¡Œæ—¶ç±»å®Œæ•´çš„ç»“æ„">è·å–è¿è¡Œæ—¶ç±»å®Œæ•´çš„ç»“æ„</h3><p>åšå®¢ <a href="https://blog.csdn.net/qq_42653576/article/details/105335902?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=java%E5%8F%8D%E5%B0%84%E8%BF%90%E8%A1%8C%E6%97%B6%E7%B1%BB&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-105335902.142%5Ev9%5Epc_search_result_control_group,157%5Ev4%5Econtrol&amp;spm=1018.2226.3001.4187">https://blog.csdn.net/qq_42653576/article/details/105335902?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=javaåå°„è¿è¡Œæ—¶ç±»&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-105335902.142^v9^pc_search_result_control_group,157^v4^control&amp;spm=1018.2226.3001.4187</a></p><p>è·å–è¿è¡Œæ—¶ç±»çš„æ–¹æ³•å’Œå±æ€§</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java3;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java2.person;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Annotation;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Modifier;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> ClassPersonTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/5/10 12:49</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClassPersonTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">    1ã€å–å¾—ç±»ä¸­çš„å±æ€§</span></span><br><span class="line"><span class="comment">        public Field[] getFields()</span></span><br><span class="line"><span class="comment">        è¿”å›æ­¤Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„publicçš„Fieldã€‚</span></span><br><span class="line"><span class="comment">        public Field[] getDeclaredFields()</span></span><br><span class="line"><span class="comment">        è¿”å›æ­¤Classå¯¹è±¡æ‰€è¡¨ç¤ºçš„ç±»æˆ–æ¥å£çš„å…¨éƒ¨Fieldã€‚</span></span><br><span class="line"><span class="comment">     Fieldæ–¹æ³•ä¸­ï¼š</span></span><br><span class="line"><span class="comment">        public int getModifiers() ä»¥æ•´æ•°å½¢å¼è¿”å›æ­¤Fieldçš„ä¿®é¥°ç¬¦</span></span><br><span class="line"><span class="comment">        public Class&lt;?&gt; getType() å¾—åˆ°Fieldçš„å±æ€§ç±»å‹</span></span><br><span class="line"><span class="comment">        public String getName() è¿”å›Fieldçš„åç§°ã€‚</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        Class&lt;person&gt; clazz = person.class;</span><br><span class="line">        Field[] f1 = clazz.getFields();</span><br><span class="line">        <span class="keyword">for</span> (Field f : f1) &#123;</span><br><span class="line">            System.out.println(f);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        Field[] f2 = clazz.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field f : f2) &#123;</span><br><span class="line">            System.out.println(f);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Field f : f2) &#123;</span><br><span class="line">            <span class="comment">//æƒé™ä¿®é¥°ç¬¦</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">modifier</span> <span class="operator">=</span> f.getModifiers();</span><br><span class="line">            System.out.println(Modifier.toString(modifier));</span><br><span class="line">            <span class="comment">//æ•°æ®ç±»å‹</span></span><br><span class="line">            Class&lt;?&gt; type = f.getType();</span><br><span class="line">            System.out.println(type.getName());</span><br><span class="line">            <span class="comment">//å˜é‡å</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">fName</span> <span class="operator">=</span> f.getName();</span><br><span class="line">            System.out.println(fName);</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">        Class&lt;?&gt; clazz = person.class;</span><br><span class="line">        Method[] method = clazz.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method m : method) &#123;</span><br><span class="line"><span class="comment">//            System.out.println(m);</span></span><br><span class="line">            <span class="comment">//1.è·å–æ–¹æ³•å£°æ˜ä¸­çš„æ³¨è§£</span></span><br><span class="line">            Annotation[] annotations = m.getAnnotations();</span><br><span class="line">            <span class="keyword">for</span> (Annotation a : annotations) &#123;</span><br><span class="line">                System.out.print(a + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//2.æ–¹æ³•çš„æƒé™ä¿®é¥°ç¬¦</span></span><br><span class="line">            System.out.print(Modifier.toString(m.getModifiers()) + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//3.æ–¹æ³•çš„è¿”å›å€¼ç±»å‹</span></span><br><span class="line">            System.out.print(m.getReturnType() + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//4.æ–¹æ³•çš„æ–¹æ³•å</span></span><br><span class="line">            System.out.print(m.getName() + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//5.æ–¹æ³•çš„å‚æ•°</span></span><br><span class="line">            System.out.print(<span class="string">&quot;(&quot;</span>);</span><br><span class="line">            Class&lt;?&gt;[] p = m.getParameterTypes();</span><br><span class="line">            <span class="keyword">if</span> (p.length != <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; p.length; i++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i == p.length - <span class="number">1</span>) &#123;</span><br><span class="line">                        System.out.print(p[i].getName());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.print(p[i].getName() + <span class="string">&quot;,&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(<span class="string">&quot;)&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//6.å¼‚å¸¸</span></span><br><span class="line">            System.out.print(<span class="string">&quot;[&quot;</span>);</span><br><span class="line">            Class&lt;?&gt;[] e = m.getExceptionTypes();</span><br><span class="line">            <span class="keyword">if</span> (e.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; e.length; i++) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (i == e.length - <span class="number">1</span>) &#123;</span><br><span class="line">                        System.out.print(e[i].getName());</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.print(e[i].getName() + <span class="string">&quot;,&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(<span class="string">&quot;]&quot;</span>);</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ä½•è°ƒç”¨é™æ€æ–¹æ³•</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220510152612168.png" alt="image-20220510152612168"></p><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹-12">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="é‡ç‚¹-3">é‡ç‚¹</h3><h3 id="è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„">è°ƒç”¨è¿è¡Œæ—¶ç±»çš„æŒ‡å®šç»“æ„</h3><h4 id="å±æ€§">å±æ€§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;person&gt; clazz = person.class;</span><br><span class="line"><span class="comment">//åˆ›å»ºè¿è¡Œæ—¶ç±»å¯¹è±¡</span></span><br><span class="line"><span class="type">person</span> <span class="variable">person</span> <span class="operator">=</span> clazz.newInstance();</span><br><span class="line"><span class="comment">//è·å–æŒ‡å®šçš„å±æ€§</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">id</span> <span class="operator">=</span> clazz.getField(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">id.set(person,<span class="number">1001</span>);</span><br><span class="line">System.out.println(id.get(person));</span><br><span class="line"></span><br><span class="line"><span class="type">Field</span> <span class="variable">name</span> <span class="operator">=</span> clazz.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">name.setAccessible(<span class="literal">true</span>);</span><br><span class="line">name.set(person,<span class="string">&quot;Tom&quot;</span>);</span><br><span class="line">System.out.println(name.get(person));</span><br></pre></td></tr></table></figure><p>æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;person&gt; clazz = person.class;</span><br><span class="line">       <span class="comment">//åˆ›å»ºè¿è¡Œæ—¶ç±»å¯¹è±¡</span></span><br><span class="line">       <span class="type">person</span> <span class="variable">person</span> <span class="operator">=</span> clazz.newInstance();</span><br><span class="line">       <span class="comment">//è·å–æŒ‡å®šæ–¹æ³•</span></span><br><span class="line">       <span class="type">Method</span> <span class="variable">show</span> <span class="operator">=</span> clazz.getDeclaredMethod(<span class="string">&quot;show&quot;</span>, String.class, <span class="type">int</span>.class);</span><br><span class="line">       show.setAccessible(<span class="literal">true</span>);</span><br><span class="line">       <span class="type">Object</span> <span class="variable">invoke</span> <span class="operator">=</span> show.invoke(person, <span class="string">&quot;ä¸­å›½&quot;</span>, <span class="number">32</span>);</span><br><span class="line">       System.out.println(invoke);</span><br></pre></td></tr></table></figure><p>æ„é€ å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ„é€ å™¨</span></span><br><span class="line">Class&lt;person&gt; clazz = person.class;</span><br><span class="line">Constructor&lt;person&gt; declaredConstructor = clazz.getDeclaredConstructor(String.class);</span><br><span class="line"><span class="comment">//ä¿è¯å¯è®¿é—®çš„</span></span><br><span class="line">declaredConstructor.setAccessible(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»ºè¿è¡Œæ—¶ç±»çš„å¯¹è±¡</span></span><br><span class="line"><span class="type">person</span> <span class="variable">person</span> <span class="operator">=</span> declaredConstructor.newInstance(<span class="string">&quot;Tom&quot;</span>);</span><br><span class="line">System.out.println(person);</span><br></pre></td></tr></table></figure><h3 id="BUG-3">BUG</h3><p><strong>è¯»å–é…ç½®æ–‡ä»¶çš„æ—¶å€™æŠ¥é”™ï¼Œç©ºæŒ‡é’ˆå¼‚å¸¸ï¼ŒæŸ¥çœ‹åšå®¢ï¼Œå‘ç°å¦‚æœç”¨ClassLoaderçš„è·¯å¾„æ˜¯æœ¬åŒ…ä¸‹ï¼Œåº”è¯¥åœ¨srcæˆ–è€…srcä¸­çš„åŒ…ä¸­ï¼Œä¸ç„¶æ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œå’ŒFileInputStreamè¾“å…¥æµä¸ä¸€æ ·ã€‚</strong></p><p><img src="https://docimg7.docs.qq.com/image/4hYz5eC4EPXAvU5Oy_esMg.png?w=1545&amp;h=883" alt="img"></p><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-12">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="ä¸­æ–‡ä¹±ç é—®é¢˜-è¾“å…¥æµè°ƒç¼–ç æ ¼å¼"><strong>ä¸­æ–‡ä¹±ç é—®é¢˜</strong> <strong>è¾“å…¥æµè°ƒç¼–ç æ ¼å¼</strong></h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220510102150119.png" alt="image-20220510102150119"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">å†·é™ä¸‹æ¥åï¼Œçªç„¶æƒ³èµ·æ¥ï¼Œè¿˜æ˜¯åˆå­¦javaæ—¶çœ‹è¿‡ï¼Œjava.ioåŒ…ä¸­ Reader/Writerå’ŒStreamçš„åŒºåˆ«ã€‚</span><br><span class="line">ï¼ˆå¹´ä»£ä¹…è¿œï¼Œå…·ä½“ç»†èŠ‚å¿˜è®°äº†ï¼Œå¤§æ¦‚æ˜¯ï¼šReader/Writeæ˜¯å¤„ç†ç¼–ç æ–‡æœ¬çš„ï¼Œè€ŒInputStream/OutputStreamåªæŠŠæ•°æ®å½“ä½œ<span class="number">2</span>è¿›åˆ¶æµ ï¼‰</span><br><span class="line"></span><br><span class="line">æ­£ç¡®è§£å†³æ–¹æ¡ˆ</span><br><span class="line"></span><br><span class="line">Properties prop=<span class="keyword">new</span> <span class="title class_">Properties</span>();         </span><br><span class="line">prop.load(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(Client.class.getClassLoader().getResourceAsStream(<span class="string">&quot;config.properties&quot;</span>), <span class="string">&quot;UTF-8&quot;</span>));     </span><br><span class="line"></span><br><span class="line">å…¶ä¸­â€œUTF-<span class="number">8</span>â€ï¼Œç”¨äºæ˜ç¡®æŒ‡å®š.propertiesæ–‡ä»¶çš„ç¼–ç æ ¼å¼ï¼ˆä¸æŒ‡å®šåˆ™é»˜è®¤ä½¿ç”¨OSçš„ï¼Œè¿™ä¼šé€ æˆåŒä¸€ä»½é…ç½®æ–‡ä»¶åŒä¸€ä»½ä»£ç ï¼Œåœ¨linuxå’Œwindowsä¸Šã€è‹±æ–‡windowså’Œä¸­æ–‡windowsä¹‹é—´çš„è¡¨ç°éƒ½ä¸ä¸€è‡´ï¼‰ï¼Œè¿™ä¸ªå‚æ•°åº”è¯¥å’Œå…·ä½“è¯»å–çš„propertiesæ–‡ä»¶çš„æ ¼å¼åŒ¹é…ã€‚</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220510102511677.png" alt="image-20220510102511677"></p><h3 id="åå°„çš„é—®é¢˜"><strong>åå°„çš„é—®é¢˜</strong></h3><p>å…³äºåå°„çš„ä¸€äº›é—®é¢˜ï¼š<br>è¯´äº†è¿™ä¹ˆå¤šï¼Œé‚£ä¹ˆé€šè¿‡ç›´æ¥newçš„æ–¹å¼æˆ–åå°„çš„æ–¹å¼éƒ½å¯ä»¥è°ƒç”¨å…¬å…±çš„ç»“æ„ï¼Œå¼€å‘ä¸­ç”¨å“ªä¸ªï¼Ÿ<br>è¿™é‡Œå»ºè®®æ˜¯ç”¨newçš„æ–¹æ³•çš„ã€‚</p><p>é‚£ä¹ˆå¦‚ä½•çœ‹å¾…åå°„æœºåˆ¶å’Œé¢å‘å¯¹è±¡ä¸­çš„å°è£…æ€§ï¼Ÿ<br>é¦–å…ˆï¼Œå°è£…ï¼Œæ˜¯å°†å…·ä½“çš„å®ç°ç»†èŠ‚éšè—ï¼Œè€ŒæŠŠåŠŸèƒ½ä½œä¸ºæ•´ä½“æä¾›ç»™ç±»çš„å¤–éƒ¨ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå…¬æœ‰æ–¹æ³•èƒ½å¤Ÿå®Œæˆç±»æ‰€å…·æœ‰çš„åŠŸèƒ½ã€‚å½“åˆ«äººä½¿ç”¨è¿™ä¸ªç±»æ—¶ï¼Œå¦‚æœé€šè¿‡åå°„ç›´æ¥è°ƒç”¨ç§æœ‰æ–¹æ³•ï¼Œå¯èƒ½æ ¹æœ¬å®ç°ä¸äº†ç±»çš„åŠŸèƒ½ï¼Œç”šè‡³å¯èƒ½ä¼šå‡ºé”™ï¼Œå› æ­¤é€šè¿‡åå°„è°ƒç”¨ç§æœ‰æ–¹æ³•å¯ä»¥è¯´æ˜¯æ²¡æœ‰ä»»ä½•ç”¨å¤„çš„ï¼Œå¼€å‘äººå‘˜æ²¡æœ‰å¿…è¦æ•…æ„å»ç ´åå°è£…å¥½çš„ç±»ã€‚ä»è¿™ç‚¹ä¸Šçœ‹ï¼Œå°è£…æ€§å¹¶æ²¡æœ‰è¢«ç ´åã€‚</p><h2 id="7-æ€»ç»“-12">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>â€‹ä»Šå¤©å­¦ä¹ äº†åå°„çš„çŸ¥è¯†ï¼ŒèŠ±äº†ä¸€å¤©çš„æ—¶é—´ï¼Œå°†åå°„è¿‡æ‰äº†ï¼Œå­¦ä¹ å†…å®¹æ¯”è¾ƒå¤šï¼Œè€Œä¸”åå°„ä¸­æ¦‚å¿µçš„é—®é¢˜æ¯”è¾ƒéš¾ä»¥ç†è§£ï¼ŒæŒæ¡ç¨‹åº¦80%ï¼Œä»£ç åŸºæœ¬éƒ½ä¼šä½¿ç”¨äº†ï¼Œæ¦‚å¿µè¿˜æ˜¯æœ‰ç‚¹æ¨¡ç³Šï¼Œç­‰åˆ°åé¢ä½¿ç”¨åˆ°åå°„ï¼Œå†å›å¤´ç†Ÿæ‚‰ç†Ÿæ‚‰ã€‚ä»Šå¤©æ•²çš„ä»£ç ä¸æ˜¯å¾ˆå¤šï¼Œä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå¤šæ•²å‡ éï¼ŒåŠ ä¸ŠIDEAçš„è”æƒ³åŠŸèƒ½ï¼Œä½¿ç”¨èµ·æ¥ä¹Ÿæ–¹ä¾¿ã€‚å¾ˆå¤§çš„BUGæ²¡æœ‰ï¼Œæœ‰ä¸€ä¸ªè·¯å¾„é—®é¢˜ï¼Œä¸€ä¸ªç¼–ç çš„é—®é¢˜ã€‚</p><h1 id="5-13-java8æ–°ç‰¹æ€§å’ŒåŠ¨æ€ä»£ç†">5.13 java8æ–°ç‰¹æ€§å’ŒåŠ¨æ€ä»£ç†</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-23">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1Kb411W75N?p=405">https://www.bilibili.com/video/BV1Kb411W75N?p=405</a></p><h2 id="2-æ ‡é¢˜-13">2.æ ‡é¢˜</h2><p>P666 664.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Java8æ–°ç‰¹æ€§å†…å®¹æ¦‚è¿°<br>P667 665.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Java8æ–°ç‰¹æ€§çš„å¥½å¤„<br>P668 666.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Lambdaè¡¨è¾¾å¼ä½¿ç”¨ä¸¾ä¾‹<br>P669 667.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Lambdaè¡¨è¾¾å¼è¯­æ³•çš„ä½¿ç”¨1<br>P670 668.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Lambdaè¡¨è¾¾å¼è¯­æ³•çš„ä½¿ç”¨2<br>P671 669.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-å‡½æ•°å¼æ¥å£çš„ä»‹ç»<br>P672 670.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Javaå†…ç½®çš„å‡½æ•°å¼æ¥å£ä»‹ç»åŠä½¿ç”¨ä¸¾ä¾‹P673 671.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-æ–¹æ³•å¼•ç”¨çš„ä½¿ç”¨æƒ…å†µ1<br>P674 672.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-æ–¹æ³•å¼•ç”¨çš„ä½¿ç”¨æƒ…å†µ2<br>P675 673.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-æ–¹æ³•å¼•ç”¨çš„ä½¿ç”¨æƒ…å†µ3<br>P676 674.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-æ„é€ å™¨å¼•ç”¨ä¸é¡¹ç›®å¼•ç”¨çš„ä½¿ç”¨<br>P677 675.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Stream APIçš„æ¦‚è¿°<br>P678 676.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Streamçš„å®ä¾‹åŒ–<br>P679 677.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Streamçš„ä¸­é—´æ“ä½œï¼šç­›é€‰ä¸åˆ‡ç‰‡<br>P680 678.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Streamçš„ä¸­é—´æ“ä½œï¼šæ˜ å°„<br>P681 679.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Streamçš„ä¸­é—´æ“ä½œï¼šæ’åº<br>P682 680.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Streamçš„ç»ˆæ­¢æ“ä½œï¼šåŒ¹é…ä¸æŸ¥æ‰¾<br>P683 681.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Streamçš„ç»ˆæ­¢æ“ä½œï¼šå½’çº¦<br>P684 682.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Streamçš„ç»ˆæ­¢æ“ä½œï¼šæ”¶é›†<br>P685 683.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Optionalç±»çš„ä»‹ç»<br>P686 684.å°šç¡…è°·_åŠ¨æ€ä»£ç†ä¸Java8æ–°ç‰¹æ€§-Optionalç±»çš„ä½¿ç”¨ä¸¾ä¾‹</p><h2 id="3-æ‰€å­¦å†…å®¹æ¦‚è¿°-13">3.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>åå°„çš„åŠ¨æ€ä»£ç†</p><p>java8æ–°ç‰¹æ€§</p><p>lambdaè¡¨è¾¾å¼</p><p>å‡½æ•°Functionalæ¥å£</p><p>æ–¹æ³•å¼•ç”¨ä¸æ„é€ å™¨å¼•ç”¨</p><p>å¼ºå¤§çš„Streamã€€API</p><p>Optionalç±»</p><h2 id="4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°-13">4ã€æ ¹æ®æ¦‚è¿°åˆ†ç« èŠ‚æè¿°</h2><h3 id="åå°„çš„åŠ¨æ€ä»£ç†">åå°„çš„åŠ¨æ€ä»£ç†</h3><p>åšå®¢åœ°å€http://t.csdn.cn/0XKew</p><p>è®²åŠ¨æ€ä»£ç†ä¹‹å‰ï¼Œé¦–å…ˆç”¨é™æ€ä»£ç†åšä¸ªé“ºå«ã€‚<br>å‡è®¾æœ‰ä¸€ä¸ªBoy<a href="https://so.csdn.net/so/search?q=%E7%B1%BB%E7%BB%A7%E6%89%BF&amp;spm=1001.2101.3001.7020">ç±»ç»§æ‰¿</a>è‡ªPersonæ¥å£ï¼Œæ¥å£é‡Œæœ‰ä¸€ä¸ªæ–¹æ³•printï¼Œç°åœ¨æœ‰ä¸€ä¸ªéœ€æ±‚æ˜¯ä¸æ”¹å˜Boyç±»çš„æƒ…å†µä¸‹ï¼Œåœ¨æ¯æ¬¡è°ƒç”¨Boyçš„printæ–¹æ³•å‰åå„è¾“å‡ºä¸€å¥è¯ã€‚</p><h4 id="é™æ€ä»£ç†">é™æ€ä»£ç†</h4><p>ä½¿ç”¨é™æ€ä»£ç†è§£å†³è¿™ä¸ªé—®é¢˜ï¼š<br>é¦–å…ˆå®šä¹‰ä¸€ä¸ªä»£ç†ç±»BProxyä¹Ÿç»§æ‰¿Personæ¥å£ï¼Œå¹¶ä¸”åœ¨ä»£ç†ç±»ä¸­æ·»åŠ ä¸€ä¸ªPersonå±æ€§ã€‚å®ç°printæ–¹æ³•æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è°ƒç”¨personå¯¹è±¡çš„printæ–¹æ³•ï¼Œå¹¶ä¸”åœ¨è°ƒç”¨å‰åå„è¾“å‡ºä¸€å¥è¯ï¼Œè¿™æ ·éœ€è¦è°ƒç”¨Boyçš„printæ–¹æ³•æ—¶ï¼Œåªéœ€è¦newä¸€ä¸ªBProxyä»£ç†ç±»æ¥è°ƒç”¨printæ–¹æ³•å°±å¯ä»¥é—´æ¥çš„è°ƒç”¨åˆ°äº†ã€‚</p><h4 id="åŠ¨æ€ä»£ç†å®ç°">åŠ¨æ€ä»£ç†å®ç°</h4><p>è¿˜æ˜¯ç”¨ä¹‹å‰ä¸¾ä¾‹çš„Boyå¯¹è±¡å’ŒPersonæ¥å£ï¼Œéœ€è¦é€šè¿‡åŠ¨æ€ä»£ç†è·å–ä¸€ä¸ªBoyçš„ä»£ç†å¯¹è±¡ã€‚<br>é¦–å…ˆä»‹ç»éœ€è¦ç”¨åˆ°çš„jdkæä¾›çš„Proxyç±»å’ŒInvocationHandleræ¥å£ã€‚<br>Proxyå¯ä»¥å¸®æˆ‘æ„é€ ä»»ä½•ç±»ï¼ˆä½†æ˜¯è¿™ä¸ªç±»å¿…é¡»æ˜¯å®ç°äº†æŸä¸ªæ¥å£ï¼‰çš„ä»£ç†ç±»ã€‚<br>Proxyæä¾›äº†ä¸€ä¸ªnewProxyInstanceçš„é™æ€æ–¹æ³•ï¼Œé€šè¿‡æ­¤æ–¹æ³•å¯ä»¥è¿”å›ä»»æ„å¯¹è±¡çš„ä»£ç†å¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title function_">newProxyInstance</span><span class="params">(ClassLoader loader,</span></span><br><span class="line"><span class="params">                                          Class&lt;?&gt;[] interfaces,</span></span><br><span class="line"><span class="params">                                          InvocationHandler h)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•æœ‰ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªä¸ºéœ€è¦è¢«ä»£ç†ç±»çš„ç±»åŠ è½½å™¨ï¼Œè¿™ä¸ªå¯ä»¥é€šè¿‡åå°„è·å–ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¢«ä»£ç†ç±»å®ç°çš„æ¥å£æ•°ç»„ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥é€šè¿‡åå°„è·å–ï¼Œæ‰€ä»¥jdkåŠ¨æ€ä»£ç†å‰ææ˜¯è¢«ä»£ç†ç±»å¿…é¡»å®ç°äº†æŸäº›æ¥å£ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºInvocationHandlerå¯¹è±¡ï¼Œä»–ç›¸å½“äºæ˜¯è¢«ä»£ç†å¯¹è±¡çš„ä¸€ä¸ªå°è£…ç±»ã€‚ä¸‹é¢è¯¦ç»†ä»‹ç»InvocationHandlerè¿™ä¸ªæ¥å£ç±»ã€‚<br>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªWanNengProxyç±»æ¥å®ç°è¿™ä¸ªæ¥å£ç±»ï¼Œéœ€è¦å®ç°ä¸€ä¸ªinvokeæ–¹æ³•ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ä¸‡èƒ½ä»£ç†ç±»çš„æ‰€æœ‰æ–¹æ³•æ—¶ï¼Œä¸‡èƒ½ä»£ç†ç±»éƒ½ä¼šé€šè¿‡è°ƒç”¨invokeæ–¹æ³•æ¥è°ƒç”¨è¢«ä»£ç†ç±»çš„æ–¹æ³•ã€‚åœ¨invokeæ–¹æ³•ä¸­å¯ä»¥é€šè¿‡åå°„æ¥è°ƒç”¨æˆ‘ä»¬å®é™…éœ€è¦è°ƒç”¨çš„æ–¹æ³•ï¼Œç„¶åå°±åœ¨è°ƒç”¨å‰åå°±å¯ä»¥è¾“å‡ºä¸€å¥è¯äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> boyProxyTest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/5/13 8:44</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">person</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¢«ä»£ç†ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">boyTest</span> <span class="keyword">implements</span> <span class="title class_">person</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æ˜¯ä¸€ä¸ªå°ç”·å­©&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//åŠ¨æ€ä»£ç†ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">proxyBoy</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object obj; <span class="comment">//èµ‹å€¼æ—¶ éœ€è¦ä½¿è¢«ä»£ç†ç±»çš„å¯¹è±¡èµ‹å€¼</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">proxyBoy</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.obj = obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;---before&quot;</span>);</span><br><span class="line">        <span class="comment">//å®é™…è°ƒç”¨æ–¹æ³• åå°„å®ç°çš„</span></span><br><span class="line">        <span class="comment">//å°†è¢«ä»£ç†ç±»è¦æ‰§è¡Œçš„æ–¹æ³•açš„åŠŸèƒ½å£°æ˜åœ¨invokeä¸­</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> method.invoke(obj,args);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;--after&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> result;<span class="comment">//è¿”å›è¢«ä»£ç†ç±»æ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">boyProxyTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">boyTest</span> <span class="variable">boyTest</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">boyTest</span>(); <span class="comment">//boyTestè¢«ä»£ç†ç±»å¯¹è±¡</span></span><br><span class="line">        <span class="type">InvocationHandler</span> <span class="variable">handler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">proxyBoy</span>(boyTest); <span class="comment">//ä»£ç†ç±»å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">        <span class="type">person</span> <span class="variable">boyProxy</span> <span class="operator">=</span> (person) Proxy.newProxyInstance(boyTest.class.getClassLoader(),boyTest.class.getInterfaces(),handler);</span><br><span class="line"></span><br><span class="line">        boyProxy.print(); <span class="comment">//ä»£ç†ç±»å¯¹è±¡æ‰§è¡Œçš„</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="java-8çš„æ–°ç‰¹æ€§">java 8çš„æ–°ç‰¹æ€§</h3><p>java 8æ˜¯java 5ä¸€æ¥æœ€å…·é©å‘½æ€§çš„ç‰ˆæœ¬ java 8ç»™javaè¯­è¨€ã€ç¼–è¯‘å™¨ã€ç±»åº“ã€å¼€å‘å·¥å…·ä¸JVMå¸¦æ¥äº†å¤§é‡çš„æ–°ç‰¹æ€§.</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220513102142786.png" alt="image-20220513102142786"></p><h4 id="lambdaè¡¨è¾¾å¼çš„ä½¿ç”¨">lambdaè¡¨è¾¾å¼çš„ä½¿ç”¨</h4><p>ä¸¾ä¾‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//lambdaè¡¨è¾¾å¼çš„å†™æ³•</span></span><br><span class="line">       Comparator&lt;Integer&gt; comparator = (o1,o2) -&gt; Integer.compare(o1,o2);</span><br><span class="line">       System.out.println(comparator.compare(<span class="number">32</span>,<span class="number">21</span>));</span><br><span class="line"></span><br><span class="line">       <span class="comment">// æ–¹æ³•å¼•ç”¨</span></span><br><span class="line">       Comparator&lt;Integer&gt; comparator1 = Integer :: compare;</span><br><span class="line">       System.out.println(comparator1.compare(<span class="number">19</span>,<span class="number">29</span>));</span><br></pre></td></tr></table></figure><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æ ¼å¼</span><br><span class="line">  -&gt; ï¼š lambdaæ“ä½œç¬¦ æˆ– ç®­å¤´æ“ä½œç¬¦</span><br><span class="line">  -&gt;å·¦è¾¹ : lambdaå½¢å‚åˆ—è¡¨<span class="function"><span class="params">(å…¶å®å°±æ˜¯æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•çš„å½¢å‚åˆ—è¡¨)</span></span></span><br><span class="line"><span class="function">  -&gt;</span>å³è¾¹ : lambdaä½“(å…¶å®å°±æ˜¯é‡å†™çš„æŠ½è±¡æ–¹æ³•çš„æ–¹æ³•ä½“)</span><br></pre></td></tr></table></figure><p><code>lambdaè¡¨è¾¾å¼çš„å®ä¾‹ æ¥å£çš„å¯¹è±¡</code></p><h5 id="lambdaè¡¨è¾¾å¼çš„ä½¿ç”¨-åˆ†å…­ç§æƒ…å†µä»‹ç»">lambdaè¡¨è¾¾å¼çš„ä½¿ç”¨(åˆ†å…­ç§æƒ…å†µä»‹ç»)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> lambdaTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">import</span> java.net.Socket;</span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.function.Consumer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> LambdaTest1</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> TODO</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> CC</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@DATE</span> 2022/5/13 10:52</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LambdaTest1</span> &#123;</span><br><span class="line">    <span class="comment">//è¯­æ³•æ ¼å¼ä¸€ : æ— å‚,æ— è¿”å›å€¼</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">r1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æˆ‘å°±æ˜¯ç»ˆæä¸€ç­&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        r1.run();</span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">r2</span> <span class="operator">=</span> () -&gt; System.out.println(<span class="string">&quot;Lambdaï¼šæˆ‘å°±æ˜¯ç»ˆæä¸€ç­&quot;</span>);</span><br><span class="line">        r2.run();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¯­æ³•æ ¼å¼äºŒ lambdaéœ€è¦ä¸€ä¸ªå‚æ•° ä½†æ˜¯æ²¡æœ‰è¿”å›å€¼</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        Consumer&lt;String&gt; consumer = <span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span> &#123;</span><br><span class="line">                System.out.println(s);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        consumer.accept(<span class="string">&quot;è°è¨€çœŸçš„éƒ½æ˜¯åçš„å—?&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;============================&quot;</span>);</span><br><span class="line">        Consumer&lt;String&gt; consumer1 = (String s) -&gt; System.out.println(s);</span><br><span class="line">        consumer1.accept(<span class="string">&quot;ä¸ä¸€å®š ä¹Ÿæœ‰å–„æ„çš„&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¯­æ³•æ ¼å¼ä¸‰ æ•°æ®ç±»å‹å¯ä»¥çœç•¥ å› ä¸ºå¯ç”±ç¼–è¯‘å™¨æ¨æ–­å¾—å» ç§°ä¸º &quot;ç±»å‹æ¨æ–­â€</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">        Consumer&lt;String&gt; consumer1 = (s) -&gt; System.out.println(s);</span><br><span class="line">        consumer1.accept(<span class="string">&quot;ä¸ä¸€å®š ä¹Ÿæœ‰å–„æ„çš„&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¯­æ³•æ ¼å¼å›› lambdaåªæœ‰ä¸€ä¸ªå‚æ•° å‚æ•°å°æ‹¬å·å¯ä»¥çœç•¥</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span>&#123;</span><br><span class="line">        Consumer&lt;String&gt; consumer1 = s -&gt; System.out.println(s);</span><br><span class="line">        consumer1.accept(<span class="string">&quot;ä¸ä¸€å®š ä¹Ÿæœ‰å–„æ„çš„&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¯­æ³•æ ¼å¼äº” lambdaéœ€è¦ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„å‚æ•°  å¤šæ¡æ‰§è¡Œè¯­å¥ å¹¶ä¸”å¯ä»¥æœ‰è¿”å›å€¼</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test5</span><span class="params">()</span>&#123;</span><br><span class="line">        Comparator&lt;Integer&gt; comparator = <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Integer o1, Integer o2)</span> &#123;</span><br><span class="line">                System.out.println(o1);</span><br><span class="line">                System.out.println(o2);</span><br><span class="line">                <span class="keyword">return</span> o1.compareTo(o2);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        System.out.println(comparator.compare(<span class="number">12</span>,<span class="number">6</span>));</span><br><span class="line">        Comparator&lt;Integer&gt; comparator2 = (o1, o2) -&gt; &#123;System.out.println(o1);</span><br><span class="line">            System.out.println(o2);</span><br><span class="line">            <span class="keyword">return</span> o1.compareTo(o2);</span><br><span class="line">        &#125;;</span><br><span class="line">        System.out.println(comparator2.compare(<span class="number">3</span>,<span class="number">56</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¯­æ³•æ ¼å¼å…­ å½“lambdaæåªæœ‰ä¸€æ¡æ‰§è¡Œè¯­å¥ returnå’Œå¤§æ‹¬å·è‹¥æœ‰ çœç•¥</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test6</span><span class="params">()</span>&#123;</span><br><span class="line">        Comparator&lt;Integer&gt; comparator = (o1,o2) -&gt; o1.compareTo(o2);</span><br><span class="line">        System.out.println(comparator.compare(<span class="number">23</span>, <span class="number">4</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ€»ç»“</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220513150936602.png" alt="image-20220513150936602"></p><h4 id="å‡½æ•°å¼æ¥å£">å‡½æ•°å¼æ¥å£</h4><p>å¦‚æœä¸€ä¸ªæ¥å£ åªå£°æ˜äº†ä¸€ä¸ªæŠ½è±¡æ–¹æ³• å°±æ˜¯å‡½æ•°å¼æ¥å£</p><h5 id="å¦‚ä½•ç†è§£">å¦‚ä½•ç†è§£</h5><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220513151356455.png" alt="image-20220513151356455"></p><h3 id="æ–¹æ³•å¼•ç”¨çš„ä½¿ç”¨æƒ…å†µ">æ–¹æ³•å¼•ç”¨çš„ä½¿ç”¨æƒ…å†µ</h3><p><a href="http://t.csdn.cn/Pf5Zh%E8%AF%A6%E7%BB%86%E5%8D%9A%E5%AE%A2%E5%9C%B0%E5%9D%80">http://t.csdn.cn/Pf5Zhè¯¦ç»†åšå®¢åœ°å€</a></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220514124130616.png" alt="image-20220514124130616"></p><p>å¥½å¤„ä»£ç æ›´åŠ ç®€æ´ï¼Œä½†æ˜¯æˆ‘è§‰å¾—å¯è¯»æ€§ä¼šå˜å·®ã€‚</p><h2 id="5-ç« èŠ‚å†…å®¹-éš¾ç‚¹-13">5.ç« èŠ‚å†…å®¹ éš¾ç‚¹</h2><p>ç« èŠ‚å†…å®¹(èŠ‚æ ‡é¢˜ï¼Œé‡ç‚¹)ï¼Œéš¾ç‚¹(æ¯”è¾ƒéš¾ç†è§£çš„å†…å®¹å’Œè¾ƒå®¹æ˜“å‡ºé”™éƒ¨åˆ†ï¼Œå…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="å¼ºå¤§çš„Stream-API">å¼ºå¤§çš„Stream API</h3><h3 id="Optionalç±»">Optionalç±»</h3><p>è§£å†³ç©ºæŒ‡é’ˆé—®é¢˜</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220514184716265.png" alt="image-20220514184716265"></p><h4 id="Optionalå®¹å™¨ç±»çš„å¸¸ç”¨æ–¹æ³•">Optionalå®¹å™¨ç±»çš„å¸¸ç”¨æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Optionalå®¹å™¨ç±»çš„å¸¸ç”¨æ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment">     * Optional.of(T t)ï¼šåˆ›å»ºä¸€ä¸ªOptionalå®ä¾‹</span></span><br><span class="line"><span class="comment">     * Optional.empty()ï¼šåˆ›å»ºä¸€ä¸ªç©ºçš„Optionalå®ä¾‹</span></span><br><span class="line"><span class="comment">     * Optional.ofNullable(T t)ï¼šè‹¥tä¸ä¸ºnull,åˆ›å»ºOptionalå®åˆ—ï¼Œå¦åˆ™åˆ›å»ºç©ºå®ä¾‹</span></span><br><span class="line"><span class="comment">     * isPresent()ï¼šåˆ¤æ–­æ˜¯å¦åŒ…å«å€¼</span></span><br><span class="line"><span class="comment">     * orElse(T t)ï¼šå¦‚æœè°ƒç”¨å¯¹è±¡åŒ…å«å€¼ï¼Œè¿”å›è¯¥å€¼ï¼Œå¦åˆ™è¿”å›t</span></span><br><span class="line"><span class="comment">     * orElseGet(Supplier s)ï¼šå¦‚æœè°ƒç”¨å¯¹è±¡åŒ…å«å€¼ï¼Œè¿”å›è¯¥å€¼ï¼Œå¦åˆ™è¿”å›sè·å–çš„å€¼</span></span><br><span class="line"><span class="comment">     * map(Function f)ï¼šå¦‚æœæœ‰å€¼å¯¹å…¶å¤„ç†ï¼Œå¹¶è¿”å›å¤„ç†åçš„Optionalï¼Œå¦åˆ™è¿”å›Optional.empty()</span></span><br><span class="line"><span class="comment">     * flatMap(Function mapper)ï¼šä¸mapç±»ä¼¼ï¼Œè¦æ±‚è¿”å›å€¼å¿…é¡»æ˜¯Optional</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">        Optional&lt;Employee&gt; op = Optional.of(<span class="keyword">new</span> <span class="title class_">Employee</span>());</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">emp</span> <span class="operator">=</span> op.get();</span><br><span class="line">        System.out.println(emp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">        Optional&lt;Employee&gt; op = Optional.empty();</span><br><span class="line">        System.out.println(op.get());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">//        Optional&lt;Employee&gt; op = Optional.ofNullable(new Employee());</span></span><br><span class="line">        Optional&lt;Employee&gt; op = Optional.ofNullable(<span class="literal">null</span>); <span class="comment">//ä¸èƒ½ä¼ null</span></span><br><span class="line">        <span class="keyword">if</span> (op.isPresent()) &#123;</span><br><span class="line">            System.out.println(op.get());</span><br><span class="line"><span class="comment">//            System.out.println(op1.get());</span></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------------------------------------------&quot;</span>);</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">emp</span> <span class="operator">=</span> op.orElse(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">18</span>, <span class="number">888.88</span>, Employee.Status.FREE));</span><br><span class="line">        System.out.println(emp);</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------------------------------------------&quot;</span>);</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">emp1</span> <span class="operator">=</span> op.orElseGet(() -&gt; <span class="keyword">new</span> <span class="title class_">Employee</span>());</span><br><span class="line">        System.out.println(emp1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span> &#123;</span><br><span class="line">        Optional&lt;Employee&gt; op = Optional.ofNullable(<span class="keyword">new</span> <span class="title class_">Employee</span>(<span class="string">&quot;zhangsan&quot;</span>, <span class="number">18</span>, <span class="number">888.88</span>, Employee.Status.FREE));</span><br><span class="line"><span class="comment">//        Optional&lt;String&gt; s = op.map((e) -&gt; e.getName());</span></span><br><span class="line"><span class="comment">//        System.out.println(s.get());</span></span><br><span class="line">        <span class="comment">//å¤šä¸€æ­¥åˆ¤ç©º</span></span><br><span class="line">        Optional&lt;String&gt; s = op.flatMap((e) -&gt; Optional.of(e.getName()));</span><br><span class="line">        System.out.println(s.get());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test5</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Man</span> <span class="variable">man</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Man</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> getGodnessName(man);</span><br><span class="line">        System.out.println(name);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éœ€æ±‚ï¼šè·å–ç”·ç”Ÿå¿ƒä¸­å¥³ç¥çš„åå­—</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getGodnessName</span><span class="params">(Man man)</span> &#123;</span><br><span class="line"><span class="comment">//        return man.getGoddness().getName();</span></span><br><span class="line">        <span class="keyword">if</span> (man != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">Godness</span> <span class="variable">gn</span> <span class="operator">=</span> man.getGoddness();</span><br><span class="line">            <span class="keyword">if</span> (gn != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> gn.getName();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;å°èŠ±&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getGodnessName2</span><span class="params">(Optional&lt;NewMan&gt; man)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> man.orElse(<span class="keyword">new</span> <span class="title class_">NewMan</span>())</span><br><span class="line">                .getGodness()</span><br><span class="line">                .orElse(<span class="keyword">new</span> <span class="title class_">Godness</span>(<span class="string">&quot;å°èŠ±èŠ±&quot;</span>))</span><br><span class="line">                .getName();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test6</span><span class="params">()</span>&#123;</span><br><span class="line">        Optional&lt;Godness&gt; gn = Optional.ofNullable(<span class="keyword">new</span> <span class="title class_">Godness</span>(<span class="string">&quot;å°çº¢&quot;</span>));</span><br><span class="line">        Optional&lt;NewMan&gt; op = Optional.ofNullable(<span class="keyword">new</span> <span class="title class_">NewMan</span>(gn));</span><br><span class="line"><span class="comment">//        Optional&lt;Godness&gt; gn = Optional.ofNullable(null);</span></span><br><span class="line"><span class="comment">//        Optional&lt;NewMan&gt; op = Optional.ofNullable(null);</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> getGodnessName2(op);</span><br><span class="line">        System.out.println(str);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="6-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-13">6.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h3 id="Pythonéšæœºæ¯çš„æ’åº">Pythonéšæœºæ¯çš„æ’åº</h3><p>æŒ‰åå­—æ’åº ç„¶åæ˜¯å¹´é¾„ å­¦å·</p><p>æ”¾åœ¨ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">t1 = (<span class="string">&#x27;Tom&#x27;</span>,<span class="number">19</span>,<span class="number">80</span>)</span><br><span class="line">t2 = (<span class="string">&#x27;John&#x27;</span>,<span class="number">20</span>,<span class="number">90</span>)</span><br><span class="line">t3 = (<span class="string">&#x27;Jony&#x27;</span>,<span class="number">17</span>,<span class="number">91</span>)</span><br><span class="line">t4 = (<span class="string">&#x27;Jony&#x27;</span>,<span class="number">17</span>,<span class="number">93</span>)</span><br><span class="line">t5 = (<span class="string">&#x27;Json&#x27;</span>,<span class="number">21</span>,<span class="number">85</span>)</span><br><span class="line"><span class="built_in">list</span> = []</span><br><span class="line"><span class="built_in">list</span>.append(t1)</span><br><span class="line"><span class="built_in">list</span>.append(t2)</span><br><span class="line"><span class="built_in">list</span>.append(t3)</span><br><span class="line"><span class="built_in">list</span>.append(t4)</span><br><span class="line"><span class="built_in">list</span>.append(t5)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>,<span class="number">6</span>):</span><br><span class="line">        <span class="keyword">for</span> z <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">list</span>[i][z] &gt; <span class="built_in">list</span>[j][z]:</span><br><span class="line">                <span class="built_in">list</span>[i],<span class="built_in">list</span>[j] = <span class="built_in">list</span>[j],<span class="built_in">list</span>[i]</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">elif</span> <span class="built_in">list</span>[i][z]&lt;<span class="built_in">list</span>[j][z]:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>)</span><br></pre></td></tr></table></figure><h4 id="åˆ©ç”¨javaå†™å‡ºæ¥">åˆ©ç”¨javaå†™å‡ºæ¥</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;[&quot;</span> + name +<span class="string">&quot;, &quot;</span> + age +<span class="string">&quot;, &quot;</span> + id +<span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">    Comparator&lt;User&gt; comparator = <span class="keyword">new</span> <span class="title class_">Comparator</span>() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (o1 <span class="keyword">instanceof</span> User &amp;&amp; o2 <span class="keyword">instanceof</span> User)&#123;</span><br><span class="line">                <span class="type">User</span> <span class="variable">u1</span> <span class="operator">=</span> (User)o1;</span><br><span class="line">                <span class="type">User</span> <span class="variable">u2</span> <span class="operator">=</span> (User)o2;</span><br><span class="line">                <span class="type">int</span> <span class="variable">com</span> <span class="operator">=</span> u1.getName().compareTo(u2.getName());</span><br><span class="line">                <span class="keyword">if</span> (com != <span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> com;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">intcom</span> <span class="operator">=</span> Integer.compare(u1.getAge(), u2.getAge());</span><br><span class="line">                    <span class="keyword">if</span> (intcom != <span class="number">0</span>)&#123;</span><br><span class="line">                        <span class="keyword">return</span> intcom;</span><br><span class="line">                    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> Integer.compare(u1.getId(), u2.getId());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;ç±»å‹ä¸åŒ¹é…&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    TreeSet&lt;User&gt; List1 = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(comparator);</span><br><span class="line">    List1.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Tom&quot;</span>,<span class="number">19</span>,<span class="number">80</span>));</span><br><span class="line">    List1.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;John&quot;</span>,<span class="number">20</span>,<span class="number">90</span>));</span><br><span class="line">    List1.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jony&quot;</span>,<span class="number">17</span>,<span class="number">91</span>));</span><br><span class="line">    List1.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Jony&quot;</span>,<span class="number">17</span>,<span class="number">93</span>));</span><br><span class="line">    List1.add(<span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;Json&quot;</span>,<span class="number">21</span>,<span class="number">85</span>));</span><br><span class="line">    System.out.println(List1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-æ€»ç»“-13">7.æ€»ç»“</h2><p>é‡ç‚¹æ˜¯å“ªäº›çŸ¥è¯†æ¯”è¾ƒé‡è¦ï¼Œéš¾ç‚¹æ˜¯ä½ åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è§‰å¾—æ¯”è¾ƒç¹ç,æŒæ¡èµ·æ¥æœ‰ä¸€ç‚¹</p><p>ä»Šå¤©å­¦äº†java8çš„æ–°ç‰¹æ€§ï¼Œå› ä¸ºç›®å‰å¼€å‘ä¸»æµçš„è¿˜æ˜¯java8ï¼Œæ‰€ä»¥å°±åªçœ‹åˆ°äº†java8çš„æ–°ç‰¹æ€§ï¼Œjavaé«˜çº§ä¹Ÿå­¦å®Œäº†ã€‚ä»Šå¤©çš„å­¦ä¹ å†…å®¹æœ‰ç‚¹éš¾åº¦ï¼Œlambdaå’Œæ–¹æ³•å¼•ç”¨ï¼Œä¸¤ä¸ªç®€å†™ä»£ç é‡çš„æ–¹å¼ï¼Œä½†æ˜¯ä¸å¤ªå¥½ç†è§£ï¼Œå®é™…ä½¿ç”¨è¿˜æ²¡æœ‰é‚£ä¹ˆæˆç†Ÿï¼Œä»£ç æ•²äº†å…«ä¹éï¼Œæƒ³è¦é¡ºä¾¿ä½¿ç”¨è¿˜æ˜¯æœ‰ç‚¹ä¸ç†Ÿç»ƒçš„ï¼Œçœ‹åšå®¢æœ‰å¤šç‚¹çš„å¿ƒç†ä½“ä¼šï¼Œä»Šå¤©å­¦äº†ä¸€ä¸Šåˆï¼Œä¸‹åˆå› ä¸ºç²¾ç¥ä¸å¤ªå¥½ï¼ŒåŸºæœ¬æ²¡çœ‹è¿›å»ï¼Œå­¦ä¹ çŠ¶æ€ä¸€èˆ¬å§ã€‚</p>]]></content>
    
    
    <summary type="html">JavaåŸºç¡€å­¦ä¹ -é¢å‘å¯¹è±¡éƒ¨åˆ†</summary>
    
    
    
    <category term="å·¥ä½œå®¤æœˆç¬”è®°" scheme="https://u7u7.top/categories/%E5%B7%A5%E4%BD%9C%E5%AE%A4%E6%9C%88%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Java" scheme="https://u7u7.top/tags/Java/"/>
    
    <category term="æœˆç¬”è®°" scheme="https://u7u7.top/tags/%E6%9C%88%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•</title>
    <link href="https://u7u7.top/posts/suanfa.html"/>
    <id>https://u7u7.top/posts/suanfa.html</id>
    <published>2023-03-10T14:16:25.000Z</published>
    <updated>2023-03-10T14:16:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŠ›æ‰£ç®—æ³•åˆ·é¢˜â€”â€”å¤‡æˆ˜è“æ¡¥æ¯">åŠ›æ‰£ç®—æ³•åˆ·é¢˜â€”â€”å¤‡æˆ˜è“æ¡¥æ¯</h1><h2 id="1æœˆ9å·ä¹‹å‰çš„ç®—æ³•é¢˜">1æœˆ9å·ä¹‹å‰çš„ç®—æ³•é¢˜</h2><blockquote><p>ä¹‹å‰åšäº†å¾ˆå¤šç®—æ³•é¢˜ï¼Œä½†æ˜¯å› ä¸ºæ²¡æœ‰å†™ç¬”è®°çš„åŸå› ï¼Œæ•ˆæœä¸å¤ªå¥½ï¼Œå…ˆæŠŠä¹‹å‰å†™çš„ç®—æ³•é¢˜çš„ä»£ç éƒ½æ”¾ä¸Šæ¥ã€‚ä»¥åå†™çš„ç®—æ³•é¢˜ï¼Œè¦åšå¥½ç¬”è®°ã€‚å› ä¸ºåŠ›æ‰£åšé¢˜éƒ½æ˜¯ç»™ä½ ä¸€ä¸ªå‡½æ•°çš„æ¨¡ç‰ˆè®©ä½ å†™é¢˜ç›®ï¼Œä¸€èˆ¬éƒ½æ˜¯æœ‰è¿”å›å€¼çš„ï¼Œæ‰€ä»¥éƒ½å¯ä»¥æ”¾ä¸€ä¸ªä»£ç ä¸­å»ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> December;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.rmi.CORBA.Util;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Solution</span> <span class="variable">solution</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Solution</span>();</span><br><span class="line">        <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        runningSum(arr);</span><br><span class="line">        canConstruct(<span class="string">&quot;aab&quot;</span>,<span class="string">&quot;baa&quot;</span>);</span><br><span class="line">        solution.minOperations(<span class="string">&quot;110&quot;</span>);</span><br><span class="line">        System.out.println(solution.secondHighest(<span class="string">&quot;ck077&quot;</span>));</span><br><span class="line">        <span class="type">int</span>[] arr1 = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;-<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">22</span>,<span class="number">27</span>,<span class="number">33</span>,<span class="number">57</span>,<span class="number">66</span>,<span class="number">77</span>&#125;;</span><br><span class="line"><span class="comment">//        int[] arr = new int[]&#123;-1,0,3,9,11,13,22,27,33,57,66,77&#125;;</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> searchInsert(arr1, <span class="number">1</span>);</span><br><span class="line">        System.out.println(i);</span><br><span class="line">        <span class="type">int</span>[] nums  = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;-<span class="number">2</span>,<span class="number">1</span>,-<span class="number">3</span>,<span class="number">4</span>,-<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,-<span class="number">5</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        solution.twoSum(nums,<span class="number">8</span>);</span><br><span class="line">        solution.maxSubArray(nums);</span><br><span class="line">        solution.lengthOfLongestSubstring(<span class="string">&quot;pwwkep&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;123456789&quot;</span>.substring(<span class="number">2</span>, <span class="number">4</span>));</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;ab&quot;</span>,s2 = <span class="string">&quot;eidboaoo&quot;</span>;</span><br><span class="line">        solution.checkInclusion(s1, s2);</span><br><span class="line">        solution.mostCompetitive(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">2</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">6</span>&#125;,<span class="number">4</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    åŠ›æ‰£P1673è´ªå¿ƒç®—æ³• è‡ªå·±åŠæš´åŠ›åšå‡ºæ¥çš„ é¢˜è§£éƒ½ç”¨äº†æ•°æ®æ ˆ æ‰€ä»¥88ä¸ªç‚¹åªè¿‡äº†86ä¸ª åé¢å­¦æ•°æ®æ ˆå›å¤´å†æ¥åšä¸€ä¸‹</span></span><br><span class="line"><span class="comment">//    public int[] mostCompetitive(int[] nums, int k) &#123;</span></span><br><span class="line"><span class="comment">//        int len  = nums.length;</span></span><br><span class="line"><span class="comment">//        int[] ints = new int[k];</span></span><br><span class="line"><span class="comment">//        int min=0;</span></span><br><span class="line"><span class="comment">//        int start = 0;</span></span><br><span class="line"><span class="comment">//        for (int x = 0;x&lt;k;x++)&#123;</span></span><br><span class="line"><span class="comment">//            for (int n = start; n &lt; len-k+x;n++)&#123;</span></span><br><span class="line"><span class="comment">//                if (nums[min] &gt; nums[n+1])&#123;</span></span><br><span class="line"><span class="comment">//                    min = n+1;</span></span><br><span class="line"><span class="comment">//                &#125;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            ints[x] = nums[min];</span></span><br><span class="line"><span class="comment">//            start = min;</span></span><br><span class="line"><span class="comment">//            min +=1 ;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        return ints;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    <span class="comment">//æ­£ç¡®è§£</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] mostCompetitive(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">last</span> <span class="operator">=</span> n-k;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">while</span> (stack.size()&gt;<span class="number">0</span> &amp;&amp; last&gt;<span class="number">0</span> &amp;&amp; stack.get(stack.size()-<span class="number">1</span>)&gt;nums[i]) &#123;</span><br><span class="line">                stack.remove(stack.size()-<span class="number">1</span>);</span><br><span class="line">                last --;</span><br><span class="line">            &#125;</span><br><span class="line">            stack.add(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++)&#123;</span><br><span class="line">            res[i] = stack.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//P567 å­—ç¬¦ä¸²æ’åºä¼˜è§£</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">checkInclusion</span><span class="params">(String s1, String s2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> n1=s1.length(),n2=s2.length();</span><br><span class="line">        <span class="keyword">if</span> (n1&gt;n2) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span>[] cnt = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>;x&lt;n1;x++)&#123;</span><br><span class="line">            cnt[s1.charAt(x) - <span class="string">&#x27;a&#x27;</span>] -= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n2; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">str</span> <span class="operator">=</span> s2.charAt(i) - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            cnt[str] += <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> (cnt[str] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                cnt[s2.charAt(left) - <span class="string">&#x27;a&#x27;</span>] -= <span class="number">1</span>;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i-left+<span class="number">1</span> == n1)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŠ›æ‰£P1480</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] runningSum(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            nums[i] += nums[i-<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//    public boolean checkInclusion(String s1, String s2) &#123;</span></span><br><span class="line"><span class="comment">//        int n = s1.length(), m = s2.length();</span></span><br><span class="line"><span class="comment">//        if (n &gt; m) &#123;</span></span><br><span class="line"><span class="comment">//            return false;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        int[] cnt = new int[26];</span></span><br><span class="line"><span class="comment">//        for (int i = 0; i &lt; n; ++i) &#123;</span></span><br><span class="line"><span class="comment">//            --cnt[s1.charAt(i) - &#x27;a&#x27;];</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        int left = 0;</span></span><br><span class="line"><span class="comment">//        for (int right = 0; right &lt; m; ++right) &#123;</span></span><br><span class="line"><span class="comment">//            int x = s2.charAt(right) - &#x27;a&#x27;;</span></span><br><span class="line"><span class="comment">//            ++cnt[x];</span></span><br><span class="line"><span class="comment">//            while (cnt[x] &gt; 0) &#123;</span></span><br><span class="line"><span class="comment">//                --cnt[s2.charAt(left) - &#x27;a&#x27;];</span></span><br><span class="line"><span class="comment">//                ++left;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            if (right - left + 1 == n) &#123;</span></span><br><span class="line"><span class="comment">//                return true;</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        return false;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åŠ›æ‰£P383</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">canConstruct</span><span class="params">(String ransomNote, String magazine)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(ransomNote.length() &gt; magazine.length()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] cnt = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : magazine.toCharArray()) &#123;</span><br><span class="line">            cnt[c - <span class="string">&#x27;a&#x27;</span>] ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">char</span> c : ransomNote.toCharArray()) &#123;</span><br><span class="line">            cnt[c - <span class="string">&#x27;a&#x27;</span>] --;</span><br><span class="line">            <span class="keyword">if</span>(cnt[c - <span class="string">&#x27;a&#x27;</span>] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŠ›æ‰£P412</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">fizzBuzz</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        ArrayList&lt;String&gt; arrayList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">3</span> == <span class="number">0</span> &amp;&amp; i % <span class="number">5</span> == <span class="number">0</span>)&#123;</span><br><span class="line">                arrayList.add(<span class="string">&quot;FizzBuzz&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (i % <span class="number">3</span> ==<span class="number">0</span>)&#123;</span><br><span class="line">                arrayList.add(<span class="string">&quot;Fizz&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (i % <span class="number">5</span> == <span class="number">0</span>)&#123;</span><br><span class="line">                arrayList.add(<span class="string">&quot;Buzz&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                arrayList.add(String.valueOf(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arrayList;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//P876 é“¾è¡¨ä¸­é—´èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">middleNode</span><span class="params">(ListNode head)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">slow</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">fast</span> <span class="operator">=</span> head;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (fast != <span class="literal">null</span> &amp;&amp; fast.next != <span class="literal">null</span>)&#123;</span><br><span class="line">            slow = slow.next;</span><br><span class="line">            fast = fast.next.next;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> slow;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//P1769</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] minOperations(String boxes) &#123;</span><br><span class="line">        String[] split = boxes.split(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="type">int</span>[] ints = <span class="keyword">new</span> <span class="title class_">int</span>[split.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;split.length;i++)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> x=<span class="number">0</span>;x&lt;split.length;x++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (split[x].equals(<span class="string">&quot;1&quot;</span>))&#123;</span><br><span class="line">                    count += Math.abs(x-i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ints[i] = count;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ints;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åŠ›æ‰£P1796</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">secondHighest</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; ay = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> i : s.toCharArray())&#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">47</span> &amp;&amp; i &lt;  <span class="number">58</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span> (!ay.contains(i - <span class="number">48</span>))&#123;</span><br><span class="line">                    ay.add(i-<span class="number">48</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        Collections.sort(ay);</span><br><span class="line">        <span class="keyword">if</span> (ay.size()&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> ay.get(ay.size()-<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//P35ä¼˜è§£ åŒæŒ‡é’ˆ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">searchInsert</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> nums.length -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">middle</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (nums[middle] &gt; target)&#123;</span><br><span class="line">                right = middle -<span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (nums[middle] &lt; target)&#123;</span><br><span class="line">                left = middle + <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> middle;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> right+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//P704äºŒåˆ†æŸ¥æ‰¾</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = nums.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (right - left) / <span class="number">2</span> + left;</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> nums[mid];</span><br><span class="line">            <span class="keyword">if</span> (num == target) &#123;</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num &gt; target) &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//P977 è¾“å…¥ä¸€ä¸ªå‡åºçš„æ•°ç»„ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ•°æ®å„ä½ç½®å¹³æ–¹ï¼Œä¹Ÿæ˜¯å‡åº</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] sortedSquares(<span class="type">int</span>[] nums) &#123;</span><br><span class="line">        <span class="comment">//ç¬¬ä¸€ç§ è‡ªå·±å°±æ˜¯ç›´æ¥æ¯ä½å¹³æ–¹å†é‡æ–°æ’åº æ‰§è¡Œæ—¶é—´5ms</span></span><br><span class="line">        <span class="comment">//for (int i = 0; i &lt; nums.length; i++) &#123;</span></span><br><span class="line">        <span class="comment">//    nums[i] = nums[i]*nums[i];</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">        <span class="comment">//Arrays.parallelSort(nums);</span></span><br><span class="line">        <span class="comment">//return nums;</span></span><br><span class="line">        <span class="comment">//ä¸‹é¢æ˜¯åŒæŒ‡é’ˆ</span></span><br><span class="line">        <span class="comment">//æ€è·¯ å› ä¸ºæ˜¯å‡åºï¼Œæ‰€ä»¥æ•°çš„å¹³æ–¹çš„æœ€å¤§å€¼ä¸€å®šæ˜¯ä¸¤è¾¹,æŠŠè¿™ä¸ªå¤§çš„æ•° æ”¾æ–°æ•°ç»„å³è¾¹ ç„¶åä¸¤ç•Œé™å¾€å†…å¤¹</span></span><br><span class="line">        <span class="type">int</span>[] result  = <span class="keyword">new</span> <span class="title class_">int</span>[nums.length];</span><br><span class="line">        <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> result.length-<span class="number">1</span>; <span class="comment">//ç»™resultå€’ç€æ’å…¥çš„ä¸‹æ ‡</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> result.length-<span class="number">1</span>; <span class="comment">//å³ç•Œé™</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">//å·¦ç•Œé™</span></span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right)&#123; <span class="comment">//å½“å·¦è¾¹ç­‰äºå³è¾¹ åœæ­¢</span></span><br><span class="line">            <span class="keyword">if</span> (nums[left]*nums[left] &lt; nums[right]*nums[right])&#123; <span class="comment">//ä¸¤è¾¹åˆ¤æ–­å¤§å° å³è¾¹å¤§</span></span><br><span class="line">                result[k--] = nums[right]*nums[right]; <span class="comment">//å¤§çš„æ’å…¥æœ€æ–°æ•°ç»„å³è¾¹ å³è¾¹ä¸‹æ ‡-1</span></span><br><span class="line">                right--; <span class="comment">//å³ç•Œé™å¾€å†…ç§»1</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123; <span class="comment">//å·¦è¾¹å¤§</span></span><br><span class="line">                result[k--] = nums[left]*nums[left]; <span class="comment">//å¤§çš„æ’å…¥æœ€æ–°æ•°ç»„å³è¾¹ å·¦è¾¹ä¸‹æ ‡-1</span></span><br><span class="line">                left++; <span class="comment">//å·¦ç•Œé™å¾€å†…ç§»1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//P189 è½®è½¬æ•°ç»„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">rotate</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="comment">//int count = nums.length;</span></span><br><span class="line">        <span class="comment">//int newNums[] = new int[count];</span></span><br><span class="line">        <span class="comment">//for (int i = 0; i &lt; count; i++) &#123;</span></span><br><span class="line">        <span class="comment">//    newNums[(i+k) % count] = nums[i];</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">        <span class="comment">//System.arraycopy(newNums, 0, nums, 0, count); //æ‰“å°</span></span><br><span class="line">        reversal(nums,<span class="number">0</span>,nums.length-<span class="number">1</span>);</span><br><span class="line">        reversal(nums,<span class="number">0</span>,k-<span class="number">1</span>);</span><br><span class="line">        reversal(nums,k,nums.length-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åè½¬ ä¸‹æ ‡ä¸ºstart å’Œ end é—´çš„åè½¬</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] reversal(<span class="type">int</span>[] nums,<span class="type">int</span> start,<span class="type">int</span> end)&#123;</span><br><span class="line">        <span class="keyword">while</span> (start&lt;end)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[start];</span><br><span class="line">            nums[start] = nums[end];</span><br><span class="line">            nums[end] = temp;</span><br><span class="line">            start++;</span><br><span class="line">            end--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//P283ç§»åŠ¨ã€‡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">moveZeroes</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length,left = <span class="number">0</span>,right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (right &lt; n) &#123;</span><br><span class="line">            <span class="keyword">if</span>(nums[right] != <span class="number">0</span>)&#123;</span><br><span class="line">                res(nums,left,right);</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">res</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[x];</span><br><span class="line">        nums[x] = nums[y];</span><br><span class="line">        nums[y] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//p344 åè½¬å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reverseString</span><span class="params">(<span class="type">char</span>[] s)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>,right = s.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right)&#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">temp</span> <span class="operator">=</span> s[left];</span><br><span class="line">            s[left] = s[right];</span><br><span class="line">            s[right] = temp;</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŠ›æ‰£P1832 å…¨å­—æ¯å¥</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">checkIfPangram</span><span class="params">(String sentence)</span> &#123;</span><br><span class="line">        <span class="type">boolean</span>[] booleans = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">26</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; sentence.length(); i++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> sentence.charAt(i);</span><br><span class="line">            booleans[c - <span class="string">&#x27;a&#x27;</span>] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">boolean</span> x : booleans)&#123;</span><br><span class="line">            <span class="keyword">if</span> (!x)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŠ›æ‰£217</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">containsDuplicate</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        Set&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!set.add(x)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//p1 ä¸¤æ•°ä¹‹å’Œä¼˜è§£</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] twoSum(<span class="type">int</span>[] nums, <span class="type">int</span> target) &#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; hashtable = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;Integer, Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; ++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (hashtable.containsKey(target - nums[i])) &#123; <span class="comment">//æ˜¯å¦æœ‰è¯¥key</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;hashtable.get(target - nums[i]), i&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            hashtable.put(nums[i], i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//P3 æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        HashMap&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>, start = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> <span class="number">0</span>; end &lt; s.length(); end++) &#123;</span><br><span class="line">            <span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> s.charAt(end);</span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(ch))&#123;</span><br><span class="line">                start = Math.max(map.get(ch)+<span class="number">1</span>,start);</span><br><span class="line">            &#125;</span><br><span class="line">            max = Math.max(max,end - start + <span class="number">1</span>);</span><br><span class="line">            map.put(ch,end);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//p53æœ€å¤§æ•°ç»„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxSubArray</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> nums[<span class="number">0</span>], previous = nums[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i :nums)&#123;</span><br><span class="line">            previous = Math.max(previous+i, i);</span><br><span class="line">            ans = Math.max(previous, ans);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//p88</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">merge</span><span class="params">(<span class="type">int</span>[] nums1, <span class="type">int</span> m, <span class="type">int</span>[] nums2, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p1</span> <span class="operator">=</span> m -<span class="number">1</span>,p2 = n -<span class="number">1</span>,length = m + n -<span class="number">1</span>,i;</span><br><span class="line">        <span class="keyword">while</span> (p1&gt;=<span class="number">0</span> || p2 &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (p1 == -<span class="number">1</span>)&#123;</span><br><span class="line">                i = nums2[p2--];</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(p2 == -<span class="number">1</span>)&#123;</span><br><span class="line">                i = nums1[p1--];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (nums1[p1] &lt; nums2[p2])&#123;</span><br><span class="line">                i = nums2[p2--];</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                i = nums1[p1--];</span><br><span class="line">            &#125;</span><br><span class="line">            nums1[length--] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">reverseWords</span><span class="params">(String x)</span> &#123;</span><br><span class="line">        String[] s = x.split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length; i++) &#123;</span><br><span class="line">            <span class="type">StringBuffer</span> <span class="variable">stringBuffer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(s[i]);</span><br><span class="line">            s[i] = stringBuffer.reverse().toString();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> String.join(<span class="string">&quot; &quot;</span>,s);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//P19 åˆ é™¤é“¾è¡¨å€’æ•°ç¬¬Nä¸ªç»“ç‚¹</span></span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">removeNthFromEnd</span><span class="params">(ListNode head, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>, head);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">first</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">second</span> <span class="operator">=</span> dummy;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; ++i) &#123;</span><br><span class="line">            first = first.next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (first != <span class="literal">null</span>) &#123;</span><br><span class="line">            first = first.next;</span><br><span class="line">            second = second.next;</span><br><span class="line">        &#125;</span><br><span class="line">        second.next = second.next.next;</span><br><span class="line">        <span class="keyword">return</span> dummy.next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åŠ›æ‰£P1672</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maximumWealth</span><span class="params">(<span class="type">int</span>[][] accounts)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] i: accounts)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">max1</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k : i)&#123;</span><br><span class="line">                max1 += k;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (max1 &gt; max)&#123;</span><br><span class="line">                max = max1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿˜æ²¡æ€ä¹ˆå­¦ä¹ çš„é“¾è¡¨é¢˜ç›®ä¸­ä¹Ÿæœ‰å‡ é“ï¼Œåé¢å­¦æ•°æ®ç»“æ„çš„æ—¶å€™å†å·©å›ºä¸€ä¸‹ è‡ªå®šä¹‰é“¾è¡¨ä»£ç å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> December;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    ListNode next;</span><br><span class="line">    ListNode() &#123;&#125;</span><br><span class="line">    ListNode(<span class="type">int</span> val) &#123; <span class="built_in">this</span>.val = val; &#125;</span><br><span class="line">    ListNode(<span class="type">int</span> val, ListNode next) &#123; <span class="built_in">this</span>.val = val; <span class="built_in">this</span>.next = next; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŠ›æ‰£é¢˜è®°">åŠ›æ‰£é¢˜è®°</h2><h3 id="åŠ›æ‰£P1673è´ªå¿ƒç®—æ³•">åŠ›æ‰£P1673è´ªå¿ƒç®—æ³•</h3><ul><li>è‡ªå·±åŠæš´åŠ›åšå‡ºæ¥çš„ é¢˜è§£éƒ½ç”¨äº†æ•°æ®æ ˆ æ‰€ä»¥88ä¸ªç‚¹åªè¿‡äº†86ä¸ª åé¢å­¦æ•°æ®æ ˆå›å¤´å†æ¥åšä¸€ä¸‹</li></ul><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20230109223549100.png" alt="image-20230109223549100"></p><ul><li>æ²¡è¿‡çš„åŸå› è‡ªå·±ä¹ŸçŸ¥é“ï¼Œå› ä¸ºè‡ªå·±ç©ºé—´å¤æ‚åº¦æ˜¯k*nums.lengthä¹Ÿå°±æ˜¯æ‰€éœ€è¦çš„æ•°ç»„é•¿åº¦å’ŒåŸæ•°ç»„çš„é•¿åº¦çš„å¾ªç¯æ¬¡æ•° ä¸‹é¢æ˜¯è‡ªå·±çš„ä»£ç </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] mostCompetitive(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span>  <span class="operator">=</span> nums.length;</span><br><span class="line">    <span class="type">int</span>[] ints = <span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">    <span class="type">int</span> min=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//æ€è·¯:ä»å€’æ•°kä¹‹å‰å…ˆæ‰¾æœ€å°å€¼(é˜²æ­¢kå–ä¸å¤Ÿ) ç„¶åä»è¯¥ç´¢å¼•å†å¼€å§‹ å–çš„ä½ç½®å¯ä»¥å¾€åç§»ä¸€æ ¼ ä»¥æ­¤ç±»æ¨</span></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>;x&lt;k;x++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> start; n &lt; len-k+x;n++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[min] &gt; nums[n+<span class="number">1</span>])&#123;</span><br><span class="line">                min = n+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ints[x] = nums[min];</span><br><span class="line">        start = min;</span><br><span class="line">        min +=<span class="number">1</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ints;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½†æ˜¯pythonä¸­ä¼¼ä¹æ¯”è¾ƒç®€å•ï¼Œå› ä¸ºå¯ä»¥ä»å°¾éƒ¨åˆ é™¤ï¼Œæˆ‘ç”¨javaæ¨¡ä»¿çš„è¯ï¼Œæ¨¡ä»¿å‡ºæ¥éœ€è¦æ–°å»ºä¸€ä¸ªarrayList</li><li>é¢˜è§£åŸç†ï¼šçœ‹äº†å¾ˆä¹…æ‰æ˜ç™½é¢˜è§£ä»£ç çš„å·§å¦™ä¹‹å¤„å…ˆæŠŠæ•°ç»„ä¸­å€¼åŠ ä¸€ä¸ªåˆ°åˆ—è¡¨ï¼Œç„¶åå¦‚æœè¯¥å€¼ä¸æ»¡è¶³ä¸‰ä¸ªä»»ä½•æ¡ä»¶ä¸­ä¸€ä¸ª(ä»£ç ä¸­æœ‰)ï¼Œå°±å†å¾€åˆ—è¡¨åŠ å…¥ä¸€ä¸ªæ•°ç»„çš„å€¼ï¼Œå†æŠŠæ–°åŠ å…¥çš„å€¼å’Œåé¢çš„æ•°ç»„çš„å€¼æ¯”ï¼Œå¦‚æœæ¯”åé¢çš„å¤§å°±åˆ é™¤ã€‚å¦‚æ­¤ä¸€ç›´ï¼Œç›´åˆ°åˆ é™¤çš„æ•°å¤Ÿäº†(æ¯”å¦‚æ•°ç»„é•¿åº¦æ˜¯10ï¼Œæˆ‘éœ€è¦æ•°ç»„é•¿åº¦ä¸º3çš„æœ€å…·ç«äº‰åŠ›çš„ï¼Œé‚£æˆ‘éœ€è¦æŠŠåŸæ•°ç»„çš„å€¼åˆ é™¤7æ¬¡ï¼Œåªè¦3ä¸ªå€¼)ï¼Œéœ€è¦çš„æœ€å…·ç«äº‰åŠ›çš„æ•°ç»„ä¹Ÿå¤Ÿäº†ã€‚</li></ul><blockquote><p>ä¸‹é¢æ˜¯pythonå’Œjavaå¯¹è¯¥é¢˜ä½¿ç”¨å•è°ƒæ ˆçš„ä»£ç å¯¹æ¯”</p></blockquote><div class="tabs" id="contrast"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#contrast-1">pythonä»£ç </button></li><li class="tab"><button type="button" data-href="#contrast-2">javaä»£ç </button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="contrast-1"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mostCompetitive</span>(<span class="params">self, nums, k</span>):</span><br><span class="line">        stack = []</span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        last = n-k</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">while</span> stack <span class="keyword">and</span> last <span class="keyword">and</span> stack[-<span class="number">1</span>] &gt; nums[i]:</span><br><span class="line">                stack.pop()</span><br><span class="line">                last -= <span class="number">1</span></span><br><span class="line">            stack.append(nums[i])</span><br><span class="line">        <span class="keyword">return</span> stack[:k]</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="contrast-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[] mostCompetitive(<span class="type">int</span>[] nums, <span class="type">int</span> k) &#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> nums.length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">last</span> <span class="operator">=</span> n-k;</span><br><span class="line">        <span class="comment">//æ ¸å¿ƒä»£ç æ˜¯ä¸‹é¢çš„å¾ªç¯</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i ++) &#123;</span><br><span class="line">            <span class="keyword">while</span> (stack.size()&gt;<span class="number">0</span> &amp;&amp; last&gt;<span class="number">0</span> &amp;&amp; stack.get(stack.size()-<span class="number">1</span>)&gt;nums[i]) &#123;</span><br><span class="line">                stack.remove(stack.size()-<span class="number">1</span>);</span><br><span class="line">                last --;</span><br><span class="line">            &#125;</span><br><span class="line">            stack.add(nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[k];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++)&#123;</span><br><span class="line">            res[i] = stack.get(i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="åŠ›æ‰£P136-å¼‚æˆ–ç®—æ³•">åŠ›æ‰£P136 å¼‚æˆ–ç®—æ³•</h3><blockquote><p>é¢˜ç›®ä¸éš¾ ç®€å•æ¥è¯´å°±æ˜¯æ‰¾å‡ºæ•°ç»„ä¸­åªå­˜åœ¨ä¸€ä¸ªçš„æ•° å…¶ä»–çš„æ•°å­—éƒ½æ˜¯å‡ºç°è¿‡ä¸¤æ¬¡ æ‰¾åªå‡ºç°è¿‡ä¸€æ¬¡çš„é‚£ä¸ªæ•°                      åˆ©ç”¨åˆ°äº†  å¼‚æˆ–ä¸­çš„äº¤æ¢å¾‹ æ•°ç»„ä¸­æ‰€æœ‰çš„æ•°éƒ½å¼‚æˆ– æœ‰ä¸¤ä¸ªçš„ éƒ½ä¼šå˜æˆ0 æœ€ååªä¼šå‰©ä¸‹å‡ºç°è¿‡ä¸€æ¬¡çš„æ•°</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">singleNumber</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">              nums[<span class="number">0</span>] ^= nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŠ›æ‰£P15-åŒæŒ‡é’ˆ">åŠ›æ‰£P15 åŒæŒ‡é’ˆ</h3><blockquote><p>é¢˜ç›®ä¸ºç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ <code>[nums[i], nums[j], nums[k]]</code> æ»¡è¶³ <code>i != j</code>ã€<code>i != k</code> ä¸” <code>j != k</code> ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ <code>nums[i] + nums[j] + nums[k] == 0</code> ã€‚è¯·ä½ è¿”å›æ‰€æœ‰å’Œä¸º <code>0</code> ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚</p><p>éš¾ç‚¹åœ¨é˜²æ­¢é‡å¤çš„åœ°æ–¹  ä»£ç è®²è§£ç‚¹éƒ½åœ¨ä»£ç ä¸­äº†</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">threeSum</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    Arrays.sort(nums); <span class="comment">//å…ˆæ’åº</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(); <span class="comment">//åˆ›å»ºä¸€ä¸ªlisté‡Œé¢å¥½æ·»åŠ éœ€è¦çš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>; x &lt; nums.length - <span class="number">2</span>; x++) &#123; <span class="comment">//å¾ªç¯ç›´åˆ°å€’æ•°ç¬¬ä¸‰ä¸ª</span></span><br><span class="line">        <span class="keyword">if</span> (nums[x] &gt; <span class="number">0</span>) <span class="keyword">break</span>; <span class="comment">//å¦‚æœç¬¬ä¸€ä½å¤§äº0 æ€»å’Œå°±æ°¸è¿œä¸ä¼šå°äº0</span></span><br><span class="line">        <span class="keyword">if</span> (x &gt; <span class="number">0</span> &amp;&amp; nums[x] == nums[x - <span class="number">1</span>]) <span class="keyword">continue</span>; <span class="comment">//å¦‚æœè¯¥æ•°å’Œå‰ä¸€ä½ç›¸åŒ æš‚åœæœ¬æ¬¡å¾ªç¯ é˜²æ­¢é‡å¤æ•°æ®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> x + <span class="number">1</span>, z = nums.length - <span class="number">1</span>;  <span class="comment">//è®¾ç½®å·¦å’Œå³æŒ‡é’ˆ</span></span><br><span class="line">        <span class="keyword">while</span> (y &lt; z) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> nums[x] + nums[y] + nums[z]; <span class="comment">//ç›¸åŠ çš„æ€»å’Œå€¼</span></span><br><span class="line">            <span class="keyword">if</span> (sum &lt; <span class="number">0</span>) &#123; <span class="comment">//å°äº0 å·¦æŒ‡é’ˆ å‘å³</span></span><br><span class="line">                y++;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &gt; <span class="number">0</span>) &#123; <span class="comment">//å¤§äº0 å³æŒ‡é’ˆå‘å·¦</span></span><br><span class="line">                z--;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;(Arrays.asList(nums[x], nums[y], nums[z])));</span><br><span class="line">                <span class="keyword">while</span> (y &lt; z &amp;&amp; nums[y] == nums[++y]) ; <span class="comment">//å½“æ¡ä»¶æ»¡è¶³æ—¶ ä¸ºæ»¡è¶³ä¸é‡å¤çš„ä¸‰å…ƒç»„ å·¦å³æŒ‡é’ˆçš„å€¼å°±ä¸èƒ½è·ŸåŸæ¥ä¸€æ ·äº† åŠ å…¥whileå¾ªç¯ ç›´åˆ°æŒ‡é’ˆåŒºé—´çš„ä¸¤è¾¹ è·Ÿæ»¡è¶³æ¡ä»¶çš„æ—¶å€™ä¸åŒ</span></span><br><span class="line">                <span class="keyword">while</span> (y &lt; z &amp;&amp; nums[z] == nums[--z]) ;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è“æ¡¥æ¯é¢˜åº“">è“æ¡¥æ¯é¢˜åº“</h2><h3 id="ç¼–å·2120">ç¼–å·2120</h3><p>é¢˜ç›®ä¸éš¾ï¼Œæ‰¾åˆ°è§„å¾‹å°±è¡Œäº†ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20230315093825402.png" alt="image-20230315093825402"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Scanner</span> <span class="variable">scan</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">    <span class="comment">//åœ¨æ­¤è¾“å…¥æ‚¨çš„ä»£ç ...</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">Ax</span> <span class="operator">=</span> scan.nextLine();</span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> Integer.parseInt(Ax.substring(<span class="number">1</span>));</span><br><span class="line">    <span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">6</span>]; <span class="comment">//A9è¶…å‡º æ‰€ä»¥è®¾ç½®6ä¸ª</span></span><br><span class="line">    <span class="type">int</span>[] b = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">5</span>];</span><br><span class="line">    <span class="type">int</span> <span class="variable">aNumOne</span> <span class="operator">=</span> <span class="number">1189</span>; <span class="comment">//å®šä¹‰åˆå§‹å€¼</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">bNumOne</span> <span class="operator">=</span> <span class="number">841</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;<span class="number">6</span>;i++)&#123;</span><br><span class="line">        a[i] = aNumOne;</span><br><span class="line">        aNumOne = aNumOne / <span class="number">2</span>; <span class="comment">//å–æ•´æ·»åŠ </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j&lt;<span class="number">5</span>;j++)&#123;</span><br><span class="line">        b[j] = bNumOne;</span><br><span class="line">        bNumOne = bNumOne / <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(num%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        System.out.println(a[num/<span class="number">2</span>]);<span class="comment">//å¶æ•°æŒ‰ç´¢å¼•å–æ•°ç»„</span></span><br><span class="line">        System.out.println(b[num/<span class="number">2</span>]);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        System.out.println(b[(num-<span class="number">1</span>)/<span class="number">2</span>]);<span class="comment">//å¥‡æ•°æ•°å‰åå–å¤´</span></span><br><span class="line">        System.out.println(a[(num+<span class="number">1</span>)/<span class="number">2</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    scan.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¼–å·468">ç¼–å·468</h3><p>å›æ–‡æ—¥æœŸ</p><blockquote><p>é¢˜ç›®å¾ˆæ¸…æ™°æ˜äº†ï¼Œä½†æ˜¯éœ€è¦è®¨è®ºçš„ç‰¹æ®Šæ¡ä»¶æ¯”è¾ƒå¤šã€‚å°±æ˜¯æ—¥æœŸè§„èŒƒæ€§ï¼Œæ¯ä¸ªæœˆæ¯ä¸ªå¤©æ•°ä¸ä¸€æ ·ï¼Œè¿˜æœ‰æ—¥æœŸå¼€å¤´ä¸ä¸º0ï¼Œå­¦ä»½12æœˆä»¥å†…ï¼Œä¸å¯ä¸º0ï¼Œç­‰ç­‰ã€‚åœ¨æˆ‘æœ€åˆçš„ç‰ˆæœ¬éƒ½æ˜¯æœ‰ä¸€æ¡ä¸€æ¡ifè§„èŒƒå‡ºæ¥çš„ã€‚åæ¥ä¼˜åŒ–ç®—æ³•çš„æ—¶å€™ï¼Œå‘ç°æœ‰äº›æµ‹è¯•ç‚¹ï¼Œè“æ¡¥æ¯æ˜¯æ²¡æœ‰è®¾ç½®ä¸€äº›ç‰¹æ®Šæ£€æŸ¥ç‚¹çš„æ‰€ä»¥åƒ30å¤©å’Œ28 29è¿™ç§ç‰¹æ®Šæœˆã€‚æ‰€ä»¥åé¢é—°æœˆå’Œ2æœˆéƒ½æ²¡ç”¨æ·»åŠ åˆ¤æ–­è¯­å¥ï¼Œä½†æ˜¯ä¹Ÿé¡ºåˆ©é€šè¿‡äº†ï¼Œè€—æ—¶æœ‰ç‚¹ä¹…ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="comment">// 1:æ— éœ€package</span></span><br><span class="line"><span class="comment">// 2: ç±»åå¿…é¡»Main, ä¸å¯ä¿®æ”¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">scan</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="comment">//åœ¨æ­¤è¾“å…¥æ‚¨çš„ä»£ç ...</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> N+<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">99999999</span>;</span><br><span class="line">        <span class="keyword">while</span>(i&lt;=<span class="number">99999999</span>)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">num</span> <span class="operator">=</span> i+<span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">yearage</span>  <span class="operator">=</span> i/<span class="number">1000000</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">fanzhuanyearage</span> <span class="operator">=</span> yearage/<span class="number">10</span>+yearage%<span class="number">10</span>*<span class="number">10</span>;<span class="comment">//åè½¬day</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">yearlaster</span>  <span class="operator">=</span> i%<span class="number">1000000</span>/<span class="number">10000</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">fanzhuanyearlaster</span>  <span class="operator">=</span> yearlaster/<span class="number">10</span>+yearlaster%<span class="number">10</span>*<span class="number">10</span>; <span class="comment">//åè½¬month</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">month</span> <span class="operator">=</span> i%<span class="number">10000</span>/<span class="number">100</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">day</span>   <span class="operator">=</span> i%<span class="number">100</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">lastday</span> <span class="operator">=</span> i%<span class="number">10</span>; <span class="comment">//æœ€åä¸€å¤©ä¸èƒ½ä¸º0 å› ä¸ºåè½¬ä»¥åé¦–ä¸ä¸º0</span></span><br><span class="line">            <span class="keyword">if</span>(month &lt;= <span class="number">12</span> &amp;&amp;  day &lt;= <span class="number">31</span> &amp;&amp;  lastday != <span class="number">0</span> &amp;&amp; fanzhuanyearage&lt;=<span class="number">31</span> &amp;&amp; fanzhuanyearlaster&lt;=<span class="number">12</span> &amp;&amp; fanzhuanyearlaster != <span class="number">0</span>)&#123;</span><br><span class="line">              <span class="keyword">if</span>(huiwen(num))&#123;</span><br><span class="line">                 <span class="comment">//è®¾ç½®å›æ–‡ ä¸ºç¬¬ä¸€ä¸ª  </span></span><br><span class="line">                <span class="keyword">if</span>(res &gt; Integer.parseInt(num))&#123;</span><br><span class="line">                    res = Integer.parseInt(num);</span><br><span class="line">                    System.out.println(num);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//å¦‚æœä¸ºABå›æ–‡ç›´æ¥åœæ­¢</span></span><br><span class="line">                <span class="keyword">if</span>(ABhuiwen(num))&#123;</span><br><span class="line">                    System.out.println(num);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        scan.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­é—°å¹´</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">ruiyear</span><span class="params">(String num)</span>&#123;</span><br><span class="line">      <span class="type">int</span> <span class="variable">year</span> <span class="operator">=</span> Integer.parseInt(num);</span><br><span class="line">      <span class="keyword">return</span> (year % <span class="number">4</span> == <span class="number">0</span> &amp;&amp; year % <span class="number">100</span> != <span class="number">0</span>) || year % <span class="number">400</span> == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­å›æ–‡æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">huiwen</span><span class="params">(String num)</span>&#123;</span><br><span class="line">      <span class="type">char</span>[] c  = num.toCharArray();</span><br><span class="line">      <span class="keyword">return</span> c[<span class="number">0</span>] == c[<span class="number">7</span>] &amp;&amp; c[<span class="number">1</span>] == c[<span class="number">6</span>] &amp;&amp; c[<span class="number">2</span>] == c[<span class="number">5</span>] &amp;&amp; c[<span class="number">3</span>] == c[<span class="number">4</span>];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ¤æ–­ABå›æ–‡æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">ABhuiwen</span><span class="params">(String num)</span>&#123;</span><br><span class="line">      <span class="type">char</span>[] c  = num.toCharArray();</span><br><span class="line">      <span class="keyword">return</span> c[<span class="number">0</span>] == c[<span class="number">2</span>] &amp;&amp; c[<span class="number">2</span>] == c[<span class="number">5</span>] &amp;&amp; c[<span class="number">5</span>] == c[<span class="number">7</span>] &amp;&amp; c[<span class="number">1</span>] == c[<span class="number">3</span>] &amp;&amp; c[<span class="number">3</span>] == c[<span class="number">4</span>] &amp;&amp; c[<span class="number">4</span>] == c[<span class="number">6</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä»Šæ—¥å°çˆ¬è™«">ä»Šæ—¥å°çˆ¬è™«</h2><p>1æœˆ27å· æŠ–éŸ³åˆ·åˆ°ä¸€ä¸ªJavaçˆ¬è™«çš„æ¡ˆä¾‹ è‡ªå·±è¯•ç€æ›´æ”¹æ•²äº†ä¸€é</p><blockquote><p>éš¾ç‚¹åœ¨ä¸¤æ¬¡è¿æ¥ æ‰€è¦å®ç°çš„ä»£ç åŠŸèƒ½ä¸º åˆ©ç”¨javaçˆ¬è™«çˆ¬å–è¯¥é¡µé¢ä¸­ï¼Œç‚¹å‡»å›¾ç‰‡åè·³è½¬çš„é“¾æ¥ä¸­çš„é«˜æ¸…èƒŒæ™¯å›¾</p></blockquote><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20230127143522704.png" alt="image-20230127143522704"></p><blockquote><p>è·³è½¬åçš„é¡µé¢ æˆ‘æ‹¿èµµæ€€çœŸä¸¾ä¾‹ æ£€æŸ¥ä¸­åˆ©ç”¨æ ‡ç­¾å¦‚ä½•ä½¿ç”¨ å·²ç»å†™åœ¨å›¾ç‰‡ä¸­äº†</p></blockquote><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20230127144106376.png" alt="image-20230127144106376"></p><p>ä½¿ç”¨IDEA éœ€è¦å¯¼å…¥jsoupåŒ…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> htmlPhoto;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.jsoup.Connection;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.Jsoup;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Document;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.nodes.Element;</span><br><span class="line"><span class="keyword">import</span> org.jsoup.select.Elements;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">htmlPhoto</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//Javaçˆ¬è™«</span></span><br><span class="line">        <span class="comment">//1.å»ºç«‹è¿æ¥</span></span><br><span class="line">        <span class="comment">//ç½‘é¡µé“¾æ¥ https://pvp.qq.com/web201605/herolist.shtml</span></span><br><span class="line">        <span class="type">Connection</span> <span class="variable">connection</span> <span class="operator">=</span> Jsoup.connect(<span class="string">&quot;https://pvp.qq.com/web201605/herolist.shtml&quot;</span>);</span><br><span class="line">        <span class="comment">//é€šè¿‡é“¾æ¥è·å– Documentå¯¹è±¡</span></span><br><span class="line">        <span class="type">Document</span> <span class="variable">document</span> <span class="operator">=</span> connection.get();</span><br><span class="line">        <span class="comment">//2.æ‰¾åˆ°ulæ ‡ç­¾å¯¹è±¡</span></span><br><span class="line">        <span class="comment">//é€šè¿‡Documentå¯¹è±¡ æ‰¾classä¸º herolist clearfixçš„ul</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">elementUl</span> <span class="operator">=</span> document.selectFirst(<span class="string">&quot;[class=herolist clearfix]&quot;</span>);</span><br><span class="line">        <span class="comment">//æ‰¾ulä¸­çš„li</span></span><br><span class="line">        <span class="keyword">assert</span> elementUl != <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Elements</span> <span class="variable">elementLis</span> <span class="operator">=</span> elementUl.select(<span class="string">&quot;li&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.for å¾ªç¯è¯»å–lié›†åˆ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">countHero</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">//å…±è®¡ä¸‹è½½çš„å›¾ç‰‡æ•°é‡</span></span><br><span class="line">        <span class="keyword">for</span> (Element elementLi:elementLis)&#123;</span><br><span class="line">            <span class="comment">//å¾—åˆ°liä¸­çš„a-hrefçš„è·¯å¾„</span></span><br><span class="line">            <span class="type">Element</span> <span class="variable">elementA</span> <span class="operator">=</span> elementLi.selectFirst(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">            <span class="comment">//aæ ‡ç­¾ä¸­é—´çš„åå­—</span></span><br><span class="line">            <span class="keyword">assert</span> elementA != <span class="literal">null</span>;</span><br><span class="line">            <span class="type">String</span> <span class="variable">heroName</span> <span class="operator">=</span> elementA.text();</span><br><span class="line">            <span class="comment">//è·å–hrefçš„å†…å®¹ ç„¶åæ‹¼æ¥å‰é¢çš„é“¾æ¥</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">hrefUrl</span> <span class="operator">=</span> elementA.attr(<span class="string">&quot;href&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> <span class="string">&quot;https://pvp.qq.com/web201605/&quot;</span> + hrefUrl;</span><br><span class="line">            <span class="comment">//åˆ›å»ºæ–°çš„è¿æ¥</span></span><br><span class="line">            <span class="type">Connection</span> <span class="variable">connect</span> <span class="operator">=</span> Jsoup.connect(path);</span><br><span class="line">            <span class="comment">//æ ¹æ®é“¾æ¥åˆ›å»ºæ–°çš„documentå¯¹è±¡</span></span><br><span class="line">            <span class="type">Document</span> <span class="variable">newDocument</span> <span class="operator">=</span> connect.get();</span><br><span class="line">            <span class="type">Element</span> <span class="variable">elementDiv</span> <span class="operator">=</span> newDocument.selectFirst(<span class="string">&quot;[class=zk-con1 zk-con]&quot;</span>);</span><br><span class="line">            <span class="comment">//è·å–elementä¸­çš„styleå±æ€§</span></span><br><span class="line">            <span class="keyword">assert</span> elementDiv != <span class="literal">null</span>;</span><br><span class="line">            <span class="type">String</span> <span class="variable">backgroundURL</span> <span class="operator">=</span> elementDiv.attr(<span class="string">&quot;style&quot;</span>);</span><br><span class="line">            <span class="comment">//background:url(&#x27;//game.gtimg.cn/images/yxzj/img201606/skin/hero-info/545/545-bigskin-1.jpg&#x27;) center 0</span></span><br><span class="line">            <span class="comment">//è£å‡ºéœ€è¦çš„å›¾ç‰‡åœ°å€ ä¸¤ä¸ªå•å¼•å·ä¸­é—´</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> backgroundURL.indexOf(<span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> backgroundURL.lastIndexOf(<span class="string">&quot;&#x27;&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">photoURL</span> <span class="operator">=</span> backgroundURL.substring(left + <span class="number">1</span>, right);</span><br><span class="line">            <span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">URL</span>(<span class="string">&quot;https:&quot;</span> + photoURL);</span><br><span class="line">            <span class="comment">//å·²ç»è·å–åˆ°äº†å›¾ç‰‡çš„è·¯å¾„ urläº† åªéœ€è¦é€šè¿‡IOæµè¿›è¡Œä¸‹è½½å³å¯</span></span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸‹è½½&quot;</span> + heroName+<span class="string">&quot;çš„é«˜æ¸…1080På›¾ç‰‡...&quot;</span>);</span><br><span class="line">            <span class="comment">//è¾“å…¥æµ è¯»å–åˆšåˆšçš„å›¾ç‰‡</span></span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> url.openStream();</span><br><span class="line">            <span class="comment">//è¾“å‡ºæµ ä¸‹è½½åˆ°æœ¬åœ°</span></span><br><span class="line">            <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;E://IOTest/wzImg/&quot;</span> + heroName + <span class="string">&quot;.jpg&quot;</span>);</span><br><span class="line">            <span class="comment">//ä¸‹è½½å›¾ç‰‡</span></span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> is.read(bytes);</span><br><span class="line">            <span class="keyword">while</span> (count!=-<span class="number">1</span>)&#123;</span><br><span class="line">                fos.write(bytes,<span class="number">0</span>,count);</span><br><span class="line">                fos.flush();</span><br><span class="line">                count = is.read(bytes);</span><br><span class="line">            &#125;</span><br><span class="line">            is.close();</span><br><span class="line">            fos.close();</span><br><span class="line">            countHero+=<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;å…±è®¡&quot;</span>+countHero+<span class="string">&quot;ä½è‹±é›„å›¾ç‰‡å…¨éƒ¨ä¸‹è½½å®Œæˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨è¯¥æ¡ˆä¾‹ä»¥åŠæ–¹æ³•çš„ä½¿ç”¨ï¼Œå¯ä»¥ç”¨javaçˆ¬è™«åˆ°å¾ˆå¤šä¸åŠ å¯†ç½‘ç«™çš„å›¾ç‰‡æˆ–è€…è§†é¢‘é“¾æ¥ è¿›è¡Œä¸‹è½½ å¦‚å›¾å·²ä¸‹è½½åˆ°è¯¥æ–‡ä»¶å¤¹</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20230127185113640.png" alt="image-20230127185113640"></p><h3 id="BUGç‚¹">BUGç‚¹</h3><p>ç½‘é¡µçš„ä¸€ä¸ªBUGï¼Œæˆ‘çœ‹ç½‘é¡µä¸­113ä¸ªè‹±é›„ï¼Œä¸‹è½½åªæœ‰93ä¸ªã€‚æˆ‘è‡ªå·±çš„ä»£ç æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜çš„ï¼Œç„¶åæ£€æŸ¥ä¸­ä¹Ÿæ˜¯113ä¸ªæ ‡ç­¾ï¼Œå½“æˆ‘ä¸çŸ¥æ‰€æªçš„æ—¶å€™ï¼Œæˆ‘ç‚¹å¼€äº†ç½‘é¡µçš„æºä»£ç ã€‚å‘ç°å…¶ä¸­æ˜¯ä»äº‘ä¸­å›å¼€å§‹çš„ï¼Œä¹Ÿå°±æ˜¯æºä»£ç ä¸­åªæœ‰93è‹±é›„ï¼Œä½†æ˜¯æ£€æŸ¥ä¸­çš„ç¡®è‹±é›„æ•°é‡æ˜¯é½å…¨çš„ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯ä»–ç½‘é¡µçš„ä¸€äº›é—®é¢˜ï¼Œä½†ä¸ºä»€ä¹ˆè¿™æ ·æˆ‘ä¹Ÿä¸æ¸…æ¥šï¼Œæ£€æŸ¥å’Œæºä»£ç ä¸ä¸€æ ·ï¼Œé¡µé¢æ˜¾ç¤ºçš„æ•ˆæœç«Ÿç„¶å’Œæºä»£ç ä¸ä¸€æ ·ã€‚ä½†æ˜¯é—®é¢˜ä¸å¤§ï¼Œæ€è·¯å·²ç»æ¸…æ¥šäº†ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20230131191045116.png" alt="image-20230131191045116"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20230131191214943.png" alt="image-20230131191214943"></p>]]></content>
    
    
    <summary type="html">åŠ›æ‰£ç®—æ³•åˆ·é¢˜</summary>
    
    
    
    <category term="ç®—æ³•" scheme="https://u7u7.top/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="Java" scheme="https://u7u7.top/tags/Java/"/>
    
    <category term="ç®—æ³•" scheme="https://u7u7.top/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>GZ-07 ç»¼åˆåˆ†æ</title>
    <link href="https://u7u7.top/posts/dashuju.html"/>
    <id>https://u7u7.top/posts/dashuju.html</id>
    <published>2023-03-10T12:17:25.000Z</published>
    <updated>2023-03-10T12:20:37.000Z</updated>
    
    <content type="html"><![CDATA[<p>#7æœˆç»¼åˆåˆ†æ</p><h2 id="å¦‚ä½•è§£å†³Jobè¿è¡Œæ•ˆç‡ä½çš„é—®é¢˜">å¦‚ä½•è§£å†³Jobè¿è¡Œæ•ˆç‡ä½çš„é—®é¢˜</h2><p>åœ¨æ¨¡å—Bä¸­å‡ºç°æŸäº›Jobè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼Œä½ è®¤ä¸ºå¯èƒ½æ˜¯å“ªäº›æƒ…å†µé€ æˆï¼Ÿæœ‰ä»€ä¹ˆç›¸åº”çš„å¤„ç†åŠæ³•å—ï¼Ÿå°†å†…å®¹ç¼–å†™è‡³å¯¹åº”æŠ¥å‘Šä¸­ã€‚</p><ol><li>å¯èƒ½æ˜¯ç¨‹åºä¸­å‡ºç°äº†è¾ƒå¤šçš„ç½‘ç»œIOæ“ä½œï¼Œå¦‚è¿œç¨‹è°ƒç”¨ï¼ŒRPCç­‰ï¼Œä¼šé€ æˆç¨‹åºè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼›</li><li>å¯èƒ½æ˜¯sparkç¨‹åºä¸­å­˜åœ¨è¾ƒå¤šçš„è®¡ç®—ä»»åŠ¡ï¼Œå¦‚è®¡ç®—é‡å¤§çš„æ’åºã€é€’å½’ï¼Œæˆ–è€…æ•°æ®é‡è¾ƒå¤§ï¼Œç¨‹åºå¤„ç†è¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œä¼šé€ æˆç¨‹åºè¿è¡Œæ—¶é—´è¾ƒé•¿ï¼›</li><li>å¯èƒ½æ˜¯sparké›†ç¾¤çš„é…ç½®é—®é¢˜ï¼Œæ¯”å¦‚å†…å­˜ã€cpuç­‰ä¸è¶³æˆ–è€…ä¸åˆç†ï¼Œä¼šå½±å“è¿è¡Œæ•ˆç‡ï¼›</li><li>å¯èƒ½æ˜¯sparkåº”ç”¨ç¨‹åºä½¿ç”¨çš„è¾ƒä½ç‰ˆæœ¬ï¼Œé€ æˆç¨‹åºæ€§èƒ½è¾ƒä½ï¼›</li></ol><p>ç›¸åº”çš„å¤„ç†åŠæ³•ï¼š</p><ol><li>å°½å¯èƒ½å‡å°‘ç½‘ç»œIOæ“ä½œï¼Œå°è¯•æœ¬åœ°åŒ–è°ƒç”¨ï¼›</li><li>æå‡ç¨‹åºæ€§èƒ½ï¼Œä¼˜åŒ–ç®—æ³•å’Œæ¶æ„ï¼›</li><li>åˆç†é…ç½®sparké›†ç¾¤ï¼Œä¿è¯èµ„æºå……è¶³ï¼›</li><li>æ›´æ–°sparkåº”ç”¨ç¨‹åºä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œä¿è¯æ€§èƒ½ã€‚</li></ol><p>##å¯¹äºæ•°æ®æŒ–æ˜æ¨¡å—ä¸­çš„ç”¨æˆ·æ¨èæœ‰ä»€ä¹ˆå¥½çš„å»ºè®®</p><p>åœ¨æ¨¡å—Cä¸­ä½¿ç”¨åŸºäºç”¨æˆ·çš„æ¨èç³»ç»Ÿæ€è·¯å¯¹ç”¨æˆ·çš„ç›¸ä¼¼æ€§è¿›è¡Œè®¡ç®—ï¼Œä»è€Œä¸ºæ¯ä¸ªç”¨æˆ·æ¨èå•†å“ï¼Œä½ è®¤ä¸ºå¯ä»¥ä»å“ªäº›æ–¹é¢å†è¿›è¡Œä¼˜åŒ–ï¼Ÿè¿™ç§æ¨èç­–ç•¥å¯¹ä¸šåŠ¡çš„å‘å±•ä¼šèµ·åˆ°ä»€ä¹ˆæ ·çš„ä½œç”¨ï¼Ÿå°†å†…å®¹ç¼–å†™è‡³å¯¹åº”æŠ¥å‘Šä¸­ã€‚</p><p>ä¸€ã€åŸºäºç”¨æˆ·çš„æ¨èç³»ç»Ÿä¼˜åŒ–æ–¹é¢ï¼š<br>1ã€å¼•å…¥æ›´å¤šçš„ç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·çš„è´­ä¹°è¶‹åŠ¿ã€æœç´¢ä¹ æƒ¯ã€æµè§ˆå†å²ã€ç‚¹èµè®°å½•ç­‰ï¼Œè¿™äº›æ•°æ®å¯ä»¥æ›´åŠ ç²¾å‡†çš„æ‰¾åˆ°ç”¨æˆ·çš„ç›¸ä¼¼æ€§ï¼Œä»è€Œæé«˜æ¨èç²¾åº¦ã€‚<br>2ã€ç»“åˆä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨æˆ·å½“å‰çš„ä½ç½®ã€è®¾å¤‡ç±»å‹ã€æ—¶é—´ç­‰ï¼Œè¿™äº›ä¿¡æ¯å¯ä»¥æ›´åŠ å‡†ç¡®çš„ç»™å‡ºæ¨èå†…å®¹ã€‚<br>3ã€é‡‡ç”¨äº’ä¿¡æ¯ç®—æ³•ï¼Œå¯ä»¥æ‰¾åˆ°ç”¨æˆ·æœªæ¥å¯èƒ½ä¼šæ„Ÿå…´è¶£çš„å†…å®¹ï¼Œè€Œä¸ä»…ä»…æ˜¯åŸºäºå†å²è¡Œä¸ºçš„å†…å®¹ã€‚ äºŒã€åŸºäºç”¨æˆ·çš„æ¨èç³»ç»Ÿå¯¹ä¸šåŠ¡å‘å±•çš„ä½œç”¨ï¼š<br>1ã€æé«˜ç”¨æˆ·å¯¹äº§å“çš„å…´è¶£ï¼Œè®©ç”¨æˆ·æ›´å®¹æ˜“å‘ç°æœ‰ä»·å€¼çš„å†…å®¹ï¼Œä»è€Œæé«˜ç”¨æˆ·çš„å¿ è¯šåº¦ï¼Œé™ä½ç”¨æˆ·æµå¤±ç‡ï¼›<br>2ã€æå‡ç”¨æˆ·ä½“éªŒï¼Œæ›´åŠ ç²¾å‡†çš„æŠŠç”¨æˆ·æƒ³è¦çœ‹åˆ°çš„å†…å®¹æ¨èç»™ç”¨æˆ·ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿåœ¨åˆ©ç”¨æœ‰é™çš„æ—¶é—´é‡Œï¼Œæ‰¾åˆ°æœ€æœ‰ä»·å€¼çš„å†…å®¹ï¼›<br>3ã€æå‡å•†ä¸šä»·å€¼ï¼Œå¯ä»¥æ›´åŠ ç²¾å‡†çš„æŠŠäº§å“æ¨èç»™æœ‰éœ€æ±‚çš„ç”¨æˆ·ï¼Œä»è€Œæé«˜å¹¿å‘Šçš„æŠ•æ”¾æ•ˆç‡ï¼ŒèŠ‚çœæˆæœ¬ï¼Œæé«˜æ”¶ç›Šã€‚</p><h2 id="æ•°ä»“ä¸­Hiveå†…å¤–è¡¨å¯¹æ¯”">æ•°ä»“ä¸­Hiveå†…å¤–è¡¨å¯¹æ¯”</h2><p>Hiveå†…å¤–è¡¨ä¹‹é—´çš„ä¸»è¦åŒºåˆ«æ˜¯æ•°æ®å­˜å‚¨æ–¹å¼ä¸åŒã€‚<br>Hiveå†…è¡¨å°†æ•°æ®å­˜å‚¨åœ¨HDFSä¸­ï¼Œè€ŒHiveå¤–è¡¨å°†æ•°æ®å­˜å‚¨åœ¨å¤–éƒ¨å­˜å‚¨ç³»ç»Ÿä¸­ï¼Œå¦‚HBaseã€Amazon S3ç­‰ã€‚<br>Hiveå†…è¡¨ä¸æ”¯æŒå¯¹æ•°æ®è¿›è¡Œæ›´æ–°å’Œåˆ é™¤æ“ä½œï¼Œè€ŒHiveå¤–è¡¨å¯ä»¥æ”¯æŒå¯¹æ•°æ®è¿›è¡Œæ›´æ–°å’Œåˆ é™¤æ“ä½œã€‚ Hiveå†…è¡¨è®¿é—®é€Ÿåº¦å¿«ï¼Œè€ŒHiveå¤–è¡¨è®¿é—®é€Ÿåº¦è¾ƒæ…¢ã€‚</p><h2 id="å¯¹äºåˆ†ç»„æ’åºçš„ç†è§£">å¯¹äºåˆ†ç»„æ’åºçš„ç†è§£</h2><p>è¯·é—®Hive SQLæœ‰å“ªä¸‰ç§åˆ†ç»„æ’åºï¼Œä»–ä»¬å„è‡ªçš„ç‰¹ç‚¹æ˜¯ä»€ä¹ˆã€‚å°†å†…å®¹ç¼–å†™è‡³å¯¹åº”æŠ¥å‘Šä¸­ã€‚</p><p>Hive SQLæœ‰ä¸‰ç§åˆ†ç»„æ’åºï¼š<br>1.æ’åºåˆ†ç»„ï¼šè¿™æ˜¯Hive SQLä¸­æœ€å¸¸ç”¨çš„åˆ†ç»„æ’åºã€‚å®ƒæŒ‰ç…§å®šä¹‰çš„å­—æ®µè¿›è¡Œæ’åºï¼Œç„¶åå°†å®ƒä»¬åˆ†ç»„ã€‚ 2.åˆ†ç»„åˆ†ç»„ï¼šè¿™ç§æ’åºé¦–å…ˆå°†è®°å½•åˆ†ç»„ï¼Œç„¶åå†æŒ‰ç…§å®šä¹‰çš„å­—æ®µè¿›è¡Œæ’åºã€‚<br>3.Hashåˆ†ç»„ï¼šè¿™ç§æ’åºå°†è®°å½•åˆ†ä¸ºå¤šç»„ï¼Œæ¯ç»„éƒ½æœ‰è‡ªå·±çš„å“ˆå¸Œå€¼ã€‚æ¯ç»„ä¸­çš„è®°å½•æŒ‰ç…§å®šä¹‰çš„å­—æ®µè¿›è¡Œæ’åºã€‚<br>æ€»ä¹‹ï¼Œè¿™ä¸‰ç§åˆ†ç»„æ’åºéƒ½æ˜¯æŒ‰ç…§å®šä¹‰çš„å­—æ®µè¿›è¡Œæ’åºï¼Œä½†æ˜¯æ’åºçš„é¡ºåºä¸åŒã€‚æ’åºåˆ†ç»„å°†è®°å½•æŒ‰ç…§å®šä¹‰çš„å­—æ®µè¿›è¡Œæ’åºï¼Œç„¶åå†åˆ†ç»„ï¼›åˆ†ç»„åˆ†ç»„åˆ™å°†è®°å½•å…ˆåˆ†ç»„ï¼Œç„¶åå†æŒ‰ç…§å®šä¹‰çš„å­—æ®µè¿›è¡Œæ’åºï¼›æœ€åï¼ŒHashåˆ†ç»„å°†è®°å½•åˆ†ä¸ºå¤šç»„ï¼Œæ¯ç»„éƒ½æœ‰è‡ªå·±çš„å“ˆå¸Œå€¼ï¼Œå¹¶ä¸”æ¯ç»„ä¸­çš„è®°å½•æŒ‰ç…§å®šä¹‰çš„å­—æ®µè¿›è¡Œæ’åºã€‚</p><h2 id="UDF-UDAF-UDTFçš„åŒºåˆ«">UDF/UDAF/UDTFçš„åŒºåˆ«</h2><p>UDFï¼ˆUser Defined Functionï¼‰æ˜¯ç”¨æˆ·å®šä¹‰å‡½æ•°ï¼Œæ˜¯ä¸€ç§åœ¨Hive SQLä¸­æ·»åŠ è‡ªå®šä¹‰å‡½æ•°çš„æ–¹å¼ï¼Œå¯ä»¥å°†å¤æ‚çš„é€»è¾‘å°è£…ä¸ºå‡½æ•°ï¼Œä»¥ä¾¿åœ¨SQLè¯­å¥ä¸­ä½¿ç”¨ï¼Œä»è€Œæé«˜SQLå¤„ç†æ•ˆç‡ã€‚<br>UDAFï¼ˆUser Defined Aggregate Functionï¼‰æ˜¯ç”¨æˆ·å®šä¹‰èšåˆå‡½æ•°ï¼Œæ˜¯ä¸€ç§åœ¨Hive SQLä¸­æ·»åŠ è‡ªå®šä¹‰èšåˆå‡½æ•°çš„æ–¹å¼ï¼Œå¯ä»¥å¯¹å¤šè¡Œæ•°æ®è¿›è¡Œèšåˆæ“ä½œï¼Œä»è€Œå¾—åˆ°æ›´å¥½çš„ç»“æœã€‚<br>UDTFï¼ˆUser Defined Table Functionï¼‰æ˜¯ç”¨æˆ·å®šä¹‰è¡¨å‡½æ•°ï¼Œæ˜¯ä¸€ç§åœ¨Hive SQLä¸­æ·»åŠ è‡ªå®šä¹‰è¡¨å‡½æ•°çš„æ–¹å¼ï¼Œå¯ä»¥æ ¹æ®è¾“å…¥çš„å‚æ•°ç”Ÿæˆå¤šè¡Œè¾“å‡ºï¼Œä»è€Œå®ç°å¯¹Hiveè¡¨çš„è½¬æ¢ã€æ‹†åˆ†å’Œèšåˆç­‰æ“ä½œã€‚</p>]]></content>
    
    
    <summary type="html">å¤§æ•°æ®7æœˆæ ·é¢˜â€”â€”ç”µå•†ç»¼åˆåˆ†æ</summary>
    
    
    
    <category term="å¤§æ•°æ®è®­ç»ƒ" scheme="https://u7u7.top/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E8%AE%AD%E7%BB%83/"/>
    
    
    <category term="å¤§æ•°æ®" scheme="https://u7u7.top/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE/"/>
    
  </entry>
  
  <entry>
    <title>ç‘å‰å¤–å–ä¼˜åŒ–</title>
    <link href="https://u7u7.top/posts/ea7374cf.html"/>
    <id>https://u7u7.top/posts/ea7374cf.html</id>
    <published>2023-03-10T12:17:25.000Z</published>
    <updated>2023-03-10T12:20:37.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="11-3-ä¼˜åŒ–å‰git-linux-Redis">11.3 ä¼˜åŒ–å‰git linux Redis</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="Gitå‘½ä»¤">Gitå‘½ä»¤</h3><p>gitåœ¨ä¹‹å‰å­¦è¿‡ä¸€éï¼Œåšåšå®¢çš„æ—¶å€™ä¹Ÿåº”ç”¨è¿‡ï¼Œå·²ç»å¾ˆç†Ÿæ‚‰äº†ã€‚è®°ä¸‹å‘½ä»¤å§</p><p>æœ¬åœ°ä»“åº“çš„æ“ä½œ</p><table><thead><tr><th style="text-align:center">å‘½ä»¤</th><th style="text-align:center">ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center">git status</td><td style="text-align:center">æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€</td></tr><tr><td style="text-align:center">git add</td><td style="text-align:center">å°†æ–‡ä»¶ä¿®æ”¹åŠ å…¥æš‚å­˜åŒº</td></tr><tr><td style="text-align:center">git reset</td><td style="text-align:center">å°†æš‚å­˜åŒºçš„æ–‡ä»¶å–æ¶ˆæš‚å­˜æˆ–è€…åˆ‡æ¢ç‰ˆæœ¬</td></tr><tr><td style="text-align:center">git commit</td><td style="text-align:center">å°†æš‚å­˜åŒºçš„æ–‡ä»¶ä¿®æ”¹æäº¤åˆ°ç‰ˆæœ¬åº“</td></tr><tr><td style="text-align:center">git log</td><td style="text-align:center">æŸ¥çœ‹æ—¥å¿—</td></tr></tbody></table><p>è¿œç¨‹ä»“åº“æ“ä½œ</p><table><thead><tr><th style="text-align:center">å‘½ä»¤</th><th style="text-align:center">ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center">git remote</td><td style="text-align:center">æŸ¥çœ‹è¿œç¨‹ä»“åº“</td></tr><tr><td style="text-align:center">git remote add</td><td style="text-align:center">æ·»åŠ è¿œç¨‹ä»“åº“</td></tr><tr><td style="text-align:center">git clone</td><td style="text-align:center">ä»è¿œç¨‹ä»“åº“å…‹éš†</td></tr><tr><td style="text-align:center">git pull</td><td style="text-align:center">ä»è¿œç¨‹ä»“åº“æ‹‰å–</td></tr><tr><td style="text-align:center">git push</td><td style="text-align:center">æ¨é€åˆ°è¿œç¨‹ä»“åº“</td></tr></tbody></table><p>æ ‡ç­¾æ“ä½œ å¯ä»¥åˆ‡æ¢ç‰ˆæœ¬å’Œæ›´æ–°æ—¶é—´</p><table><thead><tr><th>å‘½ä»¤</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>git tag</td><td>åˆ—å‡ºå·²æœ‰çš„æ ‡ç­¾</td></tr><tr><td>git tag [name]</td><td>åˆ›å»ºæ ‡ç­¾</td></tr><tr><td>git push [shortName] [name]</td><td>å°†æ ‡ç­¾æ¨é€è¿œç¨‹ä»“åº“</td></tr><tr><td>git checkout -b [branch] [name]</td><td>æ£€å‡ºæ ‡ç­¾</td></tr></tbody></table><p>åœ¨IDEAä¸­é›†æˆä½¿ç”¨Git</p><p>==åœ¨ä¸Šé¢VCSä¸­ï¼Œç‚¹commit é€‰git ç„¶åæŠŠè·¯å¾„æ”¹æˆè‡ªå·±git.exeå®‰è£…çš„è·¯å¾„ å°±å®Œæˆäº†IDEAé›†æˆï¼Œè®¾ç½®å’Œè¿œç¨‹ä»“åº“ï¼Œå°±èƒ½ç”¨äº†==</p><ol><li>æœ¬åœ°åˆå§‹ä»“åº“<ul><li>é€‰æ‹©VCSé€‰é¡¹å¡ â€”&gt; åˆ›å»ºGitä»“åº“ â€”&gt; é€‰æ‹©éœ€è¦è¢«Gitç®¡ç†çš„ç›®å½• â€”&gt; ç¡®å®š</li></ul></li><li>ä»è¿œç¨‹ä»“åº“å…‹éš†ï¼ˆå¸¸ç”¨ï¼‰<ul><li>è¿™ä¸ªå¯ä»¥è‡ªå·±é€‰æ‹©å…‹éš†çš„æœ¬åœ°ä½ç½®</li><li>å¯ä»¥ç›´æ¥æŠŠè¿œç¨‹ä»“åº“çš„ä»£ç éƒ½å…‹éš†åˆ°æœ¬åœ°</li><li>è¿œç¨‹å…‹éš†ä¸‹æ¥çš„é¡¹ç›®ä¼šè‡ªå¸¦ä¸€ä¸ªæ–‡ä»¶ï¼š<code>.gitignore</code>æ–‡ä»¶ï¼Œåœ¨é‡Œé¢çš„ä¿¡æ¯æ˜¯ä»£è¡¨å“ªäº›æ–‡ä»¶ä¸éœ€è¦äº¤ç»™gitç®¡ç†</li></ul></li></ol><h3 id="Linux">Linux</h3><p>æ¯”è¾ƒç®€å•å’ŒåŸºç¡€ï¼Œè¿‡ä¸€éå‘ç°æ˜¯è‡ªå·±éƒ½ä¼šçš„ï¼Œç®€å•çš„å®‰è£…è½¯ä»¶é…ç½®ç¯å¢ƒï¼Œè¿˜æ˜¯å¾ˆeasyçš„</p><h3 id="Redis">Redis</h3><p>è·Ÿç€è§†é¢‘æŠŠRediså®‰è£…å®Œæˆäº†</p><h4 id="Linuxå®‰è£…Redis">Linuxå®‰è£…Redis</h4><ol><li><p>å°†Rediså®‰è£…åŒ…ä¸Šä¼ Linux</p></li><li><p>è§£å‹å®‰è£…åŒ…ï¼Œæ”¹æˆä½ è‡ªå·±çš„redisç‰ˆæœ¬ï¼Œè·¯å¾„è§£å‹åˆ°<code>/usr/local</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf redisVersion.tar.gz -C /usr/local</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…Redisçš„ä¾èµ–ç¯å¢ƒgccï¼Œç¼–è¯‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…ä¾èµ–ç¯å¢ƒ</span></span><br><span class="line">yum install gcc-c++</span><br></pre></td></tr></table></figure></li><li><p>è¿›å…¥redisï¼Œç¼–è¯‘</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥åˆ°æ ¹ç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/redisæ ¹ç›®å½•</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼–è¯‘</span></span><br><span class="line">make</span><br></pre></td></tr></table></figure></li><li><p>è¿›å…¥redisçš„srcç›®å½•ï¼Œè¿›è¡Œå®‰è£…</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥åˆ°srcç›®å½•</span></span><br><span class="line"><span class="built_in">cd</span> /usr/local/redisæ ¹ç›®å½•/src</span><br><span class="line"><span class="comment"># è¿›è¡Œå®‰è£…</span></span><br><span class="line">make install</span><br></pre></td></tr></table></figure></li></ol><h4 id="Rediså¯åŠ¨å’Œåœæ­¢">Rediså¯åŠ¨å’Œåœæ­¢</h4><p>è®¾ç½®ä¸€ä¸ªåå°è¿è¡Œï¼Œéœ€è¦å…ˆä¿®æ”¹redis.confæ–‡ä»¶æŠŠ<code>aemonize on</code>å­—æ®µï¼Œå°†å…¶ä¿®æ”¹ä¸º<code>daemonize yes</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿è¡Œserver é€‰æ‹©é…ç½®æ–‡ä»¶ åå°è¿è¡Œ</span></span><br><span class="line">src/redis-server ./redis.conf</span><br></pre></td></tr></table></figure><h4 id="Redisæ·»åŠ å¯†ç ç™»é™†">Redisæ·»åŠ å¯†ç ç™»é™†</h4><p>è¿˜æ˜¯ä¿®æ”¹redis.confé…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°<code>requirepass</code>è¿™è¡Œï¼Œå°†å…¶æ³¨é‡Šå»æ‰ï¼Œå¹¶åœ¨åé¢å†™ä¸Šè‡ªå·±çš„å¯†ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é‡æ–°å¯åŠ¨</span></span><br><span class="line">src/redis-server ./redis.conf </span><br><span class="line"></span><br><span class="line"><span class="comment"># ç™»å½•æ—¶åŒæ—¶è¿›è¡Œè®¤è¯</span></span><br><span class="line">src/redis-cli -h localhost -p 6379 -a å¯†ç </span><br><span class="line"><span class="comment"># éœ€è¦å†æ¬¡</span></span><br></pre></td></tr></table></figure><h2 id="3-BUGç‚¹">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>IDEAé›†æˆGitï¼Œä¸€ç›´æŠ¥é”™ï¼Œè‡ªå·±å¦å¤–æäº¤äº†ä¸€ä¸ªå°±æ²¡é—®é¢˜ï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› ã€‚<br>CSDNæœåˆ°åŸå› äº†ï¼Œæ˜¯æ–‡ä»¶åœ¨æœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“ä¸Šä¸ä¸€è‡´ï¼Œä½†æ˜¯ä¸çŸ¥é“å¦‚ä½•è§£å†³ï¼Œçœ‹ä¸¤ä¸ªåº“ä¸­å”¯ä¸€ä¸€ä¸ªå…±åŒçš„æ–‡ä»¶æ˜¯.gitnoreæ‰“å¼€ï¼Œçš„ç¡®æ˜¯ä¸ä¸€æ ·ï¼Œå°±å¹²è„†ç›´æ¥æŠŠè¿œç¨‹ä»“åº“çš„.gitnoreåˆ é™¤äº†ï¼Œå†æ¬¡æäº¤ï¼ŒæˆåŠŸäº†</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211071929437.png" alt="img"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h2 id="5-æ€»ç»“">5.æ€»ç»“</h2><p>ä»Šå¤©çš„å­¦ä¹ å…¶å®ä¸»è¦æ˜¯å¤ä¹ å’Œå·©å›ºï¼Œä¹‹å‰ç²—ç•¥å­¦ä¹ çš„gitå’Œredisï¼Œå…¨éƒ¨é‡æ–°è¿‡äº†ä¸€ä¸‹ï¼Œéš¾åº¦ä¸å¤§ï¼Œå°±æ˜¯æ™šä¸Šæƒ³æŠŠç‘å‰ä¸Šä¼ åˆ°ç äº‘çš„æ—¶å€™ï¼Œå‡ºäº†äº›é—®é¢˜ï¼Œæäº†æœ‰ç‚¹ä¹…äº†ï¼Œåœ¨å‰é¢çš„åŸºæœ¬æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œåˆ†æ”¯é‚£è¾¹æ‡‚æ˜¯æ‡‚äº†ï¼Œä½†æ˜¯æ²¡æœ‰å®é™…æ“ä½œè¿‡ï¼Œå› ä¸ºè‡ªå·±åšé¡¹ç›®å°±ä¸€ä¸ªåˆ†æ”¯å°±å¥½äº†ã€‚æ˜å¤©è¯•ç€æŠŠç‘å‰éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸­ï¼Œå°±å½»åº•ç»“æŸSpringBototçš„å­¦ä¹ äº†ã€‚</p><h1 id="11-4-ç‘å‰å¤–å–ä¼˜åŒ–">11.4 ç‘å‰å¤–å–ä¼˜åŒ–</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-2">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-2">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="Gitéƒ¨ç½²">Gitéƒ¨ç½²</h3><p>ä¹‹å‰gitå·²ç»é›†æˆIDEAæˆåŠŸ,ç›´æ¥commitå®Œäº†ç›´æ¥æäº¤æ²¡æœ‰æŠ¥é”™ï¼Œå¾ˆé¡ºåˆ©ä¹Ÿå¾ˆç®€å•ã€‚</p><h3 id="ç¼“å­˜ä¼˜åŒ–">ç¼“å­˜ä¼˜åŒ–</h3><p>ç¼“å­˜ä¼˜åŒ–ç”¨Redisï¼Œå¯¼å…¥SpringDataRedisåæ ‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹ymlé…ç½®æ–‡ä»¶</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">redis:</span></span><br><span class="line">  <span class="attr">host:</span> <span class="number">172.16</span><span class="number">.1</span><span class="number">.76</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">  <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">  <span class="attr">database:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p>é…ç½®åºåˆ—åŒ–å™¨</p><p>æ–¹ä¾¿å›¾å½¢åŒ–ç•Œé¢ä¸­çœ‹æˆ‘ä»¬å­˜å…¥çš„æ•°æ®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfig</span> <span class="keyword">extends</span> <span class="title class_">CachingConfigurerSupport</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate&lt;Object, Object&gt; <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory connectionFactory)</span> &#123;</span><br><span class="line">        RedisTemplate&lt;Object, Object&gt; redisTemplate = <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//é»˜è®¤keyåºåˆ—åŒ–å™¨ä¸ºï¼šJdkSerializationRedisSerializer</span></span><br><span class="line">        redisTemplate.setKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line">        redisTemplate.setConnectionFactory(connectionFactory);</span><br><span class="line">        <span class="keyword">return</span> redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä»£ç æ”¹é€ ">ä»£ç æ”¹é€ </h4><p>å› ä¸ºå®ç°çš„æ€è·¯æ¯”è¾ƒé•¿ï¼Œå°±å†™ä»£ç æ³¨é‡Šä¸­äº†ï¼Œè¿™é‡Œä½¿ç”¨ä¸€ä¸ªbutterflyè‡ªå¸¦çš„æ ‡ç­¾å¤–æŒ‚æŠŠä»£ç åˆå¹¶äº†ï¼Œ</p><p><code>+</code>ä¸ºå¢åŠ çš„ä»£ç       <code>-</code>ä¸ºåŸæ¥çš„ä»£ç åˆ é™¤çš„</p><p>u7-u7.github.ioæ•ˆæœæ˜¯åˆ†é¡µçš„</p><div class="tabs" id="redis1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#redis1-1">ç¼“å­˜é‚®ç®±éªŒè¯ç </button></li><li class="tab"><button type="button" data-href="#redis1-2">ç¼“å­˜èœå“</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="redis1-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/sendMsg&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result&lt;String&gt; <span class="title function_">sendMsg</span><span class="params">(<span class="meta">@RequestBody</span> User user, HttpSession session)</span> <span class="keyword">throws</span> MessagingException &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> user.getPhone();</span><br><span class="line">    <span class="keyword">if</span> (!phone.isEmpty()) &#123;</span><br><span class="line">        <span class="comment">//éšæœºç”Ÿæˆä¸€ä¸ªéªŒè¯ç </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> MailUtils.achieveCode();</span><br><span class="line">        log.info(code);</span><br><span class="line">        <span class="comment">//è¿™é‡Œçš„phoneå…¶å®å°±æ˜¯é‚®ç®±ï¼Œcodeæ˜¯æˆ‘ä»¬ç”Ÿæˆçš„éªŒè¯ç </span></span><br><span class="line">        MailUtils.sendTestMail(phone, code);</span><br><span class="line">        <span class="comment">//éªŒè¯ç ç¼“å­˜åˆ°Redisï¼Œè®¾ç½®å­˜æ´»æ—¶é—´5åˆ†é’Ÿ</span></span><br><span class="line">        redisTemplate.opsForValue().set(<span class="string">&quot;code&quot;</span>, code,<span class="number">5</span>, TimeUnit.MINUTES);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;éªŒè¯ç å‘é€æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Result.error(<span class="string">&quot;éªŒè¯ç å‘é€å¤±è´¥&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="redis1-2"><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">@GetMapping(&quot;/list&quot;)</span><br><span class="line">public Result&lt;List&lt;DishDto&gt;&gt; get(Dish dish) &#123;   </span><br><span class="line"><span class="addition">+   List&lt;DishDto&gt; dishDtoList;</span></span><br><span class="line"><span class="addition">+   String key = &quot;dish_&quot; + dish.getCategoryId() + &quot;_&quot; + dish.getStatus();</span></span><br><span class="line"><span class="addition">+   dishDtoList = (List&lt;DishDto&gt;) redisTemplate.opsForValue().get(key);</span></span><br><span class="line"><span class="addition">+   //å¦‚æœæœ‰ï¼Œåˆ™ç›´æ¥è¿”å›</span></span><br><span class="line"><span class="addition">+   if (dishDtoList != null)&#123;</span></span><br><span class="line"><span class="addition">+       return Result.success(dishDtoList);</span></span><br><span class="line"><span class="addition">+   &#125;</span></span><br><span class="line"><span class="addition">+   //å¦‚æœæ— ï¼Œåˆ™æŸ¥è¯¢ </span></span><br><span class="line">    //æ¡ä»¶æŸ¥è¯¢å™¨</span><br><span class="line">    LambdaQueryWrapper&lt;Dish&gt; queryWrapper = new LambdaQueryWrapper&lt;&gt;();</span><br><span class="line">    //æ ¹æ®ä¼ è¿›æ¥çš„categoryIdæŸ¥è¯¢</span><br><span class="line">    queryWrapper.eq(dish.getCategoryId() != null, Dish::getCategoryId, dish.getCategoryId());</span><br><span class="line">    //åªæŸ¥è¯¢çŠ¶æ€ä¸º1çš„èœå“ï¼ˆåœ¨å”®èœå“ï¼‰</span><br><span class="line">    queryWrapper.eq(Dish::getStatus, 1);</span><br><span class="line">    //ç®€å•æ’ä¸‹åºï¼Œå…¶å®ä¹Ÿæ²¡å•¥å¤ªå¤§ä½œç”¨</span><br><span class="line">    queryWrapper.orderByAsc(Dish::getSort).orderByDesc(Dish::getUpdateTime);</span><br><span class="line">    //è·å–æŸ¥è¯¢åˆ°çš„ç»“æœä½œä¸ºè¿”å›å€¼</span><br><span class="line">    List&lt;Dish&gt; list = dishService.list(queryWrapper);</span><br><span class="line">    log.info(&quot;æŸ¥è¯¢åˆ°çš„èœå“ä¿¡æ¯list:&#123;&#125;&quot;,list);</span><br><span class="line">    //itemå°±æ˜¯listä¸­çš„æ¯ä¸€æ¡æ•°æ®ï¼Œç›¸å½“äºéå†äº†</span><br><span class="line"><span class="deletion">-   List&lt;DishDto&gt; dishDtoList = list.stream().map((item) -&gt; &#123;</span></span><br><span class="line"><span class="addition">+   dishDtoList = list.stream().map((item) -&gt; &#123;</span></span><br><span class="line">        //åˆ›å»ºä¸€ä¸ªdishDtoå¯¹è±¡</span><br><span class="line">        DishDto dishDto = new DishDto();</span><br><span class="line">        //å°†itemçš„å±æ€§å…¨éƒ½copyåˆ°dishDtoé‡Œ</span><br><span class="line">        BeanUtils.copyProperties(item, dishDto);</span><br><span class="line">        //ç”±äºdishè¡¨ä¸­æ²¡æœ‰categoryNameå±æ€§ï¼Œåªå­˜äº†categoryId</span><br><span class="line">        Long categoryId = item.getCategoryId();</span><br><span class="line">        //æ‰€ä»¥æˆ‘ä»¬è¦æ ¹æ®categoryIdæŸ¥è¯¢å¯¹åº”çš„category</span><br><span class="line">        Category category = categoryService.getById(categoryId);</span><br><span class="line">        if (category != null) &#123;</span><br><span class="line">            //ç„¶åå–å‡ºcategoryNameï¼Œèµ‹å€¼ç»™dishDto</span><br><span class="line">            dishDto.setCategoryName(category.getName());</span><br><span class="line">        &#125;</span><br><span class="line">        //ç„¶åè·å–ä¸€ä¸‹èœå“idï¼Œæ ¹æ®èœå“idå»dishFlavorè¡¨ä¸­æŸ¥è¯¢å¯¹åº”çš„å£å‘³ï¼Œå¹¶èµ‹å€¼ç»™dishDto</span><br><span class="line">        Long itemId = item.getId();</span><br><span class="line">        //æ¡ä»¶æ„é€ å™¨</span><br><span class="line">        LambdaQueryWrapper&lt;DishFlavor&gt; lambdaQueryWrapper = new LambdaQueryWrapper&lt;&gt;();</span><br><span class="line">        //æ¡ä»¶å°±æ˜¯èœå“id</span><br><span class="line">        lambdaQueryWrapper.eq(itemId != null, DishFlavor::getDishId, itemId);</span><br><span class="line">        //æ ¹æ®èœå“idï¼ŒæŸ¥è¯¢åˆ°èœå“å£å‘³</span><br><span class="line">        List&lt;DishFlavor&gt; flavors = dishFlavorService.list(lambdaQueryWrapper);</span><br><span class="line">        //èµ‹ç»™dishDtoçš„å¯¹åº”å±æ€§</span><br><span class="line">        dishDto.setFlavors(flavors);</span><br><span class="line">        //å¹¶å°†dishDtoä½œä¸ºç»“æœè¿”å›</span><br><span class="line">        return dishDto;</span><br><span class="line">        //å°†æ‰€æœ‰è¿”å›ç»“æœæ”¶é›†èµ·æ¥ï¼Œå°è£…æˆList</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line"><span class="addition">+   //å°†æŸ¥è¯¢çš„ç»“æœè®©Redisç¼“å­˜ï¼Œè®¾ç½®å­˜æ´»æ—¶é—´ä¸º60åˆ†é’Ÿ</span></span><br><span class="line"><span class="addition">+   redisTemplate.opsForValue().set(key,dishDtoList,60, TimeUnit.MINUTES);</span></span><br><span class="line">    return Result.success(dishDtoList);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>å› ä¸ºèœå“ä¸­saveå’Œupdateå’Œstatuséƒ½éœ€è¦ï¼ŒåŠ å…¥æ¸…ç†ç¼“å­˜çš„é€»è¾‘ï¼Œå•ç‹¬æŠŠä¿®æ”¹çš„ä»£ç æ”¾å‡ºæ¥ åŒæ ·ä½¿ç”¨diffæ”¾ä¿®æ”¹çš„ä»£ç </p><div class="tabs" id="redis2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#redis2-1">ä¿®æ”¹åçš„save</button></li><li class="tab"><button type="button" data-href="#redis2-2">ä¿®æ”¹åçš„update</button></li><li class="tab"><button type="button" data-href="#redis2-3">ä¿®æ”¹åçš„status</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="redis2-1"><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@PostMapping</span><br><span class="line">public Result&lt;String&gt; save(@RequestBody DishDto dishDto) &#123;</span><br><span class="line">    log.info(&quot;æ¥æ”¶åˆ°çš„æ•°æ®ä¸ºï¼š&#123;&#125;&quot;, dishDto);</span><br><span class="line">    dishService.saveWithFlavor(dishDto);</span><br><span class="line"><span class="addition">+   String key = &quot;dish_&quot; + dishDto.getCategoryId() + &quot;_1&quot;;</span></span><br><span class="line"><span class="addition">+   redisTemplate.delete(key);</span></span><br><span class="line">    return Result.success(&quot;æ·»åŠ èœå“æˆåŠŸ&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="redis2-2"><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@PutMapping</span><br><span class="line">public Result&lt;String&gt; update(@RequestBody DishDto dishDto) &#123;</span><br><span class="line">    log.info(&quot;æ¥æ”¶åˆ°çš„æ•°æ®ä¸ºï¼š&#123;&#125;&quot;, dishDto);</span><br><span class="line">    dishService.updateWithFlavor(dishDto);</span><br><span class="line"><span class="addition">+   String key = &quot;dish_&quot; + dishDto.getCategoryId() + &quot;_1&quot;;</span></span><br><span class="line"><span class="addition">+   redisTemplate.delete(key);</span></span><br><span class="line">    return Result.success(&quot;ä¿®æ”¹èœå“æˆåŠŸ&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="redis2-3"><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@PostMapping(&quot;/status/&#123;status&#125;&quot;)</span><br><span class="line">public Result&lt;String&gt; status(@PathVariable Integer status, @RequestParam List&lt;Long&gt; ids) &#123;</span><br><span class="line">    log.info(&quot;status:&#123;&#125;,ids:&#123;&#125;&quot;, status, ids);</span><br><span class="line">    LambdaUpdateWrapper&lt;Dish&gt; updateWrapper = new LambdaUpdateWrapper&lt;&gt;();</span><br><span class="line">    updateWrapper.in(ids != null, Dish::getId, ids);</span><br><span class="line">    updateWrapper.set(Dish::getStatus, status);</span><br><span class="line"><span class="addition">+   LambdaQueryWrapper&lt;Dish&gt; lambdaQueryWrapper = new LambdaQueryWrapper&lt;&gt;();</span></span><br><span class="line"><span class="addition">+   lambdaQueryWrapper.in(Dish::getId, ids);</span></span><br><span class="line"><span class="addition">+   List&lt;Dish&gt; dishes = dishService.list(lambdaQueryWrapper);</span></span><br><span class="line"><span class="addition">+   for (Dish dish : dishes) &#123;</span></span><br><span class="line"><span class="addition">+       String key = &quot;dish_&quot; + dish.getCategoryId() + &quot;_1&quot;;</span></span><br><span class="line"><span class="addition">+       redisTemplate.delete(key);</span></span><br><span class="line"><span class="addition">+   &#125;</span></span><br><span class="line">    dishService.update(updateWrapper);</span><br><span class="line">    return Result.success(&quot;æ‰¹é‡æ“ä½œæˆåŠŸ&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>åˆ é™¤çš„è¯ä¸éœ€è¦ä¿®æ”¹çš„åŸå› çš„æ˜¯ï¼Œæˆ‘ä»¬åˆ é™¤ä¹‹å‰éœ€è¦ä¿®æ”¹ä¸ºåœå”®çŠ¶æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬å·²ç»ç»™ä¿®æ”¹çŠ¶æ€åŠ å…¥äº†æ¸…ç†ç¼“å­˜ï¼Œæ‰€ä»¥è¦åˆ é™¤çš„è¯ï¼Œä¸€å®šä¼šå…ˆæ¸…ç†è¿‡ç¼“å­˜çš„ã€‚</p><h4 id="SpringCache">SpringCache</h4><p>ä¸€ä¸ªæ¡†æ¶ï¼Œèƒ½å®ç°åŸºæœ¬æ³¨è§£çš„ç¼“å­˜åŠŸèƒ½ï¼Œå°±æ˜¯åŠ æ³¨è§£å°±èƒ½æ¸…ç†ç¼“å­˜ï¼Œå¸¸ç”¨æ³¨è§£ç½‘ä¸Šéƒ½æœå¾—åˆ°ç”¨æ³•ï¼Œæˆ‘å°±è®°é¡¹ç›®ä¸­æ‰€ä½¿ç”¨çš„è¯´æ˜ä¸€ä¸‹ï¼Œ@Cacheableå’Œ@CacheEvict</p><p><code>@cacheable</code>çš„ä½œç”¨ä¸»è¦é’ˆå¯¹æ–¹æ³•é…ç½®ï¼Œèƒ½å¤Ÿæ ¹æ®æ–¹æ³•çš„è¯·æ±‚å‚æ•°å¯¹å…¶ç»“æœè¿›è¡Œç¼“å­˜</p><p><code>@CachEvict</code>çš„ä½œç”¨ä¸»è¦é’ˆå¯¹æ–¹æ³•é…ç½®ï¼Œèƒ½å¤Ÿæ ¹æ®ä¸€å®šçš„æ¡ä»¶å¯¹ç¼“å­˜è¿›è¡Œæ¸…ç©º</p><h4 id="é¡¹ç›®ä½¿ç”¨SpringCache">é¡¹ç›®ä½¿ç”¨SpringCache</h4><p>å¯¼å…¥åæ ‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-redis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-cache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®ymlä¸ºRedisç¼“å­˜</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">redis:</span></span><br><span class="line">    <span class="attr">host:</span> <span class="number">172.16</span><span class="number">.1</span><span class="number">.76</span></span><br><span class="line">    <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line">    <span class="attr">database:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">cache:</span></span><br><span class="line">    <span class="attr">redis:</span></span><br><span class="line">      <span class="attr">time-to-live:</span> <span class="number">1800000</span> <span class="comment"># è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´</span></span><br></pre></td></tr></table></figure><p>ç¼“å­˜å¥—é¤</p><p>å¯¼å…¥åæ ‡é…ç½®å¥½æ–‡ä»¶ï¼Œç„¶ååœ¨å¯åŠ¨é¡¹åŠ @EnableCaching å¼€å¯ç¼“å­˜æ³¨è§£</p><p>SetmealControllerçš„listæ–¹æ³•ä¸ŠåŠ ä¸Š<code>@Cacheale</code>æ³¨è§£ å’Œä¹‹å‰çš„ä¸æ³¨è§£å·®ä¸å¤š å°±æ˜¯æŠŠå€¼å†™æ³¨è§£é‡Œé¢äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line"><span class="meta">@Cacheable(value = &quot;setmealCache&quot;, key = &quot;#setmeal.categoryId + &#x27;_&#x27; + #setmeal.status&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result&lt;List&lt;Setmeal&gt;&gt; <span class="title function_">list</span><span class="params">(Setmeal setmeal)</span> &#123;</span><br><span class="line">    <span class="comment">//æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">    LambdaQueryWrapper&lt;Setmeal&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//æ·»åŠ æ¡ä»¶</span></span><br><span class="line">    queryWrapper.eq(setmeal.getCategoryId() != <span class="literal">null</span>, Setmeal::getCategoryId, setmeal.getCategoryId());</span><br><span class="line">    queryWrapper.eq(setmeal.getStatus() != <span class="literal">null</span>, Setmeal::getStatus, <span class="number">1</span>);</span><br><span class="line">    <span class="comment">//æ’åº</span></span><br><span class="line">    queryWrapper.orderByDesc(Setmeal::getUpdateTime);</span><br><span class="line">    List&lt;Setmeal&gt; setmealList = setmealService.list(queryWrapper);</span><br><span class="line">    <span class="keyword">return</span> Result.success(setmealList);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>SetmealControllerçš„saveã€updateå’Œstatusæ–¹æ³•ï¼ŒåŠ å…¥æ¸…ç†ç¼“å­˜çš„é€»è¾‘ å¾ˆç®€å•ç›´æ¥å¤åˆ¶å°±è¡Œæ”¹æˆtrueå…¨éƒ¨å¡«è¿”å›å€¼</p><div class="tabs" id="redis3"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#redis3-1">save</button></li><li class="tab"><button type="button" data-href="#redis3-2">update</button></li><li class="tab"><button type="button" data-href="#redis3-3">status</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="redis3-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping</span></span><br><span class="line"><span class="comment">//è®¾ç½®allEntriesä¸ºtrueï¼Œæ¸…ç©ºç¼“å­˜åç§°ä¸ºsetmealCacheçš„æ‰€æœ‰ç¼“å­˜</span></span><br><span class="line"><span class="meta">@CacheEvict(value = &quot;setmealCache&quot;, allEntries = true)</span></span><br><span class="line"><span class="keyword">public</span> Result&lt;String&gt; <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> SetmealDto setmealDto)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;å¥—é¤ä¿¡æ¯ï¼š&#123;&#125;&quot;</span>, setmealDto);</span><br><span class="line">    setmealService.saveWithDish(setmealDto);</span><br><span class="line">    <span class="keyword">return</span> Result.success(<span class="string">&quot;å¥—é¤æ·»åŠ æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="redis3-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line"><span class="meta">@CacheEvict(value = &quot;setmealCache&quot;, allEntries = true)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Setmeal&gt; <span class="title function_">updateWithDish</span><span class="params">(<span class="meta">@RequestBody</span> SetmealDto setmealDto)</span>&#123;</span><br><span class="line">    List&lt;SetmealDish&gt; setmealDishes = setmealDto.getSetmealDishes();</span><br><span class="line">    <span class="type">Long</span> <span class="variable">id</span> <span class="operator">=</span> setmealDto.getId();</span><br><span class="line">    <span class="comment">//æ ¹æ®idæŠŠå¯¹åº”å¥—é¤æ•°æ®åˆ é™¤</span></span><br><span class="line">    LambdaQueryWrapper&lt;SetmealDish&gt; qw = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    qw.eq(SetmealDish::getSetmealId,id);</span><br><span class="line">    setmealDishService.remove(qw);</span><br><span class="line">    <span class="comment">//é‡æ–°æ·»åŠ </span></span><br><span class="line">    setmealDishes.stream().map((item) -&gt; &#123;</span><br><span class="line">        <span class="comment">//è®¾ç½®å±æ€§</span></span><br><span class="line">        item.setSetmealId(id);</span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line">    <span class="comment">//æ›´æ–°å¥—é¤æ•°æ®</span></span><br><span class="line">    setmealService.updateById(setmealDto);</span><br><span class="line">    <span class="comment">//æ›´æ–°å¥—é¤å¯¹åº”çš„æ•°æ® æ‰¹é‡ä¿å­˜</span></span><br><span class="line">    setmealDishService.saveBatch(setmealDishes);</span><br><span class="line">    <span class="keyword">return</span> R.success(setmealDto);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="redis3-3"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/status/&#123;status&#125;&quot;)</span></span><br><span class="line"><span class="meta">@CacheEvict(value = &quot;setmealCache&quot;, allEntries = true)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">status</span><span class="params">(<span class="meta">@PathVariable</span> String status, <span class="meta">@RequestParam</span> List&lt;Long&gt; ids)</span> &#123;</span><br><span class="line">    LambdaUpdateWrapper&lt;Setmeal&gt; updateWrapper = <span class="keyword">new</span> <span class="title class_">LambdaUpdateWrapper</span>&lt;&gt;();</span><br><span class="line">    updateWrapper.in(Setmeal::getId, ids);</span><br><span class="line">    updateWrapper.set(Setmeal::getStatus, status);</span><br><span class="line">    setmealService.update(updateWrapper);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;æ‰¹é‡æ“ä½œæˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>==!!! Réœ€è¦å®ç°Serializableæ¥å£ï¼Œå› ä¸ºæœ‰ä¸ªåºåˆ—åŒ–çš„è¿‡ç¨‹==</p><h3 id="è¯»å†™åˆ†ç¦»">è¯»å†™åˆ†ç¦»</h3><p>è¯»å†™åˆ†ç¦»æ¯”è¾ƒéº»çƒ¦ï¼Œéœ€è¦å…ˆå®ç°MySQLçš„ä¸»ä»è¡¨,è®©é˜¿è´µå…‹éš†äº†ä¸¤å°è™šæ‹Ÿæœºã€‚ä¸€ä¸ªä¸ºä¸»åº“ï¼Œä¸€ä¸ªä¸ºä»åº“ã€‚è·Ÿç€æ­¥éª¤æ¥å°±è¡Œï¼Œå”¯ä¸€æœ‰é—®é¢˜çš„ç‚¹å°±æ˜¯ï¼Œå› ä¸ºæ˜¯å…‹éš†çš„ï¼Œæ‰€ä»¥mysqléœ€è¦ä¿®æ”¹uuidã€‚è¿™é‡Œè‡ªå·±å‡ºè¿‡BUGã€‚</p><p>ä¿®æ”¹æ–¹æ³• æŸ¥çœ‹uuid</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> uuid();</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> uuid()                               <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">26532364</span><span class="number">-4</span>f8d<span class="number">-11</span>ed<span class="operator">-</span>a300<span class="number">-005056307198</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------------------------+</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /var/lib/mysql/auto.cnf <span class="comment"># ä¿®æ”¹uuidä¸ºä¸Šé¢æŸ¥æ‰¾çš„</span></span><br></pre></td></tr></table></figure><p>åˆ«å¿˜è®°é‡å¯æœåŠ¡</p><h4 id="é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦»">é¡¹ç›®å®ç°è¯»å†™åˆ†ç¦»</h4><p>åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œæµ‹è¯•æ²¡é—®é¢˜å†å¹¶å…¥main</p><p>å¯¼å…¥åæ ‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.shardingsphere<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>sharding-jdbc-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.0.0-RC1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹åŸæ¥çš„mysqlé…ç½®</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">reggie_take_out</span></span><br><span class="line">  <span class="attr">shardingsphere:</span></span><br><span class="line">    <span class="attr">datasource:</span></span><br><span class="line">      <span class="attr">names:</span></span><br><span class="line">        <span class="string">master,slave</span></span><br><span class="line">      <span class="attr">master:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">        <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">jdbc:mysql://172.16.1.77:3306/reggie?serverTimezone=Asia/Shanghai&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;allowPublicKeyRetrieval=true</span></span><br><span class="line">        <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">        <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">slave:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">        <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">        <span class="attr">url:</span> <span class="string">jdbc:mysql://172.16.1.78:3306/reggie?serverTimezone=Asia/Shanghai&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;allowPublicKeyRetrieval=true</span></span><br><span class="line">        <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">        <span class="attr">password:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">masterslave:</span></span><br><span class="line">      <span class="comment"># è¯»å†™åˆ†ç¦»é…ç½®</span></span><br><span class="line">      <span class="attr">load-balance-algorithm-type:</span> <span class="string">round_robin</span></span><br><span class="line">      <span class="comment"># æœ€ç»ˆçš„æ•°æ®æºåç§°</span></span><br><span class="line">      <span class="attr">name:</span> <span class="string">dataSource</span></span><br><span class="line">      <span class="comment"># ä¸»åº“æ•°æ®æºåç§°</span></span><br><span class="line">      <span class="attr">master-data-source-name:</span> <span class="string">master</span></span><br><span class="line">      <span class="comment"># ä»åº“æ•°æ®æºåç§°åˆ—è¡¨ï¼Œå¤šä¸ªé€—å·åˆ†éš”</span></span><br><span class="line">      <span class="attr">slave-data-source-names:</span> <span class="string">slave</span></span><br><span class="line">    <span class="attr">props:</span></span><br><span class="line">      <span class="attr">sql:</span></span><br><span class="line">        <span class="attr">show:</span> <span class="literal">true</span> <span class="comment">#å¼€å¯SQLæ˜¾ç¤ºï¼Œé»˜è®¤false</span></span><br><span class="line">  <span class="attr">main:</span></span><br><span class="line">    <span class="attr">allow-bean-definition-overriding:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="3-BUGç‚¹-2">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>è¿™æ˜¯mysqlä¸»ä»å¤åˆ¶ï¼ŒæŸ¥è¯¢ä¸»ä»ä¿¡æ¯çš„æ—¶å€™æ­£å¸¸çš„æ˜¾ç¤ºï¼Œä½†æ˜¯è‡ªå·±æ˜¾ç¤ºçš„æ˜¯Connecting to source,ç½‘ä¸Šæœéƒ½è¯´çš„uuidçš„é—®é¢˜ï¼Œä½†æ˜¯è‡ªå·±uuidä¿®æ”¹äº†å¾ˆå¤šæ¬¡ï¼Œè¿˜æ˜¯å¤±è´¥ï¼Œå°±é‡è¿äº†ä¸€ä¸‹ï¼Œç„¶åå…¨éƒ¨é‡æ–°é…ç½®äº†uuidå’ŒSlave_Io_Runningï¼Œå°±å¥½äº†ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211071929438.png" alt="image-20221107161447726"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-2">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h2 id="5-æ€»ç»“-2">5.æ€»ç»“</h2><p>ä»Šå¤©å‘¨äº”ä¸Šåˆç»ƒè½¦ï¼Œä¸‹åˆæŠŠåŸºæœ¬çš„ä¼˜åŒ–çŸ¥è¯†å­¦äº†ï¼Œä¿®æ”¹äº†åŸæ¥æ²¡åŠ å…¥ç¼“å­˜å’Œè¯»å†™åˆ†ç¦»çš„é¡¹ç›®ï¼Œå¼€äº†ä¸¤å°è™šæ‹Ÿæœºï¼Œè°ƒé…ä¸‹è½½è½¯ä»¶ï¼Œä»Šå¤©çš„å­¦ä¹ éš¾åº¦æ˜¯å¾ˆç®€å•çš„ï¼Œæ˜å¤©å°±å¯ä»¥éƒ¨ç½²åˆ°h3cçš„æœåŠ¡å™¨ä¸Šé¢äº†ï¼Œé…ç½®æ–¹é¢æ€»æ˜¯ä¼šå‡ºé—®é¢˜çš„ï¼Œmysqlè‡ªå·±ä¿®äº†è¿‘ä¸€ä¸ªåŠå°æ—¶ï¼Œlinuxå‘½ä»¤ä¹Ÿåœ¨ä¿®bugçš„è·¯ä¸Šï¼Œè¶Šå‘ç†Ÿç»ƒï¼Œæ˜å¤©éƒ¨ç½²å®Œåœä¸‹æ¥ï¼Œæ¢³ç†ä¸€ä¸‹è¿™æ®µæ—¶é—´æ‰€å­¦çš„çŸ¥è¯†ã€‚</p><h1 id="11-7-éƒ¨ç½²é¡¹ç›®åœ¨h3c">11.7 éƒ¨ç½²é¡¹ç›®åœ¨<code>h3c</code></h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-3">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-3">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="é…ç½®ç¯å¢ƒ">é…ç½®ç¯å¢ƒ</h3><p>ä¸‰å°æœåŠ¡å™¨</p><p>172.16.1.76 Redisç¼“å­˜ å¯åŠ¨RedisæœåŠ¡çš„</p><p>172.16.1.77 Nginxæ”¾å‰ç«¯é¡¹ç›®å’Œåå‘ä»£ç† Mysql ä¸»ä»å¤åˆ¶ç»“æ„çš„ä¸»åº“</p><p>172.16.1.78 Mysql ä¸»ä»å¤åˆ¶ç»“æ„çš„ä»åº“ jar jdk git maven æ”¾åç«¯é¡¹ä»¥åŠé…ç½®</p><h3 id="éƒ¨ç½²å‰ç«¯é¡¹ç›®">éƒ¨ç½²å‰ç«¯é¡¹ç›®</h3><p>åœ¨77ä¸­ä¿®æ”¹nginx.conf  æŠŠè¯¾ä»¶ä¸­çš„distæ–‡ä»¶æ”¾htmlç›®å½•ä¸­å»</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">listen</span> <span class="string">80;</span></span><br><span class="line">    <span class="attr">server_name</span> <span class="string">localhost;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">location</span> <span class="string">/ &#123;</span></span><br><span class="line">        <span class="attr">root</span> <span class="string">html/dist; #å‰ç«¯é¡µé¢å­˜æ”¾ä½ç½®</span></span><br><span class="line">        <span class="attr">index</span> <span class="string">index.html;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">location</span> <span class="string">^~ /api/ &#123;</span></span><br><span class="line">        <span class="attr">rewrite</span> <span class="string">^/api/(.*)$ /$1 break;</span></span><br><span class="line">        <span class="attr">proxy_pass</span> <span class="string">http://172.16.1.78:8080; #åç«¯</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="éƒ¨ç½²åç«¯é¡¹ç›®">éƒ¨ç½²åç«¯é¡¹ç›®</h3><p>åç«¯è¿™å—è‡ªå·±å‡ºäº†äº›é—®é¢˜ï¼Œé¦–å…ˆå®‰è£…å¥½JDK git Mysql Maven æŸ¥çœ‹çš„å‘½ä»¤ä¹Ÿå¾ˆç®€å•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java -version <span class="comment">#çœ‹jdk å’Œ jar</span></span><br><span class="line">git -v <span class="comment"># çœ‹git</span></span><br><span class="line">mvn -v <span class="comment"># çœ‹Maven</span></span><br></pre></td></tr></table></figure><p>ç„¶åæŠŠIDEAä¸­çš„é¡¹ç›®æ‰§è¡Œgit commit ç„¶åpush ä¸Šä¼ åˆ°gitteeç äº‘ åˆ›å»ºä¸€ä¸ª/usr/local/app</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://gitee.com/u7u7-sjh/reggie_take_out.git</span><br></pre></td></tr></table></figure><p>shè„šæœ¬  è‡ªå·±åŒ…åè·Ÿè¿™ä¸ªä¸å¤ªä¸€æ ·ï¼Œç„¶åè‡ªå·±ä¿®æ”¹äº†ä¸€ä¸‹</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">echo</span> =================================</span><br><span class="line"><span class="built_in">echo</span>  è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬å¯åŠ¨</span><br><span class="line"><span class="built_in">echo</span> =================================</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> åœæ­¢åŸæ¥è¿è¡Œä¸­çš„å·¥ç¨‹</span><br><span class="line">APP_NAME=reggie_take_out</span><br><span class="line"></span><br><span class="line">tpid=`ps -ef|grep <span class="variable">$APP_NAME</span>|grep -v grep|grep -v <span class="built_in">kill</span>|awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$&#123;tpid&#125;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Stop Process...&#x27;</span></span><br><span class="line">    <span class="built_in">kill</span> -15 <span class="variable">$tpid</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">sleep</span> 2</span><br><span class="line">tpid=`ps -ef|grep <span class="variable">$APP_NAME</span>|grep -v grep|grep -v <span class="built_in">kill</span>|awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>`</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$&#123;tpid&#125;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Kill Process!&#x27;</span></span><br><span class="line">    <span class="built_in">kill</span> -9 <span class="variable">$tpid</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;Stop Success!&#x27;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> å‡†å¤‡ä»Gitä»“åº“æ‹‰å–æœ€æ–°ä»£ç </span><br><span class="line"><span class="built_in">cd</span> /usr/local/app/reggie_take_out <span class="comment">#æ³¨æ„æ–‡ä»¶æ‰€åœ¨åœ°å€</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> å¼€å§‹ä»Gitä»“åº“æ‹‰å–æœ€æ–°ä»£ç </span><br><span class="line">git pull</span><br><span class="line"><span class="built_in">echo</span> ä»£ç æ‹‰å–å®Œæˆ</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> å¼€å§‹æ‰“åŒ…</span><br><span class="line">output=`mvn clean package -Dmaven.test.skip=<span class="literal">true</span>`</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> target</span><br><span class="line"><span class="built_in">echo</span> å¯åŠ¨é¡¹ç›®</span><br><span class="line"><span class="built_in">nohup</span> java -jar reggie_take_out-1.0-SNAPSHOT.jar &amp;&gt; reggie_take_out.log &amp; <span class="comment"># æ³¨æ„jaråŒ…å</span></span><br><span class="line"><span class="built_in">echo</span> é¡¹ç›®å¯åŠ¨å®Œæˆ</span><br></pre></td></tr></table></figure><h2 id="3-BUGç‚¹-3">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>è¿›æ¥åç«¯å…¨æ˜¯æŠ¥é”™ï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› ï¼Œçœ‹é¡¹ç›®æ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†æ˜¯æˆ‘linuxä¸­çš„æ‰“åŒ…æ˜¯è‡ªå·±æ·»åŠ çš„ï¼Œå¹¶ä¸æ˜¯gitä¸­å…‹éš†ä¸‹æ¥çš„ï¼Œç„¶åæŠŠlinuxä¸­appä¸­å…‹éš†çš„æ–‡ä»¶åˆ é™¤ï¼Œé‡æ–°æŠŠIDEAä¸­mainå’Œtargetéƒ½ä¸Šä¼ ï¼Œç„¶åå†å…‹éš†ä¸‹æ¥å°±æ²¡é—®é¢˜äº†ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211071929439.png" alt="image-20221107183351369"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-3">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h2 id="5-æ€»ç»“-3">5.æ€»ç»“</h2><p>ä»Šå¤©ä¸Šåˆè€ƒå®Œç§‘äºŒï¼Œä¸‹åˆæŠŠé¡¹ç›®éƒ¨ç½²åˆ°äº†h3cï¼Œå°±åç«¯å‡ºäº†ä¸€ç‚¹ç‚¹é—®é¢˜ï¼Œä½†æ˜¯ä¹ŸæˆåŠŸäº†ï¼Œè¿˜æ˜¯å°æœ‰æˆå°±çš„ã€‚æ˜å¤©ä¸Šåˆç¼“å†²ä¸€ä¸‹ï¼Œä¸‹åˆå¯ä»¥å¤§æ¦‚çš„è¿›å…¥SpringCloudçš„å­¦ä¹ äº†ï¼Œé—®é¢˜åº”è¯¥ä¸æ˜¯å¾ˆå¤§ï¼Œå¯ä»¥å¸¦ç€vueå­¦ä¸€ä¸‹ï¼Œæ„Ÿè§‰å‰ç«¯çš„çŸ¥è¯†è¿˜æ˜¯å¾ˆå¿…è¦çš„ï¼Œæ™šä¸Šæ•´æ”¹ä¸€ä¸‹å›¾åºŠçš„ç®¡ç†ï¼Œä¹°ä¸€ä¸ªé˜¿é‡Œäº‘OSSå›¾åºŠï¼Œè¿™æ ·ä»¥åè‡ªå·±çš„Typoraæ–‡ä»¶ï¼Œå‘ç»™åˆ«äººå›¾ç‰‡åŠ è½½ä¸å‡ºæ¥çš„æƒ…å†µä¹Ÿå°±æ²¡æœ‰äº†ã€‚ä¸Šä¼ åˆ°CSDNå’ŒGithub  è¯­é›€ä¹Ÿä¸ä¼šæœ‰å›¾ç‰‡ä¸æ˜¾ç¤ºçš„æƒ…å†µäº†ã€‚</p>]]></content>
    
    
    <summary type="html">ç¼“å­˜ä¼˜åŒ–ä»¥åŠéƒ¨ç½²</summary>
    
    
    
    <category term="å‰åç«¯é¡¹ç›®" scheme="https://u7u7.top/categories/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="é¡¹ç›®" scheme="https://u7u7.top/tags/%E9%A1%B9%E7%9B%AE/"/>
    
  </entry>
  
  <entry>
    <title>7æœˆæ€»ç»“</title>
    <link href="https://u7u7.top/posts/9a4dfe43.html"/>
    <id>https://u7u7.top/posts/9a4dfe43.html</id>
    <published>2023-03-10T06:00:25.000Z</published>
    <updated>2023-03-10T06:00:25.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€çŸ¥è¯†ç‚¹æ±‡æ€»">ä¸€ã€çŸ¥è¯†ç‚¹æ±‡æ€»</h2><h3 id="ç¬¬ä¸€å‘¨7-7-7-11">ç¬¬ä¸€å‘¨7.7-7.11</h3><ul><li><strong>è¿™å‘¨çš„å­¦ä¹ å†…å®¹</strong> ï¼šlinuxå…¥é—¨ å®æ“æ–‡ä»¶ Shellç¼–ç¨‹  Scalaçš„åŸºç¡€å…¥é—¨</li></ul><p>â€‹<strong>éš¾ç‚¹</strong>ï¼š ScalaåŸºç¡€è¯­æ³•   Shellç¼–ç¨‹</p><p>â€‹<strong>ä¸ªäººç†è§£</strong>ï¼š</p><p>**Shellç¼–ç¨‹ï¼š**shellåœ¨æˆ‘ç†è§£æœ‰ç‚¹åƒpythonï¼Œè„šæœ¬è¯­è¨€ã€‚ä½†æ˜¯å’Œpythonæ¯”ï¼Œè¯­è¨€çš„ç®€æ´æ€§,å¯è¯»æ€§éƒ½å¾ˆå·®ã€‚æ¯•ç«Ÿæ˜¯è„šæœ¬è¯­è¨€ï¼Œä¸€äº›æ¯”è¾ƒå¤æ‚çš„ä»£ç å’Œç¨‹åºï¼Œå†™å‡ºæ¥å°±å¾ˆéº»çƒ¦ç”¨shellã€‚å› æ­¤ç°åœ¨shellæ˜¯æœ‰ä¸€ä¸ªlet å¯ä»¥ç”¨cå’Œjavaçš„è¯­è¨€ï¼Œè¿˜æ˜¯æ–¹ä¾¿çš„ã€‚Shell ä¸»è¦ç”¨æ¥å¼€å‘ä¸€äº›å®ç”¨çš„ã€è‡ªåŠ¨åŒ–çš„å°å·¥å…·ï¼Œè€Œä¸æ˜¯ç”¨æ¥å¼€å‘å…·æœ‰å¤æ‚ä¸šåŠ¡é€»è¾‘çš„ä¸­å¤§å‹è½¯ä»¶ï¼Œå› ä¸ºä»–çš„ä»£ç æˆ‘è§‰å¾—å†™èµ·æ¥éå¸¸éš¾å—ï¼Œåº”è¯¥åœ¨æ­å»ºç¯å¢ƒå’Œåˆ†ææ—¥å¿—è¿™ç±»çš„åœºæ™¯ï¼Œshellä¼šæœ‰æ¯”è¾ƒå¥½çš„è¡¨ç°åŠ›å§ï¼Œåœ¨Linuxä¸­Shellåº”è¯¥æ˜¯å¾ˆé‡è¦çš„ä¸€ä¸ªç« èŠ‚ï¼Œæ¯•ç«Ÿè€å¸ˆè¯´ä½¿ç”¨ Shell çš„ç†Ÿç»ƒç¨‹åº¦åæ˜ äº†ä½ å¯¹ Linux çš„æŒæ¡ç¨‹åº¦ã€‚</p><p>**ScalaåŸºç¡€è¯­æ³•ï¼š**Scalaåˆšå…¥é—¨çš„æ—¶å€™ï¼Œä½¿ç”¨éå¸¸çš„éš¾å—ï¼Œåœ¨scalaä¸­æœ‰javaå’Œpythonçš„å½±å­ï¼Œä½†æ˜¯åˆä¸ä¸€æ ·ï¼Œå°±å¯¼è‡´åˆšå¼€å§‹ç»å¸¸å†™é”™ï¼Œå®ƒçš„è¯­è¨€å¾ˆç®€æ´ï¼ŒJava8ä¸­çš„lambdaå°±æ˜¯å€Ÿé‰´scalaçš„ï¼Œæ‰€ä»¥å¦‚æœå­¦Javaçš„æ—¶å€™Lambdaå­¦å¥½çš„è¯ï¼Œå…¥é—¨ä¸Šæ‰‹è¿˜æ˜¯è›®å¿«çš„ã€‚Scalaæ˜¯ä¸€ç§å¼ºæ•°æ®ç±»å‹çš„è¯­è¨€ï¼Œå˜é‡å£°æ˜äº†ç±»å‹ï¼Œå°±å˜ä¸äº†äº†ã€‚æ”¹å˜çš„è¯ï¼Œåªèƒ½åˆ›é€ æ–°çš„å˜é‡ï¼ŒåŸå˜é‡æ˜¯æ”¹ä¸äº†çš„ã€‚æ¯•ç«Ÿç§°ä¸ºJava++ï¼Œä¹Ÿæœ‰å¼ºè½¬ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œè¿™ç§è„šæœ¬è¯­è¨€ç±»ï¼Œå­¦æ˜ç™½äº†æŒæ¡è¿˜æ˜¯å®¹æ˜“çš„ï¼Œè€Œä¸”æ€è·¯å¯ä»¥æ¸…æ™°ã€‚</p><h4 id="è‡ªæˆ‘å‘¨æ€»ç»“ï¼š">è‡ªæˆ‘å‘¨æ€»ç»“ï¼š</h4><p>è¿™å‘¨æ—¶é—´æ¯”è¾ƒçŸ­ï¼Œå› ä¸ºåˆšè¿›å…¥æš‘å‡é›†è®­ï¼Œç©äº†åæ¥å¤©ï¼ŒçŠ¶æ€è‡ªå·±è°ƒæ•´äº†ä¸¤å¤©ï¼Œä¸è¿‡å­¦ä¹ é€Ÿåº¦æ¯”ä¹‹å‰æœ‰å¾ˆå¤§çš„æé«˜ï¼Œåˆšæ¥é›†è®­ï¼ŒåŠ²å¤´æ¯”è¾ƒè¶³å§ï¼Œå¯å®¤å®¤å‹ä»€ä¹ˆçš„ä¹Ÿæ¯”è¾ƒèˆ’æœï¼Œæ‰€ä»¥å°½ç®¡ç©äº†å‡ å¤©ï¼Œå­¦ä¹ çŠ¶æ€å€’è¿˜æ˜¯å¾ˆæ»¡æ„çš„ï¼Œè¿™å‘¨ä¸»è¦æ˜¯3å¤©æŠŠLinuxçœ‹å®Œäº†ï¼ŒåŸºæœ¬æ“ä½œå•Šï¼Œå¯¹æ–‡ä»¶çš„å®æ“ã€‚è¿™æ–¹é¢ä¹‹å‰å°±çŸ¥é“ä¸€äº›ï¼Œçœ‹æ–‡æ¡£ï¼Œä¸€å¤©èƒ½æŠµä¸ƒå…«ä¸ªå°æ—¶çš„è§†é¢‘æ—¶é—´ï¼Œåé¢çš„Shellç¼–ç¨‹ï¼Œæ˜¯ä»”ç»†çœ‹äº†è§†é¢‘ï¼Œå› ä¸ºæœ‰ç‚¹å¥‡æ€ªï¼Œæ˜¯è„šæœ¬è¯­è¨€ï¼Œå†™èµ·æ¥è·Ÿå‘½ä»¤ä¸€æ ·ï¼Œç„¶åçœ‹äº†ä¸€å¤©çš„Scalaç¼–ç¨‹ï¼Œè‡ªå·±å¯¹è¯­è¨€å¯èƒ½æ¯”è¾ƒæ•æ„Ÿå§ï¼Œä¸Šåˆè¿˜ä¸ä¹ æƒ¯ï¼Œä¸‹åˆç”¨èµ·æ¥å°±èˆ’æœäº†ï¼Œæ„Ÿè§‰æ¯”pythonå†™èµ·æ¥è¿˜èˆ’æœï¼Œå°±æ˜¯å®ƒçš„ç±»å‹å£°æ˜æœ‰ç‚¹å¥‡æ€ªã€‚ä¸€å¤©æŠŠå‰é¢ä¸€èˆ¬è¯­è¨€éƒ½å…±æœ‰çš„éƒ¨åˆ†ï¼Œçœ‹æ‰äº†ï¼Œä¸»è¦éƒ½æ˜¯çœ‹æ–‡æ¡£ï¼Œçœ‹æ–‡æ¡£è·Ÿç€æ¡ˆä¾‹æ•²å­¦ä¹ è¯­è¨€ï¼Œé€Ÿåº¦å’Œæ•ˆç‡çœŸçš„å¿«ã€‚</p><h3 id="ç¬¬äºŒå‘¨7-12-7-17">ç¬¬äºŒå‘¨7.12-7.17</h3><p><strong>è¿™å‘¨çš„å­¦ä¹ å†…å®¹</strong> ï¼š hadooopåŸºæœ¬å…¥é—¨ hadoopå®Œå…¨åˆ†å¸ƒå¼  HDFS</p><p>â€‹<strong>éš¾ç‚¹ï¼š</strong> hadoopæ¦‚å¿µ  hadoopå…‹éš†ç¾¤èµ·</p><p><strong>ä¸ªäººç†è§£</strong>ï¼š</p><p>hadoopæ¦‚å¿µ:è¿™ä¸€å—ä¹Ÿä¸ç®—ä¸ªäººç†è§£å§ï¼Œå› ä¸ºå­¦hadoopå­¦äº†å¾ˆä¹…ï¼Œéƒ½ä¸çŸ¥é“hadoopæ˜¯ä»€ä¹ˆï¼Œå¹²å˜›ç”¨çš„ï¼Œå°±å»CSDNå»æœäº†ï¼Œ<a href="http://t.csdn.cn/J6cLT">http://t.csdn.cn/J6cLT</a> è¿™ä¸ªé“¾æ¥ï¼Œæˆ‘è§‰å¾—è®²çš„ç‰¹åˆ«å¥½ã€‚ä¹Ÿè®©æˆ‘å¼„æ‡‚äº†hadoopå’Œå¤§æ•°æ®ã€‚çœ‹æ–‡æ¡£å®Œäº†ï¼Œæ„Ÿè§‰HadoopæŠ€æœ¯å°±æ˜¯å¤§æ•°æ®è¿™è¡Œçš„æ ¸å¿ƒï¼Œåƒæˆ‘ä»¬è¿™æ¬¡æ¯”èµ›è¦å­¦çš„å¾ˆå¤šå†…å®¹éƒ½æ˜¯åŸºäºhadoopæˆ–è€…æ˜¯å’Œhadoopæœ‰å…³çš„ï¼Œæ€»ä¹‹æ˜¯ç¦»ä¸å¼€ï¼Œhiveï¼Œsparkéƒ½æ˜¯å¦‚æ­¤ï¼Œè¿™äº›ç®—æ˜¯hadoopçš„æ¨¡å—ï¼Œæ¨¡å—ä¹‹é—´åˆæœ‰å…³è”ã€‚hadoopåƒæ˜¯ä¸€ä¸ªç”Ÿæ€åœˆäº†ï¼Œä¹Ÿæœ‰äººè®²hadoopç”Ÿæ€ã€‚æ€»ç»“hadoopçš„è¯ï¼ŒHadoopå°±æ˜¯å­˜å‚¨æµ·é‡æ•°æ®å’Œåˆ†ææµ·é‡æ•°æ®çš„å·¥å…·ã€‚å®ƒçš„æ ¸å¿ƒæ˜¯æˆ‘å­¦æ‰çš„HDFSå’Œæ²¡å­¦çš„MRï¼Œèµ¶è¿›åº¦MRå°±çœ‹çœ‹æ–‡æ¡£å°±å¥½äº†ï¼ŒHDFSæ˜¯å­˜å‚¨æ•°æ®çš„ï¼Œè€ŒMRå°±æ˜¯è®¡ç®—æ•°æ®çš„ï¼Œç†è§£ä¸ºè®¡ç®—å¼•æ“ã€‚</p><p>**hadoopå…‹éš†ï¼š**è¿™éƒ¨åˆ†ä¹Ÿä¸ç®—éš¾ç‚¹ï¼Œä½†æ˜¯æ€»æ˜¯ä¼šå‡ºç°é—®é¢˜ï¼Œç„¶åè‡ªå·±å»è§£å†³ï¼Œåé¢è‡ªå·±æ€»ç»“å‡ºäº†ä¸€å¥—é…ç½®æ­¥éª¤ï¼Œè™šæ‹Ÿæœºå…‹éš†è¿™éƒ¨åˆ†ï¼Œåˆ°é…ç½®IPã€‚ç¾¤èµ·é…ç½®åœ¨å¤šå¤ªè™šæ‹Ÿæœºçš„æ—¶å€™ï¼ŒçœŸçš„å¾ˆæ–¹ä¾¿ï¼Œåƒå¦‚æœä¸€å°è£…äº†javaï¼Œå¹¶é…ç½®å¥½äº†ç¯å¢ƒï¼Œåé¢å‡ å°åªè¦ï¼Œé…ç½®å®Œipå’Œæ˜ å°„ï¼Œä»¥ä¸»è™šæ‹Ÿæœºï¼Œç›´æ¥åˆ†å‘å°±å¥½äº†ã€‚å†™å®Œé…ç½®æ–‡ä»¶ï¼Œå¯åŠ¨hadoopå„é›†ç¾¤ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚1.å…‹éš†è™šæ‹Ÿæœº 2.ä¿®æ”¹é™æ€IP 3.ä¿®æ”¹ä¸»æœºååšæ˜ å°„ 4.å…³é—­é˜²ç«å¢™ ã€‚è¿™æ ·ä¸€å°æœ‰ipèƒ½ä¸Šå®Œçš„è™šæ‹Ÿæœºå°±é…ç½®å¥½äº†ã€‚åé¢ç¾¤èµ·ä»€ä¹ˆï¼Œä¸»è™šæ‹Ÿæœºåˆ†å‘ä¸€ä¸‹å°±å¥½äº†ï¼Œäº¤ç»™ç¯å¢ƒé…ç½®çš„åŒå­¦ã€‚</p><h4 id="è‡ªæˆ‘å‘¨æ€»ç»“ï¼š-2">è‡ªæˆ‘å‘¨æ€»ç»“ï¼š</h4><p>è¿™å‘¨å­¦ä¹ çš„æ•ˆç‡å°±è½ä¸‹æ¥äº†ï¼Œè¿™å‘¨æ˜¯hadoopç»“æŸï¼Œä»¥ä¸ºhadoopæ˜¯éƒ½è¦å­¦ä¹ çš„ï¼Œè‡ªå·±å°±å¾ˆè®¤çœŸçš„åœ¨æé…ç½®ä»€ä¹ˆçš„å‘½ä»¤ï¼Œä¹Ÿå‡ºç°äº†å¾ˆå¤šé—®é¢˜ï¼Œä¸€ä¸ªä¸€ä¸ªå»æ‰¾ï¼Œæœ‰é…ç½®æŠ¥é”™ï¼ŒCSDNè§£å†³ï¼Œæµªè´¹äº†å¾ˆå¤šæ—¶é—´ã€‚å‰é¢æ¦‚å¿µçš„æœ‰ç‚¹è«è®ºä¸¤å¯ï¼Œåé¢è·Ÿæ¦‚å¿µç›¸å…³çš„å°±æ¯”è¾ƒåƒåŠ›äº†ã€‚è¿™å‘¨åé¢å­¦HDFSï¼ŒJavaç”¨IDEAå……å½“å®¢æˆ·ç«¯é‚£å¤©å­¦ä¹ çŠ¶æ€è¿˜å¯ä»¥çš„ï¼Œè‡ªå·±å­¦ä¹ çŠ¶æ€å’Œå­¦ä¹ å†…å®¹æœ‰ç‚¹æŒ‚é’©å¤ªå¤šäº†ã€‚</p><h3 id="ç¬¬ä¸‰å‘¨7-18-7-24">ç¬¬ä¸‰å‘¨7.18-7.24</h3><p><strong>è¿™å‘¨çš„å­¦ä¹ å†…å®¹</strong> ï¼šScalaå‡½æ•°å¼ç¼–ç¨‹ Scalaé¢å‘å¯¹è±¡ æ•°ç»„é›†åˆ Sparkå…¥é—¨</p><p>Spark-RDD è½¬æ¢ç®—å­ è¿è¡Œç®—å­ SparkSQL</p><p><strong>éš¾ç‚¹ï¼š</strong> Scalaé›†åˆè®¡ç®—å‡½æ•°   å…ƒç»„  Sparkæ¦‚å¿µ</p><p><strong>ä¸ªäººç†è§£ï¼š</strong></p><p>å…ƒç»„ï¼šå…ƒç»„åœ¨æˆ‘ç†è§£å’Œjavaé‡Œé¢çš„å…ƒç»„å®Œå…¨ä¸ä¸€æ ·ï¼Œåœ¨Scalaå…ƒç»„æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå°†å¾ˆå¤šæ— å…³çš„æ•°æ®å°è£…ä¸ºä¸€ä¸ªæ•´ä½“ï¼Œå…ƒç»„æœ€å¤§åªèƒ½æœ‰22ä¸ªå…ƒç´ ã€‚å…ƒç»„å¯ä»¥å­˜ä¸åŒçš„å…ƒç´ ï¼Œä½†æ˜¯è°ƒç”¨çš„æ—¶å€™æ¯”è¾ƒæŠ½è±¡ï¼Œæ˜¯ç”¨._é¡ºåºå·,ä»–æ˜¯æœ‰åºçš„ï¼Œåœ¨åé¢é›†åˆè®¡ç®—é«˜çº§å‡½æ•°ä¸­ç»å¸¸ä½¿ç”¨ï¼Œç»“åˆMapï¼Œå’Œå¯¹è±¡å°±å¾ˆæŠ½è±¡ï¼Œä¸€å±‚åµŒä¸€å±‚çš„ã€‚</p><p>Scalaé›†åˆè®¡ç®—å‡½æ•°ï¼šçœ‹æ–‡æ¡£çš„ä»£ç å’Œæ‰å¹³åŒ–+æ˜ å°„çš„æ–¹æ³•ï¼ŒScalaçš„ä»£ç åˆç®€æ´ï¼Œæ›´åƒæŠ½è±¡ï¼Œä¸€ä¸‹å­çœ‹æ–‡æ¡£çœ‹ä¸æ˜ç™½ï¼Œä¸€å¥—åµŒä¸€å¥—çš„ï¼Œå¾ˆå¤šåœ°æ–¹çš„ç±»å‹ä»€ä¹ˆéƒ½çœç•¥äº†ï¼Œç”¨_ç›´æ¥ä»£æ›¿ï¼Œå¯¼è‡´æˆ‘è¿™ä¸€å—å¡äº†å¾ˆä¹…ï¼Œå»æ¢äº†IDEAè®¾ç½®ï¼Œè‡ªåŠ¨è¡¥é½ç±»å‹ï¼Œç†è§£èµ·æ¥æ–¹ä¾¿å¤šäº†ï¼Œåœ¨æˆ‘ç†è§£çš„flatMap ç›¸å½“äºå…ˆè¿›è¡Œ map æ“ä½œï¼Œåœ¨è¿›è¡Œ flattenæ“ä½œï¼Œè¿™é‡ŒåŸºæœ¬å°±æ˜¯æ‰å¹³åŒ–+æ˜ å°„çš„åŸç†ï¼Œåˆ°åé¢åˆ†åŒºä»€ä¹ˆåˆç»“åˆä¸€èµ·ï¼Œä»£ç å…¨éƒ¨å†™ä¸€è¡Œï¼Œè¦çœ‹å¥½ä¸€ä¼šæ‰è¡Œã€‚æ…¢æ…¢ä¹Ÿèƒ½æ‹æ¸…é™¤ã€‚</p><p>Sparkæ¦‚å¿µï¼šä¹‹å‰å­¦Scalaçš„æ—¶å€™å°±è¯´ï¼Œå­¦Scalaå°±æ˜¯ä¸ºäº†Sparkï¼Œåˆ°Sparkï¼Œå‘ç°å¼€å‘è¯­å¥éƒ½æ˜¯Scalaã€‚åœ¨æˆ‘çœ‹æ¥ï¼ŒSparkä¹Ÿæ˜¯ä¸€ç§å¤§æ•°æ®è®¡ç®—æ¡†æ¶ï¼Œå’ŒMRç±»ä¼¼ï¼Œä½†æ˜¯æ¯”MRå¼ºå¾ˆå¤šï¼Œä¸ç®¡æ˜¯è¿è¡Œè¿˜æ˜¯å„ç§æ–¹é¢ï¼Œæ•ˆç‡æ–¹é¢æ¯”MRå¼º100å€ï¼Œæœ‰è¿™ä¹ˆå¤¸å¼ ã€‚ä½†æ˜¯Sparkå› ä¸ºæ˜¯æ–°èµ·çš„ï¼Œæ‰€ä»¥æœ‰äº›åœ°æ–¹ä¸å¤Ÿå®Œå–„ï¼Œå®¹æ˜“å†…å­˜æº¢å‡ºï¼Œä½†æˆ‘åªé‡åˆ°è¿‡ä¸€æ¬¡ã€‚Sparkä¸»è¦ç”¨äºå¤§æ•°æ®çš„è®¡ç®—ï¼Œè€ŒHadoopä»¥åä¸»ç”¨äºå¤§æ•°æ®çš„å­˜å‚¨HDFSå’ŒHiveï¼Œä»¥åŠèµ„æºè°ƒåº¦ã€‚Spark+Hadoopçš„ç»„åˆï¼Œæ˜¯æœªæ¥å¤§æ•°æ®é¢†åŸŸæœ€çƒ­é—¨çš„ç»„åˆï¼Œä¹Ÿæ˜¯æœ€æœ‰å‰æ™¯çš„ç»„åˆï¼è¿‡æ–­æ—¶é—´æŠŠHadoopæ¢æˆSparkæ‰§è¡Œåº”è¯¥ä¼šå¿«ä¸Šä¸å°‘ã€‚</p><h4 id="è‡ªæˆ‘å‘¨æ€»ç»“ï¼š-3">è‡ªæˆ‘å‘¨æ€»ç»“ï¼š</h4><p>è¿™å‘¨å­¦å®Œäº†Scalaå’ŒSparkï¼Œå­¦ä¹ é€Ÿåº¦è¿˜æ˜¯å¾ˆæ»¡æ„çš„ã€‚ä½†æ˜¯å­¦ä¹ é¡ºåºå‡ºç°äº†ç‚¹é—®é¢˜ï¼Œæ²¡æœ‰å­¦Hiveï¼Œå°±å»çœ‹Sparkäº†ï¼Œå‰é¢å¬çš„å¾ˆæ‡µï¼Œåˆ°åé¢æœ€é‡è¦çš„SparkSQLï¼Œæ–‡æ¡£è®©ç”¨Hiveçš„ï¼Œæˆ‘è¿Hiveæ˜¯ä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼Œä¸‹å‘¨å¾—å»çœ‹å®ŒHiveæ‰å›å¤´æ¥çœ‹SparkSQLäº†ï¼Œè¿™å‘¨çš„å­¦ä¹ çŠ¶æ€æ˜¯å¾ˆä¸é”™çš„ï¼Œéƒ½æ˜¯æ•²ä»£ç ï¼Œä»£ç æ•²äº†å¾ˆå¤šï¼ŒSparkè¯­æ³•ä¹Ÿéƒ½è®°ä½äº†ï¼Œç»“åˆç¬”è®°ï¼Œä¹Ÿèƒ½è‡ªå·±å†™å‡ºç®€å•çš„æ¡ˆä¾‹ã€‚è¿™å‘¨BUGå‡ºç°è›®å¤šçš„ï¼Œéƒ½æ˜¯åœ¨Scalaçš„è¯­å¥ä¸­ï¼Œ._è¿™å—å‡ºç°äº†å¾ˆå¤šæ¬¡é—®é¢˜ï¼ŒScalaè¿˜æ˜¯æ²¡ç”¨é¡ºï¼Œä¸ºäº†ç®€æ´çš„è¯­æ³•ï¼Œæ˜æ˜æ˜¯ä¸€å±‚è°ƒç”¨ä¸€å±‚çš„ï¼Œå…¨éƒ¨å†™åœ¨ä¸€è¡Œï¼Œç„¶ååŒ–ç®€ï¼Œå¯¼è‡´è‡ªå·±æœ‰æ—¶å€™éƒ½å¾—çœ‹å¥½ä¸€ä¼šï¼Œæ‰èƒ½æ‹æ¸…é™¤ã€‚</p><h3 id="ç¬¬å››å‘¨7-25-7-31">ç¬¬å››å‘¨7.25-7.31</h3><p><strong>è¿™å‘¨çš„å­¦ä¹ å†…å®¹</strong> ï¼šHiveé…ç½® DDLè¯­å¥ DMLè¯­å¥ Joinè¯­å¥ å‡½æ•°</p><p><strong>éš¾ç‚¹ï¼š</strong> Hiveé…ç½®</p><h4 id="è‡ªæˆ‘å‘¨æ€»ç»“ï¼š-4">è‡ªæˆ‘å‘¨æ€»ç»“ï¼š</h4><p>è¿™å‘¨é…ç½®è¿™ä¸ªHiveçš„ç¯å¢ƒé…ç½®äº†ä¸¤å¤©åŠï¼Œæ‰ç£•ç£•ç»Šç»Šæå¥½ã€‚åŸæœ¬è‡ªå·±å¼„äº†ä¸€å¤©ï¼Œç¬¬äºŒå¤©çš„æ—¶å€™åˆä¸è¡Œäº†ï¼Œç„¶åä¸€æŠ¥é”™ï¼Œå°±å»CSDNæ‰¾è§£å†³æ–¹æ³•ï¼Œåˆ°JDBCçš„æ—¶å€™å®Œå…¨èµ·ä¸æ¥ï¼ŒJaråŒ…éƒ½æ‰¾ä¸åˆ°äº†ï¼Œä¸çŸ¥é“è¢«æåˆ°å“ªé‡Œäº†ï¼Œå°±è®©å–»ä¸­è´µé‡æ–°å¸®æˆ‘å…‹éš†é…ç½®äº†3å°æœ‰hadoopçš„è™šæ‹Ÿæœºï¼Œè‡ªå·±ä»å¤´åˆ°å°¾åˆæ ¹æ®ä¹‹å‰è§£å†³çš„æ€è·¯ï¼Œé…ç½®äº†ä¸€ä¸‹åˆï¼Œå…¨éƒ¨éƒ½æå¥½äº†ï¼Œä¹ŸèŠ±äº†ä¸¤å¤©å¤šæ—¶é—´ï¼Œå¯¼è‡´æœ¬æ¥æƒ³è¿™å‘¨å°±ç»“æŸHiveçš„ç°åœ¨æ‰å­¦äº†2/3ã€‚è¿™å—é…ç½®è¿˜æ˜¯ä¸è¦çæäº†ï¼Œå¤ªæµªè´¹æ—¶é—´äº†ï¼Œåé¢æ‰æ˜¯è‡ªå·±è¦çŸ¥é“çš„é‡ç‚¹ã€‚Hiveåé¢çš„ä»»åŠ¡ï¼Œæˆ‘è§‰å¾—æ²¡ä»€ä¹ˆéš¾çš„åœ°æ–¹ã€‚DDLå’ŒDMLè¯­å¥åŸºæœ¬å’ŒSQLè¯­å¥å·®ä¸å¤šï¼Œéƒ½æ˜¯SQLåŸºç¡€è¯­å¥ã€‚</p><h2 id="äºŒã€è‡ªæˆ‘æ€»ç»“">äºŒã€è‡ªæˆ‘æ€»ç»“</h2><p><strong>è‡ªæˆ‘åçœï¼š</strong></p><p>è‡ªå·±è§£å†³BUGçš„èƒ½åŠ›ä¸å¤ªè¡Œï¼Œç°åœ¨æ–‡æ¡£çš„é‡è¦æ€§æ˜¯ä½“ç°å‡ºæ¥äº†ï¼Œå› ä¸ºè€å¸ˆå¾ˆå¤šä¸œè¥¿éƒ½è°ƒæ•™å¥½äº†ï¼Œæˆ‘ä»¬ç”¨çš„æ—¶å€™ä¼šå‡ºç°å¾ˆå¤šé—®é¢˜ï¼Œè¦å»è§£å†³å°±æ˜¯è¦çœ‹åšå®¢ã€‚å¹³å¸¸è§£å†³ä¸€äº›BUGä¸é¡ºåˆ©çš„è¯éƒ½ä¼šèŠ±ä¸€å°æ—¶ç”šè‡³ä¸€ä¸Šåˆçš„æ—¶é—´å»è§£å†³ï¼Œè¿™æ ·å½±å“è¿˜æ˜¯å¾ˆå¤§çš„ï¼Œä¸ç®¡æ˜¯è¿›åº¦è¿˜æ˜¯å¿ƒæ€ã€‚</p><p>é…ç½®Hiveé‚£ä¸¤å¤©çš„æ—¶å€™å‘ç°äº†è‡ªèº«çš„é—®é¢˜ï¼Œå¯èƒ½æˆ‘è‡ªå·±çš„é‚£å°æœºå­ï¼Œåº”è¯¥æ˜¯å¥½çš„ï¼Œå¯åŠ¨æ–¹å¼å’Œè€å¸ˆä¸ä¸€æ ·è€Œå·²ï¼Œå¯¼è‡´æˆ‘ç”¨è€å¸ˆé‚£ç§æ–¹å¼ï¼Œä¸€ç›´ç­‰ä¸åˆ°OKï¼Œè€Œä¸”å‘½ä»¤æ•²å®Œï¼Œæç¤ºä¿¡æ¯å’Œè€å¸ˆä¸ä¸€æ ·ï¼Œå°±è§‰å¾—è‡ªå·±ä¹‹å‰çš„é…ç½®å“ªé‡Œæœ‰äº†é—®é¢˜ï¼Œåˆæ‰¾ä¸åˆ°ï¼Œé‡å†™å¼„äº†ä¸‰å°ï¼Œä»å¤´åˆ°å°¾ java hadoop hive spark é‡é…ç½®ã€‚åé¢åˆ°JDBCçš„æ—¶å€™ï¼Œæç¤ºä¿¡æ¯è·Ÿä¹‹å‰è¿˜æ˜¯ä¸€æ ·ï¼Œä½†æ˜¯è‡ªå·±è¯•ç€å»è¿è¡Œäº†ä¸€ä¸‹ï¼Œå‘ç°å¥½äº†ã€‚æ„Ÿè§‰æµªè´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œå°±æ˜¯å› ä¸ºè‡ªå·±æ²¡æœ‰å»è¯•beelineå‘½ä»¤ï¼Œè®¤ä¸ºå‰é¢é”™ï¼Œåé¢ä¹Ÿé”™ã€‚</p><p>ç„¶åè‡ªå·±å­¦ä¹ çš„æ—¶å€™ï¼Œæ²¡å…ˆæå‰å»ææ‡‚è¿™ä¸œè¥¿æ˜¯å¹²å˜›çš„ï¼Œè¦åœ¨ä»€ä¹ˆçš„åŸºç¡€ä¹‹ä¸Šï¼Œæ‰€ä»¥å‡ºç°äº†å­¦ä¹ æ­¥éª¤çš„é—®é¢˜ï¼ŒSparkSQLä¹‹å‰è¦çœ‹Hiveï¼ŒHiveä¹‹å‰è¦çœ‹Hadoopï¼Œè¿™æ˜¯ä¸€æ¡çº¿ï¼Œæ•´åäº†ï¼Œå°±ä¼šå¬ä¸æ‡‚ã€‚åƒä¹‹å‰å­¦Hadoopçš„æ—¶å€™ï¼Œæ²¡å…ˆææ‡‚Hadoopæ˜¯ä»€ä¹ˆï¼Œå‰é¢è®²hadoopæ˜¯ä»€ä¹ˆå¹²å˜›çš„ï¼Œä¸ºäº†è¿›åº¦ï¼Œç›´æ¥è·³äº†ï¼Œå¯¼è‡´å­¦åˆ°åé¢ï¼Œéƒ½ä¸çŸ¥é“hadoopæ˜¯ä»€ä¹ˆå¹²å˜›çš„ï¼Œåˆå»çœ‹äº†åšå®¢ï¼Œå†å­¦çš„æ—¶å€™ä¼šç›¸å¯¹å®¹æ˜“ç‚¹ï¼Œæœ‰æ¸…æ™°çš„æ¡ç†ã€‚ä¸ç„¶å°±åƒæ— å¤´è‹è‡ä¸€æ ·ï¼Œä¸çŸ¥é“åœ¨å­¦ä»€ä¹ˆã€‚ä¸ºäº†è¿›åº¦ï¼Œè®²æ¦‚è¿°å¯ä»¥è·³ï¼Œæœ€å¥½è¿˜æ˜¯å¾—å…ˆå»åšå®¢äº†è§£ï¼Œçœ‹æ–‡æ¡£æ¯”è§†é¢‘å¿«å¾ˆå¤šï¼Œä¹Ÿèƒ½å¼„æ˜ç™½ä¸œè¥¿çš„ä½œç”¨ã€‚</p><p>ç°åœ¨å­¦ä¹ çš„æ—¶é—´ç›¸å¯¹ä¹‹å‰å¢åŠ äº†ï¼ŒåŠ ä¸Šå‘¨æœ«ä»¥åŠæ¯å¤©çš„æ—©å…«æ™šä¹ï¼Œä¸€å¤©å­¦ä¹ æ—¶é—´å¯ä»¥è¾¾åˆ°8ä¸ªå°æ—¶ï¼ŒåŠ ä¸Šè¦èµ¶è¿›åº¦ï¼Œå­¦ä¹ æ•ˆç‡æ¯”ä¹‹å‰é«˜ä¸Šä¸å°‘ï¼Œå› ä¸ºé…ç½®å’Œå­¦ä¹ é¡ºåºï¼Œæ‹–ç´¯çš„è¿™ä¸ªæœˆçš„è¿›åº¦ï¼Œæœ¬æ¥è¿™ä¸ªæœˆæ‰“ç®—Hiveå­¦å®Œçš„ï¼Œç„¶åèŠ±ä¸¤å¤©å›å¤´çœ‹ä¸‹SparkSQLå°±å¯ä»¥åˆ·é¢˜äº†ï¼Œç°åœ¨Hiveåªçœ‹äº†ä¸€åŠï¼Œå¸Œæœ›ä¸‹æ˜ŸæœŸèƒ½å­¦å®Œè‡ªå·±çš„ä»»åŠ¡ï¼Œç„¶åå­¦é•¿å‡ºé¢˜åšä¸€ä¸‹ï¼Œçœ‹ä¸€ç™¾éä¸å¦‚å»åšä¸€éã€‚è‡ªå·±æ¯”ä¹‹å‰çš„è¿›æ­¥ä¹Ÿè›®å¤§çš„ï¼Œå­¦ä¼šäº†çœ‹æ–‡æ¡£ï¼ŒçœŸçš„æ˜¯äº‹åŠåŠŸå€ï¼Œå­¦ä¼šä¸€ä¸ªè¯­è¨€çš„åŸºæœ¬ç”¨æ³•ï¼Œçœ‹æ–‡æ¡£ä¸éœ€è¦ä¸€ä¸ªæ˜ŸæœŸå°±èƒ½æå®šã€‚æ–‡æ¡£çš„é‡è¦è¿˜æ˜¯ä½“ç°å‡ºæ¥äº†ã€‚ç°åœ¨çš„å­¦ä¹ æ­¥éª¤å°±æ˜¯çœ‹æ–‡æ¡£ï¼Œåˆ°å‡ºBUGï¼Œæˆ–è€…çœ‹ä¸æ‡‚çš„åœ°æ–¹ï¼Œå†å»çœ‹è§†é¢‘ï¼Œè§†é¢‘ä¸è¡Œå°±å»CSDNæœã€‚ç„¶åè‡ªå·±çš„åšå®¢ä¹Ÿæ˜¯å¾ˆä¹…æ²¡æ›´æ–°äº†ï¼Œè™½ç„¶æ²¡ä»€ä¹ˆç‚¹å‡»é‡ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿˜æ˜¯è¦å†™èµ·æ¥çš„ï¼Œç­‰å¤§æ•°æ®ç»“æŸäº†ï¼Œå¸Œæœ›èƒ½å†æŠŠåšå®¢å‘èµ·æ¥ï¼Œè‡ªå·±å¤„ç†BUGçš„è¿‡ç¨‹ä»€ä¹ˆï¼Œéƒ½å¯ä»¥å»å‘ï¼Œäº‰å–ä¸€å¤©ä¸€ç¯‡ã€‚å½“ä½œæ—¥å¸¸ä»»åŠ¡ä¸€æ ·ã€‚</p><h2 id="ä¸‰ã€æµ…è°ˆæƒ…å•†">ä¸‰ã€æµ…è°ˆæƒ…å•†</h2><p>â€‹EQä¿—ç§°æƒ…å•†ã€‚å¼€é—¨è§å±±äº†ï¼Œå¯¹äºè¿™ç¯‡æ–‡ç« è¿˜æ˜¯æœ‰è‡ªå·±çš„è§è§£çš„ã€‚é¦–å…ˆæ˜¯å¯¹äºæœ¬æ–‡ç¬¬äºŒç‚¹ï¼Œæ–°æ—¶æœŸå¤§å­¦ç”Ÿæƒ…å•†å­˜åœ¨çš„é—®é¢˜ï¼Œè°ˆè°ˆæˆ‘è‡ªå·±è¸©åˆ°çš„ç‚¹ï¼Œåƒæ˜¯ç…§é•œå­ä¸€èˆ¬ã€‚</p><p>â€‹æœ€ä¸¥é‡å°±æ˜¯è‡ªæˆ‘ç®¡ç†èƒ½åŠ›ï¼Œæƒ…å•†æœ¬è´¨ä¸Šæ˜¯ä¸€ç§è‡ªæˆ‘ç®¡ç†èƒ½åŠ›ã€‚æˆ‘ç»å¸¸åœ¨è‡ªå·±çš„ç­¾åæˆ–è€…é”å±ä¸Šï¼Œå†™ä¸Šå¾‹å­—ï¼Œæˆ–è€…å’Œè‡ªå¾‹ç›¸å…³çš„è¯ï¼Œä¹‹å‰çœ‹åˆ°å‡ ä¸ªåŒå­¦ä¹Ÿè·Ÿæˆ‘å·®ä¸å¤šï¼Œç›¸ä¿¡éƒ½æ˜¯å› ä¸ºè‡ªå·±çš„è‡ªåˆ¶åŠ›å¾ˆå·®ï¼Œæ‰å†™è¿™ç§æé†’ç€è‡ªå·±ï¼Œä½†æ˜¯æ•ˆæœå¾®ä¹å…¶å¾®äº†ï¼Œç»å¸¸è‡ªå·±æ˜æ˜åˆ¶å®šå¥½äº†è®¡åˆ’ï¼Œå­¦ä¹ æˆ–è€…æ˜¯é”»ç‚¼ï¼Œæ€»ä¹‹æ˜¯å¯¹è‡ªå·±å¥½çš„è®¡åˆ’ï¼Œä½†æ˜¯è‡ªå·±å´ä¸å¼€å¿ƒå¹²çš„äº‹æƒ…ã€‚ä¸å‡ºæ‰€æ–™ï¼Œè‡ªå·±ä¼šå¿ä¸ä½å»å¹²è‡ªå·±å–œæ¬¢çš„äº‹æƒ…ï¼Œä¸æ˜¯æ‰“æ¸¸æˆå°±æ˜¯åˆ·æŠ–éŸ³ï¼Œç”šè‡³æ˜¯å‘å‘†ï¼Œå°±æ˜¯ä¸æƒ³å»åšï¼Œæ‡’å­—åˆ»åœ¨èº«äº†ã€‚ç¬¬äºŒç‚¹çš„å¿ƒé‡Œç´ è´¨ï¼Œæ›¾ç»è¸©è¿‡å‘å§ï¼Œç°åœ¨ç®—æ˜¯è·³å‡ºæ¥äº†ï¼Œè¿˜æ˜¯è›®ä¸¥é‡çš„ã€‚æƒ…ç»ªæ˜¯çœŸçš„å¾ˆå¯æ€•çš„äº‹æƒ…ï¼Œè‡ªå·±åœ¨å¤§å­¦ä¹‹å‰å¤§æ¦‚æœ‰è¿‡ä¸‰æ¬¡ï¼Œä¸¥é‡çš„æƒ…ç»ªæ³¢åŠ¨ï¼Œéƒ½æ˜¯å’Œå­¦ä¹ ç›¸å…³çš„ï¼Œå†æ¸…æ™°ç‚¹å°±æ˜¯è€ƒè¯•æˆç»©ï¼Œä¸‰æ¬¡å½±å“è‡ªå·±ä¸€ç”Ÿçš„è€ƒè¯•ï¼Œéƒ½æ˜¯å¤§å¤§çš„å¤±å¸¸å‘æŒ¥ï¼Œæ‰€ä»¥æƒ³è¿‡è‡ªå·±å»åšæç«¯çš„äº‹æƒ…ã€‚æˆ‘è§‰å¾—è¿™ä¹Ÿä¸ç®—æ‰¿å—èƒ½åŠ›å·®å§ï¼Œå‘ç”Ÿåœ¨è‡ªå·±èº«ä¸Šçš„éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œæ”¾åˆ°åˆ«äººèº«ä¸Šåˆä¼šå¦‚ä½•ï¼Œæ²¡äººèƒ½è·Ÿä½ æ„ŸåŒèº«å—ã€‚</p><p>åé¢å‡ ç‚¹æˆ‘è§‰å¾—æ²¡è¸©å‘è¸©ä¸‹å»ï¼Œäººé™…äº¤å¾€èƒ½åŠ›å’Œé“å¾·ç´ è´¨æ˜¯å¾ˆæŒ‚é’©çš„ï¼Œä»å°åœ¨å­¦æ ¡ç­çº§ï¼Œå¹´çº§ç­‰ã€‚è‡ªå·±éƒ½ä¼šæœ‰ä¸€å¤§å †çš„æœ‹å‹ï¼Œä¹Ÿæœ‰å¾ˆå¤šäº¤å¿ƒçš„ï¼Œåƒé•¿è¾¾åå¹´çš„æœ‹å‹ä¹Ÿæ˜¯å¾ˆå¤šçš„ã€‚æ‰€ä»¥æˆ‘è§‰å¾—è¿™ä¸¤ç‚¹è‡ªå·±åšçš„è¿˜æ˜¯å¯ä»¥çš„ã€‚æ„Ÿæ©æ–¹é¢çš„æ„è¯†ï¼Œå¾ˆæ‡‚å¾—â€œç™¾å–„å­ä¸ºå…ˆâ€â€œæ»´æ°´ä¹‹æ©ï¼Œå®šå½“æ¶Œæ³‰ç›¸æŠ¥â€è¿™ç±»è¯¸å¼çš„è¯çš„ã€‚</p><p>æƒ…å•†çš„é‡è¦æ€§ä¸è¨€è€Œå–»ï¼Œåœ¨æˆ‘å»å¹´æš‘å‡åœ¨å‰§ç»„ä¸­ï¼Œè§è¿‡å¾ˆå¤šå½¢å½¢è‰²è‰²çš„äººï¼Œæœ‰ä¸ªè€å¤§å“¥é‚£å¤©åšé‚£è¾¹å’Œæˆ‘èŠå¤©ï¼Œè¯´å‰§ç»„ä¸­å¾ˆå¤šäººéƒ½æ˜¯èƒ½åŠ›å¾ˆå¼ºï¼Œä½†æ˜¯å°±æ˜¯èµšä¸åˆ°é’±ï¼Œæˆä¸äº†å¤§äº‹ï¼Œæˆ‘æ˜¯ç¯å…‰ç»„çš„ï¼Œç¯å…‰ç»„é‚£ä¹ˆå¤šäººï¼Œå‡ åä¸ªï¼Œä¸ºä»€ä¹ˆå°±ä¸€ä¸ªç¯å…‰æ€»ç›‘ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯è°ƒç¯çš„ã€‚ç¯å…‰æ€»ç›‘æ‰‹ä¸‹äººï¼Œä¸€å¤§åŠéƒ½æ›¾ç»å°è¯•è¿‡è‡ªå·±å»å¸¦ä¸€äº›äººï¼Œå»æ‹æˆï¼Œä½†æ˜¯éƒ½æ˜¯å¤±è´¥è€Œç»ˆï¼Œæœ‰äº†ä¸€æ¬¡æ²¡ä¸‹æ¬¡ï¼Œå°±æ˜¯æƒ…å•†çš„é—®é¢˜ï¼Œå¤§ç™½è¯å°±æ˜¯ä¸ä¼šè¯´è¯ï¼Œä¸ä¼šåšäº‹ï¼Œæ€§æ ¼ä¸è¡Œï¼Œå„ç§å„ç§æ–¹é¢ï¼Œå¯¼è‡´äººå®¶åªå’Œä½ æ‹ä¸€æ¬¡ã€‚ä»é‚£æ¬¡ä»¥åï¼Œæˆ‘å°±ä¸€ç›´è®¤ä¸ºæœºé‡&gt;æƒ…å•†&gt;èƒ½åŠ›ï¼Œç°å®å°±æ˜¯è¿™æ ·ï¼Œé™¤éä½ èƒ½åŠ›å¾ˆå¼ºå¾ˆå¼ºã€‚èƒ½åŠ›å¼ºçš„äººï¼Œåˆæœ‰å‡ ä¸ªä½æƒ…å•†å‘¢ï¼Ÿ</p><p>æ–‡ç« å­¦æ ¡å±‚é¢çš„æ”¿ç­–ï¼Œè¯´éš¾å¬ç‚¹ï¼Œå¯¹å¤§å­¦ç”Ÿè¿™äº›æ–¹é¢çš„æ”¹å–„å‡ ä¹å’©ç”¨ã€‚è¾…å¯¼å‘˜ï¼ˆç­ä¸»ä»»ï¼‰è¦ç»å¸¸ä¸å­¦ç”Ÿä¿æŒå¯†åˆ‡çš„è”ç³»å’Œäº¤æµï¼Œå¤šä¸å­¦ç”Ÿè¿›è¡Œå¹³ç­‰åœ°è°ˆå¿ƒè°ˆè¯ï¼Œå…³æ³¨å¤§å­¦ç”Ÿçš„æƒ…æ„ŸåŠ¨å‘ï¼Œå¹¶è¿›è¡Œæ­£å‘çš„å¼•å¯¼ã€‚è¿™ç‚¹å€’æ˜¯æœ‰ç‚¹ç”¨ï¼Œæˆ‘é«˜ä¸­åé¢å­¦ä¹ ï¼Œè‡ªå¾‹ç­‰æ–¹é¢éƒ½æ˜¯æºäºï¼Œè‡ªå·±åŸæœ¬ä¸å¤ªå–œæ¬¢çš„è¯­æ–‡è€å¸ˆçš„ä¸€å¥è¯ã€‚è€å¸ˆå› ä¸ºèº«ä½“åŸå› ä¸¤ä¸ªæœˆæ²¡æ¥å­¦æ ¡(è¿™ä¹‹å‰å‡ ä¹å’Œè€å¸ˆæ²¡ä»€ä¹ˆäº¤æµ)ï¼Œè€å¸ˆå›æ¥çœ‹åˆ°æˆ‘ï¼Œç¬¬ä¸€å¥è¯å°±æ˜¯ï¼šä½ æ€ä¹ˆéƒ½ç˜¦äº†ï¼Œæˆ‘ç³å­”ç›´æ¥éœ‡æƒŠã€‚åé¢è€å¸ˆè¯´çš„ä»€ä¹ˆè¯ï¼Œæˆ‘éƒ½ä¼šå»å¬ï¼Œä¸€å¤©ä¸¤ä¸‰ç¯‡ä½œæ–‡æ”¹äº†åˆæ”¹ï¼Œè¿½ç€è€å¸ˆé—®ï¼Œé‚£æ®µæ—¶é—´è¿˜æ˜¯å¾ˆæ€€å¿µçš„ï¼Œä¹Ÿæ˜¯è€å¸ˆæ”¹å˜äº†æˆ‘ï¼Œå­¦ä¹ ä¹ æƒ¯ä¹Ÿå¥½ï¼Œè‡ªå¾‹ä¹Ÿå¥½ï¼Œå°Šå¸ˆä¹Ÿå¥½ï¼Œéƒ½æ˜¯è€å¸ˆå¸¦ç»™æˆ‘çš„ã€‚æ‰€ä»¥æˆ‘è§‰å¾—è¦å¯¹ä¸€ä¸ªäººæƒ…å•†ï¼Œè¡Œä¸ºçš„æ”¹å˜ï¼Œå¦‚æœé å¤–äººï¼Œé‚£è¿™ä¸ªäººæ˜¯åœ¨ä»–å¿ƒä¸­æœ‰ä¸€å®šåˆ†é‡çš„ã€‚ä¸ç„¶è¿™äº›è¡¨é¢çš„å¼€å±•æ´»åŠ¨ï¼Œè®²åº§ï¼Œåœ¨æˆ‘çœ‹æ¥è§‰å¾—ä¸€ç‚¹ç”¨éƒ½æ²¡æœ‰ï¼Œæ˜¯æˆ‘çš„ä¸»è§‚æ„Ÿå—ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œä¸€ä¸‡ä¸ªäººæœ‰ä¸€ä¸‡ä¸ªå“ˆå§†é›·ç‰¹ï¼Œç›¸ä¿¡æ¯ä¸ªäººå¯¹è‡ªå·±å¯¹ä»–äººï¼Œå¯¹ä»»ä½•äº‹éƒ½æœ‰è‡ªå·±çš„çœ‹æ³•ï¼Œè‡ªå·±çš„é—®é¢˜è‡ªå·±æœ€çŸ¥é“ï¼Œè§£å†³æ–¹æ³•ä¹Ÿåœ¨ä¹ä¸ªäººï¼Œè¿™ä¸æ˜¯å›ºå®šå¼ã€‚é—®å›èƒ½æœ‰å‡ å¤šæ„ï¼Ÿæ„å•Šæ„å•Š</p>]]></content>
    
    
    <summary type="html">åˆ›æ–°å·¥ä½œå®¤7æœˆæ€»ç»“</summary>
    
    
    
    <category term="å·¥ä½œå®¤æœˆæ€»ç»“" scheme="https://u7u7.top/categories/%E5%B7%A5%E4%BD%9C%E5%AE%A4%E6%9C%88%E6%80%BB%E7%BB%93/"/>
    
    
    <category term="æ€»ç»“" scheme="https://u7u7.top/tags/%E6%80%BB%E7%BB%93/"/>
    
  </entry>
  
  <entry>
    <title>ç‘å‰å¤–å–</title>
    <link href="https://u7u7.top/posts/a1e1aa91.html"/>
    <id>https://u7u7.top/posts/a1e1aa91.html</id>
    <published>2023-03-10T06:00:25.000Z</published>
    <updated>2023-03-10T06:00:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="10-26-ç‘å‰å¤–å–-DAY1">10.26 ç‘å‰å¤–å– DAY1</h1><h2 id="1-å¤´-æ‰€å­¦å†…å®¹å‡ºå¤„">1.å¤´ æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="äº†è§£è½¯ä»¶å¼€å‘æ•´ä½“ä»‹ç»">äº†è§£è½¯ä»¶å¼€å‘æ•´ä½“ä»‹ç»</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211080807437.png" alt="image.png"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211080807438.png" alt="image.png"></p><h3 id="å¼€å‘ç¯å¢ƒçš„æ­å»º">å¼€å‘ç¯å¢ƒçš„æ­å»º</h3><h4 id="æ•°æ®åº“ç¯å¢ƒçš„æ­å»º">æ•°æ®åº“ç¯å¢ƒçš„æ­å»º</h4><p>è¯¾ä»¶æä¾›äº†sqlæ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥source å¯¼å…¥mysqlä¸­ æ—©å°±ä¹ ä»¥ä¸ºå¸¸äº†</p><h4 id="Mavené¡¹ç›®åˆ›å»º">Mavené¡¹ç›®åˆ›å»º</h4><p>ä¹Ÿå¾ˆç®€å•ï¼Œæ™®é€šçš„mavené¡¹ç›®ï¼Œå¤ä¹ å¯¼å…¥åæ ‡å’Œyamlæ–‡ä»¶ï¼Œå› ä¸ºä¸æ˜¯ç›´æ¥åˆ›å»ºçš„springBoot é¡¹ç›®ï¼Œæ‰€ä»¥è¦åˆ›å»ºBootç¨‹åºå…¥å£</p><h4 id="3-1-åå°ç™»å½•å¼€å‘">3.1 åå°ç™»å½•å¼€å‘</h4><p>å…ˆåˆ›å»ºä¸€ä¸ªå®ä½“ç±»å’Œmapperä»¥åŠservice</p><p>å†å°è£…ä¸€ä¸ªRä½œä¸ºè¿”å›çš„ç»“æœç±»<br>ç»™EmployeeControllerç±»æ·»åŠ ä¸€ä¸ªloginæ–¹æ³•</p><ul><li>@RequestBody ä¸»è¦ç”¨äºæ¥æ”¶å‰ç«¯ä¼ é€’ç»™åç«¯çš„jsonå­—ç¬¦ä¸²ï¼ˆè¯·æ±‚ä½“ä¸­çš„æ•°æ®ï¼‰</li><li>HttpServletRequest ä½œç”¨ï¼šå¦‚æœç™»å½•æˆåŠŸï¼Œå°†å‘˜å·¥å¯¹åº”çš„idå­˜åˆ°sessionä¸€ä»½ï¼Œè¿™æ ·æƒ³è·å–ä¸€ä»½ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯å°±å¯ä»¥éšæ—¶è·å–å‡ºæ¥</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/employee&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmployeeController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeService employeeService;</span><br><span class="line">    <span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Employee&gt; <span class="title function_">login</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Employee employee)</span>&#123;<span class="comment">//æ¥æ”¶å‰ç«¯çš„jsonæ•°æ®,è¿™ä¸ªjsonæ•°æ®æ˜¯åœ¨è¯·æ±‚ä½“ä¸­çš„</span></span><br><span class="line"><span class="comment">//        1ã€å°†é¡µé¢æäº¤çš„å¯†ç passwordè¿›è¡Œmd5åŠ å¯†å¤„ç†</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> employee.getPassword();<span class="comment">//ä»å‰ç«¯ç”¨æˆ·è·å–åˆ°ç™»å½•æ—¶å€™çš„å¯†ç </span></span><br><span class="line">        password = DigestUtils.md5DigestAsHex(password.getBytes()); <span class="comment">//åŠ å¯†</span></span><br><span class="line"><span class="comment">//        2ã€æ ¹æ®é¡µé¢æäº¤çš„ç”¨æˆ·åusernameæŸ¥è¯¢æ•°æ®åº“</span></span><br><span class="line">        LambdaQueryWrapper&lt;Employee&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;(); <span class="comment">//æ³›å‹éœ€è¦å¡«å†™Employee</span></span><br><span class="line">        queryWrapper.eq(Employee::getUsername,employee.getUsername()); <span class="comment">//eqç”¨lambda::</span></span><br><span class="line">        <span class="comment">//åœ¨è®¾è®¡æ•°æ®åº“çš„æ—¶å€™æˆ‘ä»¬å¯¹usernameä½¿ç”¨äº†å”¯ä¸€ç´¢å¼•,æ‰€ä»¥è¿™é‡Œå¯ä»¥ä½¿ç”¨getOneæ–¹æ³•</span></span><br><span class="line">        <span class="type">Employee</span> <span class="variable">emp</span> <span class="operator">=</span> employeeService.getOne(queryWrapper);</span><br><span class="line"><span class="comment">//        3ã€å¦‚æœæ²¡æœ‰æŸ¥è¯¢åˆ°åˆ™è¿”å›ç™»å½•å¤±è´¥ç»“æœ</span></span><br><span class="line">        <span class="keyword">if</span> (emp == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> R.error(<span class="string">&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        4ã€å¯†ç æ¯”å¯¹ï¼Œå¦‚æœä¸ä¸€è‡´åˆ™è¿”å›ç™»å½•å¤±è´¥ç»“æœ</span></span><br><span class="line">        <span class="keyword">if</span> (! emp.getPassword().equals(password))&#123;</span><br><span class="line">            <span class="keyword">return</span> R.error(<span class="string">&quot;å¯†ç é”™è¯¯&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        5ã€æŸ¥çœ‹å‘˜å·¥çŠ¶æ€ï¼Œå¦‚æœä¸ºå·²ç¦ç”¨çŠ¶æ€ï¼Œåˆ™è¿”å›å‘˜å·¥å·²ç¦ç”¨ç»“æœ</span></span><br><span class="line">        <span class="keyword">if</span> (emp.getStatus() == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> R.error(<span class="string">&quot;ç”¨æˆ·å·²è¢«ç¦ç”¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        6ã€ç™»å½•æˆåŠŸï¼Œå°†å‘˜å·¥idå­˜å…¥Sessionå¹¶è¿”å›ç™»å½•æˆåŠŸç»“æœ</span></span><br><span class="line">        request.getSession().setAttribute(<span class="string">&quot;employee&quot;</span>,emp.getId());</span><br><span class="line">        <span class="comment">//æŠŠä»æ•°æ®åº“ä¸­æŸ¥è¯¢åˆ°çš„ç”¨æˆ·è¿”å›å‡ºå»</span></span><br><span class="line">        <span class="keyword">return</span> R.success(emp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å‘˜å·¥é€€å‡º</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;logout&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">logout</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">        <span class="comment">//æ¸…é™¤Sessionä¸­å½“å‰ç™»å½•å‘˜å·¥çš„id</span></span><br><span class="line">        request.getSession().removeAttribute(<span class="string">&quot;employee&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;é€€å‡ºæˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-2åå°ç³»ç»Ÿé€€å‡ºåŠŸèƒ½">3.2åå°ç³»ç»Ÿé€€å‡ºåŠŸèƒ½</h4><p>è¿™ä¸ªæ¯”è¾ƒç®€å• ç‚¹å‡»æŒ‰é’®é€€å‡ºåˆ°ç™»é™†é¡µé¢å°±è¡Œäº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€€å‡ºåŠŸèƒ½</span></span><br><span class="line"><span class="comment"> * â‘ åœ¨controllerä¸­åˆ›å»ºå¯¹åº”çš„å¤„ç†æ–¹æ³•æ¥æ¥å—å‰ç«¯çš„è¯·æ±‚ï¼Œè¯·æ±‚æ–¹å¼ä¸ºpostï¼›</span></span><br><span class="line"><span class="comment"> * â‘¡æ¸…ç†sessionä¸­çš„ç”¨æˆ·id</span></span><br><span class="line"><span class="comment"> * â‘¢è¿”å›ç»“æœï¼ˆå‰ç«¯é¡µé¢ä¼šè¿›è¡Œè·³è½¬åˆ°ç™»å½•é¡µé¢ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/logout&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">logout</span><span class="params">(HttpServletRequest request)</span>&#123;</span><br><span class="line">    <span class="comment">//æ¸…ç†sessionä¸­çš„ç”¨æˆ·id</span></span><br><span class="line">    request.getSession().removeAttribute(<span class="string">&quot;employee&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;é€€å‡ºæˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-BUGç‚¹">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><h3 id="3-3-å®Œå–„ç™»å½•åŠŸèƒ½">3.3 å®Œå–„ç™»å½•åŠŸèƒ½</h3><p>ä¹‹å‰çš„ç™»é™†åŠŸèƒ½æ˜¯æœ‰ä¸ªbugçš„ï¼Œåƒä¹‹å‰webçš„ä¸€ä¸ªç™»é™†æ¡ˆä¾‹ï¼Œç›´æ¥è¾“å…¥åœ°å€çš„è¯ï¼Œå°±å¯ä»¥è·³è¿‡ç™»å½•é¡µé¢ï¼Œè¾¾åˆ°ä¸ç™»å½•å°±èƒ½è¿›å…¥éœ€è¦ç™»å½•çš„ é¡µé¢ï¼Œä¹‹å‰webæ˜¯ç”¨è¿‡æ»¤å™¨çš„ï¼Œç°åœ¨ç”¨æ‹¦æˆªå™¨è§£å†³è¿™ä¸ªå°bug</p><p>è¦å…ˆåœ¨å¯åŠ¨é¡¹ä¸Šé¢åŠ å…¥@ServletComponentScanæ³¨è§£ è¯†åˆ«bean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²ç»å®Œæˆç™»é™†</span></span><br><span class="line"><span class="comment"> * filterNameè¿‡æ»¤å™¨åå­—</span></span><br><span class="line"><span class="comment"> * urlPatternsæ‹¦æˆªçš„è¯·æ±‚ï¼Œè¿™é‡Œæ˜¯æ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebFilter(filterName = &quot;LongCheckFilter&quot;, urlPatterns = &quot;/*&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginCheckFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="comment">//è·¯å¾„åŒ¹é…å™¨ï¼Œæ”¯æŒé€šé…ç¬¦</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">AntPathMatcher</span> <span class="variable">PATH_MATCHER</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AntPathMatcher</span>();</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        <span class="type">HttpServletRequest</span> <span class="variable">request</span> <span class="operator">=</span> (HttpServletRequest) servletRequest;</span><br><span class="line">        <span class="type">HttpServletResponse</span> <span class="variable">response</span> <span class="operator">=</span> (HttpServletResponse) servletResponse;</span><br><span class="line">        <span class="comment">//1ã€è·å–æœ¬æ¬¡è¯·æ±‚çš„URI</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">requestURI</span> <span class="operator">=</span> request.getRequestURI();</span><br><span class="line">        <span class="comment">//å®šä¹‰ä¸éœ€è¦å¤„ç†çš„è¯·æ±‚è·¯å¾„  æ¯”å¦‚é™æ€èµ„æº(é™æ€é¡µé¢æˆ‘ä»¬ä¸éœ€è¦æ‹¦æˆª,å› ä¸ºæ­¤æ—¶çš„é™æ€é¡µé¢æ˜¯æ²¡æœ‰æ•°æ®çš„)</span></span><br><span class="line">        String[] urls = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;</span><br><span class="line">                <span class="string">&quot;/employee/login&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/employee/logout&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/backend/**&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/front/**&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line">        log.info(<span class="string">&quot;æ‹¦æˆªåˆ°çš„è¯·æ±‚:&#123;&#125;&quot;</span>,requestURI);</span><br><span class="line">        <span class="comment">//2ã€åˆ¤æ–­æœ¬æ¬¡è¯·æ±‚æ˜¯å¦éœ€è¦å¤„ç†</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">check</span> <span class="operator">=</span> check(urls, requestURI);</span><br><span class="line">        <span class="comment">//3ã€å¦‚æœä¸éœ€è¦å¤„ç†ï¼Œåˆ™ç›´æ¥æ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">if</span> (check)&#123;</span><br><span class="line">            <span class="comment">//å¯¹è¯·æ±‚è¿›è¡Œæ”¾è¡Œ</span></span><br><span class="line">            filterChain.doFilter(request,response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//4ã€åˆ¤æ–­ç™»å½•çŠ¶æ€ï¼Œå¦‚æœå·²ç™»å½•ï¼Œåˆ™ç›´æ¥æ”¾è¡Œ</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">employee</span> <span class="operator">=</span> request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>); <span class="comment">//ç”¨æˆ·ç™»å½•çŠ¶æ€</span></span><br><span class="line">        <span class="keyword">if</span> (employee != <span class="literal">null</span>)&#123;</span><br><span class="line">            log.info(<span class="string">&quot;ç”¨æˆ·å·²ç™»å½•ï¼Œç”¨æˆ·idä¸º:&#123;&#125;&quot;</span>,employee);</span><br><span class="line">            <span class="comment">//å¯¹è¯·æ±‚è¿›è¡Œæ”¾è¡Œ</span></span><br><span class="line">            filterChain.doFilter(request,response);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        log.info(<span class="string">&quot;ç”¨æˆ·æœªç™»å½•&quot;</span>);</span><br><span class="line">        <span class="comment">//5ã€å¦‚æœæœªç™»å½•åˆ™è¿”å›æœªç™»å½•ç»“æœï¼Œé€šè¿‡è¾“å‡ºæµæ–¹å¼å‘å®¢æˆ·ç«¯é¡µé¢å“åº”æ•°æ®,å…·ä½“å“åº”ä»€ä¹ˆæ•°æ®ï¼Œçœ‹å‰ç«¯çš„éœ€æ±‚ï¼Œç„¶åå‰ç«¯ä¼šæ ¹æ®ç™»é™†çŠ¶æ€åšé¡µé¢è·³è½¬</span></span><br><span class="line">        response.getWriter().write(JSON.toJSONString(R.error(<span class="string">&quot;NOTLOGIN&quot;</span>)));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(String[] urls, String requestURI)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (String url: urls)&#123;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">match</span> <span class="operator">=</span> PATH_MATCHER.match(url, requestURI);</span><br><span class="line">            <span class="keyword">if</span> (match)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h2 id="5-æ€»ç»“">5.æ€»ç»“</h2><p>åˆšè¿›å…¥ç‘å‰å¤–å–ï¼Œä¸‹è½½äº†ä¸€äº›èµ„æ–™ï¼Œæ²¡æ‰¾åˆ°è€å¸ˆçš„å®˜æ–¹çš„pptæ–‡æ¡£ï¼Œå°±CSDNå»æœçš„ï¼Œç¬¬ä¸€å¤©çš„ä»»åŠ¡ä¸æ˜¯å¾ˆéš¾ï¼Œä¸»è¦æ˜¯å¸®åŠ©å›çœ‹ä¸€ä¸‹springbootçš„éƒ¨åˆ†ï¼Œç®—æ˜¯å°å¤ä¹ ï¼Œå°±åšäº†ä¸€ä¸ªç™»å½•å’Œé€€å‡ºï¼Œè¿˜æœ‰ä¸ªç™»å½•çš„å°BUGï¼ŒåŸºæœ¬éƒ½æ˜¯åå°çš„ä»£ç ï¼Œå‰ç«¯çš„ä¸€äº›åŠŸèƒ½éƒ½åšå¥½äº†ï¼Œåç«¯åŠ beanï¼Œè°ƒç”¨ä¸€ä¸‹å“åº”å’Œè¯·æ±‚å°±å¥½äº†ï¼Œæ¯”è¾ƒåŸºç¡€çš„è¿˜æ˜¯ã€‚å­¦ä¹ æ–¹æ³•å°±æ˜¯çœ‹è€å¸ˆè¿‡ä¸€éåŠŸèƒ½å¦‚ä½•å®ç°ï¼Œå¦‚ä½•æµ‹è¯•ï¼Œç„¶åå°±è‡ªå·±è¯•ç€å»æ•²ï¼Œæ…¢æ…¢åšå‡ºæ¥ï¼Œè¿™æ ·å­¦ï¼Œè¿›åº¦å¯èƒ½ä¼šæœ‰äº›æ…¢ï¼Œä½†æ˜¯èƒ½ææ¸…æ¥šæ¯ä¸€å—æ˜¯å¹²å˜›çš„ï¼Œæ¯ä¸ªæ³¨è§£å’Œç±»çš„ä½œç”¨å’ŒåŠŸèƒ½ã€‚</p><h1 id="10-27-ç‘å‰å¤–å–-DAY2">10.27 ç‘å‰å¤–å– DAY2</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°ğŸ’»">2.æ‰€å­¦å†…å®¹æ¦‚è¿°ğŸ’»</h2><h3 id="æ·»åŠ å‘˜å·¥">æ·»åŠ å‘˜å·¥</h3><h4 id="æ‰§è¡Œæµç¨‹åˆ†æ">æ‰§è¡Œæµç¨‹åˆ†æ</h4><ol><li>é¡µé¢å‘é€ajaxè¯·æ±‚ï¼Œå°†æ–°å¢å‘˜å·¥é¡µé¢ä¸­è¾“å…¥çš„æ•°æ®ä»¥jsonçš„å½¢å¼æäº¤åˆ°æœåŠ¡ç«¯</li><li>æœåŠ¡ç«¯Controlleræ¥æ”¶é¡µé¢æäº¤çš„æ•°æ®å¹¶è°ƒç”¨Serviceå°†æ•°æ®è¿›è¡Œä¿å­˜</li><li>Serviceè°ƒç”¨Mapperæ“ä½œæ•°æ®åº“ï¼Œä¿å­˜æ•°æ®</li></ol><h4 id="å…·ä½“å®ç°">å…·ä½“å®ç°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">save</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Employee employee)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;æ–°å¢çš„å‘˜å·¥ä¿¡æ¯ï¼š&#123;&#125;&quot;</span>, employee.toString());</span><br><span class="line">        <span class="comment">//è®¾ç½®é»˜è®¤å¯†ç 123456 MD5åŠ å¯†</span></span><br><span class="line">        employee.setPassword(DigestUtils.md5DigestAsHex(<span class="string">&quot;123456&quot;</span>.getBytes()));</span><br><span class="line">        <span class="comment">////è®¾ç½®createTimeå’ŒupdateTime</span></span><br><span class="line">        employee.setCreateTime(LocalDateTime.now());</span><br><span class="line">        employee.setUpdateTime(LocalDateTime.now());</span><br><span class="line"></span><br><span class="line"><span class="comment">//        //æ ¹æ®sessionæ¥è·å–åˆ›å»ºäººçš„id</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">empId</span> <span class="operator">=</span> (Long) request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¾ç½®id</span></span><br><span class="line">        employee.setCreateUser(empId);</span><br><span class="line">        employee.setUpdateUser(empId);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å­˜å…¥æ•°æ®åº“</span></span><br><span class="line">        employeeService.save(employee);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;æ·»åŠ å‘˜å·¥æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="å®Œå–„å…¨å±€å¼‚å¸¸å¤„ç†">å®Œå–„å…¨å±€å¼‚å¸¸å¤„ç†</h4><p>ç°åœ¨çš„ä»£ç å…¶å®æ˜¯æœ‰BUGå­˜åœ¨çš„,usernameä¸èƒ½é‡å¤ï¼Œå› ä¸ºåœ¨å»ºè¡¨çš„æ—¶å€™è®¾å®šäº†uniqueï¼Œåªèƒ½å­˜åœ¨å”¯ä¸€çš„usernameï¼Œå¦‚æœå­˜å…¥ç›¸åŒçš„usernameåˆ™ä¼šæŠ¥é”™<br>java.sql.SQLIntegrityConstraintViolationException: Duplicate entry â€˜Kyleâ€™ for key â€˜employee.idx_usernameâ€™<br>çœ‹çš„å‡ºæ¥æŠ¥é”™ç±»æ˜¯SQLIntegrityConstraintViolationException</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalExceptionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(SQLIntegrityConstraintViolationException.class)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">exceptionHandler</span><span class="params">(SQLIntegrityConstraintViolationException sqlBug)</span>&#123;</span><br><span class="line">        log.error(sqlBug.getMessage());</span><br><span class="line">        <span class="comment">//åŒ…å«Duplicate entryæ˜¯è¯´æ˜æœ‰æ¡ç›®é‡å¤</span></span><br><span class="line">        <span class="keyword">if</span> (sqlBug.getMessage().contains(<span class="string">&quot;Duplicate entry&quot;</span>))&#123;</span><br><span class="line">            <span class="comment">//å¯¹å­—ç¬¦ä¸²åˆ‡ç‰‡</span></span><br><span class="line">            String[] error = sqlBug.getMessage().split(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="comment">//Duplicate entry &#x27;zhangsan&#x27; for key &#x27;employee.idx_username&#x27;</span></span><br><span class="line">            <span class="comment">//è¿™å¥æ—¥å¿—ä¿¡æ¯ ä¸‹æ ‡ä¸º2çš„åˆšå¥½æ˜¯ç”¨æˆ·å è¿”å›å¯¹åº”ç”¨æˆ·åçš„æŠ¥é”™ä¿¡æ¯å°±å¥½äº†</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> error[<span class="number">2</span>];</span><br><span class="line">            log.error(username +<span class="string">&quot;ç”¨æˆ·å·²å­˜åœ¨&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> R.error(username +<span class="string">&quot;ç”¨æˆ·å·²å­˜åœ¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;æœªçŸ¥é”™è¯¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‘˜å·¥ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢">å‘˜å·¥ä¿¡æ¯åˆ†é¡µæŸ¥è¯¢</h3><p>æ·»åŠ MPè‡ªå¸¦çš„åˆ†é¡µæ’ä»¶ å‰æ®µæ—¶é—´åˆšå†™è¿‡åˆ†é¡µ è¿˜æ˜¯å¾ˆç†Ÿæ‚‰çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">mybatisPlusInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        mybatisPlusInterceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>());</span><br><span class="line">        <span class="keyword">return</span> mybatisPlusInterceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœ‹å‰ç«¯ä»£ç åˆ©ç”¨æ£€æŸ¥åŠŸèƒ½ï¼Œå‘ç°æ˜¯getè¯·æ±‚ /page åˆ©ç”¨Restè§„èŒƒ å†™ä¸šåŠ¡é€»è¾‘</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize, String name)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;page=&#123;&#125;,pageSize=&#123;&#125;,name=&#123;&#125;&quot;</span>, page, pageSize, name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ„é€ åˆ†é¡µæ„é€ å™¨</span></span><br><span class="line">        Page&lt;Employee&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page, pageSize);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ„é€ æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">        LambdaQueryWrapper&lt;Employee&gt; wrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ·»åŠ è¿‡æ»¤æ¡ä»¶ï¼ˆå½“æˆ‘ä»¬æ²¡æœ‰è¾“å…¥nameæ—¶ï¼Œå°±ç›¸å½“äºæŸ¥è¯¢æ‰€æœ‰äº†ï¼‰</span></span><br><span class="line">        wrapper.like(StringUtils.isNotEmpty(name),Employee::getName,name);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¹¶å¯¹æŸ¥è¯¢çš„ç»“æœè¿›è¡Œé™åºæ’åºï¼Œæ ¹æ®æ›´æ–°æ—¶é—´</span></span><br><span class="line">        wrapper.orderByDesc(Employee::getUpdateTime);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ‰§è¡ŒæŸ¥è¯¢</span></span><br><span class="line">        employeeService.page(pageInfo,wrapper);</span><br><span class="line">        <span class="keyword">return</span> R.success(pageInfo);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä¿®æ”¹æ˜¾ç¤ºä¸€é¡µå¤šå°‘è¡Œï¼Œç›´æ¥åœ¨å‰ç«¯çš„commentåŒ…ä¸­çš„list.htmlä¸­ä¿®æ”¹</p><h3 id="å¯ç”¨-ç¦ç”¨-å‘˜å·¥è´¦æˆ·">å¯ç”¨/ç¦ç”¨ å‘˜å·¥è´¦æˆ·</h3><p>å…¶å®å¾ˆç®€å•å¯¹äºåç«¯æ¥è¯´ï¼Œæƒé™é—®é¢˜åªæœ‰ç®¡ç†å‘˜æ‰èƒ½ä½¿ç”¨ï¼Œè¿™æ ·çš„åŠŸèƒ½æ˜¯åœ¨å‰ç«¯å®ç°çš„ï¼Œåç«¯çš„è¯åªè¦ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™æ³¨å…¥å¯¹åº”çš„Restè¯·æ±‚ï¼Œå°±å¥½äº†ã€‚<br>å¯ç”¨ã€ç¦ç”¨å‘˜å·¥è´¦å·ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ›´æ–°æ“ä½œï¼Œä¹Ÿå°±æ˜¯å¯¹statusçŠ¶æ€å­—æ®µè¿›è¡Œæ“ä½œåœ¨Controllerä¸­åˆ›å»ºupdateæ–¹æ³•ï¼Œæ­¤æ–¹æ³•æ˜¯ä¸€ä¸ªé€šç”¨çš„ä¿®æ”¹å‘˜å·¥ä¿¡æ¯çš„æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">Update</span><span class="params">(HttpServletRequest request, <span class="meta">@RequestBody</span> Employee employee)</span>&#123;</span><br><span class="line">        log.info(employee.toString());</span><br><span class="line">        </span><br><span class="line">        <span class="type">Long</span> <span class="variable">empId</span> <span class="operator">=</span> (Long) request.getSession().getAttribute(<span class="string">&quot;employee&quot;</span>); <span class="comment">//è·å–id</span></span><br><span class="line">        employee.setUpdateUser(empId); <span class="comment">//è®¾ç½®æ›´æ–°ç”¨æˆ·id</span></span><br><span class="line">        employee.setUpdateTime(LocalDateTime.now()); <span class="comment">//æ›´æ–°æ—¶é—´ä¸ºå½“å‰æ—¶é—´</span></span><br><span class="line">        employeeService.updateById(employee);/ /è°ƒç”¨updateæ–¹æ³•</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;å‘˜å·¥ä¿¡æ¯ä¿®æ”¹æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>å‡ºç°äº†é—®é¢˜ï¼Œajdxè¿”å›çš„idå€¼æ˜¯å’Œå®é™…çš„idå€¼ä¸ä¸€è‡´ï¼Œæ˜¯jså¯¹Longç±»å‹çš„æ•°æ®å¤„ç†æ—¶å€™ä¸¢å¤±äº†ç²¾åº¦<br>jsonæ•°æ®æ—¶è¿›è¡Œå¤„ç†ï¼Œå°†Longå‹æ•°æ®ç»Ÿä¸€è½¬ä¸ºStringå­—ç¬¦ä¸²<br>ç›´æ¥æŠŠè¯¾ä»¶ä¸­çš„ å¯¹è±¡æ˜ å°„å™¨JacksonObjectMapper å¤åˆ¶åˆ°commonåŒ…ä¸­<br>æ‰©å±•Mvcæ¡†æ¶ä¸­çš„æ¶ˆæ¯è½¬æ¢å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">extendMessageConverters</span><span class="params">(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters)</span> &#123;</span><br><span class="line">        <span class="type">MappingJackson2HttpMessageConverter</span> <span class="variable">messageConverter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MappingJackson2HttpMessageConverter</span>();</span><br><span class="line">        <span class="comment">//è®¾ç½®å¯¹è±¡è½¬åŒ–å™¨ï¼Œåº•å±‚ä½¿ç”¨jacksonå°†javaå¯¹è±¡è½¬ä¸ºjson</span></span><br><span class="line">        messageConverter.setObjectMapper(<span class="keyword">new</span> <span class="title class_">JacksonObjectMapper</span>());</span><br><span class="line">        <span class="comment">//å°†ä¸Šé¢çš„æ¶ˆæ¯è½¬æ¢å™¨å¯¹è±¡è¿½åŠ åˆ°mvcæ¡†æ¶çš„è½¬æ¢å™¨é›†åˆå½“ä¸­(indexè®¾ç½®ä¸º0ï¼Œè¡¨ç¤ºè®¾ç½®åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼Œé¿å…è¢«å…¶å®ƒè½¬æ¢å™¨æ¥æ”¶ï¼Œä»è€Œè¾¾ä¸åˆ°æƒ³è¦çš„åŠŸèƒ½)</span></span><br><span class="line">        converters.add(<span class="number">0</span>, messageConverter);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="ç¼–è¾‘å‘˜å·¥ä¿¡æ¯">ç¼–è¾‘å‘˜å·¥ä¿¡æ¯</h3><p>å…ˆè·Ÿç€è€å¸ˆçš„æ–‡æ¡£åˆ†æäº†å‰ç«¯ä»£ç æ˜¯å¦‚ä½•å®ç°é¡µé¢çš„ å›æ˜¾ä»€ä¹ˆä¹Ÿæ˜¯å‰ç«¯æ‰€å®ç°çš„ã€‚</p><p>æˆ‘æ‰€å®ç°çš„æœåŠ¡ç«¯æ¥å—è¯·æ±‚ï¼Œå¹¶æ ¹æ®å‘˜å·¥idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ï¼Œå¹¶å°†å‘˜å·¥ä¿¡æ¯ä»¥jsonå½¢å¼å“åº”ç»™é¡µé¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;Employee&gt; <span class="title function_">getById</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span>&#123;</span><br><span class="line">        log.info(<span class="string">&quot;æ ¹æ®idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯...&quot;</span>);</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> employeeService.getById(id);</span><br><span class="line">        <span class="keyword">if</span> (employee != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> R.success(employee);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;æ²¡æœ‰æ­¤ç”¨æˆ·çš„ä¿¡æ¯&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æœåŠ¡ç«¯æ¥å—å‘˜å·¥ä¿¡æ¯ï¼Œå¹¶è¿›è¡Œå¤„ç†ï¼Œå®Œæˆåç»™é¡µé¢å“åº”<br>ç”±äºä¿®æ”¹å‘˜å·¥ä¿¡æ¯ä¹Ÿæ˜¯å‘é€çš„PUTè¯·æ±‚ï¼Œä¸ä¹‹å‰å¯ç”¨/ç¦ç”¨å‘˜å·¥è´¦å·æ˜¯ä¸€è‡´çš„ï¼Œè€Œä¸”å‰é¢æˆ‘ä»¬å·²ç»å†™è¿‡äº†PUTè¯·æ±‚çš„Controllerå±‚<br>æ‰€ä»¥å½“æˆ‘ä»¬ç‚¹å‡»ä¿å­˜æŒ‰é’®æ—¶ï¼Œè°ƒç”¨submitFormå‡½æ•°ï¼Œè€Œåœ¨submitFormå‡½æ•°ä¸­æˆ‘ä»¬åˆè°ƒç”¨äº†editEmployeeå‡½æ•°ï¼Œå‘é€PUTè¯·æ±‚ï¼Œå®ç°ä¿®æ”¹åŠŸèƒ½,ç›´æ¥å°±è°ƒç”¨å‰é¢å¯åŠ¨/ç¦ç”¨å‘˜å·¥è´¦æˆ·çš„updateæ–¹æ³•äº†ï¼Œæ‰€ä»¥åªç”¨å®ç°æ ¹æ®idæŸ¥è¯¢å‘˜å·¥ä¿¡æ¯å°±è¡Œäº†</p><h3 id="å…¬å…±å­—æ®µå¡«å……">å…¬å…±å­—æ®µå¡«å……</h3><p>å‰é¢æˆ‘ä»¬å·²ç»å®Œæˆäº†å¯¹å‘˜å·¥æ•°æ®çš„æ·»åŠ ä¸ä¿®æ”¹ï¼Œåœ¨æ·»åŠ /ä¿®æ”¹å‘˜å·¥æ•°æ®çš„æ—¶å€™ï¼Œéƒ½éœ€è¦æŒ‡å®šä¸€ä¸‹åˆ›å»ºäººã€åˆ›å»ºæ—¶é—´ã€ä¿®æ”¹äººã€ä¿®æ”¹æ—¶é—´ç­‰å­—æ®µï¼Œè€Œè¿™äº›å­—æ®µåˆå±äºå…¬å…±å­—æ®µï¼Œä¸ä»…å‘˜å·¥è¡¨æœ‰è¿™äº›å­—æ®µï¼Œåœ¨èœå“è¡¨ã€åˆ†ç±»è¡¨ç­‰å…¶ä»–è¡¨ä¸­ï¼Œä¹Ÿæ‹¥æœ‰è¿™äº›å­—æ®µã€‚æ‰€ä»¥ä¸‹é¢åšèœå•é¡µé¢çš„æ—¶å€™ä¸ºäº†æ–¹ä¾¿ï¼Œé™ä½è€¦åˆåº¦ï¼Œå¯ä»¥æŠŠè¿™äº›å­—æ®µç§°ä¸ºå…¬å…±å­—æ®µã€‚</p><h4 id="å®ç°æ–¹å¼">å®ç°æ–¹å¼</h4><p>åˆ›å»ºä¸€ä¸ªç±» å®ç°MyMetaObjectHandler æ¥å£ åˆ©ç”¨ThreadLocalä¸­çš„æ–¹æ³•å®ç°å¯¹idçš„è·å–<br>å‰é¢æ›´æ–°å’Œæ’å…¥æ—¶å€™ å¯¹æ—¶é—´å’Œç”¨æˆ·idçš„ä¿®æ”¹ å¯ä»¥æ³¨é‡Šæ‰äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title class_">MetaObjectHandler</span> &#123;</span><br><span class="line">    <span class="comment">//æ’å…¥çš„æ—¶å€™</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……(insert)....&quot;</span>);</span><br><span class="line">        log.info(metaObject.toString());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;createTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;createUser&quot;</span>,BaseContext.getCurrentId());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateUser&quot;</span>,BaseContext.getCurrentId());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ›´æ–°çš„æ—¶å€™</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……(update)....&quot;</span>);</span><br><span class="line">        log.info(metaObject.toString());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateUser&quot;</span>,BaseContext.getCurrentId());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-BUGç‚¹-2">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)<br>ä»Šå¤©åŸºæœ¬æ²¡ä»€ä¹ˆbugï¼Œå°bugå°±æ˜¯å¯¼å…¥åŒ…çš„æ—¶å€™å¯¼å…¥é”™äº†ï¼Œå¯¼è‡´å¯¹åº”ç±»çš„æ–¹æ³•æ²¡æ‰¾åˆ°ï¼Œä½†æ˜¯å¾ˆå¿«å°±ååº”è¿‡æ¥äº†ã€‚</p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-2">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h2 id="5-æ€»ç»“-2">5.æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ éš¾åº¦ä¸€èˆ¬ï¼Œå­¦ä¹ çŠ¶æ€æä½³ï¼Œé™ä¸‹å¿ƒæ¥å®Œæˆäº†é¡¹ç›®å¯¹å‘˜å·¥çš„åŸºæœ¬åŠŸèƒ½å®ç°ï¼Œå‘ç°æ‰€ç”¨åˆ°çš„å¾ˆå¤šæ–¹æ³•éƒ½æ˜¯ä¹‹å‰æ‰€æ²¡æœ‰æ¥è§¦å’Œå­¦è¿‡çš„ï¼Œä¹Ÿæœ‰ä¸€äº›å°æŠ€å·§æ˜¯å‰é¢æŸä¸ªæ¡ˆä¾‹æ‰€ä½¿ç”¨çš„ï¼Œåƒåˆ†é¡µä»€ä¹ˆçš„ï¼Œå› ä¸ºåœ¨èµ¶è¿›åº¦ï¼Œæƒ³å¿«ç‚¹æŠŠé¡¹ç›®åšå®Œï¼ŒåŸºæœ¬éƒ½æ˜¯äºŒå€æ•°è¿‡ä¸€éè§†é¢‘ï¼Œäº†è§£åŸç†ï¼Œä»£ç ä½¿ç”¨ï¼Œç„¶åå°±å¼€å§‹è‡ªå·±æ•²äº†ï¼Œæ„Ÿè§‰è¿™ä¸ªé¡¹ç›®å‰ç«¯æ–¹é¢å…¶å®æ¯”è¾ƒéš¾ï¼Œæˆ‘ç°åœ¨åšæ¥ï¼Œåç«¯å¤„ç†ä¸€ä¸‹è¯·æ±‚å°±å¥½äº†ï¼Œä¸€äº›å¤æ‚çš„åŠŸèƒ½éƒ½æ˜¯å‰ç«¯æ‰€å®ç°çš„ï¼Œæœ€ååšäº†ä¸€ä¸ªå…¬å…±å­—æ®µçš„è‡ªåŠ¨å¡«å……ï¼Œå…¶å®æœ‰ç‚¹éº»çƒ¦çš„ï¼Œè€Œä¸”ä¸æ˜¯å¾ˆç†è§£ï¼Œç”¨åˆ°äº†å¤šçº¿ç¨‹è§£å†³ï¼Œè‡ªå·±å…¶å®æ˜¯çœ‹ä¸€éè§†é¢‘ï¼Œè‡ªå·±å°±èƒ½å®ç°äº†ï¼Œä¹Ÿå¤§è‡´æ˜ç™½è¿™æ ·åšçš„åŸå› ã€‚</p><h1 id="10-28-github-hexo-ä¸ªäººåšå®¢æ­å»º"><strong>10.28 github hexo ä¸ªäººåšå®¢æ­å»º</strong></h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-2"><strong>1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</strong></h2><p>bç«™ä»¥åŠQQè¯·æ•™ è¿˜æœ‰githubåšå®¢è®²è§£</p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-2">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><h3 id="å®ç°æµç¨‹">å®ç°æµç¨‹</h3><p>å¼€å§‹éœ€è¦å®‰è£…ndoejs<br>ç„¶ånpm ä¸‹è½½hexo å’Œhexo-cli<br>githubåˆ›å»ºè‡ªå·±ä»“åº“ï¼Œç”¨gitå‘½ä»¤ç»‘å®š<br>hexoä¹Ÿç»‘å®šä»“åº“<br>npmå¯ä»¥æ‰¾åˆ«äººçš„ä¸»é¢˜æ¨¡ç‰ˆ ä¸‹è½½åˆ°globalä»“åº“<br>åˆ†æä»£ç  çœ‹ä¸»é¢˜æ­¥éª¤ è·Ÿç€åš<br>hexo clean æ¸…ç†ç¼“å­˜<br>hexo g ä¸Šä¼ æ–‡ä»¶<br>hexo s å¯åŠ¨æœåŠ¡<br>hexo d ä¸Šä¼ åˆ°githubä»“åº“ ç›´æ¥åˆ°é¡µé¢</p><p>ç›®å‰çš„ç¬”è®°é¡µé¢æ•ˆæœå¦‚ä¸‹ï¼Œè¿˜æœ‰å¾ˆå¤šåœ°æ–¹éœ€è¦å®Œå–„ï¼Œæƒ³åˆ°ä»€ä¹ˆç­‰é—²ä¸‹æ¥å†å»åšå¥½ï¼Œå·²ç»çŸ¥é“ä¸€äº›åœ°æ–¹çš„åŸç†äº†ã€‚<br><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211080807439.png" alt="image.png"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211080807440.png" alt="image.png"><br><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211080807441.png" alt="123"></p><h2 id="3-BUGç‚¹-3"><strong>3. BUGç‚¹</strong></h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)<br>çœ‹æŠ¥é”™ä¿¡æ¯ä»¥ä¸ºæ˜¯butterflyçš„æºæ–‡ä»¶è¢«æˆ‘ä¸å°å¿ƒä¿®æ”¹äº†ï¼Œç„¶åæˆ‘å»githubä¸­æŠŠä¹‹å‰å¤‡ä»½çš„æ‹‰ä¸‹æ¥ï¼Œé‡å†™æ·»åŠ äº†ä¸€éï¼Œè¿˜æ˜¯æŠ¥é”™ï¼Œé‚£å”¯ä¸€å’Œåˆå§‹ä¸åŒçš„åœ°æ–¹åªæœ‰ï¼Œymlæ–‡ä»¶äº†ï¼Œç„¶åæ‹¿é»˜è®¤çš„å’ŒåŸæœ¬çš„å¯¹æ¯”ï¼Œå‘ç°åœ¨æ·»åŠ ç¤¾äº¤å›¾æ ‡çš„æ—¶å€™ï¼Œqqå’Œå¾®ä¿¡çš„å›¾æ ‡æ ‡æ³¨äº†ï¼Œä½†æ˜¯åé¢æ²¡è¾“å…¥ä¿¡æ¯ã€‚æŠŠä¸¤ä¸ªæ³¨é‡Šæ‰ï¼Œå°±æ²¡æŠ¥é”™äº†ï¼Œä½†æ˜¯å¾ˆå¥‡æ€ªï¼Œå› ä¸ºä¹‹å‰ymlæ–‡ä»¶æŠ¥é”™ï¼Œéƒ½ä¼šè¯´å“ªä¸€è¡ŒæŠ¥é”™ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯éª—è¿‡äº†jsçš„ç¼–è¯‘ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211080807442.png" alt=""></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-3">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h2 id="5-æ€»ç»“-3">5.æ€»ç»“</h2><p>ä»Šå¤©æäº†ä¸€å¤©çš„ä¸ªäººåšå®¢çš„å°å¼€å‘ï¼Œæ˜¨å¤©çœ‹åˆ°ä¸€ä¸ªå¤§ä½¬è®°çš„ç¬”è®°ï¼Œå‘ç°é¡µé¢å¾ˆå¥½çœ‹ä¹Ÿå¾ˆæ¸…æ¥šï¼Œä½†æ˜¯ä¸çŸ¥é“æ˜¯ä»€ä¹ˆç¬”è®°ç½‘ç«™ï¼Œç„¶åé—®ä»–ï¼Œå‘ç°æ˜¯åˆ©ç”¨githubå’Œhexoæ­å»ºçš„è‡ªå·±çš„ç½‘ç«™ï¼Œå¯ä»¥æ”¾mdæ–‡ä»¶ï¼Œä¸€äº›ç¬”è®°å¯ä»¥æ¢³ç†ï¼Œæˆ‘è§‰å¾—è¿™æ ·å¾ˆå¥½ï¼Œä»Šå¤©å°±æäº†å‡ºæ¥ï¼Œå¤§è‡´åŸºæœ¬éƒ½å¼„å‡ºæ¥äº†ï¼Œè¿˜æ²¡æœ‰ç¾åŒ–ï¼Œè¿‡ç¨‹è¿˜æ˜¯æœ‰å¾ˆå¤šç£•ç£•ç»Šç»Šçš„ï¼Œå°¤å…¶æ˜¯npmä¸‹è½½çš„æ—¶å€™ï¼Œå¤ªåƒç½‘ç»œäº†ï¼Œä¹‹å‰ä¸€ç›´ä¸‹ä¸ä¸‹æ¥ï¼Œæœ‰ç‚¹çœ‹è¿æ°”ï¼Œgithubæœ‰æ—¶å€™ä¹Ÿè®¿é—®ä¸è¿›å»ã€‚ç­‰é¡¹ç›®åšå®Œäº†ï¼Œç¾åŒ–ä¸€ä¸‹ï¼ŒæŠŠè‡ªå·±ä¹‹å‰çš„ç¬”è®°ï¼Œéƒ½ä¸Šä¼ åˆ°è‡ªå·±çš„åšå®¢ç½‘ç«™ï¼Œä¸ªäººç½‘ç«™å·²ç»å»ºå¥½äº†ï¼Œå› ä¸ºè¿˜æ²¡å®ç°typoraä¸Šä¼ å›¾ç‰‡ï¼Œè¿™æ ·ä¼šå¯¼è‡´è‡ªå·±çš„ç¬”è®°ï¼Œå›¾ç‰‡ä¼šä¸¢å¤±ï¼Œæ‰€ä»¥æ˜å¤©æŠŠä¸Šä¼ é—®é¢˜è§£å†³ä¸€ä¸‹ã€‚<br>é¡µé¢å¦‚ä¸‹ æŠŠå»å¹´å­¦çš„ä¸€ç‚¹ç¬”è®°å½“ä½œå®éªŒäº†æ•ˆæœè¿˜å¯ä»¥<br><a href="https://u7-u7.github.io/">https://u7-u7.github.io/</a></p><h1 id="10-29-åˆ†ç±»ç®¡ç†åŠŸèƒ½å®ç°">10.29 åˆ†ç±»ç®¡ç†åŠŸèƒ½å®ç°</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-3">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-3">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>ä»Šå¤©å…ˆå®Œæˆäº†å…¬å…±å­—æ®µçš„è‡ªåŠ¨å¡«å…… å¯¹æ›´æ–°æ—¶é—´å’Œåˆ›å»ºæ—¶é—´ï¼Œè¿™æ ·å¯¹åé¢èœå“å’Œèœå•ï¼Œå¥—é¤ç­‰ç­‰é¡µé¢åŠŸèƒ½å®ç°å°±ä¸éœ€è¦å†å†™ä¸€éäº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="comment">//åˆ©ç”¨MetaObjectHandlerç±» å®ç°è¿˜æ˜¯å¾ˆç®€å• æ˜“æ‡‚çš„</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyMetaObjectHandler</span> <span class="keyword">implements</span> <span class="title class_">MetaObjectHandler</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……(insert)...&quot;</span>);</span><br><span class="line">        log.info(metaObject.toString());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;createTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateFill</span><span class="params">(MetaObject metaObject)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……(update)...&quot;</span>);</span><br><span class="line">        log.info(metaObject.toString());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;createTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">        metaObject.setValue(<span class="string">&quot;updateTime&quot;</span>, LocalDateTime.now());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®Œæˆäº†èœå“çš„åŸºæœ¬å¢åˆ æ”¹æŸ¥çš„æ“ä½œ(ä»£ç æ¯”è¾ƒå¤šï¼Œå°±ä¸æ”¾åœ¨ç¬”è®°ä¸­å»äº†ï¼Œéœ€è¦æ³¨æ„çš„ç‚¹ä¹Ÿåœ¨ä»£ç ä¸­æ³¨è§£äº†),éš¾åº¦ä¸æ˜¯å¾ˆå¤§ï¼Œåœ¨ä¹‹å‰å‘˜å·¥ä¸­ä¸€æ ·ï¼Œå®ç°æ–¹æ³•çš„æµç¨‹éƒ½æ˜¯å·®ä¸å¤šçš„ï¼Œåˆ†æé¡µé¢è¯·æ±‚ï¼Œçœ‹å‰ç«¯ä»£ç ï¼Œå†™åç«¯ä»£ç ã€‚</p><p>åœ¨åˆ é™¤åŠŸèƒ½å®Œå–„çš„æ—¶å€™ï¼Œåˆåˆ›å»ºäº†ä¸€ä¸ªè‡ªå®šä¹‰å¼‚å¸¸ç±» åœ¨åˆ é™¤ä¸èƒ½åˆ é™¤çš„ä¿¡æ¯çš„æ—¶å€™ï¼ŒæŠ›å‡ºè‡ªå®šä¹‰è¿è¡Œç±»çš„å¼‚å¸¸</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span>&#123; <span class="comment">//è¿è¡Œæ—¶å¼‚å¸¸</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CustomException</span><span class="params">(String msg)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ExceptionHandler(CustomException.class)</span></span><br><span class="line"><span class="keyword">public</span> Result&lt;String&gt; <span class="title function_">exceptionHandler</span><span class="params">(CustomException exception)</span> &#123;</span><br><span class="line">    log.error(exception.getMessage());</span><br><span class="line">    <span class="keyword">return</span> Result.error(exception.getMessage());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-BUGç‚¹-4">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>åˆ é™¤é¡µé¢æ˜¾ç¤º åˆ é™¤æˆåŠŸ ä½†æ˜¯æ•°æ®ä¾æ—§å­˜åœ¨ ä¸çŸ¥é“åŸå›  çœ‹è¿”å›çš„æ—¥å¿—ä¸­id=null ä¹Ÿå°±æ˜¯æ ¹æœ¬æ²¡æœ‰è·å–åˆ°idçš„å€¼ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211080807443.png" alt="image-20221030135557307"></p><p>å‘ç°å‰ç«¯ å‘é€post è¯·æ±‚çš„æ—¶å€™ é¡µé¢æ˜¯?ids idåé¢å¸¦äº†ä¸€ä¸ªs åº”è¯¥å‰ç«¯çš„é—®é¢˜ï¼ŒæŠŠæ–¹æ³•å†…å‚æ•°idä¿®æ”¹æˆids æ²¡é—®é¢˜äº†ã€‚è¿™ä¸ªè¯·æ±‚çš„è®¾ç½®åœ¨jsç›®å½•ä¸‹é¢çš„category.js 19è¡Œ ä¸Šé¢å†™ç€ids åº”è¯¥æ˜¯æ‰“é”™äº† å› ä¸ºæˆ‘çœ‹è€å¸ˆçš„ä»£ç æ˜¯id</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211080807444.png" alt="image-20221030135513708"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-4">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>æŠŠä¹‹å‰hexoä¸­å›¾ç‰‡æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜ï¼Œè§£å†³äº†ï¼Œç”³è¯·äº†ä¸€ä¸ªå…è´¹çš„å›¾åº“ï¼Œä¹‹å‰åŸæœ¬å°è¯•è¿‡giteeå›¾åº“å’Œbilibiliå›¾åº“ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆåˆ°äº†hexoä¸­æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œgiteeå›¾åº“ï¼Œtyporaä¸€ç›´éƒ½éªŒè¯ä¸åˆ°ï¼Œæ’ä»¶ä¸‹è½½æ€»æ˜¯å¤±è´¥ï¼Œå…·ä½“åŸå› ä¹Ÿä¸çŸ¥é“ã€‚ä½¿ç”¨çš„è‡ªå®šä¹‰webå›¾åºŠä¹Ÿåªèƒ½ä¸Šä¼ 2000å¼ å›¾ç‰‡ï¼Œç­‰åˆ°æ”¾ä¸ä¸‹äº†ï¼Œå°±è¦è€ƒè™‘æ¢å›¾åºŠäº†ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211080807445.png" alt="image-20221031082701258"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211080807446.png" alt="image-20221031082631770"></p><h2 id="5-æ€»ç»“-4">5.æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ å†…å®¹ç®€å•ï¼Œå› ä¸ºä»Šå¤©æ˜¯å‘¨æœ«ï¼Œåœ¨å¯å®¤å­¦ä¹ çš„ï¼Œå­¦ä¹ æ•ˆç‡å°±ä¸€èˆ¬äº†ï¼Œä¸‹åˆè¿˜å»ç»ƒè½¦äº†ï¼ŒåŸºæœ¬åªå­¦äº†ä¸€ä¸Šåˆåˆ°2ç‚¹ï¼Œå­¦ä¹ å†…å®¹å¾ˆç®€å•ï¼ŒåŸºæœ¬éƒ½æ˜¯è‡ªå·±ç‹¬ç«‹å®Œæˆçš„ï¼Œçœ‹ä¸šåŠ¡éœ€æ±‚æ˜¯å¯¹èœå•åŠŸèƒ½å®Œå–„ï¼Œè‡ªå·±å»å‰ç«¯é¡µé¢çœ‹è¯·æ±‚æ–¹å¼ï¼Œè¿›è¡Œéœ€æ±‚åˆ†æä¸€ä¸‹ï¼Œè‡ªå·±å°±èƒ½æ‰“å‡ºæ¥äº†ï¼Œå‡ºäº†ç‚¹å°æ’æ›²ï¼Œå¥½åœ¨é¡ºåˆ©è§£å†³äº†ï¼Œè§£å†³bugçš„è¿‡ç¨‹è¿˜æ˜¯è›®é¡ºåˆ©çš„ï¼Œä¹Ÿæ˜ç™½äº†å‚æ•°åå¯¹ä»£ç çš„å½±å“ï¼Œä¸€å®šè¦ç»Ÿä¸€å¥½ã€‚ç„¶ååœ¨æ™šä¸Šåˆå»æŠŠåšå®¢å›¾ç‰‡æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜è§£å†³äº†ä¸€ä¸‹ï¼Œè¿‡ä¸¤å¤©è¿˜æ˜¯æ¢ä¸€ä¸ªå›¾åºŠæ¯”è¾ƒå¥½ã€‚</p><h1 id="10-31-èœå“å’Œå¥—é¤åŠŸèƒ½å®ç°">10.31 èœå“å’Œå¥—é¤åŠŸèƒ½å®ç°</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-4">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-4">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>å¯¹èœå“å’Œå¥—é¤åŸºæœ¬åŠŸèƒ½çš„å®ç°ï¼Œå› ä¸ºæœ‰çš„å‚æ•°æ˜¯å®ä½“ç±»ä¸æ»¡è¶³æ¥æ”¶çš„å‚æ•°ï¼Œéœ€è¦åˆ›å»ºå¯¼å…¥Dtoå±‚çš„ç±»ï¼Œå°è£…é¡µé¢æäº¤æ•°æ®ã€‚å…¶å®å°±æ˜¯æŠŠä¸èƒ½æ¥å—çš„å‚æ•°ï¼Œé‡å†™ä¸€ä¸‹æ–¹æ³•ï¼Œå°è£…ä¸ºlistï¼Œå†å¾ªç¯èµ‹å€¼ï¼Œå°±å¥½äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DishServiceImpl</span> <span class="keyword">extends</span> <span class="title class_">ServiceImpl</span>&lt;DishMapper, Dish&gt; <span class="keyword">implements</span> <span class="title class_">DishService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DishFlavorService dishFlavorService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveWithFlavor</span><span class="params">(DishDto dishDto)</span> &#123;</span><br><span class="line">        <span class="comment">//å°†èœå“æ•°æ®ä¿å­˜åˆ°dishè¡¨</span></span><br><span class="line">        <span class="built_in">this</span>.save(dishDto);</span><br><span class="line">        <span class="comment">//è·å–dishId</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">dishId</span> <span class="operator">=</span> dishDto.getId();</span><br><span class="line">        <span class="comment">//å°†è·å–åˆ°çš„dishIdèµ‹å€¼ç»™dishFlavorçš„dishIdå±æ€§</span></span><br><span class="line">        List&lt;DishFlavor&gt; flavors = dishDto.getFlavors();</span><br><span class="line">        <span class="keyword">for</span> (DishFlavor dishFlavor : flavors) &#123;</span><br><span class="line">            dishFlavor.setDishId(dishId);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åŒæ—¶å°†èœå“å£å‘³æ•°æ®ä¿å­˜åˆ°dish_flavorè¡¨</span></span><br><span class="line">        dishFlavorService.saveBatch(flavors);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹!!!</p><p>å¤šè¡¨æ“ä½œçš„æ—¶å€™éœ€è¦åœ¨æ–¹æ³•ä¸Šé¢åŠ <code>@Transactional</code>ï¼Œæˆ‘æ¯”è¾ƒå·æ‡’å°±ç›´æ¥åœ¨ä¸šåŠ¡å±‚Implç±»ä¸Šé¢åŠ äº†ã€‚ç„¶åè¿è¡Œç±»ä¸Šé¢åŠ <code>@EnableTransactionManagement</code></p><h2 id="3-BUGç‚¹-5">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>éš¾ç‚¹å†™åœ¨æ‰©å±•å­¦ä¹ éƒ¨åˆ†äº†</p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-5">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>å› ä¸ºåœ¨è§†é¢‘ä¸­å’Œåšå®¢ä¸­ï¼Œå¯¹æœ‰ä¸€ä¸ªåˆ—è¡¨çš„stream().mapåŠ lambdaçš„æ–¹å¼ï¼Œä¸€ä¸‹å­æ²¡æ€ä¹ˆæ‡‚ï¼Œç„¶åå°±å»çœ‹äº†è§†é¢‘ï¼Œå¯¹ä»£ç çš„è§£é‡Šï¼Œä»¥åŠä½œç”¨ï¼Œçœ‹å¼¹å¹•ï¼Œå¾ˆå¤šäººç”¨å¢å¼ºforå¾ªç¯åšäº†å‡ºæ¥ï¼Œå› ä¸ºæš‘å‡å­¦äº†scalaï¼Œçœ‹äº†ä¸€ä¼šä»–çš„ä»£ç ä¹Ÿå¤§è‡´çš„æ‡‚äº†ï¼Œç„¶åè‡ªå·±å»ç”¨forå¾ªç¯ï¼Œå‘ç°å†™å‡ºæ¥ä¼¼ä¹æ›´æ–¹ä¾¿ï¼Œè€Œä¸”å¯è¯»æ€§é«˜ï¼Œæ•ˆç‡å€’æ˜¯è¿˜æ²¡æœ‰å»æµ‹è¯•è¿‡ï¼Œä¸è¿‡è¿™ç§å°é¡¹ç›®ï¼Œåº”è¯¥ç›¸å·®ä¸å¤§ï¼Œæ•ˆç‡åˆ†æè¿‡äº†åº”è¯¥æ˜¯lambdaå¿«å¾ˆå¤šï¼Œç”¨streamæµã€‚é‚£ä¸€å—lambdaä¹Ÿæ˜¯ä»Šå¤©çš„éš¾ç‚¹æ‰€åœ¨ã€‚</p><p>ä¸¤ç§æ–¹å¼å¯¹æ¯”</p><div class="tabs" id="contrast"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#contrast-1">streamæµ</button></li><li class="tab"><button type="button" data-href="#contrast-2">å¢å¼ºfor</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="contrast-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize, String name)</span> &#123;</span><br><span class="line">    Page&lt;Setmeal&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page, pageSize);</span><br><span class="line">    Page&lt;SetmealDto&gt; dtoPage = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page, pageSize);</span><br><span class="line">    LambdaQueryWrapper&lt;Setmeal&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.like(name != <span class="literal">null</span>, Setmeal::getName, name);</span><br><span class="line">    queryWrapper.orderByDesc(Setmeal::getUpdateTime);</span><br><span class="line">    setmealService.page(pageInfo, queryWrapper);</span><br><span class="line">    BeanUtils.copyProperties(pageInfo, dtoPage, <span class="string">&quot;records&quot;</span>);</span><br><span class="line">    List&lt;Setmeal&gt; records = pageInfo.getRecords();</span><br><span class="line">    <span class="comment">//streamæµ è°ƒç”¨recordsä¸­å…ƒç´  æ‹·è´ç»™æ–°å»ºçš„setmealDto å†é€šè¿‡collectè½¬æ¢ä¸ºlist</span></span><br><span class="line">    List&lt;SetmealDto&gt; list = records.stream().map((item) -&gt; &#123;</span><br><span class="line">        <span class="type">SetmealDto</span> <span class="variable">setmealDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SetmealDto</span>();</span><br><span class="line">        BeanUtils.copyProperties(item, setmealDto);</span><br><span class="line">        <span class="type">Long</span> <span class="variable">categoryId</span> <span class="operator">=</span> item.getCategoryId();</span><br><span class="line">        <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> categoryService.getById(categoryId);</span><br><span class="line">        <span class="keyword">if</span> (category != <span class="literal">null</span>) &#123;</span><br><span class="line">            setmealDto.setCategoryName(category.getName());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> setmealDto;</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line">    dtoPage.setRecords(list);</span><br><span class="line">    <span class="keyword">return</span> Result.success(dtoPage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="contrast-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize ,String name)</span>&#123;</span><br><span class="line">    log.info(<span class="string">&quot;page=&#123;&#125;,pageSize=&#123;&#125;,name=&#123;&#125;&quot;</span>, page, pageSize, name);</span><br><span class="line">    Page&lt;Setmeal&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page, pageSize);</span><br><span class="line">    Page&lt;SetmealDto&gt; setmealDtoPage = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;();</span><br><span class="line">    LambdaQueryWrapper&lt;Setmeal&gt; wrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    wrapper.like(name != <span class="literal">null</span>,Setmeal::getName,name);</span><br><span class="line">    wrapper.orderByDesc(Setmeal::getUpdateTime);</span><br><span class="line">    setmealService.page(pageInfo,wrapper);</span><br><span class="line">    BeanUtils.copyProperties(pageInfo,setmealDtoPage,<span class="string">&quot;records&quot;</span>);       </span><br><span class="line">    List&lt;Setmeal&gt; records = pageInfo.getRecords();</span><br><span class="line">    List&lt;SetmealDto&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//forå¾ªç¯ è°ƒç”¨recordsä¸­å…ƒç´  æ‹·è´å¤„ç† æ”¾å…¥ç©ºåˆ—è¡¨listä¸­</span></span><br><span class="line">    <span class="keyword">for</span> (Setmeal item : records)&#123;</span><br><span class="line">        <span class="type">SetmealDto</span> <span class="variable">setmealDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SetmealDto</span>();</span><br><span class="line">        BeanUtils.copyProperties(item,setmealDto);</span><br><span class="line">        <span class="type">Long</span> <span class="variable">categoryId</span> <span class="operator">=</span> item.getCategoryId();</span><br><span class="line">        <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> categoryService.getById(categoryId);</span><br><span class="line">        <span class="keyword">if</span> (category != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">categoryName</span> <span class="operator">=</span> category.getName();</span><br><span class="line">            setmealDto.setCategoryName(categoryName);</span><br><span class="line">        &#125;</span><br><span class="line">        list.add(setmealDto);</span><br><span class="line">    &#125;</span><br><span class="line">    setmealDtoPage.setRecords(list);</span><br><span class="line">    <span class="keyword">return</span> R.success(setmealDtoPage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="5-æ€»ç»“-5">5.æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ éš¾åº¦ç¨éš¾ï¼Œè€Œä¸”ä¸‹åˆç»ƒäº†å›è½¦ï¼Œä½†æ˜¯ä»Šæ—¥çš„å­¦ä¹ çŠ¶æ€æä½³ï¼Œä¸€è‚¡è„‘æ‰è¿›å»æ•²ä»£ç ã€‚ä»Šå¤©çš„éš¾ç‚¹å…¶å®æ˜¯åœ¨å¤šè¡¨æ“ä½œä¸­ï¼Œå› ä¸ºåœ¨èœå“åŠŸèƒ½å’Œå¥—é¤ä¸­ï¼Œéƒ½æœ‰è°ƒç”¨å¦å¤–ä¸€ä¸ªå…³è”è¡¨çš„æ“ä½œï¼Œå°±éœ€è¦ç”¨LambdaQueryWrapperè¿›è¡Œå…¬å…±å­—æ®µåŒ¹é…ï¼Œæœ‰ç‚¹åƒsqlä¸­çš„å¤šè¡¨è¿æ¥ï¼Œä½†æ˜¯æ˜¯ç”¨javaå®ç°çš„ï¼Œå’Œleft joinè¿™æ ·å·®ä¸å¤š,LambdaQueryWrapperå°±æ˜¯ç±»ä¼¼äºonï¼Œå®ç°è¿æ¥æ¡ä»¶ï¼Œè¿˜æœ‰ä¸€ä¸ªlambdaå¯¹åˆ—è¡¨çš„å¤„ç†ï¼Œåˆ†é¡µæŸ¥è¯¢é‚£è¾¹ï¼Œä»£ç é‡æœ‰ç‚¹å¤ªå¤§äº†ï¼Œä½†æ˜¯å¦‚æœåˆ†æå¥½æ­¥éª¤ï¼Œè‡ªå·±ä¹Ÿæ˜¯å¯ä»¥æ•²å‡ºæ¥çš„ã€‚å…¶ä»–çš„ä¿®æ”¹å’Œåˆ é™¤æ“ä½œï¼Œä¹Ÿæ¯”ä¹‹å‰çš„ç¨éš¾ç‚¹ï¼Œéœ€è¦è‡ªå®šä¹‰åœ¨ä¸šåŠ¡å±‚å†™æ–¹æ³•ï¼Œè¿›è¡Œä¸€ä¸ªè‡ªå®šä¹‰å¤„ç†ï¼Œå› ä¸ºæœ‰äº›æ¡ä»¶æ˜¯éœ€è¦æ·»åŠ çš„ï¼Œå¾ˆå¤šcategoryIdæ˜¯éœ€è¦åé¢æ·»åŠ çš„ã€‚æ€»ä½“æ¥è¯´ä»Šå¤©å­¦ä¹ çš„å†…å®¹è¿˜æ˜¯å¾ˆä¸°å¯Œçš„ï¼Œæ—©ä¸Šåšæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½ï¼ŒæŠŠjavaåŸºç¡€çš„æµåˆç®—å¤ä¹ äº†ä¸€éï¼Œæ˜å¤©çŠ¶æ€å¥½çš„è¯ï¼Œé¡¹ç›®çš„ç®€å•å®ç°åº”è¯¥å°±å®Œæˆäº†ï¼Œå†èŠ±ä¸ªä¸¤ä¸‰å¤©æŠŠrediså’Œä¼˜åŒ–è§£å†³ã€‚</p><h1 id="11-1-ç§»åŠ¨ç«¯åŠŸèƒ½çš„å®ç°">11.1 ç§»åŠ¨ç«¯åŠŸèƒ½çš„å®ç°</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-5">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-5">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>ç§»åŠ¨ç«¯åŠŸèƒ½å®ç°(è¿‡æ®µæ—¶é—´ï¼Œä¼šå†™åœ¨è‡ªå·±åšå®¢ä¸­ï¼Œç¬”è®°å†…å®¹å°±ä¸æ”¾äº†ï¼Œä»£ç å¾ˆå¤š)</p><p><a href="https://u7-u7.github.io/%E8%BF%99%E9%87%8C%E4%BC%9A%E6%94%BE%E4%BB%A3%E7%A0%81,%E4%BB%A5%E5%8F%8A%E6%B5%81%E7%A8%8B%E6%A2%B3%E7%90%86">https://u7-u7.github.io/è¿™é‡Œä¼šæ”¾ä»£ç ,ä»¥åŠæµç¨‹æ¢³ç†</a></p><h3 id="ä¿®æ”¹æ‰‹æœºéªŒè¯-ä¸ºé‚®ç®±">ä¿®æ”¹æ‰‹æœºéªŒè¯ ä¸ºé‚®ç®±</h3><p>æ•™ç¨‹æ˜¯ç”¨æ‰‹æœºå‘é€ä¸€ä¸ªè™šå‡çš„è¯·æ±‚éªŒè¯ç è¾“å…¥éªŒè¯ï¼Œä½†æ˜¯æ‰‹æœºå·è¦çœŸæ­£å®ç°æ˜¯è¦é’±çš„ï¼Œçªç„¶è®°å¾—ä¹‹å‰è‡ªå·±å­¦è¿‡é‚®ç®±çš„å‘é€ï¼Œç„¶åè‡ªå·±å»æ”¹æˆäº†è‡ªå·±çš„é‚®ç®±ï¼ŒæŠŠé‚®ç®±çš„SMTPæ‰“å¼€ï¼Œæ˜¯å¯ä»¥å‘é€çš„ï¼Œè‡ªå·±æ”¹å‰ç«¯ä»£ç çš„æ—¶å€™æœ‰ç‚¹é—®é¢˜ï¼Œå»CSDNæœåˆ°äº†é‚®ç®±çš„æ­£åˆ™åŒ¹é…çš„è¡¨è¾¾å¼ï¼Œç„¶åé¡µé¢æŠŠæ‰‹æœºå·éƒ½æ”¹æˆäº†é‚®ç®±ï¼ŒéªŒè¯ç ä¹Ÿå®ç°äº†ï¼Œä½†æ˜¯å‘ç°éªŒè¯ç æ˜¯ç”¨equalsçš„è¿™æ ·å¤§å°å†™ä¸€å®šè¦ç»Ÿä¸€ï¼Œæˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨æ˜¯ä¸ç”¨çš„ï¼Œå°±æ”¹æˆäº†ä¸åŒºåˆ†å¤§å°å†™ï¼Œå€’æ˜¯ä¸éš¾ã€‚</p><h4 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h4><p>å¯¼å…¥åæ ‡</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.activation<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>activation<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/javax.mail/mail --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.mail<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mail<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-email --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-email<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å‘é€é‚®ç®±çš„å·¥å…·ç±» å¸¦æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.reggie.Utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.mail.Authenticator;</span><br><span class="line"><span class="keyword">import</span> javax.mail.MessagingException;</span><br><span class="line"><span class="keyword">import</span> javax.mail.PasswordAuthentication;</span><br><span class="line"><span class="keyword">import</span> javax.mail.Session;</span><br><span class="line"><span class="keyword">import</span> javax.mail.Transport;</span><br><span class="line"><span class="keyword">import</span> javax.mail.internet.InternetAddress;</span><br><span class="line"><span class="keyword">import</span> javax.mail.internet.MimeMessage;</span><br><span class="line"><span class="keyword">import</span> javax.mail.internet.MimeMessage.RecipientType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MailUtils</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> MessagingException &#123;</span><br><span class="line">        <span class="comment">//å¯ä»¥åœ¨è¿™é‡Œç›´æ¥æµ‹è¯•æ–¹æ³•ï¼Œå¡«è‡ªå·±çš„é‚®ç®±å³å¯</span></span><br><span class="line">        sendTestMail(<span class="string">&quot;1452582554@qq.com&quot;</span>, <span class="keyword">new</span> <span class="title class_">MailUtils</span>().achieveCode());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sendTestMail</span><span class="params">(String email, String code)</span> <span class="keyword">throws</span> MessagingException &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºProperties ç±»ç”¨äºè®°å½•é‚®ç®±çš„ä¸€äº›å±æ€§</span></span><br><span class="line">        <span class="type">Properties</span> <span class="variable">props</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        <span class="comment">// è¡¨ç¤ºSMTPå‘é€é‚®ä»¶ï¼Œå¿…é¡»è¿›è¡Œèº«ä»½éªŒè¯</span></span><br><span class="line">        props.put(<span class="string">&quot;mail.smtp.auth&quot;</span>, <span class="string">&quot;true&quot;</span>);</span><br><span class="line">        <span class="comment">//æ­¤å¤„å¡«å†™SMTPæœåŠ¡å™¨</span></span><br><span class="line">        props.put(<span class="string">&quot;mail.smtp.host&quot;</span>, <span class="string">&quot;smtp.qq.com&quot;</span>);</span><br><span class="line">        <span class="comment">//ç«¯å£å·ï¼ŒQQé‚®ç®±ç«¯å£587</span></span><br><span class="line">        props.put(<span class="string">&quot;mail.smtp.port&quot;</span>, <span class="string">&quot;587&quot;</span>);</span><br><span class="line">        <span class="comment">// æ­¤å¤„å¡«å†™ï¼Œå†™ä¿¡äººçš„è´¦å·</span></span><br><span class="line">        props.put(<span class="string">&quot;mail.user&quot;</span>, <span class="string">&quot;1452582554@qq.com&quot;</span>);</span><br><span class="line">        <span class="comment">// æ­¤å¤„å¡«å†™16ä½STMPå£ä»¤</span></span><br><span class="line">        props.put(<span class="string">&quot;mail.password&quot;</span>, <span class="string">&quot;vxccjkvvlrokgigh&quot;</span>);</span><br><span class="line">        <span class="comment">// æ„å»ºæˆæƒä¿¡æ¯ï¼Œç”¨äºè¿›è¡ŒSMTPè¿›è¡Œèº«ä»½éªŒè¯</span></span><br><span class="line">        <span class="type">Authenticator</span> <span class="variable">authenticator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Authenticator</span>() &#123;</span><br><span class="line">            <span class="keyword">protected</span> PasswordAuthentication <span class="title function_">getPasswordAuthentication</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// ç”¨æˆ·åã€å¯†ç </span></span><br><span class="line">                <span class="type">String</span> <span class="variable">userName</span> <span class="operator">=</span> props.getProperty(<span class="string">&quot;mail.user&quot;</span>);</span><br><span class="line">                <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> props.getProperty(<span class="string">&quot;mail.password&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PasswordAuthentication</span>(userName, password);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨ç¯å¢ƒå±æ€§å’Œæˆæƒä¿¡æ¯ï¼Œåˆ›å»ºé‚®ä»¶ä¼šè¯</span></span><br><span class="line">        <span class="type">Session</span> <span class="variable">mailSession</span> <span class="operator">=</span> Session.getInstance(props, authenticator);</span><br><span class="line">        <span class="comment">// åˆ›å»ºé‚®ä»¶æ¶ˆæ¯</span></span><br><span class="line">        <span class="type">MimeMessage</span> <span class="variable">message</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MimeMessage</span>(mailSession);</span><br><span class="line">        <span class="comment">// è®¾ç½®å‘ä»¶äºº</span></span><br><span class="line">        <span class="type">InternetAddress</span> <span class="variable">form</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InternetAddress</span>(props.getProperty(<span class="string">&quot;mail.user&quot;</span>));</span><br><span class="line">        message.setFrom(form);</span><br><span class="line">        <span class="comment">// è®¾ç½®æ”¶ä»¶äººçš„é‚®ç®±</span></span><br><span class="line">        <span class="type">InternetAddress</span> <span class="variable">to</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InternetAddress</span>(email);</span><br><span class="line">        message.setRecipient(RecipientType.TO, to);</span><br><span class="line">        <span class="comment">// è®¾ç½®é‚®ä»¶æ ‡é¢˜</span></span><br><span class="line">        message.setSubject(<span class="string">&quot;u7&#x27;s Blog é‚®ä»¶æµ‹è¯•&quot;</span>);</span><br><span class="line">        <span class="comment">// è®¾ç½®é‚®ä»¶çš„å†…å®¹ä½“</span></span><br><span class="line">        message.setContent(<span class="string">&quot;å°Šæ•¬çš„ç”¨æˆ·:ä½ å¥½!\næ³¨å†ŒéªŒè¯ç ä¸º:&quot;</span> + code + <span class="string">&quot;(æœ‰æ•ˆæœŸä¸ºä¸€åˆ†é’Ÿ,è¯·å‹¿å‘ŠçŸ¥ä»–äºº)&quot;</span>, <span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">// æœ€åå½“ç„¶å°±æ˜¯å‘é€é‚®ä»¶å•¦</span></span><br><span class="line">        Transport.send(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">achieveCode</span><span class="params">()</span> &#123;  <span class="comment">//ç”±äºæ•°å­— 1 ã€ 0 å’Œå­—æ¯ O ã€l æœ‰æ—¶åˆ†ä¸æ¸…æ¥šï¼Œæ‰€ä»¥ï¼Œæ²¡æœ‰æ•°å­— 1 ã€ 0</span></span><br><span class="line">        String[] beforeShuffle = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;4&quot;</span>, <span class="string">&quot;5&quot;</span>, <span class="string">&quot;6&quot;</span>, <span class="string">&quot;7&quot;</span>, <span class="string">&quot;8&quot;</span>, <span class="string">&quot;9&quot;</span>, <span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;D&quot;</span>, <span class="string">&quot;E&quot;</span>, <span class="string">&quot;F&quot;</span>,</span><br><span class="line">                <span class="string">&quot;G&quot;</span>, <span class="string">&quot;H&quot;</span>, <span class="string">&quot;I&quot;</span>, <span class="string">&quot;J&quot;</span>, <span class="string">&quot;K&quot;</span>, <span class="string">&quot;L&quot;</span>, <span class="string">&quot;M&quot;</span>, <span class="string">&quot;N&quot;</span>, <span class="string">&quot;O&quot;</span>, <span class="string">&quot;P&quot;</span>, <span class="string">&quot;Q&quot;</span>, <span class="string">&quot;R&quot;</span>, <span class="string">&quot;S&quot;</span>, <span class="string">&quot;T&quot;</span>, <span class="string">&quot;U&quot;</span>, <span class="string">&quot;V&quot;</span>, <span class="string">&quot;W&quot;</span>, <span class="string">&quot;X&quot;</span>, <span class="string">&quot;Y&quot;</span>, <span class="string">&quot;Z&quot;</span>, <span class="string">&quot;a&quot;</span>,</span><br><span class="line">                <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;e&quot;</span>, <span class="string">&quot;f&quot;</span>, <span class="string">&quot;g&quot;</span>, <span class="string">&quot;h&quot;</span>, <span class="string">&quot;i&quot;</span>, <span class="string">&quot;j&quot;</span>, <span class="string">&quot;k&quot;</span>, <span class="string">&quot;l&quot;</span>, <span class="string">&quot;m&quot;</span>, <span class="string">&quot;n&quot;</span>, <span class="string">&quot;o&quot;</span>, <span class="string">&quot;p&quot;</span>, <span class="string">&quot;q&quot;</span>, <span class="string">&quot;r&quot;</span>, <span class="string">&quot;s&quot;</span>, <span class="string">&quot;t&quot;</span>, <span class="string">&quot;u&quot;</span>, <span class="string">&quot;v&quot;</span>,</span><br><span class="line">                <span class="string">&quot;w&quot;</span>, <span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>, <span class="string">&quot;z&quot;</span>&#125;;</span><br><span class="line">        List&lt;String&gt; list = Arrays.asList(beforeShuffle);<span class="comment">//å°†æ•°ç»„è½¬æ¢ä¸ºé›†åˆ</span></span><br><span class="line">        Collections.shuffle(list);  <span class="comment">//æ‰“ä¹±é›†åˆé¡ºåº</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (String s : list) &#123;</span><br><span class="line">            sb.append(s); <span class="comment">//å°†é›†åˆè½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.substring(<span class="number">4</span>, <span class="number">8</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹æ‹¦æˆªå™¨">ä¿®æ”¹æ‹¦æˆªå™¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">String[] urls = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;</span><br><span class="line">                <span class="string">&quot;/employee/login&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/employee/logout&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/backend/**&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/front/**&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/user/sendMsg&quot;</span>,<span class="comment">//ç§»åŠ¨ç«¯å‘é€çŸ­ä¿¡</span></span><br><span class="line">                <span class="string">&quot;/user/login&quot;</span></span><br><span class="line">        &#125;;</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•</span></span><br><span class="line"><span class="keyword">if</span>(request.getSession().getAttribute(<span class="string">&quot;user&quot;</span>) != <span class="literal">null</span>)&#123;</span><br><span class="line">    log.info(<span class="string">&quot;ç”¨æˆ·å·²ç™»å½•ï¼Œç”¨æˆ·idä¸ºï¼š&#123;&#125;&quot;</span>,request.getSession().getAttribute(<span class="string">&quot;user&quot;</span>));</span><br><span class="line">    <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> (Long)request.getSession().getAttribute(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">    BaseContext.setCurrentId(userId);</span><br><span class="line">    filterChain.doFilter(request,response);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹çš„å‰æ®µé¡µé¢ (æŠŠæ‰‹æœºå·éƒ½å…ˆæ”¹æˆé‚®ç®±ç™»å½•) ç„¶åä¿®æ”¹ frontä¸­çš„login.html åˆ¤æ–­æ‰‹æœºå·çš„æ­£åˆ™è¡¨è¾¾å¼æ¢æˆåˆ¤æ–­é‚®ç®±çš„æ­£åˆ™è¡¨è¾¾å¼ ^\w+([-+.]\w+)<em>@\w+([-.]\w+)</em>.\w+([-.]\w+)*$(ä¸Šç½‘æœçš„)</p><h4 id="å‘é€éªŒè¯ç ">å‘é€éªŒè¯ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/sendMsg&quot;)</span></span><br><span class="line"><span class="comment">//è¯·æ±‚ä½“/user/sendMsg</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">sendMsg</span><span class="params">(<span class="meta">@RequestBody</span> User user, HttpSession session)</span> <span class="keyword">throws</span> MessagingException &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> user.getPhone();</span><br><span class="line">    <span class="keyword">if</span> (!phone.isEmpty()) &#123;</span><br><span class="line">        <span class="comment">//éšæœºç”Ÿæˆä¸€ä¸ªéªŒè¯ç </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> MailUtils.achieveCode();</span><br><span class="line">        log.info(code);</span><br><span class="line">        <span class="comment">//è¿™é‡Œçš„phoneå…¶å®å°±æ˜¯é‚®ç®±ï¼Œcodeæ˜¯æˆ‘ä»¬ç”Ÿæˆçš„éªŒè¯ç </span></span><br><span class="line">        MailUtils.sendTestMail(phone, code);</span><br><span class="line">        <span class="comment">//éªŒè¯ç å­˜sessionï¼Œæ–¹ä¾¿åé¢æ‹¿å‡ºæ¥æ¯”å¯¹</span></span><br><span class="line">        session.setAttribute(phone, code);</span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;éªŒè¯ç å‘é€æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> R.error(<span class="string">&quot;éªŒè¯ç å‘é€å¤±è´¥&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‚®ç®±æ”¶åˆ°äº†å°±æˆåŠŸäº†å°±å¯ä»¥å†™loginç™»å½•çš„å®ç°äº† é¡ºåˆ©å®Œæˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;User&gt; <span class="title function_">login</span><span class="params">(<span class="meta">@RequestBody</span> Map map, HttpSession session)</span> &#123;</span><br><span class="line">        log.info(map.toString());</span><br><span class="line">        <span class="comment">//è·å–é‚®ç®±</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> map.get(<span class="string">&quot;phone&quot;</span>).toString();</span><br><span class="line">        <span class="comment">//è·å–éªŒè¯ç </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">code</span> <span class="operator">=</span> map.get(<span class="string">&quot;code&quot;</span>).toString();</span><br><span class="line">        <span class="comment">//ä»sessionä¸­è·å–éªŒè¯ç </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">codeInSession</span> <span class="operator">=</span> session.getAttribute(phone).toString();</span><br><span class="line">        <span class="type">String</span> <span class="variable">codeInSessionUpp</span> <span class="operator">=</span> codeInSession.toUpperCase(); <span class="comment">//å…¨éƒ¨å˜æˆå¤§å†™</span></span><br><span class="line">        <span class="comment">//æ¯”è¾ƒè¿™ç”¨æˆ·è¾“å…¥çš„éªŒè¯ç å’Œsessionä¸­å­˜çš„éªŒè¯ç æ˜¯å¦ä¸€è‡´</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">upperCase</span> <span class="operator">=</span> code.toUpperCase(); <span class="comment">//å…¨éƒ¨å˜æˆå¤§å†™ è¿™æ ·è¾“å…¥éªŒè¯ç å°±ä¸éœ€è¦å¤§å°å†™äº†</span></span><br><span class="line">        <span class="keyword">if</span> (upperCase.equals(codeInSessionUpp)) &#123;</span><br><span class="line">            <span class="comment">//å¦‚æœè¾“å…¥æ­£ç¡®ï¼Œåˆ¤æ–­ä¸€ä¸‹å½“å‰ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">            LambdaQueryWrapper&lt;User&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">            <span class="comment">//åˆ¤æ–­ä¾æ®æ˜¯ä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ˜¯å¦æœ‰å…¶é‚®ç®±</span></span><br><span class="line">            queryWrapper.eq(User::getPhone, phone);</span><br><span class="line">            <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.getOne(queryWrapper);</span><br><span class="line">            <span class="comment">//å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªï¼Œå­˜å…¥æ•°æ®åº“</span></span><br><span class="line">            <span class="keyword">if</span> (user == <span class="literal">null</span>) &#123;</span><br><span class="line">                user = <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">                user.setPhone(phone);</span><br><span class="line">                userService.save(user);</span><br><span class="line"></span><br><span class="line">                user.setName(<span class="string">&quot;ç”¨æˆ·&quot;</span> + codeInSession);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//å­˜ä¸ªsessionï¼Œè¡¨ç¤ºç™»å½•çŠ¶æ€</span></span><br><span class="line">            session.setAttribute(<span class="string">&quot;user&quot;</span>,user.getId());</span><br><span class="line">            <span class="comment">//å¹¶å°†å…¶ä½œä¸ºç»“æœè¿”å›</span></span><br><span class="line">            <span class="keyword">return</span> R.success(user);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> R.error(<span class="string">&quot;ç™»å½•å¤±è´¥&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="3-BUGç‚¹-6">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>è¾“å…¥éªŒè¯ç ä»¥åï¼Œå°±è‡ªåŠ¨åˆè·³ä¼šç™»å½•é¡µé¢ï¼Œæµè§ˆå™¨æ²¡æœ‰login çš„è¯·æ±‚ï¼Œçœ‹æ—¥å¿—è·³åˆ°äº†æœ€åçš„ç”¨æˆ·æœªç™»å½•ï¼Œè¯´æ˜checkæ²¡æœ‰åŒ¹é…ä¸Šï¼Œæ£€æŸ¥ä»£ç ï¼Œå‘ç°æ‹¦æˆªå™¨çš„æ•°ç»„ä¸­ï¼Œâ€œ/user/loginâ€ å°‘äº†ä¸€ä¸ª/,åŠ ä¸Šä»¥åé¡ºåˆ©è§£å†³äº†é—®é¢˜</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211080807447.png" alt="image-20221101093111494"></p><p>å®¢æˆ·ç«¯listæŸ¥è¯¢æ‰¾çš„æ—¶å€™ï¼Œå› ä¸ºè°ƒç”¨çš„æ˜¯åŒä¸€ä¸ªè¯·æ±‚ï¼Œä½†æ˜¯æˆ‘ä¸€ç›´æ²¡æœ‰æ˜¾ç¤ºï¼Œæ‰¾ä¸åˆ°åŸå› ï¼Œåé¢å‘ç°è‡ªå·±å†™çš„listä»£ç å’Œè€å¸ˆçš„æœ‰ä¸€äº›åŒºåˆ«ï¼Œæœ‰ä¸€å—æ¡ä»¶åˆ¤æ–­çš„æ—¶å€™ï¼Œæˆ‘å°‘åŠ äº†ä¸€ä¸ª ä¸ç­‰äºnullçš„åˆ¤æ–­ï¼Œå¯¼è‡´æˆ‘çš„typeåœ¨å‰ç«¯æ˜¾ç¤ºæ˜¯null</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wrapper.eq(category.getType() != <span class="literal">null</span>,Category::getType,category.getType());</span><br></pre></td></tr></table></figure><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-6">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>ç§»åŠ¨ç«¯è¡¥å……ä¸€äº›è§†é¢‘æœªå®Œå–„çš„åŠŸèƒ½(è‡ªå·±å†™çš„) è¿‡æ®µæ—¶é—´æŠŠè¿™å‡ ä¸ªåŠŸèƒ½çš„å®ç°ä»¥åŠæµç¨‹ æ€è·¯ å†™è¿›æ¥</p><h3 id="å†å²è®¢å•åŠŸèƒ½">å†å²è®¢å•åŠŸèƒ½</h3><p>éœ€è¦å…ˆæ·»åŠ ä¸€ä¸ªOrderDtoå±‚ ç„¶åç›´æ¥åœ¨OrderControllerç¼–å†™æ–¹æ³•</p><div class="tabs" id="orders"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#orders-1">orderDto</button></li><li class="tab"><button type="button" data-href="#orders-2">OrderController</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="orders-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrdersDto</span> <span class="keyword">extends</span> <span class="title class_">Orders</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String consignee;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> List&lt;OrderDetail&gt; orderDetails;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="orders-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/userPage&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize)</span> &#123;</span><br><span class="line">    <span class="type">Long</span> <span class="variable">userId</span> <span class="operator">=</span> BaseContext.getCurrentId();</span><br><span class="line">    <span class="comment">//è·å–ordersçš„page</span></span><br><span class="line">    Page&lt;Orders&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page, pageSize);</span><br><span class="line">    <span class="comment">//è·å–ordersDtoçš„page åˆ°æ—¶å€™ç”¨å±æ€§æ‹·è´</span></span><br><span class="line">    Page&lt;OrdersDto&gt; ordersDtoPage = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//åˆ›å»ºordersæ¡ä»¶</span></span><br><span class="line">    LambdaQueryWrapper&lt;Orders&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//åŒ¹é… userid</span></span><br><span class="line">    queryWrapper.eq(Orders::getUserId,userId);</span><br><span class="line">    <span class="comment">//æ ¹æ®è®¢å•æ—¶é—´æ’åº</span></span><br><span class="line">    queryWrapper.orderByAsc(Orders::getOrderTime);</span><br><span class="line">    <span class="comment">//ordersåˆ†é¡µ</span></span><br><span class="line">    orderService.page(pageInfo,queryWrapper);</span><br><span class="line">    <span class="comment">//pageInfoå±æ€§ æ‹·è´ç»™orderDtoPage</span></span><br><span class="line">    BeanUtils.copyProperties(pageInfo,ordersDtoPage,<span class="string">&quot;records&quot;</span>);</span><br><span class="line"></span><br><span class="line">    List&lt;Orders&gt; records = pageInfo.getRecords();</span><br><span class="line">    List&lt;OrdersDto&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Orders item : records) &#123;</span><br><span class="line">        <span class="type">OrdersDto</span> <span class="variable">ordersDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OrdersDto</span>();</span><br><span class="line">        BeanUtils.copyProperties(item,ordersDto);</span><br><span class="line">        <span class="comment">//è·å–orderId æ ¹æ®id å»orderDetailè¡¨æŸ¥æ•°æ®</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">orderId</span> <span class="operator">=</span> item.getId();</span><br><span class="line">        LambdaQueryWrapper&lt;OrderDetail&gt; qw = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        qw.eq(OrderDetail::getOrderId,orderId);</span><br><span class="line">        List&lt;OrderDetail&gt; details = orderDetailService.list(qw);</span><br><span class="line">        ordersDto.setOrderDetails(details);</span><br><span class="line">        list.add(ordersDto);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æäº¤ç»™ordersDtoPage</span></span><br><span class="line">    ordersDtoPage.setRecords(list);</span><br><span class="line">    <span class="keyword">return</span> R.success(ordersDtoPage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="ç™»å‡ºåŠŸèƒ½">ç™»å‡ºåŠŸèƒ½</h3><ul><li><p>ç™»å‡ºåŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œè·Ÿä¹‹å‰çš„ç®¡ç†ç«¯æ˜¯ä¸€æ ·çš„</p></li><li><p>è¯·æ±‚è·¯å¾„<code>/user/loginout</code>,è¯·æ±‚æ–¹å¼ä¸º<code>POST</code></p><p>è¦åœ¨UserControllerå†™æ–¹æ³•</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç™»å‡ºåŠŸèƒ½</span></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/loginout&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">loginout</span><span class="params">(HttpServletRequest httpServletRequest)</span>&#123;</span><br><span class="line">        httpServletRequest.getSession().removeAttribute(<span class="string">&quot;user&quot;</span>); <span class="comment">//è·å–ç™»å½•çŠ¶æ€çš„Attribute</span></span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;é€€å‡ºæˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹-åˆ é™¤åœ°å€">ä¿®æ”¹/åˆ é™¤åœ°å€</h3><h4 id="æ•°æ®å›æ˜¾">æ•°æ®å›æ˜¾</h4><ul><li><p>ä¿®æ”¹ç¬¬ä¸€æ­¥å’Œä¹‹å‰ä¸€æ ·å®Œæˆ<code>æ•°æ®å›æ˜¾</code> åŒæ ·çœ‹å‰ç«¯è¯·æ±‚</p></li><li><p>/addressBook/{id}<code>è¯·æ±‚æ–¹å¼æ˜¯</code>GET åœ¨AddressBookControllerä¸­å†™æ–¹æ³•</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;AddressBook&gt; <span class="title function_">getById</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span>&#123;</span><br><span class="line">        <span class="type">AddressBook</span> <span class="variable">byId</span> <span class="operator">=</span> addressBookService.getById(id);</span><br><span class="line">        <span class="keyword">if</span> (byId == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;åœ°å€ä¿¡æ¯ä¸å­˜åœ¨&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> R.success(byId);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="ä¿®æ”¹åœ°å€">ä¿®æ”¹åœ°å€</h4><blockquote><p>è¯·æ±‚ç½‘å€: <a href="http://localhost/addressBook">http://localhost/addressBook</a><br>è¯·æ±‚æ–¹æ³•: PUT</p></blockquote><ul><li>ç›´æ¥åœ¨AddressBookControllerå†™Putæ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;String&gt; <span class="title function_">updateAdd</span><span class="params">(<span class="meta">@RequestBody</span> AddressBook addressBook)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (addressBook == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;åœ°å€ä¿¡æ¯ä¸å­˜åœ¨ï¼Œè¯·åˆ·æ–°é‡è¯•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        addressBookService.updateById(addressBook); <span class="comment">//è°ƒç”¨MPæ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> R.success(<span class="string">&quot;åœ°å€ä¿®æ”¹æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤åœ°å€">åˆ é™¤åœ°å€</h4><blockquote><p>è¯·æ±‚ç½‘å€: <a href="http://localhost/addressBook?ids=1579828298672885762">http://localhost/addressBook?ids=1579828298672885762</a><br>è¯·æ±‚æ–¹æ³•: DELETE</p></blockquote><ul><li>ç›´æ¥åœ¨AddressBookControllerå†™Deleteæ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@DeleteMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">delete</span><span class="params">(<span class="meta">@RequestParam</span> Long ids)</span>&#123;</span><br><span class="line">    <span class="comment">//åˆ é™¤åœ°å€</span></span><br><span class="line">    <span class="keyword">if</span> (ids == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;åœ°å€ä¿¡æ¯ä¸å­˜åœ¨ï¼Œè¯·åˆ·æ–°é‡è¯•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">AddressBook</span> <span class="variable">addressBook</span> <span class="operator">=</span> addressBookService.getById(ids);</span><br><span class="line">    <span class="keyword">if</span> (addressBook == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;åœ°å€ä¿¡æ¯ä¸å­˜åœ¨ï¼Œè¯·åˆ·æ–°é‡è¯•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    addressBookService.removeById(ids);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‡å·æŒ‰é’®">å‡å·æŒ‰é’®</h3><ul><li>åŠ å…¥è´­ç‰©è½¦ä»¥åï¼Œå‰ç«¯æ˜¯ç»™äº†ä¸€ä¸ªå‡å·çš„æŒ‰é’®ï¼Œå¹³å¸¸è‡ªå·±ç‚¹å¤–å–ä¹Ÿæœ‰ä½¿ç”¨ï¼Œå¤§æ¦‚åŠŸèƒ½å°±æ˜¯ç‚¹ä¸€ä¸‹æ•°é‡-1 0çš„æ—¶å€™èœå“å°±ä¼šæ¶ˆå¤±</li></ul><blockquote><p>è¯·æ±‚ç½‘å€: <a href="http://localhost/shoppingCart/sub">http://localhost/shoppingCart/sub</a><br>è¯·æ±‚æ–¹æ³•: POST</p></blockquote><p>æœ‰è¿”å›jsonæ•°æ®</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span>   dishId<span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span> </span><br><span class="line">    setmealId<span class="punctuation">:</span> <span class="string">&quot;1579044544635232258&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>æ€è·¯:é€šè¿‡è¿™ä¸¤ä¸ªID å®ç°å¯¹å¥—é¤å’Œèœå“çš„numberå±æ€§çš„ä¿®æ”¹ æœ€åä¸º0çš„è¯è°ƒç”¨åˆ é™¤æ“ä½œ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/sub&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> R&lt;ShoppingCart&gt; <span class="title function_">deleteSub</span><span class="params">(<span class="meta">@RequestBody</span> ShoppingCart shoppingCart)</span> &#123;</span><br><span class="line">       <span class="type">Long</span> <span class="variable">dishId</span> <span class="operator">=</span> shoppingCart.getDishId();</span><br><span class="line">       <span class="type">Long</span> <span class="variable">setmealId</span> <span class="operator">=</span> shoppingCart.getSetmealId();</span><br><span class="line">       LambdaQueryWrapper&lt;ShoppingCart&gt; lambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">       <span class="comment">//åªæŸ¥è¯¢å½“å‰ç”¨æˆ·IDçš„è´­ç‰©è½¦</span></span><br><span class="line">       lambdaQueryWrapper.eq(ShoppingCart::getUserId, BaseContext.getCurrentId());</span><br><span class="line">       <span class="keyword">if</span> (dishId != <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="comment">//åŒ¹é…å‡ºèœå“æ•°æ®</span></span><br><span class="line">           lambdaQueryWrapper.eq(ShoppingCart::getDishId, dishId);</span><br><span class="line">           <span class="type">ShoppingCart</span> <span class="variable">dishCart</span> <span class="operator">=</span> shoppingCartService.getOne(lambdaQueryWrapper);</span><br><span class="line">           dishCart.setNumber(dishCart.getNumber() - <span class="number">1</span>);</span><br><span class="line">           <span class="type">Integer</span> <span class="variable">number</span> <span class="operator">=</span> dishCart.getNumber();</span><br><span class="line">           <span class="keyword">if</span> (number &gt; <span class="number">0</span>) &#123;</span><br><span class="line">               shoppingCartService.updateById(dishCart);</span><br><span class="line">           &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">               shoppingCartService.removeById(dishCart.getId());</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">           <span class="keyword">return</span> R.success(dishCart);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (setmealId != <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="comment">//é€šè¿‡setmealIdæŸ¥è¯¢è´­ç‰©è½¦å¥—é¤æ•°æ®</span></span><br><span class="line">           lambdaQueryWrapper.eq(ShoppingCart::getSetmealId, setmealId);</span><br><span class="line">           <span class="type">ShoppingCart</span> <span class="variable">setmealCart</span> <span class="operator">=</span> shoppingCartService.getOne(lambdaQueryWrapper);</span><br><span class="line">           <span class="comment">//å°†æŸ¥å‡ºæ¥çš„æ•°æ®çš„æ•°é‡-1</span></span><br><span class="line">           setmealCart.setNumber(setmealCart.getNumber() - <span class="number">1</span>);</span><br><span class="line">           <span class="type">Integer</span> <span class="variable">currentNum</span> <span class="operator">=</span> setmealCart.getNumber();</span><br><span class="line">           <span class="comment">//ç„¶ååˆ¤æ–­</span></span><br><span class="line">           <span class="keyword">if</span> (currentNum &gt; <span class="number">0</span>) &#123;</span><br><span class="line">               <span class="comment">//å¤§äº0åˆ™æ›´æ–°</span></span><br><span class="line">               shoppingCartService.updateById(setmealCart);</span><br><span class="line">           &#125; <span class="keyword">else</span> <span class="keyword">if</span> (currentNum == <span class="number">0</span>) &#123;</span><br><span class="line">               <span class="comment">//ç­‰äº0åˆ™åˆ é™¤</span></span><br><span class="line">               shoppingCartService.removeById(setmealCart.getId());</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">return</span> R.success(setmealCart);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> R.error(<span class="string">&quot;ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åå†è¯•&quot;</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><h3 id="ç‚¹å›¾ç‰‡æŸ¥çœ‹å¥—é¤çš„è¯¦æƒ…">ç‚¹å›¾ç‰‡æŸ¥çœ‹å¥—é¤çš„è¯¦æƒ…</h3><p>è¿™ä¸ªå‰ç«¯å…¶å®æ˜¯å†™å¥½äº†çš„ï¼Œé˜¿è´¾å…‹æ–¯è¯·æ±‚åœ¨apiä¹Ÿçœ‹å¾—åˆ° å…ˆçœ‹ä¸‹è¯·æ±‚</p><blockquote><p>è¯·æ±‚ç½‘å€: <a href="http://localhost/setmeal/dish/1579044544635232258">http://localhost/setmeal/dish/1579044544635232258</a><br>è¯·æ±‚æ–¹æ³•: GET</p></blockquote><p>æ˜¯é€šè¿‡idå¯ä»¥å®ç°çš„ restFulé£æ ¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/dish/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> R&lt;List&lt;DishDto&gt;&gt; <span class="title function_">showSetmealDish</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> &#123;</span><br><span class="line">        <span class="comment">//æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">        LambdaQueryWrapper&lt;SetmealDish&gt; dishLambdaQueryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//æ‰‹é‡Œçš„æ•°æ®åªæœ‰setmealId</span></span><br><span class="line">        dishLambdaQueryWrapper.eq(SetmealDish::getSetmealId, id);</span><br><span class="line">        <span class="comment">//æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">        List&lt;SetmealDish&gt; records = setmealDishService.list(dishLambdaQueryWrapper);</span><br><span class="line">        List&lt;DishDto&gt; dtoList = records.stream().map((item) -&gt; &#123;</span><br><span class="line">            <span class="type">DishDto</span> <span class="variable">dishDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DishDto</span>();</span><br><span class="line">            <span class="comment">//copyæ•°æ®</span></span><br><span class="line">            BeanUtils.copyProperties(item,dishDto);</span><br><span class="line">            <span class="comment">//æŸ¥è¯¢å¯¹åº”èœå“id</span></span><br><span class="line">            <span class="type">Long</span> <span class="variable">dishId</span> <span class="operator">=</span> item.getDishId();</span><br><span class="line">            <span class="comment">//æ ¹æ®èœå“idè·å–å…·ä½“èœå“æ•°æ®ï¼Œè¿™é‡Œè¦è‡ªåŠ¨è£…é… dishService</span></span><br><span class="line">            <span class="type">Dish</span> <span class="variable">dish</span> <span class="operator">=</span> dishService.getById(dishId);</span><br><span class="line">            BeanUtils.copyProperties(dish,dishDto); <span class="comment">//è¿™é‡Œä¸å†™ä¹Ÿæ²¡äº‹ ä½†æ˜¯æˆ‘æƒ³éªŒè¯æ•°æ®</span></span><br><span class="line">            <span class="keyword">return</span> dishDto;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line">        <span class="keyword">return</span> R.success(dtoList);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="5-æ€»ç»“-6">5.æ€»ç»“</h2><p>ä»Šå¤©çš„å­¦ä¹ éš¾åº¦è¾ƒéš¾ï¼Œå› ä¸ºä¹‹å‰åšäº†ä¸‰å››å¤©çš„å®¢æˆ·ç«¯çš„åŠŸèƒ½å®Œå–„ï¼ŒåŠŸèƒ½å®ç°æ–¹æ³•ä»€ä¹ˆï¼Œè‡ªå·±åŸºæœ¬å°±çŸ¥é“ï¼Œæ‰€ä»¥ç§»åŠ¨ç«¯çš„å·®ä¸å¤šçš„åŠŸèƒ½ä¸€å¤©å°±å®Œæˆäº†ï¼Œå¾ˆå¤šéƒ½æ˜¯è·Ÿå®¢æˆ·ç«¯å¤§å·®ä¸å¤§ã€‚éš¾ç‚¹åœ¨åˆšå¼€å§‹çš„æ—¶å€™ï¼Œè‡ªå·±æŠŠæ•™ç¨‹çš„æ‰‹æœºå·æ¥å—éªŒè¯ç éªŒè¯æ”¹æˆäº†é‚®ç®±ï¼ˆå†™åœ¨æ‰©å±•å­¦ä¹ äº†ï¼‰ï¼Œè¿˜æœ‰åé¢çš„è´­ç‰©è½¦å’Œç”¨æˆ·ä¸‹å•çš„ä»£ç ä¹Ÿæ˜¯æŒºéš¾çš„ï¼Œçœ‹äº†è€å¸ˆæ•²äº†ä¸€éç†è§£å®Œï¼Œæ‰å°è¯•å»æ•²ã€‚åœ¨ä¸‹åˆç»ƒå®Œè½¦ä»¥å ï¼Œå¿«åˆ°æ™šè‡ªä¹ äº†ï¼ŒæŠŠç§»åŠ¨ç«¯çš„åŸºæœ¬åŠŸèƒ½éƒ½å®ç°äº†ã€‚ä½†æ˜¯è‡ªå·±å‘ç°å¾ˆå¤šåŠŸèƒ½éƒ½æ²¡å®Œå–„ï¼Œå»å‰ç«¯é¡µé¢æ˜¯èƒ½çœ‹åˆ°è¯·æ±‚çš„ï¼Œå°±æƒ³è‡ªå·±å°è¯•å®Œå–„ä¸€ä¸‹ï¼Œæ™šè‡ªä¹ å°†è§†é¢‘ä¸­æ²¡å®Œå–„çš„åŠŸèƒ½ç»™å®Œå–„äº†ï¼Œå¤§æ¦‚äº”å…­ä¸ªåŠŸèƒ½ï¼Œè‡ªå·±åå°ä»£ç å†™æ‰äº†ã€‚</p><h1 id="11-2-ç‘å‰å¤–å–å®Œç»“">11.2 ç‘å‰å¤–å–å®Œç»“</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-6">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p>ã€é»‘é©¬ç¨‹åºå‘˜2022æ–°ç‰ˆSSMæ¡†æ¶æ•™ç¨‹_Spring+SpringMVC+Mavené«˜çº§+SpringBoot+MyBatisPlusä¼ä¸šå®ç”¨å¼€å‘æŠ€æœ¯ã€‘ <a href="https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843">https://www.bilibili.com/video/BV1Fi4y1S7ix?p=31&amp;share_source=copy_web&amp;vd_source=c8ae4150b2286ee39a13a79bbe12b843</a></p><h2 id="2-æ‰€å­¦å†…å®¹æ¦‚è¿°-6">2.æ‰€å­¦å†…å®¹æ¦‚è¿°</h2><p>ä¸ŠåˆæŠŠç®¡ç†ç«¯è€å¸ˆæœªå®Œå–„çš„åŠŸèƒ½å»å®Œå–„äº†ä¸€ä¸‹ï¼Œä¸‹åˆå’Œæ™šä¸ŠèŠ±æ—¶é—´ï¼Œå°†é¡¹ç›®é‡æ–°å›é¡¾æ¢³ç†äº†ä¸€ä¸‹ã€‚è‡ªå·±ç”¨è‡ªå·±çš„æ‰‹æœºæ“ä½œäº†ä¸€ä¸‹ï¼Œå®¢æˆ·ç«¯çš„åŠŸèƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p><h2 id="3-BUGç‚¹-7">3. BUGç‚¹</h2><p>éš¾ç‚¹(å…³é”®ä»£ç æˆ–å…³é”®é…ç½®ï¼ŒBUGæˆªå›¾+è§£å†³æ–¹æ¡ˆ)</p><p>åœ¨æ‰©å±•å­¦ä¹ å†™æ‰¹é‡å¯å”®/åœå”®çš„æ—¶å€™ï¼Œè¿è¡Œæ—¶å€™å°±æŠ¥é”™ï¼Œåˆšå¼€å§‹ä¸çŸ¥é“å•¥åŸå› ï¼Œæ³¨è§£æ‰å†™çš„æ–¹æ³•ï¼Œå°±æ²¡æŠ¥é”™äº†ï¼Œé—®é¢˜åœ¨è‡ªå·±å†™çš„allStatusæ–¹æ³•ï¼Œä»¥ä¸ºæ˜¯æŠŠreturnå†™åˆ°å¾ªç¯ä½“ä¸­äº†ï¼Œæ”¾å¤–é¢è¿˜æ˜¯æŠ¥é”™ï¼Œç¿»è¯‘æŠ¥é”™ä¿¡æ¯ï¼Œæœ‰ä¸€æ¡è¯´DishControllerä»€ä¹ˆå·²å­˜åœ¨ï¼Œå¥¥å°±å‘ç°å› ä¸ºå¯å”®å’Œåœå”®çš„è¯·æ±‚æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯è¯·æ±‚ä½“ä¸ä¸€æ ·ï¼Œæ‰€ä»¥@PostMapepré‡Œé¢æˆ‘å†™çš„å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œå¯èƒ½è¿™æ ·ä¼šå¯¼è‡´åŒ¹é…ä¸åˆ°ï¼Œå°±æŠŠåŸæœ¬å†™çš„å•ç‹¬å¯å”®å’Œåœå”®æ³¨é‡Šäº†(æ‰¹é‡å¯å”®/åœå”®ä¹Ÿé€‚ç”¨å•ç‹¬çš„),é—®é¢˜è§£å†³äº†ï¼ŒåŠŸèƒ½ä¹Ÿå®ç°äº†</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/202211080807448.png" alt="image-20221102104452662"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-7">4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><ul><li><p>[x] åå°ç³»ç»Ÿç«¯çš„é¢å¤–åŠŸèƒ½å®ç°(ä»£ç åç»­è¡¥ä¸Š)  æ‰¹é‡çš„åˆ é™¤ å’Œ å¯åœå”®</p></li><li><p>ä¸¤ä¸ªé‡è¦çš„åŠŸèƒ½æ‰¹é‡ä¿®æ”¹å’Œåˆ é™¤ï¼Œä½¿ç”¨æ‰¹é‡çš„æ—¶å€™ï¼Œå•ç‹¬çš„ä¿®æ”¹å’Œåˆ é™¤ä¹Ÿæ˜¯èƒ½æˆåŠŸçš„ è‡ªå·±å»CSDNæœåˆ°äº†<code>LambdaUpdateWrapper</code>è¿™ä¸ªç±»å¯¹åˆ é™¤å’Œä¿®æ”¹ï¼Œä»£ç ä¼šä¼˜åŒ–å¾ˆå¤š</p></li></ul><h3 id="èœå“æ‰¹é‡å¯å”®-åœå”®">èœå“æ‰¹é‡å¯å”®/åœå”®</h3><p>æŸ¥çœ‹å‰ç«¯è¯·æ±‚</p><blockquote><p>è¯·æ±‚ç½‘å€: <a href="http://localhost/dish/status/0?ids=1578942037036703745">http://localhost/dish/status/0?ids=1578942037036703745</a><br>è¯·æ±‚æ–¹æ³•: POST</p></blockquote><p>å’Œä¹‹å‰ä¿®æ”¹çŠ¶æ€ä¸€æ ·ï¼Œå‰ç«¯å·²ç»å¯¹statuså–åäº†ï¼Œæ‰€ä»¥ç›´æ¥ç”¨å‘é€çš„statusæ›´æ–°çŠ¶æ€</p><div class="tabs" id="batchstatus"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#batchstatus-1">å•ç‹¬</button></li><li class="tab"><button type="button" data-href="#batchstatus-2">æ‰¹é‡</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="batchstatus-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/status/&#123;status&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result&lt;String&gt; <span class="title function_">status</span><span class="params">(<span class="meta">@PathVariable</span> Integer status, Long ids)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;status:&#123;&#125;,ids:&#123;&#125;&quot;</span>, status, ids);</span><br><span class="line">    <span class="type">Dish</span> <span class="variable">dish</span> <span class="operator">=</span> dishService.getById(ids);</span><br><span class="line">    <span class="keyword">if</span> (dish != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">//ç›´æ¥ç”¨å®ƒä¼ è¿›æ¥çš„è¿™ä¸ªstatusæ”¹å°±è¡Œ</span></span><br><span class="line">        dish.setStatus(status);</span><br><span class="line">        dishService.updateById(dish);</span><br><span class="line">        <span class="keyword">return</span> Result.success(<span class="string">&quot;å”®å–çŠ¶æ€ä¿®æ”¹æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Result.error(<span class="string">&quot;ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åå†è¯•&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="batchstatus-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/status/&#123;status&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result&lt;String&gt; <span class="title function_">status</span><span class="params">(<span class="meta">@PathVariable</span> Integer status, <span class="meta">@RequestParam</span> List&lt;Long&gt; ids)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;status:&#123;&#125;,ids:&#123;&#125;&quot;</span>, status, ids);</span><br><span class="line">    LambdaUpdateWrapper&lt;Dish&gt; updateWrapper = <span class="keyword">new</span> <span class="title class_">LambdaUpdateWrapper</span>&lt;&gt;();</span><br><span class="line">    updateWrapper.in(ids != <span class="literal">null</span>, Dish::getId, ids); <span class="comment">//dishçš„idåœ¨åˆ—è¡¨ä¸­ ç›¸å½“äºwhere in</span></span><br><span class="line">    updateWrapper.set(Dish::getStatus, status); <span class="comment">//è®¾ç½®çŠ¶æ€ä¸ºå‰ç«¯è¿”å›çš„status</span></span><br><span class="line">    dishService.update(updateWrapper); <span class="comment">//æ›´æ–°</span></span><br><span class="line">    <span class="keyword">return</span> Result.success(<span class="string">&quot;æ‰¹é‡æ“ä½œæˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="èœå“æ‰¹é‡åˆ é™¤">èœå“æ‰¹é‡åˆ é™¤</h3><p>æŸ¥çœ‹å‰ç«¯è¯·æ±‚</p><blockquote><p>è¯·æ±‚ç½‘å€: <a href="http://localhost/dish?ids=1578674689490825217">http://localhost/dish?ids=1578674689490825217</a><br>è¯·æ±‚æ–¹æ³•: DELETE</p></blockquote><p>åŒæ ·è¦åˆ¤æ–­èœå“æ˜¯ä¸æ˜¯åœå”®çŠ¶æ€</p><p>æˆ‘ç›´æ¥å†™æ‰¹é‡çš„äº†ï¼Œ<a href="http://xn--queryWrapper-q45tr2jg6titt.in">åŒºåˆ«å°±åœ¨queryWrapper.in</a> å’Œä¼ å…¥çš„å‚æ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@DeleteMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">allDelete</span><span class="params">(<span class="meta">@RequestParam</span> List&lt;Long&gt; ids)</span>&#123;</span><br><span class="line">    log.info(<span class="string">&quot;åˆ é™¤çš„idsï¼š&#123;&#125;&quot;</span>, ids);</span><br><span class="line">    LambdaQueryWrapper&lt;Dish&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    queryWrapper.in(Dish::getId, ids);</span><br><span class="line">    queryWrapper.eq(Dish::getStatus, <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> dishService.count(queryWrapper);</span><br><span class="line">    <span class="keyword">if</span> (count &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">CustomException</span>(<span class="string">&quot;åˆ é™¤åˆ—è¡¨ä¸­å­˜åœ¨å¯å”®çŠ¶æ€å•†å“ï¼Œæ— æ³•åˆ é™¤&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    dishService.removeByIds(ids);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¥—é¤æ‰¹é‡å¯å”®-åœå”®">å¥—é¤æ‰¹é‡å¯å”®/åœå”®</h3><p>æŸ¥çœ‹è¯·æ±‚</p><blockquote><p>è¯·æ±‚ç½‘å€: <a href="http://localhost/setmeal/status/1?ids=1580361600576114689">http://localhost/setmeal/status/1?ids=1580361600576114689</a><br>è¯·æ±‚æ–¹æ³•: POST</p></blockquote><p>å’Œèœå“æ“ä½œçš„åŸºæœ¬ä¸€æ ·</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/status/&#123;status&#125;&quot;)</span></span><br><span class="line"><span class="meta">@CacheEvict(value = &quot;setmealCache&quot;, allEntries = true)</span><span class="comment">//åé¢çš„åŠ å…¥ç¼“å­˜ ç°åœ¨å¿½ç•¥</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">status</span><span class="params">(<span class="meta">@PathVariable</span> String status, <span class="meta">@RequestParam</span> List&lt;Long&gt; ids)</span> &#123;</span><br><span class="line">    LambdaUpdateWrapper&lt;Setmeal&gt; updateWrapper = <span class="keyword">new</span> <span class="title class_">LambdaUpdateWrapper</span>&lt;&gt;();</span><br><span class="line">    updateWrapper.in(Setmeal::getId, ids);</span><br><span class="line">    updateWrapper.set(Setmeal::getStatus, status);</span><br><span class="line">    setmealService.update(updateWrapper);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;æ‰¹é‡æ“ä½œæˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¥—é¤ä¿®æ”¹">å¥—é¤ä¿®æ”¹</h3><p>å’Œå…¶ä»–ä¿®æ”¹æ“ä½œä¸€æ · éœ€è¦å…ˆæ•°æ®å›æ˜¾ å†ä¿®æ”¹</p><p>çœ‹è¯·æ±‚</p><blockquote><p>å›æ˜¾çš„è¯·æ±‚                                                                                                                                                                                             è¯·æ±‚ç½‘å€: <a href="http://localhost/setmeal/1580361496716759041">http://localhost/setmeal/1580361496716759041</a><br>è¯·æ±‚æ–¹æ³•: GET</p><p>ä¿®æ”¹çš„è¯·æ±‚  ç½‘å€: <a href="http://localhost/setmeal">http://localhost/setmeal</a><br>è¯·æ±‚æ–¹æ³•: PUT</p></blockquote><div class="tabs" id="update11.2"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#update11.2-1">å›æ˜¾æ“ä½œ</button></li><li class="tab"><button type="button" data-href="#update11.2-2">ä¿®æ”¹æ“ä½œ</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="update11.2-1"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span> <span class="comment">//ç”¨SetmealDto</span></span><br><span class="line"><span class="keyword">public</span> R&lt;SetmealDto&gt; <span class="title function_">getById</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span>&#123;</span><br><span class="line">    <span class="type">Setmeal</span> <span class="variable">setmeal</span> <span class="operator">=</span> setmealService.getById(id);</span><br><span class="line">    <span class="type">SetmealDto</span> <span class="variable">setmealDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SetmealDto</span>();</span><br><span class="line">    <span class="comment">//æ‹·è´æ•°æ®</span></span><br><span class="line">    BeanUtils.copyProperties(setmeal,setmealDto);</span><br><span class="line">    LambdaQueryWrapper&lt;SetmealDish&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//é…setmealId</span></span><br><span class="line">    queryWrapper.eq(SetmealDish::getSetmealId,id);</span><br><span class="line">    List&lt;SetmealDish&gt; list = setmealDishService.list(queryWrapper);</span><br><span class="line">    setmealDto.setSetmealDishes(list);</span><br><span class="line">    <span class="keyword">return</span> R.success(setmealDto);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="update11.2-2"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line"><span class="meta">@CacheEvict(value = &quot;setmealCache&quot;, allEntries = true)</span> <span class="comment">//åé¢çš„åŠ å…¥ç¼“å­˜ ç°åœ¨å¿½ç•¥</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Setmeal&gt; <span class="title function_">updateWithDish</span><span class="params">(<span class="meta">@RequestBody</span> SetmealDto setmealDto)</span>&#123;</span><br><span class="line">    List&lt;SetmealDish&gt; setmealDishes = setmealDto.getSetmealDishes();</span><br><span class="line">    <span class="type">Long</span> <span class="variable">id</span> <span class="operator">=</span> setmealDto.getId();</span><br><span class="line">    <span class="comment">//æ ¹æ®idæŠŠå¯¹åº”å¥—é¤æ•°æ®åˆ é™¤</span></span><br><span class="line">    LambdaQueryWrapper&lt;SetmealDish&gt; qw = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    qw.eq(SetmealDish::getSetmealId,id);</span><br><span class="line">    setmealDishService.remove(qw);</span><br><span class="line">    <span class="comment">//é‡æ–°æ·»åŠ </span></span><br><span class="line">    setmealDishes.stream().map((item) -&gt; &#123;</span><br><span class="line">        <span class="comment">//è®¾ç½®å±æ€§</span></span><br><span class="line">        item.setSetmealId(id);</span><br><span class="line">        <span class="keyword">return</span> item;</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line">    <span class="comment">//æ›´æ–°å¥—é¤æ•°æ®</span></span><br><span class="line">    setmealService.updateById(setmealDto);</span><br><span class="line">    <span class="comment">//æ›´æ–°å¥—é¤å¯¹åº”çš„æ•°æ® æ‰¹é‡ä¿å­˜</span></span><br><span class="line">    setmealDishService.saveBatch(setmealDishes);</span><br><span class="line">    <span class="keyword">return</span> R.success(setmealDto);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h4 id="æŸ¥çœ‹è®¢å•æ˜ç»†">æŸ¥çœ‹è®¢å•æ˜ç»†</h4><p>æŸ¥çœ‹è‚¯å®šæ˜¯getè¯·æ±‚  ä½†æ˜¯è¿™ä¸ªè¯·æ±‚æ¯”è¾ƒå¤š</p><blockquote><p>è¯·æ±‚ç½‘å€: [<a href="http://localhost/order/page?page=1&amp;pageSize=10&amp;number=1580166484741677057&amp;beginTime=2022-10-19%2000%3A00%3A00&amp;endTime=2022-11-16%2023%3A59%3A59">http://localhost/order/page?page=1&amp;pageSize=10&amp;number=1580166484741677057&amp;beginTime=2022-10-19 00%3A00%3A00&amp;endTime=2022-11-16 23%3A59%3A59</a>](<a href="http://localhost/order/page?page=1&amp;pageSize=10&amp;number=1580166484741677057&amp;beginTime=2022-10-19">http://localhost/order/page?page=1&amp;pageSize=10&amp;number=1580166484741677057&amp;beginTime=2022-10-19</a> 00%3A00%3A00&amp;endTime=2022-11-16 23%3A59%3A59)<br>è¯·æ±‚æ–¹æ³•: GET</p></blockquote><ul><li>æ„Ÿè§‰å’Œä¹‹å‰çš„å†å²è®¢å•å·®ä¸å¤š å¯¹ç€ç¨å¾®ä¿®æ”¹ä¸€ä¸‹</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/page&quot;)</span></span><br><span class="line"><span class="keyword">public</span> R&lt;Page&gt; <span class="title function_">page</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize, Long number, String beginTime, String endTime)</span> &#123;</span><br><span class="line">    <span class="comment">//è·å–å½“å‰id</span></span><br><span class="line">    Page&lt;Orders&gt; pageInfo = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page, pageSize);</span><br><span class="line">    Page&lt;OrdersDto&gt; ordersDtoPage = <span class="keyword">new</span> <span class="title class_">Page</span>&lt;&gt;(page, pageSize);</span><br><span class="line">    <span class="comment">//æ¡ä»¶æ„é€ å™¨</span></span><br><span class="line">    LambdaQueryWrapper&lt;Orders&gt; queryWrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//æŒ‰æ—¶é—´é™åºæ’åº</span></span><br><span class="line">    queryWrapper.orderByDesc(Orders::getOrderTime);</span><br><span class="line">    <span class="comment">//è®¢å•å·</span></span><br><span class="line">    queryWrapper.eq(number != <span class="literal">null</span>, Orders::getId, number);</span><br><span class="line">    <span class="comment">//æ—¶é—´æ®µï¼Œå¤§äºå¼€å§‹ï¼Œå°äºç»“æŸ</span></span><br><span class="line">    queryWrapper.gt(!StringUtils.isEmpty(beginTime), Orders::getOrderTime, beginTime)</span><br><span class="line">            .lt(!StringUtils.isEmpty(endTime), Orders::getOrderTime, endTime);</span><br><span class="line">    orderService.page(pageInfo, queryWrapper);</span><br><span class="line">    List&lt;OrdersDto&gt; list = pageInfo.getRecords().stream().map((item) -&gt; &#123;</span><br><span class="line">        <span class="type">OrdersDto</span> <span class="variable">ordersDto</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OrdersDto</span>();</span><br><span class="line">        <span class="comment">//è·å–orderId,ç„¶åæ ¹æ®è¿™ä¸ªidï¼Œå»orderDetailè¡¨ä¸­æŸ¥æ•°æ®</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">orderId</span> <span class="operator">=</span> item.getId();</span><br><span class="line">        LambdaQueryWrapper&lt;OrderDetail&gt; wrapper = <span class="keyword">new</span> <span class="title class_">LambdaQueryWrapper</span>&lt;&gt;();</span><br><span class="line">        wrapper.eq(OrderDetail::getOrderId, orderId);</span><br><span class="line">        List&lt;OrderDetail&gt; details = orderDetailService.list(wrapper);</span><br><span class="line">        BeanUtils.copyProperties(item, ordersDto);</span><br><span class="line">        <span class="comment">//ä¹‹åsetä¸€ä¸‹å±æ€§</span></span><br><span class="line">        ordersDto.setOrderDetails(details);</span><br><span class="line">        <span class="keyword">return</span> ordersDto;</span><br><span class="line">    &#125;).collect(Collectors.toList());</span><br><span class="line">    BeanUtils.copyProperties(pageInfo, ordersDtoPage, <span class="string">&quot;records&quot;</span>);</span><br><span class="line">    ordersDtoPage.setRecords(list);</span><br><span class="line">    <span class="comment">//æ—¥å¿—è¾“å‡ºçœ‹ä¸€ä¸‹</span></span><br><span class="line">    log.info(<span class="string">&quot;list:&#123;&#125;&quot;</span>, list);</span><br><span class="line">    <span class="keyword">return</span> R.success(ordersDtoPage);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹è®¢å•çŠ¶æ€">ä¿®æ”¹è®¢å•çŠ¶æ€</h3><ul><li>è¿™ä¸ªéœ€è¦çœ‹ä¸‹å‰ç«¯å†™çš„jsæ–‡ä»¶ å…ˆçœ‹ä¸‹è¯·æ±‚å’Œè¿”å›json</li></ul><blockquote><p>è¯·æ±‚ç½‘å€: <a href="http://localhost/order">http://localhost/order</a><br>è¯·æ±‚æ–¹æ³•: PUT</p></blockquote><ul><li>è¿”å›çš„json å’Œ jsæ–‡ä»¶</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span>   </span><br><span class="line">    status<span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span> </span><br><span class="line">    id<span class="punctuation">:</span> <span class="string">&quot;1580166484741677057&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(row.<span class="property">status</span>)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        str =  <span class="string">&#x27;å¾…ä»˜æ¬¾&#x27;</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        str =  <span class="string">&#x27;æ­£åœ¨æ´¾é€&#x27;</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">        str =  <span class="string">&#x27;å·²æ´¾é€&#x27;</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">        str =  <span class="string">&#x27;å·²å®Œæˆ&#x27;</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">        str =  <span class="string">&#x27;å·²å–æ¶ˆ&#x27;</span></span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å› ä¸ºè¿”å›å€¼å·²ç»å†™å¥½äº† æˆ‘ä»¬åªè¦ä¼ å…¥å‚æ•°å°±å¥½äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PutMapping</span></span><br><span class="line"><span class="keyword">public</span> R&lt;String&gt; <span class="title function_">changeStatus</span><span class="params">(<span class="meta">@RequestBody</span> Map&lt;String, String&gt; map)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">status</span> <span class="operator">=</span> Integer.parseInt(map.get(<span class="string">&quot;status&quot;</span>));</span><br><span class="line">    <span class="type">Long</span> <span class="variable">orderId</span> <span class="operator">=</span> Long.valueOf(map.get(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">    log.info(<span class="string">&quot;ä¿®æ”¹è®¢å•çŠ¶æ€:status=&#123;&#125;,id=&#123;&#125;&quot;</span>, status, orderId);</span><br><span class="line">    LambdaUpdateWrapper&lt;Orders&gt; updateWrapper = <span class="keyword">new</span> <span class="title class_">LambdaUpdateWrapper</span>&lt;&gt;();</span><br><span class="line">    updateWrapper.eq(Orders::getId, orderId);</span><br><span class="line">    updateWrapper.set(Orders::getStatus, status);</span><br><span class="line">    orderService.update(updateWrapper);</span><br><span class="line">    <span class="keyword">return</span> R.success(<span class="string">&quot;è®¢å•çŠ¶æ€ä¿®æ”¹æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-æ€»ç»“-7">5.æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ çŠ¶æ€è¿˜ä¸é”™ï¼Œä½†æ˜¯å­¦ä¹ æ—¶é—´æœ‰ç‚¹å°‘äº†ï¼Œå¯¹è‡ªå·±ä»Šå¤©çš„ä»»åŠ¡è¦æ±‚ä¹Ÿä¸é‡ï¼Œä¸Šåˆå®Œå–„å®Œè€å¸ˆæ²¡å†™çš„åŠŸèƒ½ï¼Œæ™šä¸Šè‡ªå·±æ¢³ç†äº†ä¸€éï¼Œä»¥åŠå¯¹è‡ªå·±åšå®¢çš„ç¾åŒ–å·¥ä½œï¼Œæ—©ä¸Šç¬¬ä¸€æ¬¡åšæ‰¹é‡å¯å”®å’Œåœå”®çš„æ—¶å€™ï¼Œå‡ºç°äº†ä¸€ç‚¹å°æ’æ›²ï¼Œè§£å†³å®Œä»¥åï¼Œåé¢çš„æ‰¹é‡åˆ é™¤ä»¥åŠèœå•çš„åŠŸèƒ½ï¼Œå®ç°èµ·æ¥ä¹Ÿå¾ˆé¡ºåˆ©ã€‚æœ¬æ¥æƒ³åŠ å…¥å…¬å¸é¡¹ç›®çš„ä½†æ˜¯å¥½åƒæ¥å£éƒ½å·®ä¸å¤šå†™å®Œäº†ï¼Œè®¡åˆ’è¿˜æ˜¯å¾€åé¢å­¦ï¼Œé¡¹ç›®éƒ¨ç½²ä¹Ÿå»å­¦ä¸€ä¸‹ï¼Œè®¡åˆ’æŒ‚åˆ°æœåŠ¡å™¨é‡Œé¢ï¼Œå†æŠŠgitå’ŒRedisè¿‡ä¸€éï¼Œè¿™å‘¨ä¹‹å‰æŠŠéƒ¨ç½²çš„ä»»åŠ¡å®Œæˆäº†ï¼Œç„¶åå»å¼€å§‹Cloudäº†æ‰“ç®—ã€‚</p>]]></content>
    
    
    <summary type="html">SpringBooté¡¹ç›®</summary>
    
    
    
    <category term="å‰åç«¯é¡¹ç›®" scheme="https://u7u7.top/categories/%E5%89%8D%E5%90%8E%E7%AB%AF%E9%A1%B9%E7%9B%AE/"/>
    
    
    <category term="SpringBoot" scheme="https://u7u7.top/tags/SpringBoot/"/>
    
    <category term="Java" scheme="https://u7u7.top/tags/Java/"/>
    
    <category term="é¡¹ç›®" scheme="https://u7u7.top/tags/%E9%A1%B9%E7%9B%AE/"/>
    
  </entry>
  
  <entry>
    <title>3æœˆç¬”è®°</title>
    <link href="https://u7u7.top/posts/22biji03.html"/>
    <id>https://u7u7.top/posts/22biji03.html</id>
    <published>2023-03-09T14:21:25.000Z</published>
    <updated>2023-03-24T14:21:25.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="3-7-Javaæ¦‚è¿°">3.7 Javaæ¦‚è¿°</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="æ³¨é‡Šï¼š">æ³¨é‡Šï¼š</h3><p>(æ–‡æ¡£æ³¨é‡Š(javaç‹¬æœ‰))</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">æ–‡æ¡£æ³¨é‡Š</span></span><br><span class="line"><span class="comment"><span class="doctag">@author</span> sjh</span></span><br><span class="line"><span class="comment"><span class="doctag">@version</span> v1.0</span></span><br><span class="line"><span class="comment">å“ˆå“ˆå“ˆ javaå¼€å§‹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloJava</span>&#123;</span><br><span class="line"><span class="comment">/* å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">å“ˆå“ˆå“ˆ</span></span><br><span class="line"><span class="comment">å°±æ˜¯è¿™ä¹ˆç‰›</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> </span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//å•è¡Œæ³¨é‡Š</span></span><br><span class="line">System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* hhh*/</span>  <span class="comment">//å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** hhh*/</span>  <span class="comment">//æ–‡æ¡£æ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å•è¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">// å¤šè¡Œæ³¨é‡Šä¸èƒ½å¤šè¡Œæ³¨é‡Šï¼Œä¸å¯ä»¥åµŒå¥—</span></span><br></pre></td></tr></table></figure><p><code>javadoc -d mydoc -author -version HelloJava.java</code></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220306161150044.png" alt="image-20220306161150044"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220306163604972.png" alt="image-20220306163604972"></p><p>æ€»ç»“</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220306175519018.png" alt="image-20220306175519018"></p><h3 id="æ ‡è¯†ç¬¦å‘½å">æ ‡è¯†ç¬¦å‘½å</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*Javaè¯­è¨€ä¸­ï¼Œä¸ºå„ç§å˜é‡ã€æ–¹æ³•å’Œç±»ç­‰èµ·çš„åå­—ç§°ä¸ºæ ‡è¯†ç¬¦</span></span><br><span class="line"><span class="comment">Javaæ ‡è¯†ç¬¦çš„å‘½åè§„åˆ™ï¼š</span></span><br><span class="line"><span class="comment">åº”ä»¥å­—æ¯ã€ä¸‹åˆ’çº¿ã€ç¾å…ƒç¬¦å¼€å¤´</span></span><br><span class="line"><span class="comment">åè·Ÿå­—æ¯ã€ä¸‹åˆ’çº¿ã€ç¾å…ƒç¬¦æˆ–æ•°å­—</span></span><br><span class="line"><span class="comment">Javaæ ‡è¯†ç¬¦å¤§å°å†™æ•æ„Ÿï¼Œé•¿åº¦æ— é™åˆ¶</span></span><br><span class="line"><span class="comment">1.javaä¸­èƒ½ç”¨ä½œæ ‡è¯†ç¬¦çš„æœ‰ï¼š26ä¸ªè‹±æ–‡å­—æ¯ï¼ˆå¤§ã€å°å†™ï¼‰ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œç¾å…ƒç¬¦å·$ã€‚ </span></span><br><span class="line"><span class="comment">ä½†æ˜¯ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚ </span></span><br><span class="line"><span class="comment">2.ç±»åé¦–ä¸ªå­—æ¯å¿…é¡»å¤§å†™ï¼Œå¤šä¸ªå•è¯ç»„æˆçš„ï¼Œæ¯ä¸ªå•è¯é¦–å­—æ¯éƒ½è¦å¤§å†™ã€‚ </span></span><br><span class="line"><span class="comment">3.æ–¹æ³•åä¸€èˆ¬é¦–ä¸ªå­—æ¯å°å†™ï¼ˆæ„é€ æ–¹æ³•ä¾‹å¤–ï¼‰ï¼Œå¤šä¸ªå•è¯ç»„æˆæ–¹æ³•åï¼Œåé¢å•è¯é¦–å­—æ¯å¤§å†™ã€‚ </span></span><br><span class="line"><span class="comment">4.å˜é‡å‘½åè§„åˆ™åŒæ–¹æ³•ååã€‚ </span></span><br><span class="line"><span class="comment">æ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨javaä¸­çš„å…³é”®å­—åšæ ‡è¯†ç¬¦ã€‚</span></span><br><span class="line"><span class="comment">1)ã€åç§°åªèƒ½ç”±å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€$ç¬¦å·ç»„æˆ</span></span><br><span class="line"><span class="comment">2)ã€å‘½åæ—¶ä¸èƒ½ä»¥æ•°å­—å¼€å¤´</span></span><br><span class="line"><span class="comment">3)ã€åœ¨å‘½åæ˜¯ç»å¯¹ä¸èƒ½å‡ºç°Javaå…³é”®å­—ã€‚</span></span><br><span class="line"><span class="comment">4)ã€ç»å¯¹ä¸å…è®¸åœ¨å‘½åæ—¶å‡ºç°ä¸­æ–‡åŠæ‹¼éŸ³å‘½åã€‚</span></span><br><span class="line"><span class="comment">ç±»çš„å‘½å*/</span></span><br></pre></td></tr></table></figure><h3 id="å‘½åè§„èŒƒ">å‘½åè§„èŒƒ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1.é¡¹ç›®åå…¨éƒ¨å°å†™</span></span><br><span class="line"><span class="comment">2.åŒ…åå…¨éƒ¨å°å†™</span></span><br><span class="line"><span class="comment">3.ç±»åè¦å¤§é©¼å³°</span></span><br><span class="line"><span class="comment">4.å˜é‡é€šä¿—æ˜“æ‡‚</span></span><br><span class="line"><span class="comment">5.æ–¹æ³•å¼€å¤´ç¬¬ä¸€ä¸ªå•è¯ä»¥å°å†™å­—æ¯å¼€å¤´åé¢ç”¨å¤§å†™å­—æ¯å¼€å¤´ å¦‚:numName</span></span><br><span class="line"><span class="comment">6ã€ä½¿ç”¨é©¼å³°å‘½åæ³•å‘½åå¤šä¸ªå•è¯ç»„æˆçš„å˜é‡åã€‚ </span></span><br><span class="line"><span class="comment">7ã€å¸¸é‡å‘½åæ—¶éœ€è¦éµå¾ªåç§°å…¨éƒ¨å¤§å†™çš„åŸåˆ™ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br></pre></td></tr></table></figure><h3 id="ç±»åå’Œæ–‡ä»¶åå‘½å">ç±»åå’Œæ–‡ä»¶åå‘½å</h3><p>ç±»åå‰é¢æœ‰public ç±»åå’Œæ–‡ä»¶åè¦ä¸€æ ·</p><h3 id="2-å˜é‡">2.å˜é‡</h3><p><strong><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220307094024472.png" alt="image-20220307094024472"></strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">variable</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"><span class="type">int</span> myAge;</span><br><span class="line">myAge = <span class="number">13</span>;</span><br><span class="line">System.out.println(myAge);</span><br><span class="line"><span class="type">int</span> <span class="variable">myNumber</span> <span class="operator">=</span> <span class="number">1001</span>;</span><br><span class="line">System.out.println(myNumber);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-javaå®šä¹‰çš„æ•°æ®ç±»å‹">3.javaå®šä¹‰çš„æ•°æ®ç±»å‹</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220307094638508.png" alt="image-20220307094638508"></p><h4 id="æ•´å‹">æ•´å‹</h4><p>byte short int long</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">VariableTest3</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"><span class="type">double</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="number">12.3</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> (<span class="type">int</span>)d1;</span><br><span class="line">System.out.println(i1);</span><br><span class="line"><span class="comment">//æ²¡æœ‰ç²¾åº¦æŸå¤±</span></span><br><span class="line"><span class="type">long</span> <span class="variable">l1</span> <span class="operator">=</span> <span class="number">123</span>;</span><br><span class="line"><span class="type">short</span> <span class="variable">s2</span> <span class="operator">=</span> (<span class="type">short</span>)l1;</span><br><span class="line">System.out.println(s2);</span><br><span class="line"><span class="comment">//ç²¾åº¦æŸå¤±</span></span><br><span class="line"><span class="type">int</span> <span class="variable">i2</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line"><span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> (<span class="type">byte</span>)i2;</span><br><span class="line">System.out.println(b);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220307105321442.png" alt="image-20220307105321442"></p><h4 id="æµ®ç‚¹å‹">æµ®ç‚¹å‹</h4><p>float doule</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">VariableTest4</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"><span class="comment">//1.ç¼–ç æƒ…å†µ</span></span><br><span class="line"><span class="type">long</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">123213</span>;</span><br><span class="line">System.out.println(l);</span><br><span class="line"><span class="comment">//ç¼–è¯‘å¤±è´¥:è¿‡å¤§çš„æ•´æ•°</span></span><br><span class="line"><span class="comment">// long 11 = 213341335131412411;</span></span><br><span class="line"><span class="type">long</span> <span class="variable">l1</span> <span class="operator">=</span> <span class="number">2141414134324442L</span>;</span><br><span class="line">System.out.println(l1);</span><br><span class="line"><span class="comment">//*****************</span></span><br><span class="line"><span class="comment">//ç¼–è¯‘å¤±è´¥</span></span><br><span class="line"><span class="comment">// float f1 = 12.3;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.ç¼–è¯‘æƒ…å†µ</span></span><br><span class="line"><span class="comment">//æ•´å‹å¸¸é‡é»˜è®¤æ˜¯int</span></span><br><span class="line"><span class="comment">//æµ®ç‚¹å‹å¸¸é‡é»˜è®¤ç±»å‹æ˜¯doubleå‹</span></span><br><span class="line"><span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line"><span class="comment">//byte b1 = b + 1; å¤±è´¥</span></span><br><span class="line"><span class="type">int</span> <span class="variable">b1</span> <span class="operator">=</span> b + <span class="number">1</span>;</span><br><span class="line">System.out.println(b1);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220307105929495.png" alt="image-20220307105929495"></p><h4 id="è½¬ä¹‰å­—ç¬¦">è½¬ä¹‰å­—ç¬¦</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220307111035511.png" alt="image-20220307111035511"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">VariableTest1</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.æ•´å‹</span></span><br><span class="line"><span class="comment">//byteèŒƒå›´ -128 - 127</span></span><br><span class="line"><span class="type">byte</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line"><span class="type">byte</span> <span class="variable">b2</span> <span class="operator">=</span> -<span class="number">128</span>;</span><br><span class="line"><span class="comment">//byte b2 = 128ç¼–è¯‘ä¸é€šè¿‡</span></span><br><span class="line">System.out.println(b1);</span><br><span class="line">System.out.println(b2);</span><br><span class="line"><span class="comment">//å£°æ˜longå‹å˜é‡ï¼Œå¿…é¡»ä»¥&quot;L&quot;æˆ–&quot;I&quot;ç»“å°¾</span></span><br><span class="line"><span class="type">short</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="number">1234</span>;</span><br><span class="line"><span class="type">long</span> <span class="variable">l1</span> <span class="operator">=</span> <span class="number">41423551531413L</span>;</span><br><span class="line">System.out.println(l1);</span><br><span class="line"><span class="comment">//2.æµ®ç‚¹å‹</span></span><br><span class="line"><span class="type">double</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="number">123.3</span>;</span><br><span class="line">System.out.println(d1);</span><br><span class="line"><span class="type">float</span> <span class="variable">d2</span> <span class="operator">=</span> <span class="number">12.3F</span>;</span><br><span class="line">System.out.println(d2);</span><br><span class="line"><span class="comment">//3.å­—ç¬¦å‹: char(1å­—ç¬¦ = 2å­—èŠ‚)</span></span><br><span class="line"><span class="comment">//1. å®šä¹‰charå‹å˜é‡ï¼Œé€šå¸¸ä½¿ç”¨ä¸€å¯¹&#x27;&#x27;,å†…éƒ¨åªèƒ½å†™ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="comment">// c1 = &#x27;AB&#x27; ç¼–è¯‘ä¸é€šè¿‡</span></span><br><span class="line">System.out.println(c1);</span><br><span class="line"><span class="type">char</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">c3</span> <span class="operator">=</span> <span class="string">&#x27;ä¸­&#x27;</span>;</span><br><span class="line">System.out.println(c2);</span><br><span class="line">System.out.println(c3);</span><br><span class="line"><span class="comment">// è¡¨ç¤ºæ–¹å¼ 1.å£°æ˜ä¸€ä¸ªå­—ç¬¦ 2.è½¬ä¹‰å­—ç¬¦</span></span><br><span class="line"><span class="type">String</span> <span class="variable">a1</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">a2</span> <span class="operator">=</span> <span class="string">&quot;World!&quot;</span>;</span><br><span class="line">System.out.println(a1 + <span class="string">&#x27;\t&#x27;</span> + a2);</span><br><span class="line"><span class="type">char</span> <span class="variable">c4</span> <span class="operator">=</span> <span class="string">&#x27;\u0043&#x27;</span>;</span><br><span class="line">System.out.println(c4);</span><br><span class="line"><span class="comment">//4.å¸ƒå°”å‹ boolean</span></span><br><span class="line"><span class="comment">//åªèƒ½å–ä¸¤ä¸ªå€¼ true false</span></span><br><span class="line"><span class="comment">//å¸¸å¸¸åœ¨æ¡ä»¶åˆ¤æ–­ã€‚å¾ªç¯ç»“æ„ä¸­ä½¿ç”¨</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">bb1</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">System.out.println(bb1);</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="variable">isMarried</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span>(isMarried)&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;ä½ å°±ä¸å¯ä»¥å‚åŠ \&quot;å•èº«party\&quot;äº†ï¼\nå¾ˆé—æ†¾&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;ä½ å°±å¯ä»¥å¤šè°ˆå¥³æœ‹å‹&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-è‡ªåŠ¨ç±»å‹æå‡è¿ç®—">4.è‡ªåŠ¨ç±»å‹æå‡è¿ç®—</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220307140723999.png" alt="image-20220307140723999"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VariableTest2</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"><span class="type">byte</span> <span class="variable">b1</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="number">129</span>;</span><br><span class="line"><span class="comment">//byte i2 = b1 + b2; ç¼–è¯‘ä¸é€šè¿‡</span></span><br><span class="line"><span class="type">int</span> <span class="variable">i2</span> <span class="operator">=</span> b1 + i1;</span><br><span class="line">System.out.println(i2);<span class="comment">//131</span></span><br><span class="line"></span><br><span class="line"><span class="type">float</span> <span class="variable">i3</span> <span class="operator">=</span> b1 + i1; <span class="comment">// 131.0</span></span><br><span class="line">System.out.println(i3);</span><br><span class="line"><span class="type">short</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="number">123</span>;</span><br><span class="line"><span class="type">double</span> <span class="variable">d1</span> <span class="operator">=</span> s1; <span class="comment">//123.0</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-è¿›åˆ¶">5.è¿›åˆ¶</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220307152041629.png" alt="image-20220307152041629"></p><h4 id="stringè¿ç®—">stringè¿ç®—</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">VariableTest5</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(s1);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//char c = &#x27;&#x27;; //ä¸é€šè¿‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//***********************</span></span><br><span class="line"><span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> <span class="number">1001</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">numberStr</span> <span class="operator">=</span> <span class="string">&quot;å­¦å·: &quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">info</span> <span class="operator">=</span> numberStr + number;</span><br><span class="line"><span class="type">String</span> <span class="variable">info1</span> <span class="operator">=</span> info + <span class="literal">true</span>;</span><br><span class="line">System.out.println(info1);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//***********************</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>; <span class="comment">// 97</span></span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">System.out.println(c + num + str);<span class="comment">//107hello</span></span><br><span class="line">System.out.println(c + str + num);<span class="comment">//ahello10</span></span><br><span class="line">System.out.println(c + (num + str)); <span class="comment">// a10hello</span></span><br><span class="line">System.out.println(str + num + c); <span class="comment">// hello10a</span></span><br><span class="line">System.out.println(num + c + str); <span class="comment">//107hello</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220307085808370.png" alt="image-20220307085808370"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220307085956715.png" alt="image-20220307085956715"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220307090045917.png" alt="image-20220307090045917"></p><p><code>javac -encoding UTF-8 .\Imessage.java</code></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Title</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;å§“å:é¾™å¤long\n&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;æ€§åˆ«:ç”·&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;å®¶åº­ä½å€:é‡‘åèŒä¸šæŠ€æœ¯å­¦é™¢&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//printæ‰“å°è¾“å‡º</span></span><br><span class="line"><span class="comment">//printlnæ‰“å°è¾“å‡ºæ¢è¡Œ</span></span><br></pre></td></tr></table></figure><p>printæ‰“å°è¾“å‡º</p><p>printlnæ‰“å°è¾“å‡ºæ¢è¡Œ</p><h2 id="æ€»ç»“">æ€»ç»“</h2><p>ç¬¬ä¸€å¤©è½¬æˆ˜java å› ä¸ºå­¦è¿‡ä¸¤å¤©çš„c++å’Œä¸€å­¦æœŸçš„pythonä¸Šæ‰‹ä¹Ÿæ¯”è¾ƒå—ï¼Œæ˜¨å¤©èŠ±ä¸€å¤©è£…äº†jdkå’Œç¯å¢ƒå˜é‡ï¼Œä»Šå¤©ä¸€å£æ°”çœ‹äº†50é›†ï¼ŒäºŒå€æ•°ï¼Œä¸€äº›å’Œc++ä¸€æ¨¡ä¸€æ ·ï¼Œç†è§£äº†åŸºæœ¬è¯­æ³•ï¼Œæ¡ˆä¾‹ä»€ä¹ˆè‡ªå·±ä¹Ÿå¯ä»¥æ•²å‡ºæ¥ï¼Œä¸ç”¨çœ‹è€å¸ˆã€‚</p><h1 id="3-8-javaè¿ç®—">3.8 javaè¿ç®—</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-2">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-2">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="ç®—æ•°è¿ç®—ç¬¦">ç®—æ•°è¿ç®—ç¬¦</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220308094932501.png" alt="image-20220308094932501"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç®—æ•°è¿ç®—ç¬¦ </span></span><br><span class="line"><span class="comment">+ - + - * / % ++ ++ -- --</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ReviewTest</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"><span class="type">int</span> <span class="variable">num1</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">num2</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">result2</span> <span class="operator">=</span> num1 / num2;</span><br><span class="line">System.out.println(result2);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">result3</span> <span class="operator">=</span> num1 / num2 * num2;</span><br><span class="line">System.out.println(result3);</span><br><span class="line"></span><br><span class="line"><span class="type">double</span> <span class="variable">result1</span> <span class="operator">=</span> (<span class="type">double</span>)num1 /num2;</span><br><span class="line">System.out.println(result1);</span><br><span class="line"></span><br><span class="line"><span class="type">double</span> <span class="variable">result6</span> <span class="operator">=</span> (<span class="type">double</span>)(num1 /num2);</span><br><span class="line">System.out.println(result6);</span><br><span class="line"></span><br><span class="line"><span class="type">double</span> <span class="variable">result4</span> <span class="operator">=</span> num1 / (num2 + <span class="number">0.0</span>);</span><br><span class="line">System.out.println(result4);</span><br><span class="line"></span><br><span class="line"><span class="type">double</span> <span class="variable">result5</span> <span class="operator">=</span> (num1 +<span class="number">0.0</span>) /num2;</span><br><span class="line">System.out.println(result5);</span><br><span class="line"><span class="comment">// % å–ä½™è¿ç®— </span></span><br><span class="line"><span class="comment">// ç»“æœæ˜¯ç¬¦å·å’Œè¢«å–æ¨¡æ•°ç›¸åŒ</span></span><br><span class="line"><span class="type">int</span> <span class="variable">m1</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">System.out.println(m1 % n1);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">m2</span> <span class="operator">=</span> -<span class="number">12</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">n2</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">System.out.println(m2 % n2);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> m3= <span class="number">12</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">n3</span> <span class="operator">=</span> -<span class="number">5</span>;</span><br><span class="line">System.out.println(m3 % n3);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">m4</span> <span class="operator">=</span> -<span class="number">12</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">n4</span> <span class="operator">=</span> -<span class="number">5</span>;</span><br><span class="line">System.out.println(m4 % n4);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰++</span></span><br><span class="line"><span class="comment">// å++</span></span><br><span class="line"><span class="type">int</span> <span class="variable">a1</span> <span class="operator">=</span><span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">b1</span> <span class="operator">=</span> ++a1;</span><br><span class="line">System.out.println(<span class="string">&quot;a1 = &quot;</span> + a1 + <span class="string">&quot;,b1 = &quot;</span> + b1);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">a2</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">b2</span> <span class="operator">=</span> a2++;</span><br><span class="line">System.out.println(<span class="string">&quot;a2 = &quot;</span> + a2 + <span class="string">&quot;,b2 = &quot;</span> + b2);</span><br><span class="line"></span><br><span class="line"><span class="type">short</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">s1++;</span><br><span class="line"><span class="comment">//s1 = s1 + 1; é”™</span></span><br><span class="line"><span class="comment">//s1 = short(s1 + 1); å¯¹çš„</span></span><br><span class="line">System.out.println(s1);</span><br><span class="line"></span><br><span class="line"><span class="type">type</span> <span class="variable">bb1</span> <span class="operator">=</span> <span class="number">127</span>;</span><br><span class="line">bb1++;</span><br><span class="line">System.out.println(bb1); <span class="comment">// -128</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="èµ‹å€¼è¿ç®—ç¬¦">èµ‹å€¼è¿ç®—ç¬¦</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220308094819113.png" alt="image-20220308094819113"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¿ç®—ç¬¦ä¹‹äºŒ èµ‹å€¼è¿ç®—ç¬¦</span></span><br><span class="line"><span class="comment">= += -= *= *= /= %=</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ReviewTest2</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"><span class="type">int</span> <span class="variable">j1</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">j2</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> i1,i2;</span><br><span class="line">i2 = j2 = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">i3</span> <span class="operator">=</span> <span class="number">10</span>,j3 = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">m1</span> <span class="operator">=</span> <span class="number">14</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">n1</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">m1 %= n1; <span class="comment">// ä¸ä¼šæ”¹å˜æ•°æ®ç±»å‹</span></span><br><span class="line">System.out.println(m1);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¯”è¾ƒè¿ç®—ç¬¦">æ¯”è¾ƒè¿ç®—ç¬¦</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220308101656494.png" alt="image-20220308101656494"></p><h3 id="é€»è¾‘è¿ç®—ç¬¦">é€»è¾‘è¿ç®—ç¬¦</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220308101822060.png" alt="image-20220308101822060"></p><h3 id="ä¸‰å…ƒè¿ç®—ç¬¦">ä¸‰å…ƒè¿ç®—ç¬¦</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220308140952676.png" alt="image-20220308140952676"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SanYuanTest</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"><span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">12</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> (m&gt;n)?m:n;</span><br><span class="line">System.out.println(max);</span><br><span class="line"></span><br><span class="line">n = <span class="number">12</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">maxStr</span> <span class="operator">=</span> (m&gt;n)?<span class="string">&quot;må¤§&quot;</span>:((m == n)? <span class="string">&quot;må’Œnç›¸ç­‰&quot;</span>:<span class="string">&quot;nå¤§&quot;</span>);</span><br><span class="line">System.out.println(maxStr);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸‰ä¸ªæ•°çš„æœ€å¤§å€¼</span></span><br><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">15</span>,b = <span class="number">8</span>,c = <span class="number">3</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">maxSan</span> <span class="operator">=</span> (a&gt;b)? ((a&gt;c)? <span class="string">&quot;aå¤§&quot;</span>:<span class="string">&quot;cå¤§&quot;</span>): ((b&gt;c)?<span class="string">&quot;bå¤§&quot;</span>:<span class="string">&quot;cå¤§&quot;</span>);</span><br><span class="line">System.out.println(maxSan);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é”®ç›˜è·å–-ifè¯­å¥">é”®ç›˜è·å–(ifè¯­å¥)</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220308152329041.png" alt="image-20220308152329041"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é”®ç›˜è¾“å…¥å§“å å­¦å· æˆç»© åˆ¤æ–­ABCD</span></span><br><span class="line"><span class="comment">// A 90  B 80 c 70 D 60 E 60ä»¥ä¸‹</span></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ReviewTest4</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"><span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">System.out.println(<span class="string">&quot;å§“åï¼š&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> input.next();</span><br><span class="line">System.out.println(<span class="string">&quot;å­¦å·ï¼š&quot;</span>);</span><br><span class="line"><span class="type">long</span> <span class="variable">studentNumber</span> <span class="operator">=</span> input.nextLong();</span><br><span class="line">System.out.println(<span class="string">&quot;æˆç»©ï¼š&quot;</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">success</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">String s;</span><br><span class="line"><span class="comment">// æˆç»©åˆ¤æ–­ ABCDE</span></span><br><span class="line"><span class="keyword">if</span>(success&gt;=<span class="number">90</span>)&#123;</span><br><span class="line">System.out.println(name+studentNumber+<span class="string">&quot;:&quot;</span>+<span class="string">&quot;A&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(success&gt;=<span class="number">80</span>)&#123;</span><br><span class="line">System.out.println(name+studentNumber+<span class="string">&quot;:&quot;</span>+<span class="string">&quot;B&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(success&gt;=<span class="number">70</span>)&#123;</span><br><span class="line">System.out.println(name+studentNumber+<span class="string">&quot;:&quot;</span>+<span class="string">&quot;C&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(success&gt;=<span class="number">60</span>)&#123;</span><br><span class="line">System.out.println(name+studentNumber+<span class="string">&quot;:&quot;</span>+<span class="string">&quot;D&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">System.out.println(name+studentNumber+<span class="string">&quot;:&quot;</span>+<span class="string">&quot;E&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-2">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-2">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><h2 id="æ€»ç»“-2">æ€»ç»“</h2><p>javaè¿ç®—ç¬¦å’Œpythoné‡Œä¸å¤ªä¸€æ ·ï¼Œ&amp; å’Œ| åˆ†ä¸å¤ªæ¸…ï¼Œåé¢æ‰¾èµ„æ–™æ˜ç™½äº†ï¼Œè‡ªå·±åˆ›ä½œäº†åšå®¢å…³äº&amp;å’Œ| åŒºåˆ†ã€‚å…¶ä»–åŠ å‡ä¹˜é™¤éƒ½ç†è§£äº†ï¼Œç±»å‹ä¹‹é—´æœ‰çš„é€šè¿‡è¿ç®—ä¼šè½¬æ¢ä¸å¤ªç†è§£ã€‚æ˜å¤©å†çœ‹ã€‚</p><h1 id="3-10-switch-è¯­å¥">3.10 switch è¯­å¥</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-3">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-3">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><p>switchçš„caseè¯­å¥å¯ä»¥å¤„ç†intï¼Œshortï¼Œbyteï¼ŒStringï¼Œcharç±»å‹çš„å€¼ï¼Œä½†æ˜¯ä¸èƒ½å¤„ç†longï¼Œç­‰ç±»å‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(è¡¨è¾¾å¼)&#123; </span><br><span class="line"><span class="keyword">case</span> è¡¨è¾¾å¼å¸¸é‡<span class="number">1</span>ï¼šè¯­å¥<span class="number">1</span>ï¼› </span><br><span class="line"><span class="keyword">break</span>ï¼› </span><br><span class="line"><span class="keyword">case</span> è¡¨è¾¾å¼å¸¸é‡<span class="number">2</span>ï¼šè¯­å¥<span class="number">2</span>ï¼› </span><br><span class="line"><span class="keyword">break</span>ï¼› </span><br><span class="line">...... </span><br><span class="line"><span class="keyword">case</span> è¡¨è¾¾å¼å¸¸é‡nï¼šè¯­å¥nï¼› </span><br><span class="line"><span class="keyword">break</span>ï¼› </span><br><span class="line">[<span class="keyword">default</span>ï¼šè¯­å¥n+<span class="number">1</span>ï¼›] </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>caseè¯­å¥åé¢è¦åŠ break ä¸ç„¶ä¼šç»§ç»­å‘ä¸‹ç›´æ¥æ‰§è¡Œä¸‹ä¸€ä¸ªæ¡ä»¶ ä¸ç®¡æ»¡ä¸æ»¡è¶³</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SwitchDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">month</span> <span class="operator">=</span> <span class="number">8</span>;</span><br><span class="line">        String monthString;</span><br><span class="line">        <span class="keyword">switch</span> (month) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:  monthString = <span class="string">&quot;January&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:  monthString = <span class="string">&quot;February&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:  monthString = <span class="string">&quot;March&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:  monthString = <span class="string">&quot;April&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span>:  monthString = <span class="string">&quot;May&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>:  monthString = <span class="string">&quot;June&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>:  monthString = <span class="string">&quot;July&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">8</span>:  monthString = <span class="string">&quot;August&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">9</span>:  monthString = <span class="string">&quot;September&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">10</span>: monthString = <span class="string">&quot;October&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">11</span>: monthString = <span class="string">&quot;November&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">12</span>: monthString = <span class="string">&quot;December&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>: monthString = <span class="string">&quot;Invalid month&quot;</span>;</span><br><span class="line">                     <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(monthString);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>JDK1.8ä»¥åæ”¯æŒString</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestSwitch01</span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span> <span class="params">(String[] args)</span>&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">A</span> <span class="operator">=</span> <span class="string">&quot;perfect&quot;</span>;</span><br><span class="line">            <span class="keyword">switch</span>(A)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;perfect&quot;</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;å®Œç¾&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;ä¸å®Œç¾&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220311092753876.png" alt="image-20220311092753876"></p><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-3">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>defaultçš„ä½ç½®ä¸åŒè¿è¡Œç»“æœä¸åŒï¼š</p><p><strong>javaé‡Œswitchçš„æ‰§è¡Œé¡ºåº</strong><br>switchè¡¨è¾¾å¼çš„å€¼å†³å®šé€‰æ‹©å“ªä¸ªcaseåˆ†æ”¯ï¼Œå¦‚æœæ‰¾ä¸åˆ°ç›¸åº”çš„åˆ†æ”¯ï¼Œå°±ç›´æ¥ä»â€defaultâ€ å¼€å§‹è¾“å‡ºã€‚<br>å½“ç¨‹åºæ‰§è¡Œä¸€æ¡caseè¯­å¥åï¼Œå› ä¸ºä¾‹å­ä¸­çš„caseåˆ†æ”¯ä¸­æ²¡æœ‰break å’Œreturnè¯­å¥ï¼Œæ‰€ä»¥ç¨‹åºä¼šæ‰§è¡Œç´§æ¥äºå…¶åçš„è¯­å¥ã€‚</p><p><img src="https://img-blog.csdn.net/2018083017171564?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MjIwMDQz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdn.net/20180830171725373?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MjIwMDQz/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-3">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>åˆ¤æ–­é—°å¹´ æœˆä»½æ—¥æœŸ æ˜¯è¿™å¹´çš„ç¬¬å‡ å¤©</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”®ç›˜è¾“å…¥ å¹´æœˆæ—¥ åˆ¤æ–­é—°å¹´ å† åˆ¤æ–­æ—¥æœŸæ˜¯ç¬¬å‡ å¤©</span></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">code2</span>&#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line"><span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">System.out.println(<span class="string">&quot;è¯·è¾“å…¥å¹´ä»½&quot;</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">year</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">System.out.println(<span class="string">&quot;è¯·è¾“å…¥æœˆä»½&quot;</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">month</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">System.out.println(<span class="string">&quot;è¯·è¾“å…¥æ—¥æœŸ&quot;</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">day</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line"><span class="type">int</span> <span class="variable">sumDay</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="comment">//åˆ¤æ–­ é—°å¹´</span></span><br><span class="line"><span class="keyword">if</span>((year % <span class="number">4</span> ==<span class="number">0</span>||year % <span class="number">100</span> != <span class="number">0</span>)&amp;&amp;(year % <span class="number">400</span> == <span class="number">0</span>))&#123;</span><br><span class="line"><span class="comment">//é—°å¹´æœˆä»½å‰çš„å¤©æ•°</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> r=<span class="number">1</span>;r&lt;month;r++)&#123;</span><br><span class="line"><span class="keyword">switch</span> (r)&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">12</span>:</span><br><span class="line">sumDay += <span class="number">31</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">sumDay += <span class="number">30</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">sumDay += <span class="number">29</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">&quot;æ˜¯é—°å¹´&quot;</span> + (day+sumDay));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">//éæ¶¦å¹´æœˆä»½å‰çš„å¤©æ•°</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">1</span>;i&lt;month;i++)&#123;</span><br><span class="line"><span class="keyword">switch</span> (i)&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">12</span>:</span><br><span class="line">sumDay += <span class="number">31</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line"><span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">sumDay += <span class="number">30</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">sumDay += <span class="number">28</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">&quot;ä¸æ˜¯é—°å¹´&quot;</span> + (day+sumDay));</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-3">æ€»ç»“</h2><p>switchè¯­å¥åœ¨javaå’Œc++ä¸€æ¨¡ä¸€æ ·åŸºæœ¬å­¦è¿‡äº†ï¼Œå’Œifæ–¹æ³•åº”è¯¥æ˜¯äº’é€šçš„ï¼Œdefaultçš„ä½ç½®å¯¹ä»£ç çš„å½±å“å¯èƒ½æ˜¯æ²¡æ¥è§¦è¿‡çš„ï¼Œä»Šå¤©å­¦ä¹ æ—¶é—´ä¸å¤ªå¤šï¼Œåªå­¦äº†switchå’Œifè¿™ä¸¤å—å†…å®¹ï¼Œä¸€å¤©å°±åå‡ é›†ã€‚</p><h1 id="3-11-å¾ªç¯">3.11 å¾ªç¯</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-4">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-4">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="Forå¾ªç¯">Forå¾ªç¯</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day04;</span><br><span class="line"><span class="comment">/* ä¸€,å¾ªç¯ç»“æ„çš„4ä¸ªè¦ç´ </span></span><br><span class="line"><span class="comment">1.åˆå§‹åŒ–æ¡ä»¶</span></span><br><span class="line"><span class="comment">2.å¾ªç¯æ¡ä»¶----booleanç±»å‹</span></span><br><span class="line"><span class="comment">3.å¾ªç¯ä½“</span></span><br><span class="line"><span class="comment">4.è¿­ä»£æ¡ä»¶</span></span><br><span class="line"><span class="comment">äºŒ for å¾ªç¯ çš„ç»“æ„</span></span><br><span class="line"><span class="comment">for(1;2;4)&#123;</span></span><br><span class="line"><span class="comment">    3;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment">æ‰§è¡Œè¿‡ç¨‹ 1-2-3-4-2-3-4-2-3-4-....-2-3</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ForTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>;i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (System.out.println(<span class="string">&#x27;a&#x27;</span>);num&lt;=<span class="number">3</span>; System.out.println(<span class="string">&#x27;c&#x27;</span>),num++)&#123;</span><br><span class="line">            System.out.println(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">        &#125;<span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>;a&lt;=<span class="number">100</span>;a++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(a%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(a);</span><br><span class="line">                count += <span class="number">1</span>;&#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(count);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Whileå¾ªç¯">Whileå¾ªç¯</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day04;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ä¸€,å¾ªç¯ç»“æ„çš„4ä¸ªè¦ç´ </span></span><br><span class="line"><span class="comment">1.åˆå§‹åŒ–æ¡ä»¶</span></span><br><span class="line"><span class="comment">2.å¾ªç¯æ¡ä»¶----booleanç±»å‹</span></span><br><span class="line"><span class="comment">3.å¾ªç¯ä½“</span></span><br><span class="line"><span class="comment">4.è¿­ä»£æ¡ä»¶</span></span><br><span class="line"><span class="comment">äºŒï¼Œwhileå¾ªç¯çš„ç»“æ„</span></span><br><span class="line"><span class="comment">1;</span></span><br><span class="line"><span class="comment">while(2)&#123;</span></span><br><span class="line"><span class="comment">3;</span></span><br><span class="line"><span class="comment">4;</span></span><br><span class="line"><span class="comment">&#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æ‰§è¡Œè¿‡ç¨‹ 1-2-3-4-2-3-4</span></span><br><span class="line"><span class="comment">è¯´æ˜:</span></span><br><span class="line"><span class="comment">1.å†™whileå¾ªç¯åƒä¸‡å°å¿ƒä¸ç”¨ä¸¢äº† è¿­ä»£æ¡ä»¶ã€‚ä¸€æ—¦ä¸¢äº†ï¼Œå°±å¯èƒ½æ­»å¾ªç¯</span></span><br><span class="line"><span class="comment">2.å†™ç¨‹åºé¿å…æ­»å¾ªç¯</span></span><br><span class="line"><span class="comment">3.for å’Œwhileå¾ªç¯å¯ä»¥äº’ç›¸è½¬æ¢</span></span><br><span class="line"><span class="comment">ä¸åŒ åˆå§‹åŒ–æ¡ä»¶éƒ¨åˆ†ä½œç”¨ä¸åŒ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WhileTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i&lt;=<span class="number">100</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (i%<span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                System.out.println(i);</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Do-while-å¾ªç¯">Do while å¾ªç¯</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day04;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ä¸€,å¾ªç¯ç»“æ„çš„4ä¸ªè¦ç´ </span></span><br><span class="line"><span class="comment">1.åˆå§‹åŒ–æ¡ä»¶</span></span><br><span class="line"><span class="comment">2.å¾ªç¯æ¡ä»¶----booleanç±»å‹</span></span><br><span class="line"><span class="comment">3.å¾ªç¯ä½“</span></span><br><span class="line"><span class="comment">4.è¿­ä»£æ¡ä»¶</span></span><br><span class="line"><span class="comment">äºŒï¼Œdo whileå¾ªç¯çš„ç»“æ„</span></span><br><span class="line"><span class="comment">1;</span></span><br><span class="line"><span class="comment">do&#123;</span></span><br><span class="line"><span class="comment">3;</span></span><br><span class="line"><span class="comment">4;</span></span><br><span class="line"><span class="comment">&#125;while(2);</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æ‰§è¡Œè¿‡ç¨‹ 1-3-4-2-3-4-....</span></span><br><span class="line"><span class="comment">è¯´æ˜:</span></span><br><span class="line"><span class="comment">1.do while è‡³å°‘æ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DoWhileTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(i);</span><br><span class="line">            &#125;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;<span class="keyword">while</span> (i&lt;=<span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ— é™å¾ªç¯">æ— é™å¾ªç¯</h3><p>for(;;)</p><p>while(true)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day04;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">count1</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count2</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//for(;;)</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">            <span class="keyword">if</span>(a &gt; <span class="number">0</span>)</span><br><span class="line">                count1 ++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (a &lt; <span class="number">0</span>)</span><br><span class="line">                count2 ++;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ­£æ•°&quot;</span>+count1+<span class="string">&quot;ä¸ª&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;è´Ÿæ•°&quot;</span>+count2+<span class="string">&quot;ä¸ª&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¾ªç¯åµŒå¥—">å¾ªç¯åµŒå¥—</h3><p>å¤–å¾ªç¯ä»£è¡¨è¡Œæ•°</p><p>å†…å¾ªç¯ä»£è¡¨åˆ—æ•°</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220311151534925.png" alt="image-20220311151534925"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day04;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">=</span></span><br><span class="line"><span class="comment">==</span></span><br><span class="line"><span class="comment">===</span></span><br><span class="line"><span class="comment">====</span></span><br><span class="line"><span class="comment">=====</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ForForTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;=<span class="number">5</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;a&lt;=i;a++)&#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;=&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹ä¹ä¹˜æ³•è¡¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day04;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ForForTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;=<span class="number">9</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>;j&lt;=i;j++)&#123;</span><br><span class="line">                System.out.print(j + <span class="string">&quot; * &quot;</span> + i + <span class="string">&quot; = &quot;</span>+(i*j)+<span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-4">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>IDEAæ€»æ˜¯ä¸­æ–‡ä¹±ç </p><p>æ‰€æœ‰ç¼–ç æ”¹æˆgbk</p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-4">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>æ°´ä»™èŠ±æ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day04;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShuiXian</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">100</span>;i&lt;<span class="number">1000</span>;i++)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> i % <span class="number">10</span>; <span class="comment">//ä¸ªä½</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> i / <span class="number">10</span> % <span class="number">10</span>; <span class="comment">// åä½</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> i / <span class="number">100</span>; <span class="comment">// ç™¾ä½</span></span><br><span class="line">            <span class="keyword">if</span>(i == Math.pow(a,<span class="number">3</span>)+Math.pow(b,<span class="number">3</span>)+Math.pow(c,<span class="number">3</span>))&#123;</span><br><span class="line">                System.out.println(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€å¤§å…¬çº¦æ•°æœ€å°å…¬å€æ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day04;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ForTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;è¯·è¾“å…¥ä¸¤ä¸ªæ•°å­—:&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">        <span class="type">int</span> <span class="variable">z</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> Math.min(m,n);y&gt;<span class="number">0</span>;y--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(n % y ==<span class="number">0</span> &amp;&amp; m % y== <span class="number">0</span>)&#123;</span><br><span class="line">                z += y;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;æœ€å¤§å…¬çº¦æ•°æ˜¯:&quot;</span>+z);</span><br><span class="line">    <span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> m*n/z;</span><br><span class="line">    System.out.println(<span class="string">&quot;æœ€å°å…¬å€æ•°æ˜¯:&quot;</span>+s);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰“å°å›¾æ¡ˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day04;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">    * *</span></span><br><span class="line"><span class="comment">   * * *</span></span><br><span class="line"><span class="comment">  * * * *</span></span><br><span class="line"><span class="comment"> * * * * *</span></span><br><span class="line"><span class="comment">  * * * *</span></span><br><span class="line"><span class="comment">   * * *</span></span><br><span class="line"><span class="comment">    * *</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ForForTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;i&lt;=<span class="number">5</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">1</span>;b&lt;=<span class="number">5</span>-i;b++)&#123;</span><br><span class="line">                System.out.print(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;a&lt;=i;a++)&#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;* &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">1</span>; c&lt;=<span class="number">4</span>;c++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">1</span>; d&lt;=c;d++)&#123;</span><br><span class="line">                System.out.print(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">e</span> <span class="operator">=</span> <span class="number">1</span>;e &lt;=<span class="number">5</span>-c;e++)&#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;* &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ¤æ–­è´¨æ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day04;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ForForTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">z</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">a</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//è·å–å½“å‰æ—¶é—´ è·ç¦» 1970-01-01 00:00:00çš„æ¯«ç§’æ•°</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();    </span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i/<span class="number">2</span>;j&gt;<span class="number">1</span>;j--)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i % j == <span class="number">0</span>) &#123;<span class="comment">//ä¸æ˜¯è´¨æ•°</span></span><br><span class="line">                a = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(a)&#123;</span><br><span class="line">            System.out.println(i+<span class="string">&quot;æ˜¯è´¨æ•°&quot;</span>);</span><br><span class="line">            z++;&#125;</span><br><span class="line">        a = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;è´¨æ•°ä¸€å…±æœ‰&quot;</span>+z);</span><br><span class="line">    <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">    System.out.println(end - start);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-4">æ€»ç»“</h2><p>ä»Šå¤©ä¸»è¦æ˜¯å­¦ä¹ äº†ä¸‰ä¸ªå¾ªç¯ï¼Œç”¨æ³•å‘¢åŸºæœ¬å’Œpythonä¸€æ ·ï¼Œè¯­æ³•ç¨å¾®æœ‰ç‚¹ä¸åŒï¼Œåˆå§‹åŒ–æ¡ä»¶ï¼Œå¾ªç¯æ¡ä»¶----booleanç±»å‹ï¼Œå¾ªç¯ä½“ï¼Œè¿­ä»£æ¡ä»¶çš„æ”¾ç½®ä½ç½®ä¸å¤ªä¸€æ ·ï¼Œä»Šå¤©ä¸»è¦æ˜¯æ•²ä»£ç ï¼Œå› ä¸ºå·²ç»æŒæ¡çŸ¥è¯†ï¼Œæ•²ä»£ç ä¹Ÿæ˜¯æ¸¸åˆƒæœ‰ä½™ï¼Œå°†ä¹‹å‰pythonçš„ä¸€äº›å¾ªç¯åˆ¤æ–­é¢˜éƒ½ç”¨javaçš„æ–¹æ³•åšä¸€ä¸‹ã€‚</p><h1 id="3-14æ”¶æ”¯è®°è´¦è½¯ä»¶">3.14æ”¶æ”¯è®°è´¦è½¯ä»¶</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-5">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-5">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><p>æ”¶æ”¯è½¯ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day04;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FamilyAccount</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">String</span> <span class="variable">details</span> <span class="operator">=</span> (<span class="string">&quot;æ”¶æ”¯      è´¦æˆ·é‡‘é¢        æ”¶å…¥é‡‘é¢        è¯´   æ˜&quot;</span>+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">islend</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">balance</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (islend) &#123;</span><br><span class="line">            <span class="comment">//æ‰“å°é¡µé¢</span></span><br><span class="line">            System.out.println(<span class="string">&quot;-------------------å®¶åº­æ”¶æ”¯è®°è´¦è½¯ä»¶--------------------&quot;</span>);</span><br><span class="line">            System.out.println();</span><br><span class="line">            System.out.println(<span class="string">&quot;                    1 æ”¶æ”¯ç™»è®°&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;                    2 ç™»è®°æ”¶å…¥&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;                    3 ç™»è®°æ”¯å‡º&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;                    4 é€€å‡º&quot;</span>);</span><br><span class="line">            System.out.println();</span><br><span class="line">            System.out.print(<span class="string">&quot;                      è¯·é€‰æ‹©&lt;1-4&gt;:&quot;</span>);</span><br><span class="line">            <span class="comment">//é”®ç›˜è¾“å…¥</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">input</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            <span class="comment">//åˆ†æ”¯ åˆ¤æ–­è¾“å…¥</span></span><br><span class="line">            <span class="keyword">switch</span> (input)&#123;</span><br><span class="line">                <span class="comment">//æ”¶æ”¯ç•Œé¢</span></span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;-------------------å½“å‰æ”¶æ”¯è®°å½•æ˜ç»†--------------------&quot;</span>);</span><br><span class="line">                    System.out.println(details);</span><br><span class="line">                    System.out.println(<span class="string">&quot;------------------------------------------------------&quot;</span>);</span><br><span class="line">                    System.out.println();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:<span class="comment">//æ”¶å…¥</span></span><br><span class="line">                    System.out.println(<span class="string">&quot;(è¾“å…¥0è¿”å›èœå•)&quot;</span>);</span><br><span class="line">                    System.out.print(<span class="string">&quot;æœ¬æ¬¡æ”¶å…¥é‡‘é¢:&quot;</span>);</span><br><span class="line">                    <span class="type">int</span> <span class="variable">income</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">                    <span class="keyword">if</span> (income &gt; <span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                    balance += income;</span><br><span class="line">                    System.out.print(<span class="string">&quot;æœ¬æ¬¡æ”¶å…¥è¯´æ˜:&quot;</span>);</span><br><span class="line">                    <span class="type">String</span> <span class="variable">info</span> <span class="operator">=</span> sc.next();</span><br><span class="line">                    details += (<span class="string">&quot;æ”¶å…¥\t\t&quot;</span>+balance+<span class="string">&quot;\t\t\t&quot;</span>+income+<span class="string">&quot;\t\t  &quot;</span>+info+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                    System.out.println(<span class="string">&quot;.ç™»è®°å®Œæˆ.&quot;</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:<span class="comment">//æ”¯å‡º</span></span><br><span class="line">                    System.out.println(<span class="string">&quot;(è¾“å…¥0è¿”å›èœå•)&quot;</span>);</span><br><span class="line">                    System.out.print(<span class="string">&quot;æœ¬æ¬¡æ”¯å‡ºé‡‘é¢:&quot;</span>);</span><br><span class="line">                    <span class="type">int</span> <span class="variable">money</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">                    <span class="keyword">if</span> (money&lt;=balance &amp;&amp; money!=<span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                    balance -= money;</span><br><span class="line">                    System.out.print(<span class="string">&quot;æœ¬æ¬¡æ”¯å‡ºè¯´æ˜:&quot;</span>);</span><br><span class="line">                    <span class="type">String</span> <span class="variable">spending</span> <span class="operator">=</span> sc.next();</span><br><span class="line">                    details += (<span class="string">&quot;æ”¯å‡º\t\t&quot;</span>+balance+<span class="string">&quot;\t\t\t&quot;</span>+money+<span class="string">&quot;\t\t  &quot;</span>+spending+<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                    System.out.println(<span class="string">&quot;.ç™»è®°å®Œæˆ.&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span>(money &gt; balance &amp;&amp; money != <span class="number">0</span>)&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;ä½ æ²¡æœ‰è¿™ä¹ˆå¤šé’±,èŠ±ä¸äº†,å»èµšé’±&quot;</span>);</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">4</span>:<span class="comment">//é€€å‡º...</span></span><br><span class="line">                    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;æ˜¯å¦ç¡®è®¤é€€å‡º Y/N:&quot;</span>);</span><br><span class="line">                        <span class="type">String</span> <span class="variable">a</span> <span class="operator">=</span> sc.next();</span><br><span class="line">                        <span class="type">char</span> <span class="variable">exit</span> <span class="operator">=</span> a.charAt(<span class="number">0</span>);</span><br><span class="line">                        <span class="keyword">if</span> (exit == <span class="string">&#x27;Y&#x27;</span> || exit == <span class="string">&#x27;y&#x27;</span>) &#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;é€€å‡ºæˆåŠŸï¼&quot;</span>);</span><br><span class="line">                            islend = <span class="literal">false</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (exit == <span class="string">&#x27;N&#x27;</span> || exit == <span class="string">&#x27;n&#x27;</span>) &#123;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;è¾“å…¥é”™è¯¯è¯·é‡æ–°è¾“å…¥&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-5">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p><img src="https://docimg4.docs.qq.com/image/qmKXnvVDG8T4AbyX-LRcZw.png?w=1049&amp;h=387" alt="img"></p><p><img src="https://docimg5.docs.qq.com/image/o9fa3DscIy5FSnaWwKMA4A.png?w=1222&amp;h=826" alt="img"></p><p>é€€å‡ºç³»ç»Ÿæ—¶ï¼Œéœ€è¦è¾“å…¥Y/Nï¼Œpythoné‡Œå°±æ˜¯ç›´æ¥åˆ¤æ–­å°±å¥½ï¼Œäºæ˜¯æŒ‰ç…§å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­ï¼Œå‘ç°ä¸è¡Œï¼Œä¸å¯æ¯”è¾ƒçš„ç±»å‹: java.lang.Stringå’Œcharæç¤ºï¼Œæƒ³åˆ°å¯ä»¥è¾“å…¥ä¸€ä¸ªcharï¼Œç”¨atcharæ–¹æ³•ï¼Œç¿»é˜…äº†ç¬”è®°ï¼Œå°±è§£å†³äº†ã€‚</p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-5">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>çœ‹äº†å¤§è‡´å®‰è£…Eclipseçš„æ ·å­ï¼Œé€‰æ‹©è‡ªå·±ç”¨IDEAã€‚</p><h2 id="æ€»ç»“-5">æ€»ç»“</h2><p>ä»Šå¤©ä¸»è¦å°±æ˜¯æ•²äº†è¿™ä¸ªæ¡ˆä¾‹ï¼Œæ—©ä¸Šå¤ä¹ äº†ä¸€ä¸‹ä¸Šå‘¨çš„continueæ ‡ç­¾ï¼Œæ”¶æ”¯æ¡ˆä¾‹å’Œpythonçš„åç‰‡ç³»ç»Ÿå·®ä¸å¤šï¼Œå…ˆçœ‹ç¬¬ä¸€èŠ‚è¯¾è€å¸ˆå¯¹è¿™ä¸ªå°è½¯ä»¶çš„ä½¿ç”¨æ–¹æ³•ï¼Œå°±è‡ªå·±åŸºæœ¬æ‰“å‡ºæ¥äº†ï¼Œåœ¨è€å¸ˆçš„æ–¹æ³•ä¹‹ä¸Šç¨å¾®å®Œå–„äº†ä¸€ä¸‹ï¼Œäººæ€§åŒ–äº†ä¸€ä¸‹ï¼Œç­‰å­¦äº†æ•°ç»„å¯ä»¥å®Œå–„ï¼ŒåŠ å…¥ä¿®æ”¹çš„ä½œç”¨ã€‚ç„¶åå› ä¸ºè‡ªå·±ç”¨çš„IDEA å…³äºEClipseéƒ½è·³æ‰äº†ã€‚</p><h1 id="3-15æ•°ç»„">3.15æ•°ç»„</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-6">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-6">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="æ•°ç»„">æ•°ç»„</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220315100926904.png" alt="image-20220315100926904"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220315100900729.png" alt="image-20220315100900729"></p><h3 id="é™æ€æ•°ç»„å’ŒåŠ¨æ€æ•°ç»„">é™æ€æ•°ç»„å’ŒåŠ¨æ€æ•°ç»„</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Array01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºæ•°ç»„ ids é™æ€æ•°ç»„</span></span><br><span class="line">        <span class="type">int</span>[] ids = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1001</span>, <span class="number">1002</span>, <span class="number">1003</span>, <span class="number">1004</span>&#125;;</span><br><span class="line">        <span class="comment">// int[] ids = &#123;1001, 1002, 1003, 1004&#125;;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ›å»ºæ•°ç»„ names åŠ¨æ€æ•°ç»„</span></span><br><span class="line">        String[] names = <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">5</span>];</span><br><span class="line">        names[<span class="number">0</span>] = <span class="string">&quot;å¼ ä¸‰&quot;</span>;</span><br><span class="line">        names[<span class="number">1</span>] = <span class="string">&quot;æå››&quot;</span>;</span><br><span class="line">        names[<span class="number">2</span>] = <span class="string">&quot;ç‹äº”&quot;</span>;</span><br><span class="line">        names[<span class="number">3</span>] = <span class="string">&quot;å°æ˜&quot;</span>;</span><br><span class="line">        names[<span class="number">4</span>] = <span class="string">&quot;å°ç¾&quot;</span>;</span><br><span class="line">        System.out.println(ids.length);</span><br><span class="line">        System.out.println(ids[<span class="number">1</span>]);</span><br><span class="line">        System.out.println(names.length);</span><br><span class="line">        <span class="type">String</span> <span class="variable">z</span> <span class="operator">=</span> names[<span class="number">1</span>];</span><br><span class="line">        System.out.println(z);</span><br><span class="line">        <span class="keyword">for</span> (String name : names) &#123;</span><br><span class="line">            System.out.println(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚ä¸Š</p><p>é™æ€æ•°ç»„åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œæ•°æ®å°±å·²ç»å®šä¹‰å¥½äº†</p><p>åŠ¨æ€æ•°ç»„åªæ˜¯å®šä¹‰é•¿åº¦ï¼Œæ•°æ®å¯ä»¥åç»­æ·»åŠ </p><h3 id="æ•°æ®æ·»åŠ -è°ƒç”¨-éå†">æ•°æ®æ·»åŠ  è°ƒç”¨ éå†</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day05;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Array02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> [] nums = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">900</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i&lt;<span class="number">900</span>;i++)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> (i+<span class="number">100</span>);</span><br><span class="line">            nums[i] = num; <span class="comment">// å°†æ•°å­—å­˜æ”¾åœ¨æ•°ç»„é‡Œ</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> name:nums)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">num4</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">//è®°å½• ä½æ•°çš„ç«‹æ–¹</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span><span class="number">0</span>; j&lt;<span class="number">3</span>;j++)&#123;</span><br><span class="line">                <span class="type">char</span> <span class="variable">nums1</span> <span class="operator">=</span> (<span class="string">&quot;&quot;</span>+name).charAt(j); <span class="comment">// ä¸€ä½ä¸€ä½å–å‡º</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> Character.getNumericValue(nums1);<span class="comment">//charè½¬ä¸ºintç±»å‹</span></span><br><span class="line">                num4 += Math.pow(y,<span class="number">3</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (num4 == name)&#123;</span><br><span class="line">                System.out.println(name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="For-Each-å¾ªç¯">For-Each å¾ªç¯</h3><p><a href="https://www.runoob.com/java/java-array.html">https://www.runoob.com/java/java-array.html</a></p><p>JDK 1.5 å¼•è¿›äº†ä¸€ç§æ–°çš„å¾ªç¯ç±»å‹ï¼Œè¢«ç§°ä¸º For-Each å¾ªç¯æˆ–è€…åŠ å¼ºå‹å¾ªç¯ï¼Œå®ƒèƒ½åœ¨ä¸ä½¿ç”¨ä¸‹æ ‡çš„æƒ…å†µä¸‹éå†æ•°ç»„ã€‚</p><p>è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(type element: array)</span><br><span class="line">&#123;</span><br><span class="line">    System.out.println(element);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="äºŒç»´æ•°ç»„">äºŒç»´æ•°ç»„</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220315191322989.png" alt="image-20220315191322989"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day05;</span><br><span class="line"><span class="keyword">import</span> java.lang.String;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//äºŒç»´æ•°ç»„åˆ›å»º</span></span><br><span class="line">        <span class="type">int</span>[][] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>][<span class="number">3</span>];</span><br><span class="line">        System.out.println(arr[<span class="number">0</span>][<span class="number">0</span>]);</span><br><span class="line">        arr[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">        arr[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line">        System.out.println(arr[<span class="number">1</span>][<span class="number">2</span>]);</span><br><span class="line">        arr[<span class="number">2</span>][<span class="number">1</span>] = <span class="number">30</span>;</span><br><span class="line">        System.out.println(arr[<span class="number">2</span>][<span class="number">1</span>]);</span><br><span class="line">        String[] StrS = <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">5</span>];</span><br><span class="line">        StrS[<span class="number">2</span>] = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line">        StrS = <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">3</span>];</span><br><span class="line">        System.out.println(StrS[<span class="number">3</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯­æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[][] arr = <span class="keyword">new</span> <span class="title class_">int</span>[][]</span><br><span class="line">    <span class="comment">//ç±»ä¼¼äºæ•°ç»„åµŒå¥— å¤§æ•°ç»„é‡Œæœ‰ </span></span><br><span class="line">    <span class="comment">//ç¬¬ä¸€ä¸ªä»£è¡¨è¡Œ ç¬¬äºŒä¸ªä»£è¡¨åˆ—</span></span><br></pre></td></tr></table></figure><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-6">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220314210821017.png" alt="image-20220314210821017"></p><p>æäº†åŠå¤©æ˜¯å–æ•°ç»„æ•°æ®çš„æ–¹æ³•é”™äº† åº”è¯¥æ˜¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">names[<span class="type">int</span>]</span><br></pre></td></tr></table></figure><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-6">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>IDEAä¼šè‡ªåŠ¨ç»™ä½ ä¿®å¤æœ€ä½³æ–¹æ¡ˆï¼Œåœ¨charå˜å­—ç¬¦ä¸²ï¼Œåœ¨å’Œå­—ç¬¦ä¸²åˆå¹¶çš„æ—¶å€™</p><p>çŸ¥é“äº†ä¸€ä¸ªStringBuilderæ–¹æ¡ˆ,CSDNæ‰¾äº†ç”¨æ³•</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220315160754074.png" alt="image-20220315160754074"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day05;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Subject</span> &#123;</span><br><span class="line">     <span class="comment">// é¢˜ç›®ï¼šè¾“å…¥ä¸€è¡Œå­—ç¬¦ï¼Œåˆ†åˆ«ç»Ÿè®¡å‡ºå…¶è‹±æ–‡å­—æ¯ã€ç©ºæ ¼ã€æ•°å­—å’Œå…¶å®ƒå­—ç¬¦çš„ä¸ªæ•°ã€‚</span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">         <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">         System.out.print(<span class="string">&quot;è¯·è¾“å…¥è¦ç»Ÿè®¡çš„å­—ç¬¦:   &quot;</span>);</span><br><span class="line">         <span class="type">String</span> <span class="variable">count</span> <span class="operator">=</span> input.nextLine();</span><br><span class="line">         <span class="type">int</span> <span class="variable">count1</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//è‹±æ–‡å­—æ¯ç»Ÿè®¡</span></span><br><span class="line">         <span class="type">StringBuilder</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(); <span class="comment">//ç»Ÿè®¡å‡ºç°çš„å­—æ¯</span></span><br><span class="line">         <span class="type">int</span> <span class="variable">count2</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//ç©ºæ ¼</span></span><br><span class="line">         <span class="type">int</span> <span class="variable">count3</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//æ•°å­—</span></span><br><span class="line">         <span class="type">StringBuilder</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(); </span><br><span class="line">         <span class="type">int</span> <span class="variable">count4</span> <span class="operator">=</span> <span class="number">0</span>;<span class="comment">//å…¶ä»–</span></span><br><span class="line">         <span class="type">StringBuilder</span> <span class="variable">str3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">         <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i&lt;count.length();i++)&#123;</span><br><span class="line">             <span class="type">char</span> <span class="variable">Character</span> <span class="operator">=</span> count.charAt(i); <span class="comment">//å­—ç¬¦ä¸²ä¸ªä¸ªå–å‡º</span></span><br><span class="line">             <span class="keyword">if</span> (((<span class="type">int</span>) Character &gt;=<span class="number">65</span> &amp;&amp; (<span class="type">int</span>) Character &lt;= <span class="number">90</span>)||((<span class="type">int</span>) Character &gt;=<span class="number">97</span> &amp;&amp; (<span class="type">int</span>) Character &lt;= <span class="number">121</span>))<span class="comment">//å­—æ¯</span></span><br><span class="line">                &#123;</span><br><span class="line">                    count1 ++;</span><br><span class="line">                    str1.append(Character);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> ((<span class="type">int</span>) Character == <span class="number">32</span>)<span class="comment">//ç©ºæ ¼</span></span><br><span class="line">                    count2 ++;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> ((<span class="type">int</span>) Character &gt;= <span class="number">48</span> &amp;&amp; (<span class="type">int</span>) Character &lt;= <span class="number">57</span>)<span class="comment">//æ•°å­—</span></span><br><span class="line">                &#123;</span><br><span class="line">                    count3 ++;</span><br><span class="line">                    str2.append(Character);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    count4 ++;</span><br><span class="line">                    str3.append(Character);</span><br><span class="line">                &#125;</span><br><span class="line">         &#125;</span><br><span class="line">         System.out.println(<span class="string">&quot;å­˜åœ¨å­—æ¯ä¸ªæ•°:&quot;</span> + count1);</span><br><span class="line">         System.out.println(<span class="string">&quot;å­˜åœ¨å­—æ¯å¦‚ä¸‹:&quot;</span> + str1);</span><br><span class="line">         System.out.println();</span><br><span class="line">         System.out.println(<span class="string">&quot;å­˜åœ¨æ•°å­—ä¸ªæ•°:&quot;</span> + count3);</span><br><span class="line">         System.out.println(<span class="string">&quot;å­˜åœ¨æ•°å­—å¦‚ä¸‹:&quot;</span> + str2);</span><br><span class="line">         System.out.println();</span><br><span class="line">         System.out.println(<span class="string">&quot;å­˜åœ¨ç©ºæ ¼ä¸ªæ•°:&quot;</span> + count2);</span><br><span class="line">         System.out.println();</span><br><span class="line">         System.out.println(<span class="string">&quot;å­˜åœ¨å…¶ä»–ä¸ªæ•°:&quot;</span> + count4);</span><br><span class="line">         System.out.println(<span class="string">&quot;å­˜åœ¨å…¶ä»–å¦‚ä¸‹:&quot;</span> + str3);</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-6">æ€»ç»“</h2><p>äºŒç»´æ•°ç»„ä¸­ï¼Œå¼•ç”¨ç±»å‹æ²¡æœ‰ç†è§£é€å½»ä»Šå¤©çš„å­¦ä¹ çŠ¶æ€è¿˜æ˜¯æ»¡æ„çš„ã€‚å­¦äº†æ•°ç»„å¾ˆå¤šï¼Œå­˜å‚¨æ•°æ®çš„é¢˜ç›®éƒ½å¯ä»¥åšäº†ï¼Œåœ¨javaçš„é¢˜ç›®ä¸­åšäº†7é“é¢˜ï¼Œè·Ÿè€å¸ˆä¹Ÿæ•²äº†å‡ ä¸ªæ¡ˆä¾‹ã€‚ä½†æ˜¯ä¸€äº›ç”¨æ³•ä¸ç¡®å®šjavaä¸­æœ‰æ²¡æœ‰ï¼Œè‡ªåŠ¨æ·»åŠ æ•°æ®è¿™ç§ï¼Œä¸ç„¶æ•°ç»„ã€intã€‘ = â€œâ€<br>è¿™ç§æ–¹æ³•ï¼Œæœ‰ç‚¹éº»çƒ¦ï¼Œçœ‹æ‡‚ç”¨æ³•å°±å»åšäº†é¢˜ç›®ï¼Œä½†æ˜¯æ„Ÿè§‰è‡ªå·±çš„æ–¹æ³•å¾ˆé•¿ï¼Œåº”è¯¥æœ‰æ›´ç®€å•çš„ï¼Œéœ€è¦å¯»æ‰¾ä¸€ä¸‹ã€‚</p><h1 id="3-18æ•°ç»„æ‰©å±•ç®—æ³•">3.18æ•°ç»„æ‰©å±•ç®—æ³•</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-7">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-7">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><p>ä»Šå¤©å¤šæ˜¯æ‰“ä»£ç é¢˜ç›®</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220318225731734.png" alt="image-20220318225731734"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day06;</span><br><span class="line"><span class="comment">//æ¨è¾‰ä¸‰è§’</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayExer2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–æ•°ç»„</span></span><br><span class="line">        <span class="type">int</span>[][] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>][];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç»™æ•°ç»„å…ƒç´ èµ‹å€¼</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>; x &lt; arr.length;x++) &#123;</span><br><span class="line">            arr[x] = <span class="keyword">new</span> <span class="title class_">int</span>[x + <span class="number">1</span>];<span class="comment">//åˆ›å»ºæ¯è¡Œ æ•°ç»„çš„é•¿åº¦</span></span><br><span class="line">            arr[x][<span class="number">0</span>] = arr[x][x] =<span class="number">1</span>;<span class="comment">//æ¯è¡Œç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæ˜¯1</span></span><br><span class="line"><span class="comment">//            if (x&gt;1)&#123;</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">1</span>;y&lt;x;y++)&#123;</span><br><span class="line">                    <span class="comment">// ä¸­é—´çš„æ•°æ® ç®—å‡ºæ¥</span></span><br><span class="line">                    arr[x][y] = arr[x-<span class="number">1</span>][y-<span class="number">1</span>]+arr[x-<span class="number">1</span>][y];</span><br><span class="line">                &#125;</span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//éå†äºŒç»´æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] num : arr) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> name : num) &#123;</span><br><span class="line">                System.out.print(name + <span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day06;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å®šä¹‰ä¸€ä¸ªintçš„æ•°ç»„ åŒ…å«10ä¸ªå…ƒç´  åˆ†åˆ«èµ‹éšæœºæ•´æ•°</span></span><br><span class="line"><span class="comment">æ±‚æœ€å¤§å€¼ æœ€å°å€¼ å’Œ  å€¼ å¹³å‡å€¼</span></span><br><span class="line"><span class="comment">è¦æ±‚ æ‰€æœ‰éšæœºæ•°éƒ½æ˜¯ä¸¤ä½æ•° ä¸é‡å¤</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">count</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> (<span class="type">int</span>) (Math.random() * <span class="number">90</span> + <span class="number">10</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt;= i; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (value == arr[j]) &#123;</span><br><span class="line">                    count = <span class="literal">false</span>;</span><br><span class="line">                    i--;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (count)</span><br><span class="line">                arr[i] = value;</span><br><span class="line">            <span class="type">int</span> <span class="variable">MaxValue</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">MinValue</span> <span class="operator">=</span> arr[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">Sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> num : arr) &#123;</span><br><span class="line">                System.out.print(num + <span class="string">&quot; &quot;</span>);</span><br><span class="line">                <span class="comment">//æœ€å¤§å€¼</span></span><br><span class="line">                <span class="keyword">if</span> (MaxValue &lt; num) &#123;</span><br><span class="line">                    MaxValue = num;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//æœ€å°å€¼</span></span><br><span class="line">                <span class="keyword">if</span> (MinValue &gt; num) &#123;</span><br><span class="line">                    MinValue = num;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//æ€»å’Œ</span></span><br><span class="line">                Sum += num;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">            System.out.println(<span class="string">&quot;æœ€å¤§å€¼:&quot;</span> + MaxValue);</span><br><span class="line">            System.out.println(<span class="string">&quot;æœ€å°å€¼:&quot;</span> + MinValue);</span><br><span class="line">            System.out.println(<span class="string">&quot;æ€»å’Œ:&quot;</span> + Sum);</span><br><span class="line">            <span class="type">double</span> <span class="variable">Cc</span> <span class="operator">=</span> (<span class="type">double</span>) Sum / <span class="number">10</span>;</span><br><span class="line">            System.out.println(<span class="string">&quot;å¹³å‡æ•°:&quot;</span> + Cc);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯¼å…¥éšæœºæ•°ä¸é‡å¤</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayExer3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ª6çš„intæ•°ç»„ å…ƒç´ åœ¨1-30 æ˜¯éšæœºèµ‹å€¼ è€Œä¸”å…ƒç´ å€¼å„ä¸ç›¸åŒ.</span></span><br><span class="line">        <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">6</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;arr.length;i++)&#123;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">count</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> (<span class="type">int</span>)(Math.random()*<span class="number">29</span> + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j&lt;=i;j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (value == arr[j])<span class="comment">//å¦‚æœæœ‰å’Œå‰é¢ç›¸åŒçš„ å°±false ä¸æ‰“å°</span></span><br><span class="line">                &#123;</span><br><span class="line">                    count = <span class="literal">false</span>;</span><br><span class="line">                    i--; <span class="comment">//è¿™æ¬¡æ²¡æœ‰åŠ å…¥æ•°æ® é‡æ–°æ¥</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (count)&#123;</span><br><span class="line">                arr[i] = value;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> name : arr)&#123;</span><br><span class="line">            System.out.println(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-7">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>æš‚æ— </p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-7">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220318161445951.png" alt="image-20220318161445951"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day06;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr1, arr2;</span><br><span class="line">        arr1 = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">17</span>, <span class="number">19</span>&#125;;</span><br><span class="line">        System.out.print(<span class="string">&quot;arr1: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : arr1) &#123;</span><br><span class="line">            System.out.print(num + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        arr2 = arr1;</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.print(<span class="string">&quot;arr2: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr2.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                arr2[i] = i;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(arr2[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.print(<span class="string">&quot;arr1: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : arr1) &#123;</span><br><span class="line">            System.out.print(num + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220318162851722.png" alt="image-20220318162851722"></p><p>arr1 arr2å¤åˆ¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day06;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test5</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr1,arr2;</span><br><span class="line">        arr1 = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">17</span>,<span class="number">19</span>&#125;;</span><br><span class="line">        System.out.print(<span class="string">&quot;arr1: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : arr1)&#123;</span><br><span class="line">            System.out.print(num+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ•°ç»„çš„å¤åˆ¶</span></span><br><span class="line">        arr2 = <span class="keyword">new</span> <span class="title class_">int</span>[arr1.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j&lt;arr1.length;j++)&#123;</span><br><span class="line">            arr2[j] = arr1[j];</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.print(<span class="string">&quot;arr2: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>; i&lt;arr2.length;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">                arr2[i] = i;</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.print(arr2[i]+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.print(<span class="string">&quot;arr1: &quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : arr1)&#123;</span><br><span class="line">            System.out.print(num+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220318162904536.png" alt="image-20220318162904536"></p><h2 id="æ€»ç»“-7">æ€»ç»“</h2><p>ä»Šå¤©åªæœ‰ä¸€ä¸‹åˆçš„å­¦ä¹ æ—¶é—´ï¼Œåˆšå¥½å­¦ä¹ åˆ°ç®—æ³•ï¼Œç®—æ³•æ¯”å…¶ä»–å†…å®¹è¿˜æ˜¯ç¨å¾®éš¾ç‚¹ï¼Œé¢˜ç›®è‡ªå·±åšä¹Ÿåšçš„å‡ºæ¥ï¼Œä½†æ˜¯è¦çŠ¶æ€å¥½ï¼ŒçŠ¯å›°çš„è¯æ˜¯åšä¸å‡ºæ¥çš„ï¼Œä»Šå¤©å­¦ä¹ çŠ¶æ€ä¸€èˆ¬èˆ¬ï¼Œä¸‹åˆæœ‰ç‚¹å›°ï¼Œä¸‹åˆåšäº†å¾ˆå¤šé¢˜ç›®ï¼Œè€å¸ˆå‡ºçš„é¢˜ç›®ï¼Œè‡ªå·±åšå¾—å‡ºæ¥ï¼ŒåŸºæœ¬æŒæ¡äº†ï¼Œæœ‰ç©ºçœ‹ä¸‹ç®—æ³•ä¹¦ã€‚</p><h1 id="3-21-æ•°ç»„åº”ç”¨">3.21 æ•°ç»„åº”ç”¨</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-8">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-8">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="æ•°ç»„çš„åè½¬">æ•°ç»„çš„åè½¬</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day07;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayTest01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        String[] arr = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;JJ&quot;</span>, <span class="string">&quot;DD&quot;</span>, <span class="string">&quot;CC&quot;</span>, <span class="string">&quot;XX&quot;</span>, <span class="string">&quot;YY&quot;</span>&#125;;</span><br><span class="line">        String[] arr1 = <span class="keyword">new</span> <span class="title class_">String</span>[arr.length];</span><br><span class="line">        <span class="comment">//æ•°ç»„çš„å¤åˆ¶(å’Œarr1 = arrä¸åŒ)</span></span><br><span class="line">        System.arraycopy(arr, <span class="number">0</span>, arr1, <span class="number">0</span>, arr.length);</span><br><span class="line">        <span class="keyword">for</span> (String arr01 : arr1) &#123;</span><br><span class="line">            System.out.print(arr01 + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.print(<span class="string">&quot;æ–¹æ³•ä¸€:&quot;</span>);</span><br><span class="line">        <span class="comment">//æ•°ç»„çš„åè½¬</span></span><br><span class="line">        <span class="comment">//æ–¹æ³•ä¸€</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; arr.length / <span class="number">2</span>; j++) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> arr[j];</span><br><span class="line">            arr[j] = arr[arr.length - j - <span class="number">1</span>];</span><br><span class="line">            arr[arr.length - j - <span class="number">1</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (String arr02 : arr) &#123;</span><br><span class="line">            System.out.print(arr02 + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ–¹æ³•äºŒ å†æŠŠarrè¿”ä¸€ä¸‹</span></span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.print(<span class="string">&quot;æ–¹æ³•äºŒ:&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = arr.length - <span class="number">1</span>; i &lt; j; i++, j--) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">temp2</span> <span class="operator">=</span> arr[i];</span><br><span class="line">            arr[i] = arr[j];</span><br><span class="line">            arr[j] = temp2;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (String arr02 : arr) &#123;</span><br><span class="line">            System.out.print(arr02 + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„çš„æŸ¥æ‰¾">æ•°ç»„çš„æŸ¥æ‰¾</h3><h4 id="çº¿æ€§æŸ¥æ‰¾">çº¿æ€§æŸ¥æ‰¾</h4><p>å¯ä»¥æŸ¥æ‰¾String int ç­‰ç±»å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayTest02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        String[] arr = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;JJ&quot;</span>, <span class="string">&quot;DD&quot;</span>, <span class="string">&quot;CC&quot;</span>, <span class="string">&quot;XX&quot;</span>, <span class="string">&quot;YY&quot;</span>&#125;;</span><br><span class="line">        <span class="comment">// çº¿æ€§æŸ¥æ‰¾</span></span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥ä½ è¦æŸ¥æ‰¾çš„å­—ç¬¦: &quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">test</span> <span class="operator">=</span> input.nextLine();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">count</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">0</span>;a&lt; arr.length;a++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (test.equals(arr[a]))&#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;æ‰¾åˆ°äº†æŒ‡å®šå…ƒç´ çš„ä½ç½®&quot;</span>);</span><br><span class="line">                System.out.println(a);</span><br><span class="line">                count = <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (count)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å¾ˆé—æ†¾ï¼Œæ²¡æ‰¾åˆ°&quot;</span>);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h4 id="äºŒåˆ†æ³•æŸ¥æ‰¾">äºŒåˆ†æ³•æŸ¥æ‰¾</h4><p>åªèƒ½æŸ¥æ‰¾intæ•°ç»„ è€Œä¸”è¦æ˜¯æ‹å¥½é¡ºåºçš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> [] arr1 = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;-<span class="number">89</span>,-<span class="number">6</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">23</span>,<span class="number">44</span>,<span class="number">77</span>,<span class="number">80</span>,<span class="number">82</span>&#125;;</span><br><span class="line">System.out.print(<span class="string">&quot;è¯·è¾“å…¥ä½ è¦æŸ¥æ‰¾çš„æ•°å­—: &quot;</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">test1</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line"><span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> arr1.length-<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (start &lt;= end)&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">middle</span> <span class="operator">=</span> (start + end)/<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (test1 == arr1[middle])&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰¾åˆ°äº†æŒ‡å®šå…ƒç´ ï¼Œä½ç½®ï¼š&quot;</span>+<span class="string">&quot;[&quot;</span> + middle + <span class="string">&quot;]&quot;</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (arr1[middle] &gt; test1)&#123;</span><br><span class="line">         end = middle -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        start = middle + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ’åº">æ’åº</h3><h4 id="å†’æ³¡æ’åºï¼ˆéš¾ç†è§£ï¼‰">å†’æ³¡æ’åºï¼ˆéš¾ç†è§£ï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayTest03</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//å†’æ³¡æ’åº</span></span><br><span class="line">        <span class="type">int</span> [] arr = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;-<span class="number">5</span>,-<span class="number">9</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">9</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>&#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;arr.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; arr.length - <span class="number">1</span> -i;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (arr[j] &gt; arr[j+<span class="number">1</span>])&#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[j];</span><br><span class="line">                    arr[j] = arr[j+<span class="number">1</span>];</span><br><span class="line">                    arr[j+<span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : arr)&#123;</span><br><span class="line">            System.out.print(num+<span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Arrayæ–¹æ³•">Arrayæ–¹æ³•</h3><p>ç›´æ¥ä½¿ç”¨</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220320202246856.png" alt="image-20220320202246856"></p><p>ä»£ç å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day07;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayClass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.boolean equals(int[] a,int[] b); åˆ¤æ–­ä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰</span></span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> [] arr1= <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>&#125;;</span><br><span class="line">        <span class="type">int</span> [] arr2= <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">6</span>,-<span class="number">5</span>&#125;;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isEquals</span> <span class="operator">=</span> Arrays.equals(arr1,arr2);</span><br><span class="line">        System.out.println(isEquals);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2.String toString(int[] a) è¾“å‡ºæ•°ç»„ä¿¡æ¯</span></span><br><span class="line">        System.out.println(Arrays.toString(arr1));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.void fill(int[] a,int val) å°†å®šå€¼å¡«å……åˆ°æ•°ç»„ä¸­</span></span><br><span class="line">        Arrays.fill(arr1,<span class="number">10</span>);</span><br><span class="line">        System.out.println(Arrays.toString(arr1));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4. void sort(int[] a)</span></span><br><span class="line">        Arrays.sort(arr2);</span><br><span class="line">        System.out.println(Arrays.toString(arr2));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5.int binarySearch(int[] a,int key)</span></span><br><span class="line">        <span class="type">int</span> [] arr3 = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;-<span class="number">97</span>,<span class="number">24</span>,-<span class="number">56</span>,-<span class="number">4</span>,<span class="number">2</span>,<span class="number">25</span>,<span class="number">46</span>,<span class="number">23</span>,<span class="number">9</span>,<span class="number">82</span>,<span class="number">11</span>,<span class="number">19</span>&#125;;</span><br><span class="line">        Arrays.sort(arr3);</span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> Arrays.binarySearch(arr3,<span class="number">46</span>);</span><br><span class="line">        System.out.println(index);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„å¸¸è§å¼‚å¸¸">æ•°ç»„å¸¸è§å¼‚å¸¸</h3><p>1,æ•°ç»„è„šè¾¹è¶Šç•Œå¼‚å¸¸ ArrayIndexOutOfBoundsException</p><p>2ï¼Œç©ºæŒ‡é’ˆå¼‚å¸¸ NullPointerException</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day07;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayExceptionTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//        //1,æ•°ç»„è„šè¾¹è¶Šç•Œå¼‚å¸¸ ArrayIndexOutOfBoundsException</span></span><br><span class="line"><span class="comment">//        int[] arr1 = new int[]&#123;1,2,3&#125;;</span></span><br><span class="line"><span class="comment">//        //æƒ…å†µä¸€</span></span><br><span class="line"><span class="comment">//        for (int i = 0;i&lt;= arr1.length;i++)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(arr1[i]);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        //æƒ…å†µäºŒ</span></span><br><span class="line"><span class="comment">//        System.out.println(arr1[-1]);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//2ï¼Œç©ºæŒ‡é’ˆå¼‚å¸¸ NullPointerException</span></span><br><span class="line">        <span class="comment">//æƒ…å†µä¸€</span></span><br><span class="line"><span class="comment">//        int[] arr2 = new int[]&#123;1,2,5,6&#125;;</span></span><br><span class="line"><span class="comment">//        arr2 = null;</span></span><br><span class="line"><span class="comment">//        System.out.println(arr2[0]);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æƒ…å†µäºŒ</span></span><br><span class="line"><span class="comment">//        int[][] arr3 = new int[4][];</span></span><br><span class="line"><span class="comment">//        System.out.println(arr3[0][0]);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//æƒ…å†µä¸‰</span></span><br><span class="line"><span class="comment">//        String[] arr4 = new String[]&#123;&quot;AA&quot;,&quot;BB&quot;,&quot;CC&quot;&#125;;</span></span><br><span class="line"><span class="comment">//        arr4[0] = null;</span></span><br><span class="line"><span class="comment">//        System.out.println(arr4[0].toString());</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ•°ç»„æ€»ç»“</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day07;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> [] list = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">34</span>,<span class="number">5</span>,<span class="number">22</span>,-<span class="number">98</span>,-<span class="number">3</span>,-<span class="number">76</span>,<span class="number">0</span>&#125;;</span><br><span class="line">        <span class="comment">// å†’æ³¡æ’åº</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span> ;i&lt;list.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span><span class="number">0</span>; j &lt; list.length-i-<span class="number">1</span>;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (list[j]&gt;list[j+<span class="number">1</span>])&#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> list[j];</span><br><span class="line">                    list[j] = list[j+<span class="number">1</span>];</span><br><span class="line">                    list[j+<span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.toString(list));</span><br><span class="line">        <span class="comment">//åè½¬æ•°ç»„</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>;x&lt;list.length/<span class="number">2</span>;x++)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp1</span> <span class="operator">=</span> list[x];</span><br><span class="line">            list[x] = list[list.length-<span class="number">1</span>-x];</span><br><span class="line">            list[list.length-<span class="number">1</span>-x] = temp1;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.toString(list));</span><br><span class="line">        <span class="comment">// å¤åˆ¶ å¾—åˆ°æ–°æ•°ç»„</span></span><br><span class="line">        <span class="type">int</span>[] list1 = <span class="keyword">new</span> <span class="title class_">int</span>[list.length];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">0</span>;y &lt; list.length;y++)&#123;</span><br><span class="line">            list1[y] = list[y];</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.toString(list1));</span><br><span class="line">        <span class="comment">// çº¿æ€§æŸ¥æ‰¾</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.print(<span class="string">&quot;è¾“å…¥è¦æŸ¥æ‰¾çš„æ•°å­—ï¼š&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">sc</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">        <span class="type">int</span> <span class="variable">z</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (;z &lt; list.length;z++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (sc == list[z])&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ‰¾åˆ°äº†ä½ç½®æ˜¯åœ¨&quot;</span>+<span class="string">&quot;[&quot;</span>+z+<span class="string">&quot;]&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (z == list.length)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸å¥½æ„æ€æ²¡æ‰¾åˆ°&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-8">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>binarySearchæ–¹æ³•ä¸­ æ•°ç»„é‡Œæœ‰çš„æ•°æ®ï¼ŒæŸ¥æ‰¾ è¿”å›å€¼ç«Ÿç„¶æ˜¯è´Ÿæ•°</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220320204259563.png" alt="image-20220320204259563"></p><p>binarySearchæ–¹æ³•æ˜¯äºŒåˆ†æŸ¥æ‰¾æ³•ï¼Œæ‰€ä»¥è¦å…ˆæ’åºï¼Œæ‰èƒ½æŸ¥æ‰¾ï¼Œä¸ç„¶å°±ä¼šæœ‰é—®é¢˜</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220320204846685.png" alt="image-20220320204846685"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220320204835492.png" alt="image-20220320204835492"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-8">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>é¢˜ç›®ï¼šæ±‚s=a+aa+aaa+aaaa+aaâ€¦açš„å€¼ï¼Œå…¶ä¸­aæ˜¯ä¸€ä¸ªæ•°å­—ã€‚ä¾‹å¦‚2+22+222+2222+22222(æ­¤æ—¶å…±æœ‰5ä¸ªæ•°ç›¸åŠ )ï¼Œå‡ ä¸ªæ•°ç›¸åŠ æœ‰é”®ç›˜æ§åˆ¶ã€‚è¾“å‡ºç»“æœçš„å½¢å¼å¦‚ï¼š2+22+222=246ï¼›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day07;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">é¢˜ç›®ï¼šæ±‚s=a+aa+aaa+aaaa+aaâ€¦açš„å€¼ï¼Œå…¶ä¸­aæ˜¯ä¸€ä¸ªæ•°å­—ã€‚</span></span><br><span class="line"><span class="comment">ä¾‹å¦‚2+22+222+2222+22222(æ­¤æ—¶å…±æœ‰5ä¸ªæ•°ç›¸åŠ )ï¼Œå‡ ä¸ªæ•°ç›¸åŠ æœ‰é”®ç›˜æ§åˆ¶ã€‚è¾“å‡ºç»“æœçš„å½¢å¼å¦‚ï¼š2+22+222=246ï¼›</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥è¦æƒ³åŠ çš„æ•°å­—ï¼š&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥è¦ç›¸åŠ çš„æ•°å­—çš„ä¸ªæ•°ï¼š&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">        <span class="type">int</span> <span class="variable">cumulative</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">z</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; count;i++)&#123;</span><br><span class="line">            cumulative = cumulative*<span class="number">10</span> + num;</span><br><span class="line">            z += cumulative;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        System.out.print(<span class="string">&quot;è¾“å‡º: &quot;</span>);</span><br><span class="line">        System.out.print(z);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-8">æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ æ—¶é—´åªæœ‰ä¸€ä¸Šåˆï¼Œä¸»è¦å¤ä¹ äº†ä¸Šæ˜ŸæœŸçš„å­¦ä¹ å†…å®¹ï¼Œå°†é¢å‘å¯¹è±¡ä¹‹å‰çš„å†…å®¹å·©å›ºäº†ä¸€ä¸‹ï¼Œæ‰¾äº†ä¸€äº›é¢˜ç›®åšï¼Œå­¦ä¹ çŠ¶æ€ä¸é”™ä¹Ÿå®Œæˆäº†è‡ªå·±å®šçš„ç›®æ ‡ï¼Œé¢˜ç›®ä¹Ÿéƒ½ åšå‡ºæ¥äº†ã€‚</p><h1 id="3-22-é¢å‘å¯¹è±¡">3.22 é¢å‘å¯¹è±¡</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-9">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-9">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="1-é¢å‘å¯¹è±¡å­¦ä¹ çš„ä¸»çº¿"><strong>1.é¢å‘å¯¹è±¡å­¦ä¹ çš„ä¸»çº¿</strong></h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220322090453821.png" alt="image-20220322090453821"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220322100123287.png" alt="image-20220322100123287"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day08;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClassTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºPersonç±»çš„å¯¹è±¡</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è°ƒç”¨å¯¹è±¡çš„ç»“æ„: å±æ€§ã€æ–¹æ³•</span></span><br><span class="line">        <span class="comment">// è°ƒç”¨å±æ€§: å¯¹è±¡.å±æ€§</span></span><br><span class="line"></span><br><span class="line">        p1.names = <span class="string">&quot;å°æ˜&quot;</span>;</span><br><span class="line">        p1.isMale = <span class="literal">true</span>;</span><br><span class="line">        System.out.println(p1.names);</span><br><span class="line">        p1.eat(p1.names);</span><br><span class="line">        p1.play(p1.names);</span><br><span class="line">        p1.ages(p1.names, p1.age);</span><br><span class="line">        p1.talk(<span class="string">&quot;ä¸­å›½è¯&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;p2 **********************************&quot;</span>);</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        System.out.println(p2.names);</span><br><span class="line">        System.out.println(p2.age);</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;p3 **********************************&quot;</span>);</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p3</span> <span class="operator">=</span> p1;</span><br><span class="line">        System.out.println(p3.names);</span><br><span class="line">        <span class="comment">//å°†p1 å˜é‡ä¿å­˜çš„å¯¹è±¡åœ°å€èµ‹ç»™äº†p3 å¯¼è‡´ p1å’Œp3æŒ‡å‘åŒä¸€ä¸ªå †</span></span><br><span class="line">        p3.age = <span class="number">21</span>;</span><br><span class="line">        System.out.println(p1.age);</span><br><span class="line">        <span class="comment">//è‡ªå·±çš„ç†è§£å°±æ˜¯p1å’Œp3æ˜¯åŒä¸€ä¸ª p3æ˜¯p1çš„åˆ«å</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    <span class="comment">// å±æ€§</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">18</span>;</span><br><span class="line">    String names;</span><br><span class="line">    <span class="type">boolean</span> isMale;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        System.out.println(name + <span class="string">&quot;è¦åƒé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        System.out.println(name+<span class="string">&quot;å–œæ¬¢ç©æ¸¸æˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ages</span><span class="params">(String name,<span class="type">int</span> age)</span>&#123;</span><br><span class="line">        System.out.println(name + <span class="string">&quot;ä»Šå¹´&quot;</span> + age + <span class="string">&quot;å²&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">talk</span><span class="params">(String language)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å…¨ä¸–ç•Œéƒ½åœ¨è¯´&quot;</span>+language);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-å¯¹è±¡çš„å†…å­˜è§£æ"><strong>2.å¯¹è±¡çš„å†…å­˜è§£æ</strong></h3><p>åˆ†ä¸ºæ ˆå’Œå †</p><p>æ ˆæ˜¯ç±»ä¸­çš„å±æ€§</p><p>å †æ˜¯æ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220322103328975.png" alt="image-20220322103328975"></p><h3 id="3-å±€éƒ¨å˜é‡å’Œå±æ€§çš„å¼‚åŒ">3.<strong>å±€éƒ¨å˜é‡å’Œå±æ€§çš„å¼‚åŒ</strong></h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220322105848327.png" alt="image-20220322105848327"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220322105923571.png" alt="image-20220322105923571"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day08;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç±»ä¸­å±æ€§çš„ä½¿ç”¨</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å±æ€§(æˆå‘˜å˜é‡)vs å±€éƒ¨å˜é‡</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        System.out.println(p1.name);</span><br><span class="line">        System.out.println(p1.age);</span><br><span class="line">        System.out.println(p1.isMale);</span><br><span class="line">        p1.talk(<span class="string">&quot;ä¸­æ–‡&quot;</span>);</span><br><span class="line">        p1.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>&#123;</span><br><span class="line">    <span class="comment">// å±æ€§ï¼ˆæˆå‘˜å˜é‡ï¼‰</span></span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="type">boolean</span> isMale;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">talk</span><span class="params">(String language)</span>&#123;<span class="comment">//languageå½¢å‚ ä¹Ÿæ˜¯å±€éƒ¨å˜é‡</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘ä»¬ä½¿ç”¨&quot;</span> + language + <span class="string">&quot;è¯´è¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">food</span> <span class="operator">=</span> <span class="string">&quot;çƒ™é¥¼&quot;</span>; <span class="comment">// å±€éƒ¨å˜é‡</span></span><br><span class="line">        System.out.println(<span class="string">&quot;åŒ—æ–¹äººå–œæ¬¢åƒ&quot;</span>+ food);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-æ–¹æ³•çš„å£°æ˜">4.<strong>æ–¹æ³•çš„å£°æ˜</strong></h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220322150652196.png" alt="image-20220322150652196"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220322150725148.png" alt="image-20220322150725148"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220322153031972.png" alt="image-20220322153031972"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day08;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomerTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Customer</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer</span>();</span><br><span class="line">        p1.name = <span class="string">&quot;Tom&quot;</span>;</span><br><span class="line">        p1.age = <span class="number">19</span>;</span><br><span class="line">        p1.eat();</span><br><span class="line">        p1.sleep(<span class="number">5</span>);</span><br><span class="line">        System.out.println(p1.getName());</span><br><span class="line">        System.out.println(p1.getNation(<span class="string">&quot;ä¸­å›½&quot;</span>));</span><br><span class="line">        <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">9</span>,-<span class="number">6</span>,-<span class="number">2</span>,<span class="number">4</span>,<span class="number">2</span>&#125;;</span><br><span class="line">        p1.sort(arr);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®¢æˆ·ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Customer</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å±æ€§</span></span><br><span class="line"></span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åƒé¥­å’¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">(<span class="type">int</span> hour)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘ç¡äº†&quot;</span> + hour +<span class="string">&quot;ä¸ªå°æ—¶&quot;</span>);</span><br><span class="line">        <span class="comment">// æ–¹æ³•å†…æ–¹æ³•</span></span><br><span class="line">        eat();</span><br><span class="line"><span class="comment">//        sleep(2);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (age&gt;<span class="number">18</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;å°å­¦ç”Ÿ&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getNation</span><span class="params">(String nation)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;æˆ‘çš„å›½ç±æ˜¯&quot;</span> + nation;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(<span class="type">int</span>[] arr)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;arr.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j &lt; arr.length - <span class="number">1</span> -i;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (arr[j] &gt; arr[j+<span class="number">1</span>])&#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[j];</span><br><span class="line">                    arr[j] = arr[j+<span class="number">1</span>];</span><br><span class="line">                    arr[j+<span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-9">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>æ— </p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-9">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day08;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1.å£°æ˜ä¸€ä¸ªmethod æ–¹æ³• åœ¨æ–¹æ³•ä¸­æ‰“å°ä¸€ä¸ª10*8çš„*å‹çŸ©å½¢ï¼Œåœ¨mainè°ƒç”¨</span></span><br><span class="line"><span class="comment">2.ä¿®æ”¹ åŠ å…¥ è®¡ç®—çŸ©å½¢é¢ç§¯</span></span><br><span class="line"><span class="comment">ä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼ mainä¸­æ‰“å°</span></span><br><span class="line"><span class="comment">3.ä¿®æ”¹ æä¾› m nä¸¤ä¸ªå‚æ•° æ‰“å° m*nçŸ©å½¢</span></span><br><span class="line"><span class="comment">ç»“æœå¦‚2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Test3</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test3</span>();</span><br><span class="line">        test.method1();</span><br><span class="line">        System.out.println(<span class="string">&quot;------------------------------&quot;</span>);</span><br><span class="line">        System.out.println(test.method2());</span><br><span class="line">        System.out.println(<span class="string">&quot;------------------------------&quot;</span>);</span><br><span class="line">        System.out.println(test.method3(<span class="number">10</span>,<span class="number">8</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method1</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>; i &lt; <span class="number">10</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>; j &lt; <span class="number">8</span>;j++)&#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;* &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">method2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>; i &lt; <span class="number">10</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>; j &lt; <span class="number">8</span>;j++)&#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;* &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span>*<span class="number">8</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">method3</span><span class="params">(<span class="type">int</span> length,<span class="type">int</span> width)</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>; i &lt; length;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>; j &lt; width;j++)&#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;* &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (length) * (width);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;   </span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day08;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClassTest4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// å£°æ˜ä¸€ä¸ªStudentæ•°ç»„</span></span><br><span class="line">        Student[] stu = <span class="keyword">new</span> <span class="title class_">Student</span>[<span class="number">15</span>]; <span class="comment">//String[] arr = new String[15]</span></span><br><span class="line">        <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">        <span class="type">ClassTest4</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassTest4</span>();</span><br><span class="line">        <span class="comment">// åˆ›å»ºç±»æ•°ç»„ æ·»åŠ æ•°æ®</span></span><br><span class="line">        test.create(stu);</span><br><span class="line">        <span class="comment">//éå†æˆç»©å•</span></span><br><span class="line">        test.print(stu);</span><br><span class="line">        System.out.println(<span class="string">&quot;*******************************&quot;</span>);</span><br><span class="line">        <span class="comment">// æ‰“å°ä¸‰å¹´çº§çš„å­¦ç”Ÿæˆç»©å•</span></span><br><span class="line">        test.screening(stu);</span><br><span class="line">        System.out.println(<span class="string">&quot;*******************************&quot;</span>);</span><br><span class="line">        <span class="comment">//æŒ‰æˆç»©æ’åº</span></span><br><span class="line">        test.sort(stu);</span><br><span class="line">        test.print(stu);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//åˆ›å»ºæ•°ç»„ æ·»åŠ éšæœºæ•°æ®</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">create</span><span class="params">(Student[] stu)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; stu.length;i++)&#123;</span><br><span class="line">            stu[i] = <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">            stu[i].number = i+<span class="number">1</span>;</span><br><span class="line">            stu[i].state = (<span class="type">int</span>)(Math.random()*<span class="number">6</span> +<span class="number">1</span>);</span><br><span class="line">            stu[i].score = (<span class="type">int</span>)(Math.random()*<span class="number">100</span> +<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éå†æ•°ç»„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(Student[] stu)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span>  <span class="number">0</span>; j &lt; stu.length;j++)&#123; <span class="comment">//åŸå§‹éå†</span></span><br><span class="line">            System.out.println(stu[j].tables());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ‰“å°ä¸‰å¹´çº§å­¦ç”Ÿçš„ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">screening</span><span class="params">(Student[] stu)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (Student student : stu) &#123; <span class="comment">//nb éå†</span></span><br><span class="line">            <span class="keyword">if</span> (student.state == <span class="number">3</span>) &#123;</span><br><span class="line">                System.out.println(student.tables());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æŒ‰æˆç»©æ’åº</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sort</span><span class="params">(Student[] stu)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; stu.length-<span class="number">1</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; stu.length -i-<span class="number">1</span>;j++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (stu[j].score &gt; stu[j+<span class="number">1</span>].score)&#123;</span><br><span class="line">                    <span class="type">Student</span> <span class="variable">temp</span> <span class="operator">=</span> stu[j];</span><br><span class="line">                    stu[j] = stu[j+<span class="number">1</span>];</span><br><span class="line">                    stu[j+<span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    <span class="type">int</span> number; <span class="comment">// å­¦å·</span></span><br><span class="line">    <span class="type">int</span> state; <span class="comment">// å¹´çº§</span></span><br><span class="line">    <span class="type">int</span> score; <span class="comment">// æˆç»©</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">tables</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;å­¦å·ï¼š&quot;</span> + number + <span class="string">&quot;  å¹´çº§ï¼š&quot;</span> + state + <span class="string">&quot;æˆç»©ï¼š&quot;</span> + score;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-9">æ€»ç»“</h2><p>ä»Šå¤©å­¦ä¹ å¾ˆæ»¡æ„çš„ï¼Œå†™äº†ä¸¤ä¸ªç•¥å¾®é•¿ç‚¹çš„æ¡ˆä¾‹ï¼Œ80è¡Œå·¦å³ï¼Œæ¥è§¦äº†é¢å‘å¯¹è±¡ï¼Œå’Œpythonä¸­çš„å·®ä¸å¤šï¼Œå­¦èµ·æ¥ä¹Ÿæ˜¯è›®å®¹æ˜“çš„ï¼Œjavaçš„æ–¹æ³•å’Œpythonçš„å‡½æ•°ä½œç”¨å·®ä¸å¤šï¼Œä¸Šæ‰‹å¾ˆå¿«ï¼ŒäºŒå€æ•°çœ‹å®Œï¼Œå›å¤´å»æ•²æ¡ˆä¾‹ï¼Œå¾ˆé¡ºåˆ©ï¼Œä»Šå¤©ä¹Ÿæ˜¯å½»åº•æŠŠæ˜¨å¤©çš„å†’æ³¡æ’åºå¼„æ‡‚äº†ï¼Œå¯¹å¿«é€Ÿæ’åºæœ‰å…´è¶£ï¼Œç­‰å­¦åˆ°é€’å½’å»æ•²ï¼Œå­¦ä¹ ç›®æ ‡ã€‚å­¦ä¹ çŠ¶æ€ä¹Ÿæ˜¯ä¸é”™ã€‚</p><h1 id="3-25æ–¹æ³•çš„é‡è½½">3.25æ–¹æ³•çš„é‡è½½</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-10">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-10">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="è®¤è¯†é‡è½½">è®¤è¯†é‡è½½</h3><p>é‡è½½å°±æ˜¯ä¸¤åŒä¸€ä¸åŒ åŒä¸€ä¸ªç±» åŒä¸€ä¸ªæ–¹æ³•å å‚æ•°åˆ—è¡¨ä¸åŒ</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220325145549602.png" alt="image-20220325145549602"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OverLoadExer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">OverLoadExer</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OverLoadExer</span>();</span><br><span class="line">        test.mOL(<span class="number">5</span>);</span><br><span class="line">        test.mOL(<span class="number">5</span>,<span class="number">8</span>);</span><br><span class="line">        test.mOL(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mOL</span><span class="params">(<span class="type">int</span> i)</span>&#123;</span><br><span class="line">        System.out.println(i * i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mOL</span><span class="params">(<span class="type">int</span> i , <span class="type">int</span> j)</span>&#123;</span><br><span class="line">        System.out.println(i * j);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">mOL</span><span class="params">(String i)</span>&#123;</span><br><span class="line">        System.out.println(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="jdk5-0-æ–°å†…å®¹-â€¦å¯å˜ä¸ªæ•°å½¢å‚">jdk5.0 æ–°å†…å®¹ â€¦å¯å˜ä¸ªæ•°å½¢å‚</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220325151405710.png" alt="image-20220325151405710"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodArgsTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MethodArgsTest</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MethodArgsTest</span>();</span><br><span class="line">        test.show(<span class="number">12</span>);</span><br><span class="line">        test.show(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>);</span><br><span class="line">        System.out.println();</span><br><span class="line">        test.show(<span class="string">&quot;ggg&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">(<span class="type">int</span> i)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;show(int)&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">(String i)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Show(String)&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">(String ... str)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Show(String...str)&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String CC : str)&#123;</span><br><span class="line">            System.out.print(CC+<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å€¼ä¼ é€’æœºåˆ¶">å€¼ä¼ é€’æœºåˆ¶</h3><h4 id="1-é”™è¯¯çš„">1.é”™è¯¯çš„</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ValueTransferTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;m = &quot;</span> + m + <span class="string">&quot;  n = &quot;</span> + n);</span><br><span class="line">        <span class="comment">//äº¤æ¢å€¼</span></span><br><span class="line"><span class="comment">//        int temp = m;</span></span><br><span class="line"><span class="comment">//        m = n;</span></span><br><span class="line"><span class="comment">//        n = temp;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//äº¤æ¢å¤±è´¥</span></span><br><span class="line">        <span class="type">ValueTransferTest1</span> <span class="variable">test1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ValueTransferTest1</span>();</span><br><span class="line">        test1.swap(m,n);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;m = &quot;</span> + m + <span class="string">&quot;  n = &quot;</span> + n);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é”™è¯¯çš„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> m,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> m;</span><br><span class="line">        m = n;</span><br><span class="line">        n = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-æ­£ç¡®çš„">2.æ­£ç¡®çš„</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ValueTransferTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        date.m = <span class="number">10</span>;</span><br><span class="line">        date.n = <span class="number">20</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;m = &quot;</span> + date.m + <span class="string">&quot;  n = &quot;</span> + date.n);</span><br><span class="line"><span class="comment">//        äº¤æ¢m å’Œ n çš„å€¼</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> date.m;</span><br><span class="line">        date.m = date.n;</span><br><span class="line">        date.n = temp;</span><br><span class="line">        System.out.println(<span class="string">&quot;m = &quot;</span> + date.m + <span class="string">&quot;  n = &quot;</span> + date.n);</span><br><span class="line">        <span class="type">ValueTransferTest2</span> <span class="variable">test2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ValueTransferTest2</span>();</span><br><span class="line">        test2.swap(date);</span><br><span class="line">        System.out.println(<span class="string">&quot;m = &quot;</span> + date.m + <span class="string">&quot;  n = &quot;</span> + date.n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(Date d)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> d.m;</span><br><span class="line">        d.m = d.n;</span><br><span class="line">        d.n = temp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Date</span>&#123;</span><br><span class="line">    <span class="type">int</span> m;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220325161134783.png" alt="image-20220325161134783"></p><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-10">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>æš‚æ— </p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-10">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220325162121797.png" alt="image-20220325162121797"></p><p>å†…å®¹ç»“æ„</p><h2 id="æ€»ç»“-10">æ€»ç»“</h2><p>ä»Šå¤©çš„å†…å®¹å¾ˆéš¾ç†è§£ï¼Œå…ˆæ˜¯å¯¹JVMå†…å­˜çš„å†…å­˜ç»“æ„å’Œå¯¹è±¡å†…å­˜è§£æï¼Œç„¶åæ˜¯æ•°ç»„çš„å†…å­˜è§£æï¼Œå†…å­˜è§£æä¸å¤ªå®¹æ˜“ç†è§£ï¼Œå †å’Œæ ˆçš„å…³ç³»ç­‰ç­‰ï¼Œèƒ½å¤Ÿå¸®åŠ©ç†è§£çš„ä»£ç ä¹Ÿæ˜¯æ•²äº†7 8éï¼Œåœ¨åé¢å­¦ä¹ äº†é‡è½½ï¼Œç†è§£äº†é‡è½½å’Œä½¿ç”¨ç­‰ï¼Œæ¯”è¾ƒå®¹æ˜“æŒæ¡çš„ï¼Œå­¦ä¹ çŠ¶æ€ä¹Ÿæ˜¯ä¸é”™ã€‚ä¸‹åˆæ¯”è¾ƒç²¾ç¥ï¼Œé™ä¸‹å¿ƒæ¥å»å­¦ä¹ äº†ã€‚</p><h1 id="3-28é€’å½’-å°è£…æ€§">3.28é€’å½’ &amp;&amp; å°è£…æ€§</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-11">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-11">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="é€’å½’ç»ƒä¹ ">é€’å½’ç»ƒä¹ </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day11;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RecursionTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//è®¡ç®—1 - 100çš„è‡ªç„¶æ•°çš„å’Œ</span></span><br><span class="line">        <span class="comment">//æ–¹å¼ä¸€</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">1</span>;i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">            sum += i;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(sum);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹å¼äºŒ</span></span><br><span class="line">        <span class="type">RecursionTest</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RecursionTest</span>();</span><br><span class="line">        System.out.println(test.getSum(<span class="number">100</span>));</span><br><span class="line">        <span class="comment">// ä¾‹äºŒ</span></span><br><span class="line">        System.out.println(test.f(<span class="number">10</span>));</span><br><span class="line">        <span class="comment">//æ–æ³¢é‚£å¥‘</span></span><br><span class="line">        System.out.println(test.fibonacci(<span class="number">10</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSum</span><span class="params">(<span class="type">int</span> num)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num + getSum(num-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¾‹é¢˜ æœ‰ä¸€ä¸ªæ•°åˆ— f(0)=1,f(1) = 4,f(n+2) = 2*f(n+1)+f(n)</span></span><br><span class="line">    <span class="comment">//æ±‚f(10)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> num)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> f(num-<span class="number">2</span>) + (<span class="number">2</span>*f(num-<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ–æ³¢é‚£å¥‘æ•°åˆ—</span></span><br><span class="line">    <span class="comment">// 1 1 2 3 5 8 13 21 34 55</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">fibonacci</span><span class="params">(<span class="type">int</span> num)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">1</span> || num ==<span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fibonacci(num-<span class="number">1</span>)+fibonacci(num-<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å°è£…å’Œéšè—">å°è£…å’Œéšè—</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328083653861.png" alt="image-20220328083653861"></p><h4 id="privateå…³é”®å­—">privateå…³é”®å­—</h4><p>ç§æœ‰çš„</p><p>æ–¹æ³•èµ‹å€¼ å¯è®¾ç½®æ¡ä»¶</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328084628722.png" alt="image-20220328084628722"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day11;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnimalTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line">        animal.name = <span class="string">&quot;å¤§é»„&quot;</span>;</span><br><span class="line">        animal.age = <span class="number">5</span>;</span><br><span class="line">        animal.setLegs(<span class="number">4</span>);</span><br><span class="line">        System.out.println(animal.getLegs());</span><br><span class="line">        animal.show();</span><br><span class="line">        animal.eat();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> legs; <span class="comment">// private</span></span><br><span class="line">    <span class="comment">//å±æ€§çš„è®¾ç½®</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLegs</span><span class="params">(<span class="type">int</span> l)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (l &gt; <span class="number">0</span> &amp;&amp; l % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">            legs = l;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            legs = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å±æ€§çš„è·å–</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getLegs</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> legs;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åƒä¸œè¥¿&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;name = &quot;</span> + name + <span class="string">&quot;  age = &quot;</span> + age + <span class="string">&quot;  legs = &quot;</span> + legs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é—®é¢˜çš„å¼•å…¥">é—®é¢˜çš„å¼•å…¥</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328085227772.png" alt="image-20220328085227772"></p><h4 id="å°è£…æ€§çš„ä½“ç°">å°è£…æ€§çš„ä½“ç°</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328085822662.png" alt="image-20220328085822662"></p><h3 id="æé™ä¿®é¥°ç¬¦æ¥é…åˆ">æé™ä¿®é¥°ç¬¦æ¥é…åˆ</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328085759186.png" alt="image-20220328085759186"></p><p>æµ‹è¯•ä»£ç åœ¨day11ä¸­</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328092909694.png" alt="image-20220328092909694"></p><h3 id="æ„é€ å™¨">æ„é€ å™¨</h3><p>æ„é€ å™¨å’Œpythonä¸­çš„____init____ å·®ä¸å¤šåˆå§‹åŒ–è¯æ–¹æ³•</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328100330089.png" alt="image-20220328100330089"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328100619460.png" alt="image-20220328100619460"></p><h4 id="ä¼ é€’å‚æ•°-åˆå§‹åŒ–">ä¼ é€’å‚æ•° åˆå§‹åŒ–</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328100301116.png" alt="image-20220328100301116"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day11.java4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºç±»çš„å¯¹è±¡ ï¼š new + æ„é€ å™¨</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        p.eat();</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Tom&quot;</span>,<span class="number">18</span>);</span><br><span class="line">        p1.show();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Person().....&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String n,<span class="type">int</span> a)</span>&#123;</span><br><span class="line">        name = n;</span><br><span class="line">        age =  a;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;äººåƒé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;name = &quot;</span> + name + <span class="string">&quot; age = &quot;</span> + age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å±æ€§èµ‹å€¼çš„è¿‡ç¨‹">å±æ€§èµ‹å€¼çš„è¿‡ç¨‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day11.java4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>();</span><br><span class="line">        System.out.println(user.age);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="number">2</span>);</span><br><span class="line">        user1.setAge(<span class="number">4</span>);</span><br><span class="line">        System.out.println(user1.age);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(<span class="type">int</span> a)</span>&#123;</span><br><span class="line">        age = a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> a)</span>&#123;</span><br><span class="line">        age = a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="thisçš„ä½¿ç”¨"><strong>thisçš„ä½¿ç”¨</strong></h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328110052051.png" alt="image-20220328110052051"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day11.java4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">customerTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹å¼ä¸€&quot;</span>);</span><br><span class="line">        <span class="type">customer</span> <span class="variable">cc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">customer</span>(<span class="number">184564</span>,<span class="string">&quot;CC&quot;</span>);</span><br><span class="line">        cc.show();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹å¼äºŒ&quot;</span>);</span><br><span class="line">        <span class="type">customer</span> <span class="variable">dd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">customer</span>();</span><br><span class="line">        dd.setId(<span class="number">1545</span>);</span><br><span class="line">        dd.setName(<span class="string">&quot;DD&quot;</span>);</span><br><span class="line">        dd.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">customer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">customer</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">customer</span><span class="params">(<span class="type">int</span> id, String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;name = &quot;</span> + <span class="built_in">this</span>.getName() + <span class="string">&quot; id = &quot;</span> + <span class="built_in">this</span>.getId());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="thisä¿®é¥°è°ƒç”¨æ„é€ å™¨">thisä¿®é¥°è°ƒç”¨æ„é€ å™¨</h4><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-11">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>é€’å½’è¿”å›å€¼ num+2 æ–¹æ³•é‡Œæ²¡æœ‰num+2çš„å€¼ æ˜¯æ­»å¾ªç¯</p><p>è§£å†³æ–¹æ¡ˆï¼š æ£€æŸ¥ä»£ç </p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328082707304.png" alt="image-20220328082707304"></p><p>æŠ¥é”™è¯´æ˜¯æ²¡æœ‰java.lang.String</p><p>å»CSDNçœ‹formatä¿ç•™å°æ•°çš„ç”¨æ³•ï¼Œå‘ç°åé¢é‚£ä¸ªç±»å‹è¦æ˜¯æ•°å­—ç±»å‹çš„ï¼Œæ‰èƒ½ä¿ç•™</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328102630071.png" alt="image-20220328102630071"></p><p>ä¿®æ”¹</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220328102908002.png" alt="image-20220328102908002"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-11">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day11.java4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="comment">//ä¸€ä¸ªæ•´æ•°åŠ ä¸Š100æ˜¯ä¸ªå®Œå…¨å¹³æ–¹æ•° åŠ ä¸Š 168ä¹Ÿæ˜¯</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Test</span> <span class="variable">w</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=-<span class="number">100</span>;i&lt;<span class="number">100000</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (w.wan(i+<span class="number">100</span>) &amp;&amp; w.wan(i+<span class="number">168</span>))&#123;</span><br><span class="line">                System.out.println(i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">wan</span><span class="params">(<span class="type">int</span> num)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>;j&lt;num;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span> (j*j == num)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-11">æ€»ç»“</h2><p>ä»Šå¤©ä¸Šåˆå­¦ä¹ å¾ˆç²¾ç¥ï¼Œä¹Ÿå¾ˆæœ‰å­¦ä¹ åŠ²å¤´ã€‚å­¦ä¹ å†…å®¹å‰é¢çš„ä¼ é€’æœºåˆ¶ä¸æ˜¯å¾ˆå¥½ç†è§£ï¼Œåœ¨æ–¹æ³•å†…éƒ¨çš„å€¼ä¼ é€’æœ‰ç‚¹ä¸å¤ªå®¹æ˜“ï¼ŒæŒ‰ç…§è‡ªå·±æƒ³å½“ç„¶å®¹æ˜“å†—ä½™ã€‚åé¢çš„é‡è½½å’Œæ„é€ å™¨ä»¥åŠé€’å½’ï¼Œå› ä¸ºå’Œpythonçš„é¢å‘å¯¹è±¡å·®ä¸å¤šï¼Œæ‰€ä»¥ç†è§£èµ·æ¥å¾ˆå®¹æ˜“ã€‚æ‹‰è¿›åº¦æ¡ï¼Œæ‰¾åˆ°é¢˜ç›®ï¼Œç›´æ¥åšï¼Œåœ¨çœ‹è€å¸ˆçš„ä»£ç ï¼Œæ¦‚å¿µçš„ä¸å¥½ç†è§£å°±å¤šçœ‹å‡ é\</p><h1 id="3-29-this-package-import">3.29 this package import</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-12">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-12">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="thiså…³é”®å­—çš„ä½¿ç”¨">thiså…³é”®å­—çš„ä½¿ç”¨</h3><h4 id="thisè°ƒç”¨æ„é€ å™¨">thisè°ƒç”¨æ„é€ å™¨</h4><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220329084229194.png" alt="image-20220329084229194"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">customerTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹å¼ä¸€&quot;</span>);</span><br><span class="line">        <span class="type">customer</span> <span class="variable">cc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">customer</span>(<span class="number">184564</span>,<span class="string">&quot;CC&quot;</span>);</span><br><span class="line">        cc.show();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹å¼äºŒ&quot;</span>);</span><br><span class="line">        <span class="type">customer</span> <span class="variable">dd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">customer</span>();</span><br><span class="line">        dd.setId(<span class="number">1545</span>);</span><br><span class="line">        dd.setName(<span class="string">&quot;DD&quot;</span>);</span><br><span class="line">        dd.show();</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–¹å¼ä¸‰&quot;</span>);</span><br><span class="line">        <span class="type">customer</span> <span class="variable">CC</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">customer</span>(<span class="number">18</span>,<span class="string">&quot;CC&quot;</span>);</span><br><span class="line">        System.out.println(CC.getId());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">customer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">customer</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.eat();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">customer</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>();</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">customer</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>();</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">customer</span><span class="params">(<span class="type">int</span> id, String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line"><span class="comment">//        this.name = name;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;name = &quot;</span> + <span class="built_in">this</span>.getName() + <span class="string">&quot; id = &quot;</span> + <span class="built_in">this</span>.getId());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;äººè¦åƒé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="thisç»ƒä¹ ">thisç»ƒä¹ </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Boy</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Boy</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">marry</span><span class="params">(Girl girl)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æƒ³å¨¶&quot;</span> + girl.getName());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shout</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.age &gt;= <span class="number">22</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä½ å¯ä»¥åˆæ³•ç»“å©šäº†&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å¤šè°ˆè°ˆæ‹çˆ±&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Girl</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Girl</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">marry</span><span class="params">(Boy boy)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æƒ³å«ç»™&quot;</span> + boy.getName());</span><br><span class="line">        <span class="comment">//thisæŒ‡ç»“æ„å™¨</span></span><br><span class="line">        boy.marry(<span class="built_in">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Girl girl)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getAge() - girl.getAge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BoyGirlTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//åˆ›å»ºBoyå¯¹è±¡å±æ€§</span></span><br><span class="line">        <span class="type">Boy</span> <span class="variable">boy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boy</span>(<span class="string">&quot;ç½—å¯†æ¬§&quot;</span>,<span class="number">22</span>);</span><br><span class="line">        boy.shout();<span class="comment">//è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">        <span class="comment">//åˆ›å»ºGirlå¯¹è±¡å±æ€§</span></span><br><span class="line">        <span class="type">Girl</span> <span class="variable">girl</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Girl</span>(<span class="string">&quot;æœ±ä¸½å¶&quot;</span>,<span class="number">16</span>);</span><br><span class="line">        <span class="comment">//è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">        girl.marry(boy);</span><br><span class="line">        <span class="comment">//å†åˆ›é€ ä¸€ä¸ªGirlå¯¹è±¡</span></span><br><span class="line">        <span class="type">Girl</span> <span class="variable">girl1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Girl</span>(<span class="string">&quot;ç¥è‹±å°&quot;</span>,<span class="number">17</span>);</span><br><span class="line">        <span class="comment">//ä½¿ç”¨compareæ–¹æ³•æ¯”è¾ƒ</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">compare</span> <span class="operator">=</span> girl.compare(girl1);</span><br><span class="line">        <span class="keyword">if</span> (compare &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(girl.getName() + <span class="string">&quot;å¤§&quot;</span> +Math.abs(compare)+<span class="string">&quot;å²&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (compare &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(girl1.getName() + <span class="string">&quot;å¤§&quot;</span> +Math.abs(compare)+<span class="string">&quot;å²&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(girl.getName()+<span class="string">&quot;å’Œ&quot;</span>+girl1.getName()+<span class="string">&quot;ä¸€æ ·å¤§&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ä½ å¯ä»¥åˆæ³•ç»“å©šäº†</span></span><br><span class="line"><span class="comment">æˆ‘æƒ³å«ç»™ç½—å¯†æ¬§</span></span><br><span class="line"><span class="comment">æˆ‘æƒ³å¨¶æœ±ä¸½å¶</span></span><br><span class="line"><span class="comment">æœ±ä¸½å¶å¤§1å²</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="ç»¼åˆç»ƒä¹ 1">ç»¼åˆç»ƒä¹ 1</h3><p>accountç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id; <span class="comment">//è´¦æˆ·</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> balance; <span class="comment">// ä½™é¢</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> annualInterestRate; <span class="comment">// å¹´åˆ©ç‡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(<span class="type">int</span> id, <span class="type">double</span> balance, <span class="type">double</span> annualInterestRate)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.balance = balance;</span><br><span class="line">        <span class="built_in">this</span>.annualInterestRate = annualInterestRate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getBalance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> balance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBalance</span><span class="params">(<span class="type">double</span> balance)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.balance = balance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getAnnualInterestRate</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> annualInterestRate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAnnualInterestRate</span><span class="params">(<span class="type">double</span> annualInterestRate)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.annualInterestRate = annualInterestRate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åœ¨ææ¬¾æ–¹æ³•withdrawä¸­ï¼Œéœ€è¦åˆ¤è¯»ç”¨æˆ·ä½™é¢æ˜¯å¦å¯ä»¥æ»¡è¶³å–é’±çš„æ¡ä»¶</span></span><br><span class="line">    <span class="comment">//å–é’±</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">withdraw</span><span class="params">(<span class="type">double</span> amount)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (amount &gt; balance)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä½™é¢ä¸è¶³ï¼Œæ— æ³•å–å‡º&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            balance -= amount;</span><br><span class="line">            System.out.println(<span class="string">&quot;æˆåŠŸå–å‡ºï¼š&quot;</span> + amount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å­˜é’±</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deposit</span><span class="params">(<span class="type">double</span> amount)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (amount &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            balance += amount;</span><br><span class="line">            System.out.println(<span class="string">&quot;æˆåŠŸå­˜å…¥&quot;</span> + amount);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·è¾“å…¥æ­£ç¡®çš„æ•°å­—&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>customç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> day12.Test.Account;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String firstName; <span class="comment">// å</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String lastName; <span class="comment">// å§“</span></span><br><span class="line">    <span class="keyword">private</span> Account account;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer</span><span class="params">(String f, String l)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.firstName = f;</span><br><span class="line">        <span class="built_in">this</span>.lastName = l;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getFirstName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> firstName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getLastName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lastName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Account <span class="title function_">getAccount</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> account;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAccount</span><span class="params">(Account account)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.account = account;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">customerTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//åå­—å« Jane Smith æœ‰ä¸ªè´¦å·ä¸º10086 ä½™é¢ä¸º2000å…ƒ å¹´åˆ©ç‡1.23%</span></span><br><span class="line">        <span class="comment">//å¯¹ Jane Smith æ“ä½œ</span></span><br><span class="line">        <span class="comment">// å­˜å…¥ 100 å…ƒ å†å–å‡º960å…ƒ å†å–å‡º2000å…ƒ</span></span><br><span class="line">        <span class="comment">// æ‰“å°åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">        <span class="type">Customer</span> <span class="variable">customer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer</span>(<span class="string">&quot;Jane&quot;</span>,<span class="string">&quot;Smith&quot;</span>);</span><br><span class="line">        <span class="type">Account</span> <span class="variable">account</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="number">10086</span>,<span class="number">2000</span>,<span class="number">0.0123</span>);</span><br><span class="line">        customer.setAccount(account);</span><br><span class="line">        <span class="comment">//å­˜å…¥100</span></span><br><span class="line">        customer.getAccount().deposit(<span class="number">100</span>);</span><br><span class="line">        <span class="comment">//å–å‡º960</span></span><br><span class="line">        customer.getAccount().withdraw(<span class="number">960</span>);</span><br><span class="line">        <span class="comment">//å–å‡º2000å…ƒ</span></span><br><span class="line">        customer.getAccount().withdraw(<span class="number">2000</span>);</span><br><span class="line">        <span class="comment">//æ‰“å°åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">        System.out.println(<span class="string">&quot;åå­—ï¼š&quot;</span> + customer.getLastName()+<span class="string">&quot;,&quot;</span> + customer.getFirstName()+<span class="string">&quot;  è´¦æˆ·: &quot;</span> + customer.getAccount().getId()+<span class="string">&quot;  ä½™é¢ï¼š &quot;</span> + customer.getAccount().getBalance() + <span class="string">&quot;  å¹´åˆ©ç‡ï¼š &quot;</span> + customer.getAccount().getAnnualInterestRate());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æˆåŠŸå­˜å…¥100.0</span></span><br><span class="line"><span class="comment">æˆåŠŸå–å‡ºï¼š960.0</span></span><br><span class="line"><span class="comment">ä½™é¢ä¸è¶³ï¼Œæ— æ³•å–å‡º</span></span><br><span class="line"><span class="comment">åå­—ï¼šSmith,Jane  è´¦æˆ·: 10086  ä½™é¢ï¼š 1140.0  å¹´åˆ©ç‡ï¼š 0.0123</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="ç»¼åˆç»ƒä¹ 2">ç»¼åˆç»ƒä¹ 2</h3><p>account1ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12.Test2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account1</span> &#123;</span><br><span class="line">    <span class="keyword">private</span>  <span class="type">double</span> balance;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account1</span><span class="params">(<span class="type">double</span> init_balance)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.balance = init_balance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getBalance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> balance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å–é’±</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">withdraw</span><span class="params">(<span class="type">double</span> amount)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (amount &gt; balance)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä½™é¢ä¸è¶³ï¼Œæ— æ³•å–å‡º&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            balance -= amount;</span><br><span class="line">            System.out.println(<span class="string">&quot;æˆåŠŸå–å‡ºï¼š&quot;</span> + amount);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å­˜é’±</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deposit</span><span class="params">(<span class="type">double</span> amount)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (amount &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            balance += amount;</span><br><span class="line">            System.out.println(<span class="string">&quot;æˆåŠŸå­˜å…¥&quot;</span> + amount);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·è¾“å…¥æ­£ç¡®çš„æ•°å­—&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>custom1ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12.Test2;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer1</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String firstName; <span class="comment">// å</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String lastName; <span class="comment">// å§“</span></span><br><span class="line">    <span class="keyword">private</span> Account1 account;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer1</span><span class="params">(String firstName, String lastName)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.firstName = firstName;</span><br><span class="line">        <span class="built_in">this</span>.lastName = lastName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Account1 <span class="title function_">getAccount1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> account;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAccount</span><span class="params">(Account1 account)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.account = account;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getFirstName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> firstName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getLastName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>bankç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12.Test2;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Bank</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Customer1[] customers; <span class="comment">//å­˜æ”¾å¤šä¸ªå®¢æˆ·çš„æ•°ç»„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> numberOfCustomer; <span class="comment">//è®°å½•å®¢æˆ·çš„ä¸ªæ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Bank</span><span class="params">(<span class="type">int</span> count)</span>&#123;</span><br><span class="line">        customers = <span class="keyword">new</span> <span class="title class_">Customer1</span>[count];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ·»åŠ å®¢æˆ·</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addCustomer</span><span class="params">(String f,String l)</span>&#123;</span><br><span class="line">        <span class="type">Customer1</span> <span class="variable">customer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer1</span>(f,l);</span><br><span class="line">        customers[numberOfCustomer] = customer;</span><br><span class="line">        numberOfCustomer ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è·å–æŒ‡å®šä½ç½®çš„å®¢æˆ·</span></span><br><span class="line">    <span class="keyword">public</span> Customer1 <span class="title function_">getCustomers</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (index &gt;= <span class="number">0</span> &amp;&amp; index &lt; numberOfCustomer)&#123;</span><br><span class="line">            <span class="keyword">return</span> customers[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è·å–å®¢æˆ·ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getNumberOfCustomer</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;å·²ç»æ·»åŠ é¡¾å®¢&quot;</span> + numberOfCustomer + <span class="string">&quot;äºº&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12.Test2;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">bankTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Bank</span> <span class="variable">bank</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bank</span>(<span class="number">10</span>);</span><br><span class="line">        bank.addCustomer(<span class="string">&quot;å°æ˜&quot;</span>,<span class="string">&quot;ç‹&quot;</span>);</span><br><span class="line">        <span class="comment">//åŠ å…¥ä½™é¢</span></span><br><span class="line">        bank.getCustomers(<span class="number">0</span>).setAccount(<span class="keyword">new</span> <span class="title class_">Account1</span>(<span class="number">2000</span>));</span><br><span class="line">        <span class="comment">//å­˜é’±100</span></span><br><span class="line">        bank.getCustomers(<span class="number">0</span>).getAccount1().deposit(<span class="number">100</span>);</span><br><span class="line">        <span class="comment">//å–é’±500</span></span><br><span class="line">        bank.getCustomers(<span class="number">0</span>).getAccount1().withdraw(<span class="number">500</span>);</span><br><span class="line">        <span class="comment">//å–é’± 3000</span></span><br><span class="line">        bank.getCustomers(<span class="number">0</span>).getAccount1().withdraw(<span class="number">2500</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;åå­—ï¼š&quot;</span> + bank.getCustomers(<span class="number">0</span>).getLastName() +<span class="string">&quot;  &quot;</span>+</span><br><span class="line">                bank.getCustomers(<span class="number">0</span>).getFirstName()+<span class="string">&quot;  ä½™é¢ï¼š &quot;</span> + bank.getCustomers(<span class="number">0</span>).getAccount1().getBalance());</span><br><span class="line">        bank.addCustomer(<span class="string">&quot;Jane&quot;</span>,<span class="string">&quot;Smith&quot;</span>);</span><br><span class="line">        <span class="comment">//æŸ¥çœ‹å·²ç»åŠ å…¥çš„äººæ•°</span></span><br><span class="line">        System.out.println(bank.getNumberOfCustomer());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¾“å‡º</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æˆåŠŸå­˜å…¥100.0</span></span><br><span class="line"><span class="comment">æˆåŠŸå–å‡ºï¼š500.0</span></span><br><span class="line"><span class="comment">ä½™é¢ä¸è¶³ï¼Œæ— æ³•å–å‡º</span></span><br><span class="line"><span class="comment">åå­—ï¼šç‹  å°æ˜  ä½™é¢ï¼š 1600.0</span></span><br><span class="line"><span class="comment">å·²ç»æ·»åŠ é¡¾å®¢2äºº</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="import-packageåŒ…">import packageåŒ…</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220329150100282.png" alt="image-20220329150100282"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220329150039490.png" alt="image-20220329150039490"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220329143157559.png" alt="image-20220329143157559"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12;</span><br><span class="line"><span class="keyword">import</span> day12.Test2.Account;</span><br><span class="line"><span class="keyword">import</span> day12.Test2.Bank;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">packageImportTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">info</span> <span class="operator">=</span> Arrays.toString(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;);</span><br><span class="line">        <span class="type">Bank</span> <span class="variable">bank</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bank</span>(<span class="number">10</span>);</span><br><span class="line">        <span class="type">ArrayList</span> <span class="variable">list</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        <span class="type">HashMap</span> <span class="variable">map</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">s</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">        <span class="type">Account</span> <span class="variable">acct</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="number">10</span>);</span><br><span class="line">        <span class="comment">//å…¨ç±»åçš„æ–¹å¼æ˜¾ç¤º</span></span><br><span class="line">        day12.Test5.<span class="type">Account</span> <span class="variable">acct1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">day12</span>.Test5.Account(<span class="number">1000</span>,<span class="number">2000</span>,<span class="number">0.0123</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>MVCäº†è§£</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220329143341028.png" alt="image-20220329143341028"></p><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-12">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼ŒæŠ¥é”™åœ¨14è¡Œï¼Œè¯´æ²¡æœ‰å®šä¹‰æ•°ç»„ï¼Œä½†æ˜¯åœ¨æ„é€ å™¨ä¸­ï¼Œæˆ‘å·²ç»å®šä¹‰äº†æ•°ç»„ï¼Œçœ‹äº†ä¸€éè€å¸ˆçš„ä»£ç ï¼Œå‘ç°æˆ‘å¤šäº†Custom1[ ] åŠ äº†ä¸€ä¸ªè¿™ä¸ªæ„æ€æ˜¯åˆ›é€ ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œåªæ˜¯æ•°ç»„åå­—ä¸€æ ·ï¼ŒæŠŠCustom1å»æ‰å°±æ­£å¸¸äº†ã€‚</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220329141654856.png" alt="image-20220329141654856"></p><p>æ­£å¸¸æˆªå›¾</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220329142032697.png" alt="image-20220329142032697"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-12">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">subject11</span> &#123;</span><br><span class="line">    <span class="comment">//é¢˜ç›®ï¼šæœ‰1ã€2ã€3ã€4ä¸ªæ•°å­—ï¼Œèƒ½ç»„æˆå¤šå°‘ä¸ªäº’ä¸ç›¸åŒä¸”æ— é‡å¤æ•°å­—çš„ä¸‰ä½æ•°ï¼Ÿéƒ½æ˜¯å¤šå°‘ï¼Ÿ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">4</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span><span class="number">1</span>;j &lt;= <span class="number">4</span>;j++)&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">1</span>;k &lt;= <span class="number">4</span>;k++)&#123;</span><br><span class="line">                    <span class="keyword">if</span> (i!=j &amp;&amp; j != k &amp;&amp; k != i)&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;1,2,3ï¼Œ4å¯ä»¥ç»„æˆçš„ä¸‰ä½æ•°ï¼š&quot;</span>+i+j+k);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">subject15</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// è¾“å…¥ä¸‰ä¸ªæ•° æŒ‰å¤§å°è¾“å‡º</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.print(<span class="string">&quot;è¯·è¾“å…¥ä½ è¦è¾“å…¥å‡ ä¸ªæ•°:&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">        <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[i];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;j&lt;i;j++)&#123;</span><br><span class="line">            arr[j] = input.nextInt();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span><span class="number">0</span>;a&lt;arr.length-<span class="number">1</span>;a++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>;b &lt;arr.length-<span class="number">1</span>-a;b++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (arr[b] &gt; arr[b+<span class="number">1</span>])&#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[b];</span><br><span class="line">                    arr[b] = arr[b+<span class="number">1</span>];</span><br><span class="line">                    arr[b+<span class="number">1</span>] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> num : arr)&#123;</span><br><span class="line">            System.out.println(num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€’å½’ç»å…¸é¢˜ç›®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day12;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">subject20</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"><span class="comment">//        æœ‰ä¸€åˆ†æ•°åºåˆ—ï¼š2/1ï¼Œ3/2ï¼Œ5/3ï¼Œ8/5ï¼Œ13/8ï¼Œ21/13â€¦æ±‚å‡ºè¿™ä¸ªæ•°åˆ—çš„å‰20é¡¹ä¹‹å’Œã€‚</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">sumNum</span> <span class="operator">=</span> sum(<span class="number">20</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;å‰20è§„å¾‹æ•°ä¹‹å’Œä¸ºï¼š&quot;</span>+sumNum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> num)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2.0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">double</span> <span class="variable">a</span> <span class="operator">=</span> getMolecule(num);</span><br><span class="line">            <span class="type">double</span> <span class="variable">b</span> <span class="operator">=</span> getMolecule(num-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span> sum(num-<span class="number">1</span>)+ a/b;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">getMolecule</span><span class="params">(<span class="type">int</span> num)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(num == <span class="number">2</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">3.0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (num == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2.0</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> getMolecule(num-<span class="number">1</span>) + getMolecule(num-<span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“-12">æ€»ç»“</h2><p>ä»Šå¤©çš„å­¦ä¹ æ—¶é—´å……è¶³çœ‹äº†20å¤šé›†ï¼Œ4ä¸ªå°æ—¶ï¼Œå…¶ä»–æ—¶é—´åŸºæœ¬éƒ½åœ¨æ•²ç»ƒä¹ ï¼Œä»Šå¤©å†™äº†ä¸‰ä¸ªç»ƒä¹ ï¼Œé“¶è¡Œå­˜é’±çš„ï¼Œå‰é¢ä¸€ä¸ªthisè°ƒç”¨æ¯”è¾ƒç®€å•å®¹æ˜“ç†è§£ï¼Œåé¢çš„ä¸€ä¸ªæ•°ç»„çš„ï¼Œå¯ä»¥åŠ å…¥å¤šä¸ªå¯¹è±¡çš„ï¼Œæœ‰ç‚¹éš¾ï¼Œæ­»ç£•äº†ä¸€ä¸ªå°æ—¶ï¼Œè§†é¢‘çœ‹äº†ä¸¤ä¸‰éæ‰å¼„æ˜ç™½ï¼Œç†è§£å®ƒçš„æ„æ€ç»“æ„ï¼Œåœ¨å†™æ•°ç»„é‚£ä¸ªç»ƒä¹ çš„æ—¶å€™ï¼Œå› ä¸ºè‡ªå·±å¹¶åˆ—çš„ä¸¤ä¸ªåŒ…åä¸€æ ·ï¼Œè°ƒç”¨çš„æ—¶å€™ï¼Œææ··äº†ï¼Œä¸€ç›´åœ¨æ£€æŸ¥ï¼Œæ”¹åè¿˜æ”¹é”™ï¼Œé¡ºåˆ©è§£å†³ä»¥åï¼Œåˆšå¥½æ¥åˆ°äº†è€å¸ˆè®²åŒ…å’Œimportï¼Œä¹Ÿç›´æ¥æ˜ç™½äº†è‡ªå·±ä¸ºä»€ä¹ˆé”™ï¼Œä»¥ååº”è¯¥æ€ä¹ˆåŠï¼Œä¸æ˜¯æ”¹ä¸ªåè¿™ä¹ˆå®¹æ˜“ã€‚ä»Šå¤©å­¦ä¹ åŠ²å¤´ä¹Ÿæœ‰ï¼Œå¾ˆæ»¡æ„ã€‚</p><h1 id="3-31é¡¹ç›®äºŒ">3.31é¡¹ç›®äºŒ</h1><h2 id="1-å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„-13">1.å¤´ï¼šæ—¥æœŸã€æ‰€å­¦å†…å®¹å‡ºå¤„</h2><p><a href="https://www.bilibili.com/video/BV1ex411x7Em?p=407">é»‘é©¬ç¨‹åºå‘˜Pythonæ•™ç¨‹_600é›†Pythonä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹ï¼ˆæ‡‚ä¸­æ–‡å°±èƒ½å­¦ä¼šï¼‰_å“”å“©å“”å“©_bilibili</a></p><h2 id="2-ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦-13">2.ä»Šå¤©æ‰€å­¦å†…å®¹æ‘˜è¦**</h2><h3 id="é¡¹ç›®äºŒ">é¡¹ç›®äºŒ</h3><h4 id="ä»£ç ä¸»ç±»">ä»£ç ä¸»ç±»</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomerView</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">CustomerList</span> <span class="variable">customerList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CustomerList</span>(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CustomerView</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ˜¾ç¤ºç•Œé¢</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">enterMainMenu</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//æ‰“å°ç•Œé¢ æ¥æ”¶é”®ç›˜è¾“å…¥å¹¶è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">loopFlag</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (loopFlag) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;\n------------------å®¢æˆ·ä¿¡æ¯ç®¡ç†è½¯ä»¶------------------&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;                      1.æ·» åŠ  å®¢ æˆ·&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;                      2.ä¿® æ”¹ å®¢ æˆ·&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;                      3.åˆ  é™¤ å®¢ æˆ·&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;                      4.å®¢ æˆ· åˆ— è¡¨&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;                      5.é€€    å‡º\n&quot;</span>);</span><br><span class="line">            System.out.print(<span class="string">&quot;                      è¯·é€‰æ‹©(1-5):&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="type">char</span> <span class="variable">menu</span> <span class="operator">=</span> CMUtility.readMEnuSelection();</span><br><span class="line">            <span class="keyword">switch</span> (menu) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;æ·»åŠ å®¢æˆ·çš„æ“ä½œ&quot;</span>);</span><br><span class="line"></span><br><span class="line">                    addNewCustomer();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;ä¿®æ”¹å®¢æˆ·çš„æ“ä½œ&quot;</span>);</span><br><span class="line"></span><br><span class="line">                    modifyCustomer();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;3&#x27;</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;åˆ é™¤å®¢æˆ·çš„æ“ä½œ&quot;</span>);</span><br><span class="line"></span><br><span class="line">                    deleteCustomer();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;4&#x27;</span>:</span><br><span class="line"><span class="comment">//                    System.out.println(&quot;æŸ¥çœ‹å®¢æˆ·çš„æ“ä½œ&quot;);</span></span><br><span class="line">                    System.out.println(<span class="string">&quot;--------------------å®¢æˆ·åˆ—è¡¨-----------------&quot;</span>);</span><br><span class="line">                    listAllCustomer();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> <span class="string">&#x27;5&#x27;</span>:</span><br><span class="line">                    System.out.println(<span class="string">&quot;ç¡®è®¤æ˜¯å¦é€€å‡º(Y/N)&quot;</span>);</span><br><span class="line">                    <span class="type">char</span> <span class="variable">isExit</span> <span class="operator">=</span> CMUtility.readConfirmSelection();</span><br><span class="line">                    <span class="keyword">if</span> (isExit == <span class="string">&#x27;Y&#x27;</span> || isExit == <span class="string">&#x27;y&#x27;</span>)&#123;</span><br><span class="line">                        loopFlag = <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (isExit == <span class="string">&#x27;n&#x27;</span> || isExit == <span class="string">&#x27;N&#x27;</span>)&#123;</span><br><span class="line">                    <span class="keyword">break</span>;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ·»åŠ å®¢æˆ·</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">addNewCustomer</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--------------------æ·»åŠ å®¢æˆ·-----------------&quot;</span>);</span><br><span class="line">        System.out.print(<span class="string">&quot;å§“å: &quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> CMUtility.readString(<span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;æ€§åˆ«: &quot;</span>);</span><br><span class="line">        <span class="type">char</span> <span class="variable">gender</span> <span class="operator">=</span> CMUtility.readChar();</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;å¹´é¾„: &quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> CMUtility.readInt();</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;ç”µè¯: &quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">phone</span>  <span class="operator">=</span> CMUtility.readString(<span class="number">13</span>);</span><br><span class="line">        System.out.print(<span class="string">&quot;é‚®ç®±: &quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">email</span> <span class="operator">=</span> CMUtility.readString(<span class="number">30</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Customer</span> <span class="variable">customer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer</span>(name,gender,age,phone,email);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">aa</span> <span class="operator">=</span>customerList.addCustomer(customer);</span><br><span class="line">        <span class="keyword">if</span> (aa)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;------------------æ·»åŠ æˆåŠŸ------------------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;------------------æ·»åŠ å¤±è´¥------------------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¿®æ”¹å®¢æˆ·</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">modifyCustomer</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;------------------ä¿®æ”¹å®¢æˆ·------------------&quot;</span>);</span><br><span class="line">        <span class="type">int</span> number;</span><br><span class="line">        Customer custs;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;è¯·é€‰æ‹©å¾…ä¿®æ”¹å®¢æˆ·çš„ç¼–å·(-1é€€å‡º): &quot;</span>);</span><br><span class="line">            number = CMUtility.readInt();</span><br><span class="line">            <span class="keyword">if</span> (number == -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            custs = customerList.getCustomer(number-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (custs == <span class="literal">null</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æœªæ‰¾åˆ°æŒ‡å®šå®¢æˆ·ï¼&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//æ‰¾åˆ°äº†</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ä¿®æ”¹å®¢æˆ·ä¿¡æ¯</span></span><br><span class="line">        System.out.print(<span class="string">&quot;å§“å(&quot;</span> + custs.getName()+<span class="string">&quot;):&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> CMUtility.readString(<span class="number">10</span>,custs.getName());</span><br><span class="line">        System.out.print(<span class="string">&quot;æ€§åˆ«(&quot;</span> + custs.getGender()+<span class="string">&quot;):&quot;</span>);</span><br><span class="line">        <span class="type">char</span> <span class="variable">gender</span> <span class="operator">=</span> CMUtility.readChar(custs.getGender());</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;å¹´é¾„(&quot;</span> + custs.getAge()+<span class="string">&quot;):&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> CMUtility.readInt(custs.getAge());</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;ç”µè¯(&quot;</span> + custs.getPhone()+<span class="string">&quot;):&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">Phone</span> <span class="operator">=</span> CMUtility.readString(<span class="number">13</span>,custs.getPhone());</span><br><span class="line"></span><br><span class="line">        System.out.print(<span class="string">&quot;é‚®ç®±(&quot;</span> + custs.getEmail()+<span class="string">&quot;):&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">email</span> <span class="operator">=</span> CMUtility.readString(<span class="number">30</span>,custs.getEmail());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="type">Customer</span> <span class="variable">newCust</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer</span>(name,gender,age,Phone,email);</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">isReplace</span> <span class="operator">=</span>customerList.replaceCustomer(number - <span class="number">1</span>,newCust);</span><br><span class="line">        <span class="keyword">if</span> (isReplace)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;------------------ä¿®æ”¹æˆåŠŸ------------------&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;------------------ä¿®æ”¹å¤±è´¥------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ é™¤å®¢æˆ·</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">deleteCustomer</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;------------------åˆ é™¤å®¢æˆ·------------------&quot;</span>);</span><br><span class="line">        <span class="type">int</span> number;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;è¯·é€‰æ‹©å¾…ä¿®æ”¹å®¢æˆ·çš„ç¼–å·(-1é€€å‡º): &quot;</span>);</span><br><span class="line">            number = CMUtility.readInt();</span><br><span class="line">            <span class="keyword">if</span> (number == -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//é-1</span></span><br><span class="line">            <span class="keyword">if</span> (number &lt;=<span class="number">0</span> || number &gt; customerList.getTotal())&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ— æ³•æ‰¾åˆ°æŒ‡å®šå®¢æˆ·ï¼&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.print(<span class="string">&quot;ç¡®è®¤æ˜¯å¦åˆ é™¤(Y/N)&quot;</span>);</span><br><span class="line">        <span class="type">char</span> <span class="variable">isDelete</span> <span class="operator">=</span> CMUtility.readConfirmSelection();</span><br><span class="line">        <span class="keyword">if</span> (isDelete == <span class="string">&#x27;Y&#x27;</span> || isDelete == <span class="string">&#x27;y&#x27;</span>)&#123;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">deleteSuccess</span> <span class="operator">=</span> customerList.deleteCustomer(number-<span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (deleteSuccess)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;------------------åˆ é™¤æˆåŠŸ------------------&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;------------------åˆ é™¤å¤±è´¥------------------&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ˜¾ç¤ºå®¢æˆ·åˆ—è¡¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">listAllCustomer</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">total</span> <span class="operator">=</span> customerList.getTotal();</span><br><span class="line">        <span class="keyword">if</span> (total == <span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;------------------æ²¡æœ‰å®¢æˆ·è®°å½•------------------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç¼–å·\tå§“å\t   æ€§åˆ«\t\tå¹´é¾„\t\tç”µè¯\t\t\t   é‚®ç®±&quot;</span>);</span><br><span class="line">            Customer[] custs = customerList.getAllCustomer();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; custs.length ; i++)&#123;</span><br><span class="line">                <span class="type">Customer</span> <span class="variable">customer</span> <span class="operator">=</span> custs[i];</span><br><span class="line">                System.out.println(((i+<span class="number">1</span>) + <span class="string">&quot;\t\t&quot;</span> + customer.getName() + <span class="string">&quot;\t\t&quot;</span> + customer.getGender() +</span><br><span class="line">                        <span class="string">&quot;\t\t&quot;</span> + customer.getAge()+ <span class="string">&quot;\t\t&quot;</span> + customer.getPhone() + <span class="string">&quot;\t\t&quot;</span> + customer.getEmail()));</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;------------------å®¢æˆ·åˆ—è¡¨å®Œæˆ------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">            <span class="type">CustomerView</span> <span class="variable">customerView</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CustomerView</span>();</span><br><span class="line">            customerView.enterMainMenu();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹è±¡æ•°ç»„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomerList</span> &#123;</span><br><span class="line">    <span class="comment">//æ•°ç»„ å­˜æ”¾å®¢æˆ·</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Customer[] customers ; <span class="comment">//ä¿å­˜å®¢æˆ·å¯¹è±¡çš„æ•°ç»„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">total</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// è®°å½•å·²ä¿å­˜å¯¹è±¡çš„æ•°é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŒ‡å®šCustomeræ•°ç»„æœ€å¤§ç©ºé—´</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CustomerList</span><span class="params">(<span class="type">int</span> totalCustomer)</span>&#123;</span><br><span class="line">            customers = <span class="keyword">new</span> <span class="title class_">Customer</span>[totalCustomer];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ·»åŠ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">addCustomer</span><span class="params">(Customer customer)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (total &gt;= customers.length)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        customers[total++] = customer;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å°†æŒ‡å®šç´¢å¼•çš„ä½ç½® çš„æ•°æ®ä¿®æ”¹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">replaceCustomer</span><span class="params">(<span class="type">int</span> index,Customer cust)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index&lt;<span class="number">0</span> || index &gt;= total)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// ä¿®æ”¹å¤±è´¥</span></span><br><span class="line">        &#125;</span><br><span class="line">        customers[index] = cust;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">//ä¿®æ”¹æˆåŠŸ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ é™¤æŒ‡å®šç´¢å¼•çš„ä½ç½®çš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">deleteCustomer</span><span class="params">(<span class="type">int</span> index)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index&lt;<span class="number">0</span> || index &gt;= total)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i= index;i&lt;total-<span class="number">1</span>;i++)&#123;</span><br><span class="line">            customers[i] = customers[i+<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        customers[--total] = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è·å–é¡¾å®¢ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">public</span>  Customer[] getAllCustomer()&#123;</span><br><span class="line">        Customer[] custs = <span class="keyword">new</span> <span class="title class_">Customer</span>[total];</span><br><span class="line">        System.arraycopy(customers, <span class="number">0</span>, custs, <span class="number">0</span>, total);</span><br><span class="line">            <span class="keyword">return</span> custs;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Customer <span class="title function_">getCustomer</span><span class="params">(<span class="type">int</span> index)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index&lt;<span class="number">0</span> || index &gt;= total)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">            <span class="keyword">return</span> customers[index];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getTotal</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> total;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç”¨æˆ·ä¿¡æ¯">ç”¨æˆ·ä¿¡æ¯</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer</span> &#123;</span><br><span class="line">    <span class="comment">//å®¢æˆ·ä¿¡æ¯ç­‰</span></span><br><span class="line">    <span class="keyword">private</span> String name; <span class="comment">// å®¢æˆ·å§“å</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">char</span> gender; <span class="comment">//æ€§åˆ«</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age; <span class="comment">//å¹´é¾„</span></span><br><span class="line">    <span class="keyword">private</span> String phone; <span class="comment">//ç”µè¯å·ç </span></span><br><span class="line">    <span class="keyword">private</span> String email; <span class="comment">//ç”µå­é‚®ç®±</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGender</span><span class="params">(<span class="type">char</span> gender)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPhone</span><span class="params">(String phone)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.phone = phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setEmail</span><span class="params">(String email)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.email = email;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer</span><span class="params">(String name,<span class="type">char</span> gender,<span class="type">int</span> age,String phone,String email)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.email = email;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">        <span class="built_in">this</span>.phone = phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">char</span> <span class="title function_">getGender</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getEmail</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> email;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å·¥å…·åŒ…">å·¥å…·åŒ…</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CMUtility</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">    <span class="comment">// æ¥å—æ•°æ®1-5</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">char</span> <span class="title function_">readMEnuSelection</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">char</span> a;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">arr</span> <span class="operator">=</span> readKeyBoard(<span class="number">1</span>,<span class="literal">false</span>);</span><br><span class="line">            a = arr.charAt(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (a != <span class="string">&#x27;1&#x27;</span> &amp;&amp; a != <span class="string">&#x27;2&#x27;</span> &amp;&amp; a != <span class="string">&#x27;3&#x27;</span> &amp;&amp; a != <span class="string">&#x27;4&#x27;</span> &amp;&amp; a != <span class="string">&#x27;5&#x27;</span>) &#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;é€‰æ‹©é”™è¯¯è¯·é‡æ–°è¾“å…¥ : &quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¾“å…¥ charç±»å‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">char</span> <span class="title function_">readChar</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> readKeyBoard(<span class="number">1</span>,<span class="literal">false</span>);</span><br><span class="line">        <span class="keyword">return</span> str.charAt(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">        <span class="comment">//è¯»å–é”®ç›˜</span></span><br><span class="line">    <span class="comment">//è‹¥æ²¡æœ‰è¾“å…¥å›è½¦ ä»¥defaultValueä½œä¸ºè¿”å›å€¼</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">char</span> <span class="title function_">readChar</span><span class="params">(<span class="type">char</span> defaultValue)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> readKeyBoard(<span class="number">1</span>,<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">return</span> (str.length()==<span class="number">0</span>)?defaultValue : str.charAt(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¯»å–æ•´æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">readInt</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> readKeyBoard(<span class="number">2</span>,<span class="literal">false</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                n = Integer.parseInt(str);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;<span class="keyword">catch</span> (NumberFormatException e)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ•°å­—è¾“å…¥é”™è¯¯,è¯·é‡æ–°è¾“å…¥&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è‹¥ä¸è¾“å…¥ defaultValue è¿”å›å€¼</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">readInt</span><span class="params">(<span class="type">int</span> defaultValue)</span>&#123;</span><br><span class="line">        <span class="type">int</span> n;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> readKeyBoard(<span class="number">2</span>,<span class="literal">true</span>);</span><br><span class="line">            <span class="keyword">if</span> (str.equals(<span class="string">&quot;&quot;</span>))&#123;</span><br><span class="line">                <span class="keyword">return</span> defaultValue;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                n = Integer.parseInt(str);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;<span class="keyword">catch</span> (NumberFormatException e)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ•°å­—è¾“å…¥é”™è¯¯,è¯·é‡æ–°è¾“å…¥&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¯»å– String</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">readString</span><span class="params">(<span class="type">int</span> limit)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> readKeyBoard(limit,<span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">readString</span><span class="params">(<span class="type">int</span> limit,String defaultValue)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> readKeyBoard(limit,<span class="literal">true</span>);</span><br><span class="line">        <span class="keyword">return</span> str.equals(<span class="string">&quot;&quot;</span>)? defaultValue :str;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">char</span> <span class="title function_">readConfirmSelection</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">char</span> a;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">arr</span> <span class="operator">=</span> readKeyBoard(<span class="number">1</span>,<span class="literal">false</span>).toUpperCase();</span><br><span class="line">            a = arr.charAt(<span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span> (a != <span class="string">&#x27;N&#x27;</span> &amp;&amp; a != <span class="string">&#x27;Y&#x27;</span> &amp;&amp; a != <span class="string">&#x27;n&#x27;</span> &amp;&amp; a != <span class="string">&#x27;y&#x27;</span> ) &#123;</span><br><span class="line">                System.out.print(<span class="string">&quot;é€‰æ‹©é”™è¯¯è¯·é‡æ–°è¾“å…¥(Y/N) : &quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">readKeyBoard</span><span class="params">(<span class="type">int</span> limit,<span class="type">boolean</span> blankReturn)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span> (input.hasNextLine())&#123;</span><br><span class="line">            line = input.nextLine();</span><br><span class="line">            <span class="keyword">if</span> (line.length() ==<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span> (blankReturn) <span class="keyword">return</span> line;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (line.length() &gt; limit)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;è¾“å‡ºé•¿åº¦(ä¸å¤§äº&quot;</span> + limit + <span class="string">&quot;)é”™è¯¯,è¯·é‡æ–°è¾“å…¥&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> line;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»§æ‰¿">ç»§æ‰¿</h3><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401151957747.png" alt="image-20220401151957747"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401152052168.png" alt="image-20220401152052168"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401152120684.png" alt="image-20220401152120684"></p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401152132497.png" alt="image-20220401152132497"></p><p>ç†è§£ç»§æ‰¿ä»£ç </p><p>Creature  ------- person---------Student</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Creature</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">breath</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;gggggggg&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">extends</span> <span class="title class_">Creature</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¦åƒé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¦ç¡è§‰&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">    String major;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, String major)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.setAge(age);</span><br><span class="line">        <span class="built_in">this</span>.major = major;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//    public void eat()&#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;è¦åƒé¥­&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"><span class="comment">//    public void sleep()&#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;è¦ç¡è§‰&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¦å­¦ä¹ &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExtendsTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">p1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        p1.setAge(<span class="number">28</span>);</span><br><span class="line">        p1.name = <span class="string">&quot;æ±ªå¤§ä¸œ&quot;</span>;</span><br><span class="line">        p1.eat();</span><br><span class="line"></span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        student.setAge(<span class="number">18</span>);</span><br><span class="line">        System.out.println(student.getAge());</span><br><span class="line">        student.name = <span class="string">&quot;é‡‘å®ä¸‰&quot;</span>;</span><br><span class="line">        student.major = <span class="string">&quot;ç”µå·¥&quot;</span>;</span><br><span class="line">        student.eat();</span><br><span class="line">        student.study();</span><br><span class="line"></span><br><span class="line">        student.breath();</span><br><span class="line">        <span class="type">Creature</span> <span class="variable">creature</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Creature</span>();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç»§æ‰¿åœ†å’Œåœ†æŸ±">ç»§æ‰¿åœ†å’Œåœ†æŸ±</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> radius;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.radius = <span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getRadius</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setRadius</span><span class="params">(<span class="type">double</span> radius)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.radius = radius;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findArea</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Math.PI * radius*radius;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cylinder</span> <span class="keyword">extends</span> <span class="title class_">Circle</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Cylinder</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.length =<span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getLength</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setLength</span><span class="params">(<span class="type">double</span> length)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.length = length;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findVolume</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//è°ƒç”¨ çˆ¶ç±»çš„æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">return</span> findArea()*length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day13.java4;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CylinderTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Cylinder</span> <span class="variable">cylinder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cylinder</span>();</span><br><span class="line">        cylinder.setRadius(<span class="number">2.1</span>);</span><br><span class="line">        cylinder.setLength(<span class="number">3.4</span>);</span><br><span class="line">        <span class="type">double</span> <span class="variable">volume</span>  <span class="operator">=</span> cylinder.findVolume();</span><br><span class="line">        System.out.println(<span class="string">&quot;åŠå¾„æ˜¯ï¼š&quot;</span> + cylinder.getRadius());</span><br><span class="line">        System.out.println(<span class="string">&quot;åœ†æŸ±çš„ä½“ç§¯æ˜¯ï¼š&quot;</span> + String.format(<span class="string">&quot;%.2f&quot;</span>,volume));</span><br><span class="line">        <span class="type">double</span> <span class="variable">area</span> <span class="operator">=</span> cylinder.findArea();</span><br><span class="line">        System.out.println(<span class="string">&quot;åœ†æŸ±çš„åº•é¢ç§¯æ˜¯ï¼š&quot;</span> + String.format(<span class="string">&quot;%.2f&quot;</span>,area));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰-è§£å†³â½…æ¡ˆ-13">3ã€é‡åˆ°çš„é—®é¢˜æè¿°ï¼ˆå¯ä»¥é™„ä¸Šæˆªå›¾ï¼‰+è§£å†³â½…æ¡ˆ**</h2><p>ä¸è¾“å…¥çš„æ—¶å€™ï¼Œå›è½¦ï¼Œä¼šæŠ¥é”™ã€‚æ£€æŸ¥è‡ªå·±çš„å·¥å…·åŒ…å‘ç°ç”¨çš„æ˜¯nextã€ï¼Œæ”¹æˆnextLineå°±å¥½äº†</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401142355235.png" alt="image-20220401142355235"></p><h2 id="4-æ‰©å±•å­¦ä¹ éƒ¨åˆ†-13">**4.æ‰©å±•å­¦ä¹ éƒ¨åˆ†</h2><p>é¢è¯•é«˜é¢‘é¢˜</p><p>é‡è½½å’Œé‡å†™çš„åŒºåˆ«</p><p><img src="https://u7img.oss-cn-hangzhou.aliyuncs.com/image-20220401163420882.png" alt="image-20220401163420882"></p><h2 id="æ€»ç»“-13">æ€»ç»“</h2><p>é¡¹ç›®äºŒæ€»ä½“æ¥è¯´ï¼Œæ˜¯è¿™ä¸ªé˜¶æ®µæ¯”è¾ƒéš¾çš„äº†ï¼Œç”¨äº†ç›®å‰å­¦åˆ°çš„å®ç”¨çš„æ–¹æ³•éƒ½ç”¨åˆ°äº†ï¼Œç»è¿‡è¿™ä¸ªé¡¹ç›®ï¼Œå¯¹å¯¹è±¡æ•°ç»„ç†è§£ä¹Ÿæ›´åŠ é€å½»äº†ï¼Œéš¾ç‚¹åœ¨äºå·¥å…·åŒ…ï¼Œè¾“å…¥æ¯”è¾ƒéš¾ï¼Œä¸€äº›æ²¡ä½¿ç”¨è¿‡çš„packageå’Œæ–¹æ³•ï¼Œè¦å»æœç´¢ä¸€ä¸‹ï¼Œç”¨æ³•ï¼Œå†™å®Œè¿˜æ˜¯å¾ˆæœ‰æˆå°±æ„Ÿçš„ï¼Œå†™å®Œå†çœ‹çœ‹ä»£ç æ˜¯å¦‚ä½•è¿è¡Œçš„ï¼Œä»Šå¤©å­¦ä¹ æœ‰åŠ²å¤´ï¼Œå†™å®Œé¡¹ç›®äºŒæŠŠç»§æ‰¿éƒ½ææ˜ç™½äº†ã€‚</p>]]></content>
    
    
    <summary type="html">JavaåŸºç¡€å­¦ä¹ </summary>
    
    
    
    <category term="å·¥ä½œå®¤æœˆç¬”è®°" scheme="https://u7u7.top/categories/%E5%B7%A5%E4%BD%9C%E5%AE%A4%E6%9C%88%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Java" scheme="https://u7u7.top/tags/Java/"/>
    
    <category term="æœˆç¬”è®°" scheme="https://u7u7.top/tags/%E6%9C%88%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>Markdownè¯­æ³•ä¸å¤–æŒ‚æ ‡ç­¾å†™æ³•æ±‡æ€»</title>
    <link href="https://u7u7.top/posts/2013454d.html"/>
    <id>https://u7u7.top/posts/2013454d.html</id>
    <published>2022-08-09T10:19:03.000Z</published>
    <updated>2022-10-23T14:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-Markdownè¯­æ³•è‡ªå¸¦æ ¼å¼">1.Markdownè¯­æ³•è‡ªå¸¦æ ¼å¼</h1><div class="note info flat"><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/u014061630/article/details/81359144">Markdownè¯­æ³•å›¾æ–‡å…¨é¢è¯¦è§£(10åˆ†é’Ÿå­¦ä¼š)</a></p></div><div class="note warning flat"><p>æ³¨æ„ï¼šæ­¤é¡µé¢å¶å°”ä¼šå­˜åœ¨CSSå†²çªé—®é¢˜!</p></div><h2 id="1-1-ä»£ç å—">1.1 ä»£ç å—</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">\```shell</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">VSCodeç»ˆç«¯</span></span><br><span class="line">hexo clean; hexo s</span><br><span class="line">hexo clean; hexo g; hexo d</span><br><span class="line">git add .; git commit -m &quot;npm publish&quot;; npm version patch; </span><br><span class="line">git push</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Cmderç»ˆç«¯</span></span><br><span class="line">hexo clean &amp;&amp; hexo s</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line">git add . &amp;&amp; git commit -m &quot;npm publish&quot; &amp;&amp; npm version patch</span><br><span class="line">git push</span><br><span class="line">\```</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">VSCodeç»ˆç«¯</span></span><br><span class="line">hexo clean; hexo s</span><br><span class="line">hexo clean; hexo g; hexo d</span><br><span class="line">git add .; git commit -m &quot;npm publish&quot;; npm version patch; </span><br><span class="line">git push</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Cmderç»ˆç«¯</span></span><br><span class="line">hexo clean &amp;&amp; hexo s</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br><span class="line">git add . &amp;&amp; git commit -m &quot;npm publish&quot; &amp;&amp; npm version patch</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-2-å¤šçº§æ ‡é¢˜">1.2 å¤šçº§æ ‡é¢˜</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># H1</span></span><br><span class="line"><span class="section">## H2</span></span><br><span class="line"><span class="section">### H3</span></span><br><span class="line"><span class="section">#### H4</span></span><br><span class="line"><span class="section">##### H5</span></span><br><span class="line"><span class="section">###### H6</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><p>è§æœ¬æ–‡ç« æ ‡é¢˜!</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-3-æ–‡å­—æ ·å¼">1.3 æ–‡å­—æ ·å¼</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">u</span>&gt;</span></span>ä¸‹åˆ’çº¿æ¼”ç¤º<span class="language-xml"><span class="tag">&lt;/<span class="name">u</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">æ–‡å­—<span class="strong">**åŠ ç²—**</span>æ¼”ç¤º</span><br><span class="line"></span><br><span class="line">æ–‡å­—<span class="emphasis">*æ–œä½“*</span>æ¼”ç¤º</span><br><span class="line"></span><br><span class="line">æ–‡æœ¬<span class="code">`é«˜äº®`</span>æ¼”ç¤º</span><br><span class="line"></span><br><span class="line">æ–‡æœ¬~~åˆ é™¤~~çº¿æ¼”ç¤º</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">size</span> = <span class="string">5</span>&gt;</span></span>5å·å­—<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">face</span>=<span class="string">&quot;é»‘ä½“&quot;</span>&gt;</span></span>é»‘ä½“<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">blue</span>&gt;</span></span>è“è‰²<span class="language-xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">td</span> <span class="attr">bgcolor</span>=<span class="string">MistyRose</span>&gt;</span></span>è¿™é‡Œçš„èƒŒæ™¯è‰²æ˜¯ï¼šMistyRosenï¼Œæ­¤å¤„è¾“å…¥ä»»æ„æƒ³è¾“å…¥çš„å†…å®¹<span class="language-xml"><span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><p><u>ä¸‹åˆ’çº¿æ¼”ç¤º</u></p><p>æ–‡å­—<strong>åŠ ç²—</strong>æ¼”ç¤º</p><p>æ–‡å­—<em>æ–œä½“</em>æ¼”ç¤º</p><p>æ–‡æœ¬<code>é«˜äº®</code>æ¼”ç¤º</p><p>æ–‡æœ¬<s>åˆ é™¤</s>çº¿æ¼”ç¤º</p><p><font size = 5>5å·å­—</font><br><font face="é»‘ä½“">é»‘ä½“</font><br><font color=blue>è“è‰²</font></p><table><tr><td bgcolor=MistyRose>è¿™é‡Œçš„èƒŒæ™¯è‰²æ˜¯ï¼šMistyRosenï¼Œæ­¤å¤„è¾“å…¥ä»»æ„æƒ³è¾“å…¥çš„å†…å®¹</td></tr></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><div class="note info flat"><p>ä¸Šè¿°è¦ç‚¹å¯å‚è€ƒ:<a href="https://blog.csdn.net/qq_43732429/article/details/108034518">ã€Markdownè¯­æ³•ã€‘å­—ä½“é¢œè‰²å¤§å°åŠæ–‡å­—åº•è‰²è®¾ç½®</a></p></div><h2 id="1-4-å¼•ç”¨">1.4 å¼•ç”¨</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="quote">&gt;  Java</span></span><br><span class="line"><span class="quote">&gt; äºŒçº§å¼•ç”¨æ¼”ç¤º</span></span><br><span class="line"><span class="quote">&gt; MySQL</span></span><br><span class="line"><span class="quote">&gt; &gt;å¤–é”®</span></span><br><span class="line"><span class="quote">&gt; &gt;</span></span><br><span class="line"><span class="quote">&gt; &gt;äº‹åŠ¡</span></span><br><span class="line"><span class="quote">&gt; &gt;</span></span><br><span class="line"><span class="quote">&gt; &gt;<span class="strong">**è¡Œçº§é”**</span>(å¼•ç”¨å†…éƒ¨ä¸€æ ·å¯ä»¥ç”¨æ ¼å¼)</span></span><br><span class="line"><span class="quote">&gt; </span></span><br><span class="line"><span class="quote">&gt; ....</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><blockquote><p>Java<br>äºŒçº§å¼•ç”¨æ¼”ç¤º<br>MySQL</p><blockquote><p>å¤–é”®</p><p>äº‹åŠ¡</p><p><strong>è¡Œçº§é”</strong>(å¼•ç”¨å†…éƒ¨ä¸€æ ·å¯ä»¥ç”¨æ ¼å¼)</p></blockquote><p>â€¦</p></blockquote><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-5-åˆ†å‰²çº¿">1.5 åˆ†å‰²çº¿</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="strong">**<span class="emphasis">*</span></span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><hr><hr><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-6-åˆ—è¡¨-è·Ÿç©ºæ ¼éƒ½å¯ä»¥">1.6 åˆ—è¡¨(*,+,-è·Ÿç©ºæ ¼éƒ½å¯ä»¥)</h2><h3 id="1-6-1-æ— åºåˆ—è¡¨">1.6.1 æ— åºåˆ—è¡¨</h3><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">*</span> Java</span><br><span class="line"><span class="bullet">*</span> Python</span><br><span class="line"><span class="bullet">*</span> ...</span><br><span class="line"></span><br><span class="line"><span class="bullet">+</span> Java</span><br><span class="line"><span class="bullet">+</span> Python</span><br><span class="line"><span class="bullet">+</span> ...</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> Java</span><br><span class="line"><span class="bullet">-</span> Python</span><br><span class="line"><span class="bullet">-</span> ...</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ul><li>Java</li><li>Python</li><li>â€¦</li></ul><ul><li>Java</li><li>Python</li><li>â€¦</li></ul><ul><li>Java</li><li>Python</li><li>â€¦</li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h3 id="1-6-2-æœ‰åºåˆ—è¡¨">1.6.2 æœ‰åºåˆ—è¡¨</h3><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># æ³¨æ„åé¢æœ‰ç©ºæ ¼</span></span><br><span class="line"><span class="bullet">1.</span> </span><br><span class="line"><span class="bullet">2.</span> </span><br><span class="line"><span class="bullet">3.</span> </span><br><span class="line"><span class="bullet">4.</span> </span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li></li><li></li><li></li><li></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-7-å›¾ç‰‡">1.7 å›¾ç‰‡</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># æœ¬åœ°å›¾ç‰‡</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/assets/pusheencode.webp&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;ç¤ºä¾‹å›¾ç‰‡&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:50%;&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="section"># åœ¨çº¿å›¾ç‰‡</span></span><br><span class="line">![<span class="string">code</span>](<span class="link">https://cdn.jsdelivr.net/gh/fomalhaut1998/markdown_pic/img/code.png</span>)</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><p>æœ¬åœ°å›¾ç‰‡:<br><img src="/assets/pusheencode.webp" alt="ç¤ºä¾‹å›¾ç‰‡" style="zoom:50%;" /><br>åœ¨çº¿å›¾ç‰‡:<br><img src="https://cdn.jsdelivr.net/gh/fomalhaut1998/markdown_pic/img/code.png" alt="code"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-8-è¡¨æ ¼">1.8 è¡¨æ ¼</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| é¡¹ç›®æ ‡å· | èµ„é‡‘     | å¤‡æ³¨ |</span><br><span class="line">| -------- | -------- | ---- |</span><br><span class="line">| 1        | 100ï¼Œ000 | æ—    |</span><br><span class="line">| 2        | 200ï¼Œ000 | æ—    |</span><br><span class="line">| 3        | 300,600  | é‡è¦ |</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><table><thead><tr><th>é¡¹ç›®æ ‡å·</th><th>èµ„é‡‘</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>1</td><td>100ï¼Œ000</td><td>æ— </td></tr><tr><td>2</td><td>200ï¼Œ000</td><td>æ— </td></tr><tr><td>3</td><td>300,600</td><td>é‡è¦</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="1-9-å…¬å¼">1.9 å…¬å¼</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$$</span><br><span class="line">\Gamma(z)=\int<span class="emphasis">_0^\infty t^&#123;z-1&#125;e^&#123;-t&#125;dt.</span></span><br><span class="line"><span class="emphasis">$$</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><p>$$<br>\Gamma(z)=\int_0^\infty t^{z-1}e^{-t}dt.<br>$$</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h1 id="2-Butterflyå¤–æŒ‚æ ‡ç­¾">2.Butterflyå¤–æŒ‚æ ‡ç­¾</h1><div class="note info flat"><p>è¿™éƒ¨åˆ†å‚è€ƒå®‰çŸ¥é±¼:<a href="https://anzhiy.cn/posts/7d58.html">åŸºäºButterflyçš„å¤–æŒ‚æ ‡ç­¾å¼•å…¥</a></p></div><h2 id="2-1-è¡Œå†…æ–‡æœ¬æ ·å¼-text">2.1 è¡Œå†…æ–‡æœ¬æ ·å¼ text</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% u æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% emp æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% wavy æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% del æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% kbd æ–‡æœ¬å†…å®¹ %&#125;</span><br><span class="line">&#123;% psw æ–‡æœ¬å†…å®¹ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1.</span> å¸¦ &#123;% u ä¸‹åˆ’çº¿ %&#125; çš„æ–‡æœ¬</span><br><span class="line"><span class="bullet">2.</span> å¸¦ &#123;% emp ç€é‡å· %&#125; çš„æ–‡æœ¬</span><br><span class="line"><span class="bullet">3.</span> å¸¦ &#123;% wavy æ³¢æµªçº¿ %&#125; çš„æ–‡æœ¬</span><br><span class="line"><span class="bullet">4.</span> å¸¦ &#123;% del åˆ é™¤çº¿ %&#125; çš„æ–‡æœ¬</span><br><span class="line"><span class="bullet">5.</span> é”®ç›˜æ ·å¼çš„æ–‡æœ¬ &#123;% kbd command %&#125; + &#123;% kbd D %&#125;</span><br><span class="line"><span class="bullet">6.</span> å¯†ç æ ·å¼çš„æ–‡æœ¬ï¼š&#123;% psw è¿™é‡Œæ²¡æœ‰éªŒè¯ç  %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><ol><li>å¸¦ <u>ä¸‹åˆ’çº¿</u> çš„æ–‡æœ¬</li><li>å¸¦ <emp>ç€é‡å·</emp> çš„æ–‡æœ¬</li><li>å¸¦ <wavy>æ³¢æµªçº¿</wavy> çš„æ–‡æœ¬</li><li>å¸¦ <del>åˆ é™¤çº¿</del> çš„æ–‡æœ¬</li><li>é”®ç›˜æ ·å¼çš„æ–‡æœ¬ <kbd>command</kbd> + <kbd>D</kbd></li><li>å¯†ç æ ·å¼çš„æ–‡æœ¬ï¼š<psw>è¿™é‡Œæ²¡æœ‰éªŒè¯ç </psw></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-2-è¡Œå†…æ–‡æœ¬-span">2.2 è¡Œå†…æ–‡æœ¬ span</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% span æ ·å¼å‚æ•°(å‚æ•°ä»¥ç©ºæ ¼åˆ’åˆ†), æ–‡æœ¬å†…å®¹ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>å­—ä½“</code>: logo, code</li><li><code>é¢œè‰²</code>: red,yellow,green,cyan,blue,gray</li><li><code>å¤§å°</code>: small, h4, h3, h2, h1, large, huge, ultra</li><li><code>å¯¹é½æ–¹å‘</code>: left, center, right</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> å½©è‰²æ–‡å­—</span><br><span class="line">åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š&#123;% span red, çº¢è‰² %&#125;ã€&#123;% span yellow, é»„è‰² %&#125;ã€&#123;% span green, ç»¿è‰² %&#125;ã€&#123;% span cyan, é’è‰² %&#125;ã€&#123;% span blue, è“è‰² %&#125;ã€&#123;% span gray, ç°è‰² %&#125;ã€‚</span><br><span class="line"><span class="bullet">-</span> è¶…å¤§å·æ–‡å­—</span><br><span class="line">æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚</span><br><span class="line">&#123;% span center logo large, Volantis %&#125;</span><br><span class="line">&#123;% span center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><ul><li>å½©è‰²æ–‡å­—<br>åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š<span class='p red'>çº¢è‰²</span>ã€<span class='p yellow'>é»„è‰²</span>ã€<span class='p green'>ç»¿è‰²</span>ã€<span class='p cyan'>é’è‰²</span>ã€<span class='p blue'>è“è‰²</span>ã€<span class='p gray'>ç°è‰²</span>ã€‚</li><li>è¶…å¤§å·æ–‡å­—<br>æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚<br><span class='p center logo large'>Volantis</span><br><span class='p center small'>A Wonderful Theme for Hexo</span></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-3-æ®µè½æ–‡æœ¬-p">2.3 æ®µè½æ–‡æœ¬ p</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% p æ ·å¼å‚æ•°(å‚æ•°ä»¥ç©ºæ ¼åˆ’åˆ†), æ–‡æœ¬å†…å®¹ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>å­—ä½“</code>: logo, code</li><li><code>é¢œè‰²</code>: red,yellow,green,cyan,blue,gray</li><li><code>å¤§å°</code>: small, h4, h3, h2, h1, large, huge, ultra</li><li><code>å¯¹é½æ–¹å‘</code>: left, center, right</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> å½©è‰²æ–‡å­—</span><br><span class="line">åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š&#123;% p red, çº¢è‰² %&#125;ã€&#123;% p yellow, é»„è‰² %&#125;ã€&#123;% p green, ç»¿è‰² %&#125;ã€&#123;% p cyan, é’è‰² %&#125;ã€&#123;% p blue, è“è‰² %&#125;ã€&#123;% p gray, ç°è‰² %&#125;ã€‚</span><br><span class="line"><span class="bullet">-</span> è¶…å¤§å·æ–‡å­—</span><br><span class="line">æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚</span><br><span class="line">&#123;% p center logo large, Volantis %&#125;</span><br><span class="line">&#123;% p center small, A Wonderful Theme for Hexo %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><ul><li>å½©è‰²æ–‡å­—<br>åœ¨ä¸€æ®µè¯ä¸­æ–¹ä¾¿æ’å…¥å„ç§é¢œè‰²çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬ï¼š<p class='p red'>çº¢è‰²</p>ã€<p class='p yellow'>é»„è‰²</p>ã€<p class='p green'>ç»¿è‰²</p>ã€<p class='p cyan'>é’è‰²</p>ã€<p class='p blue'>è“è‰²</p>ã€<p class='p gray'>ç°è‰²</p>ã€‚</li><li>è¶…å¤§å·æ–‡å­—<br>æ–‡æ¡£ã€Œå¼€å§‹ã€é¡µé¢ä¸­çš„æ ‡é¢˜éƒ¨åˆ†å°±æ˜¯è¶…å¤§å·æ–‡å­—ã€‚</li></ul><p class='p center logo large'>Volantis</p><p class='p center small'>A Wonderful Theme for Hexo</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-4-å¼•ç”¨note">2.4 å¼•ç”¨note</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">é€šç”¨é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">è¯­æ³•æ ¼å¼</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -5">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">note:</span><br><span class="line">  # Note tag style values:</span><br><span class="line">  #  - simple    bs-callout old alert style. Default.</span><br><span class="line">  #  - modern    bs-callout new (v2-v3) alert style.</span><br><span class="line">  #  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span><br><span class="line">  #  - disabled  disable all CSS styles import of note tag.</span><br><span class="line">  style: simple</span><br><span class="line">  icons: false</span><br><span class="line">  border<span class="emphasis">_radius: 3</span></span><br><span class="line"><span class="emphasis">  # Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line"><span class="emphasis">  # Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line"><span class="emphasis">  light_</span>bg<span class="emphasis">_offset: 0</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># è‡ªå¸¦icon</span></span><br><span class="line">&#123;% note [class] [no-icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"><span class="section"># å¤–éƒ¨icon</span></span><br><span class="line">&#123;% note [color] [icon] [style] %&#125;</span><br><span class="line">Any content (support inline tags too.io).</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.è‡ªå¸¦icon</p><table><thead><tr><th>å‚æ•°</th><th style="text-align:center">ç”¨æ³•</th></tr></thead><tbody><tr><td>class</td><td style="text-align:center">ã€å¯é€‰ã€‘æ ‡è¯†ï¼Œä¸åŒçš„æ ‡è¯†æœ‰ä¸åŒçš„é…è‰² ï¼ˆ default / primary / success / info / warning / danger ï¼‰</td></tr><tr><td>no-icon</td><td style="text-align:center">ã€å¯é€‰ã€‘ä¸æ˜¾ç¤º icon</td></tr><tr><td>style</td><td style="text-align:center">ã€å¯é€‰ã€‘å¯ä»¥è¦†ç›–é…ç½®ä¸­çš„ style ï¼ˆsimple/modern/flat/disabledï¼‰</td></tr></tbody></table><p>2.å¤–éƒ¨icon</p><table><thead><tr><th>å‚æ•°</th><th style="text-align:center">ç”¨æ³•</th></tr></thead><tbody><tr><td>class</td><td style="text-align:center">ã€å¯é€‰ã€‘æ ‡è¯†ï¼Œä¸åŒçš„æ ‡è¯†æœ‰ä¸åŒçš„é…è‰² ï¼ˆ default / blue / pink / red / purple / orange / green ï¼‰</td></tr><tr><td>no-icon</td><td style="text-align:center">ã€å¯é€‰ã€‘å¯é…ç½®è‡ªå®šä¹‰ icon (åªæ”¯æŒ fontawesome å›¾æ ‡, ä¹Ÿå¯ä»¥é…ç½® no-icon )</td></tr><tr><td>style</td><td style="text-align:center">ã€å¯é€‰ã€‘å¯ä»¥è¦†ç›–é…ç½®ä¸­çš„ style ï¼ˆsimple/modern/flat/disabledï¼‰</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><details class="folding-tag" blue><summary> 1.è‡ªå¸¦icon </summary>              <div class='content'>              <p>1.<code>simple</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note simple %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default simple %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary simple %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success simple %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info simple %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning simple %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger simple %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>2.<code>modern</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note modern %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default modern %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary modern %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success modern %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info modern %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning modern %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger modern %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>3.<code>flat</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note flat %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default flat %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary flat %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success flat %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info flat %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning flat %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger flat %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>4.<code>disabled</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note disabled %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default disabled %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary disabled %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success disabled %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info disabled %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning disabled %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger disabled %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>5.<code>no-icon</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;é»˜è®¤ æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note default no-icon %&#125;default æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note primary no-icon %&#125;primary æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note success no-icon %&#125;success æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note info no-icon %&#125;info æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note warning no-icon %&#125;warning æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note danger no-icon %&#125;danger æç¤ºå—æ ‡ç­¾&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><details class="folding-tag" blue><summary> 2.å¤–éƒ¨icon </summary>              <div class='content'>              <p>1.<code>simple</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; simple %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; simple %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; simple %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; simple%&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; simple %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; simple %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; simple %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>2.<code>modern</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; modern %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; modern %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; modern%&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; modern %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; modern %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; modern %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>3.<code>flat</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; flat %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; flat %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; flat %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; flat%&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; flat %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; flat %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; flat %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>4.<code>disabled</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note &#x27;fab fa-cc-visa&#x27; disabled %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue &#x27;fas fa-bullhorn&#x27; disabled %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink &#x27;fas fa-car-crash&#x27; disabled %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red &#x27;fas fa-fan&#x27; disabled %&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange &#x27;fas fa-battery-half&#x27; disabled %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple &#x27;far fa-hand-scissors&#x27; disabled %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green &#x27;fab fa-internet-explorer&#x27; disabled %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure><p>5.<code>no-icon</code>æ ·å¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note no-icon %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note blue no-icon %&#125;2021å¹´å¿«åˆ°äº†....&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note pink no-icon %&#125;å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note red no-icon %&#125;è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note orange no-icon %&#125;ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note purple no-icon %&#125;å‰ªåˆ€çŸ³å¤´å¸ƒ&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% note green no-icon %&#125;å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -5"><details class="folding-tag" blue><summary> 1.è‡ªå¸¦icon </summary>              <div class='content'>              <p>1.<code>simple</code>æ ·å¼</p><div class="note simple"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default simple"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary simple"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success simple"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info simple"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning simple"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger simple"><p>danger æç¤ºå—æ ‡ç­¾</p></div>2.`modern`æ ·å¼<div class="note modern"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default modern"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary modern"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success modern"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info modern"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning modern"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger modern"><p>danger æç¤ºå—æ ‡ç­¾</p></div><p>3.<code>flat</code>æ ·å¼</p><div class="note flat"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default flat"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary flat"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success flat"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info flat"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning flat"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger flat"><p>danger æç¤ºå—æ ‡ç­¾</p></div><p>4.<code>disabled</code>æ ·å¼</p><div class="note disabled"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default disabled"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary disabled"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success disabled"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info disabled"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning disabled"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger disabled"><p>danger æç¤ºå—æ ‡ç­¾</p></div><p>5.<code>no-icon</code>æ ·å¼</p><div class="note no-icon flat"><p>é»˜è®¤ æç¤ºå—æ ‡ç­¾</p></div><div class="note default no-icon flat"><p>default æç¤ºå—æ ‡ç­¾</p></div><div class="note primary no-icon flat"><p>primary æç¤ºå—æ ‡ç­¾</p></div><div class="note success no-icon flat"><p>success æç¤ºå—æ ‡ç­¾</p></div><div class="note info no-icon flat"><p>info æç¤ºå—æ ‡ç­¾</p></div><div class="note warning no-icon flat"><p>warning æç¤ºå—æ ‡ç­¾</p></div><div class="note danger no-icon flat"><p>danger æç¤ºå—æ ‡ç­¾</p></div>              </div>            </details><details class="folding-tag" blue><summary> 2.å¤–éƒ¨icon </summary>              <div class='content'>              <p>1.<code>simple</code>æ ·å¼</p><div class="note icon-padding simple"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon-padding simple"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦</p></div><div class="note pink icon-padding simple"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon-padding simple"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon-padding simple"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon-padding simple"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon-padding simple"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div><p>2.<code>modern</code>æ ·å¼</p><div class="note icon-padding modern"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦</p></div><div class="note pink icon-padding modern"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon-padding modern"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon-padding modern"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon-padding modern"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div><p>3.<code>flat</code>æ ·å¼</p><div class="note icon-padding flat"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon-padding flat"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦</p></div><div class="note pink icon-padding flat"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon-padding flat"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon-padding flat"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon-padding flat"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon-padding flat"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div><p>4.<code>disabled</code>æ ·å¼</p><div class="note icon-padding disabled"><i class="note-icon fab fa-cc-visa"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue icon-padding disabled"><i class="note-icon fas fa-bullhorn"></i><p>2021å¹´å¿«åˆ°äº†â€¦</p></div><div class="note pink icon-padding disabled"><i class="note-icon fas fa-car-crash"></i><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red icon-padding disabled"><i class="note-icon fas fa-fan"></i><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange icon-padding disabled"><i class="note-icon fas fa-battery-half"></i><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple icon-padding disabled"><i class="note-icon far fa-hand-scissors"></i><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green icon-padding disabled"><i class="note-icon fab fa-internet-explorer"></i><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div><p>5.<code>no-icon</code>æ ·å¼</p><div class="note no-icon flat"><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note blue no-icon flat"><p>2021å¹´å¿«åˆ°äº†â€¦</p></div><div class="note pink no-icon flat"><p>å°å¿ƒå¼€è½¦ å®‰å…¨è‡³ä¸Š</p></div><div class="note red no-icon flat"><p>è¿™æ˜¯ä¸‰ç‰‡å‘¢ï¼Ÿè¿˜æ˜¯å››ç‰‡ï¼Ÿ</p></div><div class="note orange no-icon flat"><p>ä½ æ˜¯åˆ· Visa è¿˜æ˜¯ UnionPay</p></div><div class="note purple no-icon flat"><p>å‰ªåˆ€çŸ³å¤´å¸ƒ</p></div><div class="note green no-icon flat"><p>å‰ç«¯æœ€è®¨åŒçš„æµè§ˆå™¨</p></div>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-5-ä¸Šæ ‡æ ‡ç­¾-tip">2.5 ä¸Šæ ‡æ ‡ç­¾ tip</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip [å‚æ•°ï¼Œå¯é€‰] %&#125;æ–‡æœ¬å†…å®¹&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>æ ·å¼</code>: success,error,warning,bolt,ban,home,sync,cogs,key,bell</li><li><code>è‡ªå®šä¹‰å›¾æ ‡</code>: æ”¯æŒfontawesomeã€‚</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip %&#125;default&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip info %&#125;info&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip success %&#125;success&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip error %&#125;error&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip warning %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bolt %&#125;bolt&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban %&#125;ban&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip home %&#125;home&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip sync %&#125;sync&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip cogs %&#125;cogs&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip key %&#125;key&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip bell %&#125;bell&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip fa-atom %&#125;è‡ªå®šä¹‰font awesomeå›¾æ ‡&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><div class="tip "><p>default</p></div><div class="tip info"><p>info</p></div><div class="tip success"><p>success</p></div><div class="tip error"><p>error</p></div><div class="tip warning"><p>warning</p></div><div class="tip bolt"><p>bolt</p></div><div class="tip ban"><p>ban</p></div><div class="tip home"><p>home</p></div><div class="tip sync"><p>sync</p></div><div class="tip cogs"><p>cogs</p></div><div class="tip key"><p>key</p></div><div class="tip bell"><p>bell</p></div><div class="tip fa-atom"><p>è‡ªå®šä¹‰font awesomeå›¾æ ‡</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-6-åŠ¨æ€æ ‡ç­¾-anima">2.6 åŠ¨æ€æ ‡ç­¾ anima</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip [å‚æ•°ï¼Œå¯é€‰] %&#125;æ–‡æœ¬å†…å®¹&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><div class="note info flat"><ol><li>å°†æ‰€éœ€çš„CSSç±»æ·»åŠ åˆ°å›¾æ ‡ï¼ˆæˆ–DOMä¸­çš„ä»»ä½•å…ƒç´ ï¼‰ã€‚</li><li>å¯¹äºçˆ¶çº§æ‚¬åœæ ·å¼ï¼Œéœ€è¦ç»™ç›®æ ‡å…ƒç´ æ·»åŠ æŒ‡å®šCSSç±»ï¼ŒåŒæ—¶è¿˜è¦ç»™ç›®æ ‡å…ƒç´ çš„çˆ¶çº§å…ƒç´ æ·»åŠ CSSç±»<code>faa-parent animated-hover</code>ã€‚ï¼ˆè¯¦æƒ…è§ç¤ºä¾‹åŠç¤ºä¾‹æºç ï¼‰<br>You can regulate the speed of the animation by adding the CSS class or . faa-fastfaa-slow</li><li>å¯ä»¥é€šè¿‡ç»™ç›®æ ‡å…ƒç´ æ·»åŠ CSSç±»<code>faa-fast</code>æˆ–<code>faa-slow</code>æ¥æ§åˆ¶åŠ¨ç”»å¿«æ…¢ã€‚</li></ol></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.On DOM loadï¼ˆå½“é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><p>2.è°ƒæ•´åŠ¨ç”»é€Ÿåº¦</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated faa-fast %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated faa-slow %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><p>3.On hoverï¼ˆå½“é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-horizontal animated-hover %&#125;warning&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-flash animated-hover %&#125;ban&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><p>4.On parent hoverï¼ˆå½“é¼ æ ‡æ‚¬åœåœ¨çˆ¶çº§å…ƒç´ æ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tip warning faa-parent animated-hover %&#125;<span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;faa-horizontal&quot;</span>&gt;</span></span>warning<span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>&#123;% endtip %&#125;</span><br><span class="line">&#123;% tip ban faa-parent animated-hover %&#125;<span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;faa-flash&quot;</span>&gt;</span></span>ban<span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>&#123;% endtip %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.On DOM loadï¼ˆå½“é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰</p><div class="tip warning faa-horizontal animated"><p>warning</p></div><div class="tip ban faa-flash animated"><p>ban</p></div>2.è°ƒæ•´åŠ¨ç”»é€Ÿåº¦<div class="tip warning faa-horizontal animated faa-fast"><p>warning</p></div><div class="tip ban faa-flash animated faa-slow"><p>ban</p></div>3.On hoverï¼ˆå½“é¼ æ ‡æ‚¬åœæ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰<div class="tip warning faa-horizontal animated-hover"><p>warning</p></div><div class="tip ban faa-flash animated-hover"><p>ban</p></div>4.On parent hoverï¼ˆå½“é¼ æ ‡æ‚¬åœåœ¨çˆ¶çº§å…ƒç´ æ—¶æ˜¾ç¤ºåŠ¨ç”»ï¼‰<div class="tip warning faa-parent animated-hover"><p class="faa-horizontal">warning</p></div><div class="tip ban faa-parent animated-hover"><p class="faa-flash">ban</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-7-å¤é€‰åˆ—è¡¨-checkbox">2.7 å¤é€‰åˆ—è¡¨ checkbox</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox æ ·å¼å‚æ•°ï¼ˆå¯é€‰ï¼‰, æ–‡æœ¬ï¼ˆæ”¯æŒç®€å•mdï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>æ ·å¼</code>: plus, minus, times</li><li><code>é¢œè‰²</code>: red,yellow,green,cyan,blue,gray</li><li><code>é€‰ä¸­çŠ¶æ€</code>: checked</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% checkbox çº¯æ–‡æœ¬æµ‹è¯• %&#125;</span><br><span class="line">&#123;% checkbox checked, æ”¯æŒç®€å•çš„ [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) è¯­æ³• %&#125;</span><br><span class="line">&#123;% checkbox red, æ”¯æŒè‡ªå®šä¹‰é¢œè‰² %&#125;</span><br><span class="line">&#123;% checkbox green checked, ç»¿è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox yellow checked, é»„è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox cyan checked, é’è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox blue checked, è“è‰² + é»˜è®¤é€‰ä¸­ %&#125;</span><br><span class="line">&#123;% checkbox plus green checked, å¢åŠ  %&#125;</span><br><span class="line">&#123;% checkbox minus yellow checked, å‡å°‘ %&#125;</span><br><span class="line">&#123;% checkbox times red checked, å‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><div class='checkbox'><input type="checkbox" />            <p>çº¯æ–‡æœ¬æµ‹è¯•</p>            </div><div class='checkbox checked'><input type="checkbox" checked="checked"/>            <p>æ”¯æŒç®€å•çš„ <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> è¯­æ³•</p>            </div><div class='checkbox red'><input type="checkbox" />            <p>æ”¯æŒè‡ªå®šä¹‰é¢œè‰²</p>            </div><div class='checkbox green checked'><input type="checkbox" checked="checked"/>            <p>ç»¿è‰² + é»˜è®¤é€‰ä¸­</p>            </div><div class='checkbox yellow checked'><input type="checkbox" checked="checked"/>            <p>é»„è‰² + é»˜è®¤é€‰ä¸­</p>            </div><div class='checkbox cyan checked'><input type="checkbox" checked="checked"/>            <p>é’è‰² + é»˜è®¤é€‰ä¸­</p>            </div><div class='checkbox blue checked'><input type="checkbox" checked="checked"/>            <p>è“è‰² + é»˜è®¤é€‰ä¸­</p>            </div><div class='checkbox plus green checked'><input type="checkbox" checked="checked"/>            <p>å¢åŠ </p>            </div><div class='checkbox minus yellow checked'><input type="checkbox" checked="checked"/>            <p>å‡å°‘</p>            </div><div class='checkbox times red checked'><input type="checkbox" checked="checked"/>            <p>å‰</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-8-å•é€‰åˆ—è¡¨-radio">2.8 å•é€‰åˆ—è¡¨ radio</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio æ ·å¼å‚æ•°ï¼ˆå¯é€‰ï¼‰, æ–‡æœ¬ï¼ˆæ”¯æŒç®€å•mdï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>é¢œè‰²</code>: red,yellow,green,cyan,blue,gray</li><li><code>é€‰ä¸­çŠ¶æ€</code>: checked</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% radio çº¯æ–‡æœ¬æµ‹è¯• %&#125;</span><br><span class="line">&#123;% radio checked, æ”¯æŒç®€å•çš„ [<span class="string">markdown</span>](<span class="link">https://guides.github.com/features/mastering-markdown/</span>) è¯­æ³• %&#125;</span><br><span class="line">&#123;% radio red, æ”¯æŒè‡ªå®šä¹‰é¢œè‰² %&#125;</span><br><span class="line">&#123;% radio green, ç»¿è‰² %&#125;</span><br><span class="line">&#123;% radio yellow, é»„è‰² %&#125;</span><br><span class="line">&#123;% radio cyan, é’è‰² %&#125;</span><br><span class="line">&#123;% radio blue, è“è‰² %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><div class='checkbox'><input type="radio" />            <p>çº¯æ–‡æœ¬æµ‹è¯•</p>            </div><div class='checkbox checked'><input type="radio" checked="checked"/>            <p>æ”¯æŒç®€å•çš„ <a href="https://guides.github.com/features/mastering-markdown/">markdown</a> è¯­æ³•</p>            </div><div class='checkbox red'><input type="radio" />            <p>æ”¯æŒè‡ªå®šä¹‰é¢œè‰²</p>            </div><div class='checkbox green'><input type="radio" />            <p>ç»¿è‰²</p>            </div><div class='checkbox yellow'><input type="radio" />            <p>é»„è‰²</p>            </div><div class='checkbox cyan'><input type="radio" />            <p>é’è‰²</p>            </div><div class='checkbox blue'><input type="radio" />            <p>è“è‰²</p>            </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-9-æ—¶é—´è½´-timeline">2.9 æ—¶é—´è½´ timeline</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline æ—¶é—´çº¿æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰[,color] %&#125;</span><br><span class="line">&lt;!-- timeline æ—¶é—´èŠ‚ç‚¹ï¼ˆæ ‡é¢˜ï¼‰ --&gt;</span><br><span class="line">æ­£æ–‡å†…å®¹</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&lt;!-- timeline æ—¶é—´èŠ‚ç‚¹ï¼ˆæ ‡é¢˜ï¼‰ --&gt;</span><br><span class="line">æ­£æ–‡å†…å®¹</span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>title</code>:æ ‡é¢˜/æ—¶é—´çº¿</li><li><code>color</code>:<code>timeline</code>é¢œè‰²:default(ç•™ç©º) / blue / pink / red / purple / orange / green</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% timeline æ—¶é—´è½´æ ·å¼,blue %&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-07-24 [<span class="string">2.6.6 -&gt; 3.0</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases</span>) --&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> å¦‚æœæœ‰ <span class="code">`hexo-lazyload-image`</span> æ’ä»¶ï¼Œéœ€è¦åˆ é™¤å¹¶é‡æ–°å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œè®¾ç½® <span class="code">`lazyload.isSPA: true`</span>ã€‚</span><br><span class="line"><span class="bullet">2.</span> 2.x ç‰ˆæœ¬çš„ css å’Œ js ä¸é€‚ç”¨äº 3.x ç‰ˆæœ¬ï¼Œå¦‚æœä½¿ç”¨äº† <span class="code">`use_cdn: true`</span> åˆ™éœ€è¦åˆ é™¤ã€‚</span><br><span class="line"><span class="bullet">3.</span> 2.x ç‰ˆæœ¬çš„ fancybox æ ‡ç­¾åœ¨ 3.x ç‰ˆæœ¬ä¸­è¢«é‡å‘½åä¸º gallery ã€‚</span><br><span class="line"><span class="bullet">4.</span> 2.x ç‰ˆæœ¬çš„ç½®é¡¶ <span class="code">`top: true`</span> æ”¹ä¸ºäº† <span class="code">`pin: true`</span>ï¼Œå¹¶ä¸”åŒæ ·é€‚ç”¨äº <span class="code">`layout: page`</span> çš„é¡µé¢ã€‚</span><br><span class="line"><span class="bullet">5.</span> å¦‚æœä½¿ç”¨äº† <span class="code">`hexo-offline`</span> æ’ä»¶ï¼Œå»ºè®®å¸è½½ï¼Œ3.0 ç‰ˆæœ¬é»˜è®¤å¼€å¯äº† pjax æœåŠ¡ã€‚</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-05-15 [<span class="string">2.6.3 -&gt; 2.6.6</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6</span>) --&gt;</span><br><span class="line"></span><br><span class="line">ä¸éœ€è¦é¢å¤–å¤„ç†ã€‚</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- timeline 2020-04-20 [<span class="string">2.6.2 -&gt; 2.6.3</span>](<span class="link">https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3</span>) --&gt;</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> å…¨å±€æœç´¢ <span class="code">`seotitle`</span> å¹¶æ›¿æ¢ä¸º <span class="code">`seo_title`</span>ã€‚</span><br><span class="line"><span class="bullet">2.</span> group ç»„ä»¶çš„ç´¢å¼•è§„åˆ™æœ‰å˜ï¼Œä½¿ç”¨ group ç»„ä»¶çš„æ–‡ç« å†…ï¼Œ<span class="code">`group: group_name`</span> å¯¹åº”çš„ç»„ä»¶åå¿…é¡»æ˜¯ <span class="code">`group_name`</span>ã€‚</span><br><span class="line"><span class="bullet">2.</span> group ç»„ä»¶çš„åˆ—è¡¨åä¼˜å…ˆæ˜¾ç¤ºæ–‡ç« çš„ <span class="code">`short_title`</span> å…¶æ¬¡æ˜¯ <span class="code">`title`</span>ã€‚</span><br><span class="line"></span><br><span class="line">&lt;!-- endtimeline --&gt;</span><br><span class="line"></span><br><span class="line">&#123;% endtimeline %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><div class="timeline blue"><div class='timeline-item headline'><div class='timeline-item-title'><div class='item-circle'><p>æ—¶é—´è½´æ ·å¼</p></div></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-07-24 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases">2.6.6 -&gt; 3.0</a></p></div></div><div class='timeline-item-content'><ol><li>å¦‚æœæœ‰ <code>hexo-lazyload-image</code> æ’ä»¶ï¼Œéœ€è¦åˆ é™¤å¹¶é‡æ–°å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œè®¾ç½® <code>lazyload.isSPA: true</code>ã€‚</li><li>2.x ç‰ˆæœ¬çš„ css å’Œ js ä¸é€‚ç”¨äº 3.x ç‰ˆæœ¬ï¼Œå¦‚æœä½¿ç”¨äº† <code>use_cdn: true</code> åˆ™éœ€è¦åˆ é™¤ã€‚</li><li>2.x ç‰ˆæœ¬çš„ fancybox æ ‡ç­¾åœ¨ 3.x ç‰ˆæœ¬ä¸­è¢«é‡å‘½åä¸º gallery ã€‚</li><li>2.x ç‰ˆæœ¬çš„ç½®é¡¶ <code>top: true</code> æ”¹ä¸ºäº† <code>pin: true</code>ï¼Œå¹¶ä¸”åŒæ ·é€‚ç”¨äº <code>layout: page</code> çš„é¡µé¢ã€‚</li><li>å¦‚æœä½¿ç”¨äº† <code>hexo-offline</code> æ’ä»¶ï¼Œå»ºè®®å¸è½½ï¼Œ3.0 ç‰ˆæœ¬é»˜è®¤å¼€å¯äº† pjax æœåŠ¡ã€‚</li></ol></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-05-15 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.6">2.6.3 -&gt; 2.6.6</a></p></div></div><div class='timeline-item-content'><p>ä¸éœ€è¦é¢å¤–å¤„ç†ã€‚</p></div></div><div class='timeline-item'><div class='timeline-item-title'><div class='item-circle'><p>2020-04-20 <a href="https://github.com/volantis-x/hexo-theme-volantis/releases/tag/2.6.3">2.6.2 -&gt; 2.6.3</a></p></div></div><div class='timeline-item-content'><ol><li>å…¨å±€æœç´¢ <code>seotitle</code> å¹¶æ›¿æ¢ä¸º <code>seo_title</code>ã€‚</li><li>group ç»„ä»¶çš„ç´¢å¼•è§„åˆ™æœ‰å˜ï¼Œä½¿ç”¨ group ç»„ä»¶çš„æ–‡ç« å†…ï¼Œ<code>group: group_name</code> å¯¹åº”çš„ç»„ä»¶åå¿…é¡»æ˜¯ <code>group_name</code>ã€‚</li><li>group ç»„ä»¶çš„åˆ—è¡¨åä¼˜å…ˆæ˜¾ç¤ºæ–‡ç« çš„ <code>short_title</code> å…¶æ¬¡æ˜¯ <code>title</code>ã€‚</li></ol></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-10-é“¾æ¥å¡ç‰‡-link">2.10 é“¾æ¥å¡ç‰‡ link</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡é“¾æ¥ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% link ç³–æœå±‹æ•™ç¨‹è´´, https://akilar.top/posts/615e2dec/, https://cdn.cbd.int/akilar-candyassets@1.0.36/image/siteicon/favicon.ico %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><div class="tag link"><a class="link-card" title="ç³–æœå±‹æ•™ç¨‹è´´" href="https://akilar.top/posts/615e2dec/"><div class="left"><img src="https://cdn.cbd.int/akilar-candyassets@1.0.36/image/siteicon/favicon.ico"/></div><div class="right"><p class="text">ç³–æœå±‹æ•™ç¨‹è´´</p><p class="url">https://akilar.top/posts/615e2dec/</p></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-11-æŒ‰é’®-btns">2.11 æŒ‰é’® btns</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns æ ·å¼å‚æ•° %&#125;</span><br><span class="line">&#123;% cell æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡æˆ–è€…å›¾æ ‡ %&#125;</span><br><span class="line">&#123;% cell æ ‡é¢˜, é“¾æ¥, å›¾ç‰‡æˆ–è€…å›¾æ ‡ %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li>åœ†è§’æ ·å¼ï¼šrounded, circle</li><li>å¢åŠ æ–‡å­—æ ·å¼ï¼šå¯ä»¥åœ¨å®¹å™¨å†…å¢åŠ  <code>&lt;b&gt;</code>æ ‡é¢˜<code>&lt;/b&gt;</code>å’Œ<code>&lt;p&gt;</code>æè¿°æ–‡å­—<code>&lt;/p&gt;</code></li><li>å¸ƒå±€æ–¹å¼ï¼š<br>é»˜è®¤ä¸ºè‡ªåŠ¨å®½åº¦ï¼Œé€‚åˆè§†é‡å†…åªæœ‰ä¸€ä¸¤ä¸ªçš„æƒ…å†µã€‚</li></ol><table><thead><tr><th>å‚æ•°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>wide</td><td>å®½ä¸€ç‚¹çš„æŒ‰é’®</td></tr><tr><td>fill</td><td>å¡«å……å¸ƒå±€ï¼Œè‡ªåŠ¨é“ºæ»¡è‡³å°‘ä¸€è¡Œï¼Œå¤šäº†ä¼šæ¢è¡Œ</td></tr><tr><td>center</td><td>å±…ä¸­ï¼ŒæŒ‰é’®ä¹‹é—´æ˜¯å›ºå®šé—´è·</td></tr><tr><td>around</td><td>å±…ä¸­åˆ†æ•£</td></tr><tr><td>grid2</td><td>ç­‰å®½æœ€å¤š2åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°</td></tr><tr><td>grid3</td><td>ç­‰å®½æœ€å¤š3åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°</td></tr><tr><td>grid4</td><td>ç­‰å®½æœ€å¤š4åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°</td></tr><tr><td>grid5</td><td>ç­‰å®½æœ€å¤š5åˆ—ï¼Œå±å¹•å˜çª„ä¼šé€‚å½“å‡å°‘åˆ—æ•°</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.å¦‚æœéœ€è¦æ˜¾ç¤ºç±»ä¼¼ã€Œå›¢é˜Ÿæˆå‘˜ã€ä¹‹ç±»çš„ä¸€ç»„å«æœ‰å¤´åƒçš„é“¾æ¥</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns circle grid5 %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% cell xaoxuu, https://xaoxuu.com, https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><p>2.æˆ–è€…å«æœ‰å›¾æ ‡çš„æŒ‰é’®</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns rounded grid5 %&#125;</span><br><span class="line">&#123;% cell ä¸‹è½½æºç , /, fas fa-download %&#125;</span><br><span class="line">&#123;% cell æŸ¥çœ‹æ–‡æ¡£, /, fas fa-book-open %&#125;</span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><p>3.åœ†å½¢å›¾æ ‡ + æ ‡é¢˜ + æè¿° + å›¾ç‰‡ + ç½‘æ ¼5åˆ— + å±…ä¸­</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btns circle center grid5 %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&#x27;fab fa-apple&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>å¿ƒç‡ç®¡å®¶<span class="language-xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">  &#123;% p red, ä¸“ä¸šç‰ˆ %&#125;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_pro.png&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#x27;https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1&#x27;</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&#x27;fab fa-apple&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">b</span>&gt;</span></span>å¿ƒç‡ç®¡å®¶<span class="language-xml"><span class="tag">&lt;/<span class="name">b</span>&gt;</span></span></span><br><span class="line">  &#123;% p green, å…è´¹ç‰ˆ %&#125;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_lite.png&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">&#123;% endbtns %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.å¦‚æœéœ€è¦æ˜¾ç¤ºç±»ä¼¼ã€Œå›¢é˜Ÿæˆå‘˜ã€ä¹‹ç±»çš„ä¸€ç»„å«æœ‰å¤´åƒçš„é“¾æ¥</p><div class="btns circle grid5">            <a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a><a class="button" href='https://xaoxuu.com' title='xaoxuu'><img src='https://cdn.jsdelivr.net/gh/xaoxuu/cdn-assets/avatar/avatar.png'>xaoxuu</a>          </div>2.æˆ–è€…å«æœ‰å›¾æ ‡çš„æŒ‰é’®<div class="btns rounded grid5">            <a class="button" href='/' title='ä¸‹è½½æºç '><i class='fas fa-download'></i>ä¸‹è½½æºç </a><a class="button" href='/' title='æŸ¥çœ‹æ–‡æ¡£'><i class='fas fa-book-open'></i>æŸ¥çœ‹æ–‡æ¡£</a>          </div>3.åœ†å½¢å›¾æ ‡ + æ ‡é¢˜ + æè¿° + å›¾ç‰‡ + ç½‘æ ¼5åˆ— + å±…ä¸­<div class="btns circle center grid5">            <a href='https://apps.apple.com/cn/app/heart-mate-pro-hrm-utility/id1463348922?ls=1'>  <i class='fab fa-apple'></i>  <b>å¿ƒç‡ç®¡å®¶</b>  <p class='p red'>ä¸“ä¸šç‰ˆ</p>  <img src='https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_pro.png'></a><a href='https://apps.apple.com/cn/app/heart-mate-lite-hrm-utility/id1475747930?ls=1'>  <i class='fab fa-apple'></i>  <b>å¿ƒç‡ç®¡å®¶</b>  <p class='p green'>å…è´¹ç‰ˆ</p>  <img src='https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/qrcode/heartmate_lite.png'></a>          </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-12-githubå¡ç‰‡-ghcard">2.12 githubå¡ç‰‡ ghcard</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% ghcard ç”¨æˆ·å, å…¶å®ƒå‚æ•°ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br><span class="line">&#123;% ghcard ç”¨æˆ·å/ä»“åº“, å…¶å®ƒå‚æ•°ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><p>ä½¿ç”¨<code>,</code>åˆ†å‰²å„ä¸ªå‚æ•°ã€‚å†™æ³•ä¸ºï¼š<code>å‚æ•°å=å‚æ•°å€¼</code><br>ä»¥ä¸‹åªå†™å‡ ä¸ªå¸¸ç”¨å‚æ•°å€¼ã€‚</p><table><thead><tr><th><strong>å‚æ•°å</strong></th><th>å–å€¼</th><th>é‡Šä¹‰</th></tr></thead><tbody><tr><td>hide</td><td>stars,commits,prs,issues,contribs</td><td>éšè—æŒ‡å®šç»Ÿè®¡</td></tr><tr><td>count_private</td><td>true</td><td>å°†ç§äººé¡¹ç›®è´¡çŒ®æ·»åŠ åˆ°æ€»æäº¤è®¡æ•°ä¸­</td></tr><tr><td>show_icons</td><td>true</td><td>æ˜¾ç¤ºå›¾æ ‡</td></tr><tr><td>theme</td><td>æŸ¥é˜…:<a href="https://github.com/anuraghazra/github-readme-stats/blob/master/themes/README.md">Available Themes</a></td><td>ä¸»é¢˜</td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.ç”¨æˆ·ä¿¡æ¯å¡ç‰‡</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| &#123;% ghcard fomalhaut1998 %&#125; | &#123;% ghcard fomalhaut1998, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=buefy %&#125; | &#123;% ghcard fomalhaut1998, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=onedark %&#125; | &#123;% ghcard fomalhaut1998, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard fomalhaut1998, theme=algolia %&#125; | &#123;% ghcard fomalhaut1998, theme=calm %&#125; |</span><br></pre></td></tr></table></figure><p>2.ä»“åº“ä¿¡æ¯å¡ç‰‡</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=vue %&#125; |</span><br><span class="line">| -- | -- |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=buefy %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-light %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=onedark %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=solarized-dark %&#125; |</span><br><span class="line">| &#123;% ghcard volantis-x/hexo-theme-volantis, theme=algolia %&#125; | &#123;% ghcard volantis-x/hexo-theme-volantis, theme=calm %&#125; |</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.ç”¨æˆ·ä¿¡æ¯å¡ç‰‡</p><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&show_owner=true"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=vue&show_owner=true"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=buefy&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=solarized-light&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=onedark&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=solarized-dark&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=algolia&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/fomalhaut1998"><img src="https://github-readme-stats.vercel.app/api/?username=fomalhaut1998&theme=calm&show_owner=true"/></a></td></tr></tbody></table><p>2.ä»“åº“ä¿¡æ¯å¡ç‰‡</p><table><thead><tr><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&show_owner=true"/></a></th><th><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=vue&show_owner=true"/></a></th></tr></thead><tbody><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=buefy&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-light&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=onedark&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=solarized-dark&show_owner=true"/></a></td></tr><tr><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=algolia&show_owner=true"/></a></td><td><a class="ghcard" rel="external nofollow noopener noreferrer" href="https://github.com/volantis-x/hexo-theme-volantis"><img src="https://github-readme-stats.vercel.app/api/pin/?username=volantis-x&repo=hexo-theme-volantis&theme=calm&show_owner=true"/></a></td></tr></tbody></table><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-13-githubå¾½æ ‡-ghbdage">2.13 githubå¾½æ ‡ ghbdage</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage [right],[left],[logo]||[color],[link],[title]||[option] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>left</code>ï¼šå¾½æ ‡å·¦è¾¹çš„ä¿¡æ¯ï¼Œå¿…é€‰å‚æ•°ã€‚</li><li><code>right</code>: å¾½æ ‡å³è¾¹çš„ä¿¡æ¯ï¼Œå¿…é€‰å‚æ•°ï¼Œ</li><li><code>logo</code>ï¼šå¾½æ ‡å›¾æ ‡ï¼Œå›¾æ ‡åç§°è¯¦è§<a href="https://simpleicons.org/">simpleicons</a>ï¼Œå¯é€‰å‚æ•°ã€‚</li><li><code>color</code>ï¼šå¾½æ ‡å³è¾¹çš„é¢œè‰²ï¼Œå¯é€‰å‚æ•°ã€‚</li><li><code>link</code>ï¼šæŒ‡å‘çš„é“¾æ¥ï¼Œå¯é€‰å‚æ•°ã€‚</li><li><code>title</code>ï¼šå¾½æ ‡çš„é¢å¤–ä¿¡æ¯ï¼Œå¯é€‰å‚æ•°ã€‚ä¸»è¦ç”¨äºä¼˜åŒ–SEOï¼Œä½†<code>object</code>æ ‡ç­¾ä¸ä¼šåƒ<code>a</code>æ ‡ç­¾ä¸€æ ·åœ¨é¼ æ ‡æ‚¬åœæ˜¾ç¤º<code>title</code>ä¿¡æ¯ã€‚</li><li><code>option</code>ï¼šè‡ªå®šä¹‰å‚æ•°ï¼Œæ”¯æŒ<a href="https://shields.io/">shields.io</a>çš„å…¨éƒ¨APIå‚æ•°æ”¯æŒï¼Œå…·ä½“å‚æ•°å¯ä»¥å‚çœ‹ä¸Šæ–‡ä¸­çš„æ‹“å±•å†™æ³•ç¤ºä¾‹ã€‚å½¢å¼ä¸º<code>name1=value2&amp;name2=value2</code>ã€‚</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.åŸºæœ¬å‚æ•°,å®šä¹‰å¾½æ ‡å·¦å³æ–‡å­—å’Œå›¾æ ‡</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage Theme,Butterfly %&#125;</span><br><span class="line">&#123;% bdage Frame,Hexo,hexo %&#125;</span><br></pre></td></tr></table></figure><p>2.ä¿¡æ¯å‚æ•°ï¼Œå®šä¹‰å¾½æ ‡å³ä¾§å†…å®¹èƒŒæ™¯è‰²ï¼ŒæŒ‡å‘é“¾æ¥</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage CDN,JsDelivr,jsDelivr||abcdef,https://metroui.org.ua/index.html,æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ %&#125;</span><br><span class="line">//å¦‚æœæ˜¯è·¨é¡ºåºçœç•¥å¯é€‰å‚æ•°ï¼Œä»ç„¶éœ€è¦å†™ä¸ªé€—å·,ç”¨ä½œåˆ†å‰²</span><br><span class="line">&#123;% bdage Source,GitHub,GitHub||,https://github.com/ %&#125;</span><br></pre></td></tr></table></figure><p>3.æ‹“å±•å‚æ•°ï¼Œæ”¯æŒshieldsçš„APIçš„å…¨éƒ¨å‚æ•°å†…å®¹</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bdage Hosted,Vercel,Vercel||brightgreen,https://vercel.com/,æœ¬ç«™é‡‡ç”¨åŒçº¿éƒ¨ç½²ï¼Œé»˜è®¤çº¿è·¯æ‰˜ç®¡äºVercel||style=social&amp;logoWidth=20 %&#125;</span><br><span class="line">//å¦‚æœæ˜¯è·¨é¡ºåºçœç•¥å¯é€‰å‚æ•°ç»„ï¼Œä»ç„¶éœ€è¦å†™åŒç«–çº¿||ç”¨ä½œåˆ†å‰²</span><br><span class="line">&#123;% bdage Hosted,Vercel,Vercel||||style=social&amp;logoWidth=20&amp;logoColor=violet %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.åŸºæœ¬å‚æ•°,å®šä¹‰å¾½æ ‡å·¦å³æ–‡å­—å’Œå›¾æ ‡</p><p><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Butterfly-Theme-orange?logo=&color=orange&link=&"></object><br><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Hexo-Frame-orange?logo=hexo&color=orange&link=&"></object></p><p>2.ä¿¡æ¯å‚æ•°ï¼Œå®šä¹‰å¾½æ ‡å³ä¾§å†…å®¹èƒŒæ™¯è‰²ï¼ŒæŒ‡å‘é“¾æ¥</p><p><object class="ghbdage" style="margin-inline:5px" title="æœ¬ç«™ä½¿ç”¨JsDelivrä¸ºé™æ€èµ„æºæä¾›CDNåŠ é€Ÿ" standby="loading..." data="https://img.shields.io/badge/JsDelivr-CDN-orange?logo=jsDelivr&color=abcdef&link=https://metroui.org.ua/index.html&"></object><br>//å¦‚æœæ˜¯è·¨é¡ºåºçœç•¥å¯é€‰å‚æ•°ï¼Œä»ç„¶éœ€è¦å†™ä¸ªé€—å·,ç”¨ä½œåˆ†å‰²<br><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/GitHub-Source-orange?logo=GitHub&color=orange&link=https://github.com/&"></object></p><p>3.æ‹“å±•å‚æ•°ï¼Œæ”¯æŒshieldsçš„APIçš„å…¨éƒ¨å‚æ•°å†…å®¹</p><p><object class="ghbdage" style="margin-inline:5px" title="æœ¬ç«™é‡‡ç”¨åŒçº¿éƒ¨ç½²ï¼Œé»˜è®¤çº¿è·¯æ‰˜ç®¡äºVercel" standby="loading..." data="https://img.shields.io/badge/Vercel-Hosted-orange?logo=Vercel&color=brightgreen&link=https://vercel.com/&style=social&logoWidth=20"></object><br>//å¦‚æœæ˜¯è·¨é¡ºåºçœç•¥å¯é€‰å‚æ•°ç»„ï¼Œä»ç„¶éœ€è¦å†™åŒç«–çº¿||ç”¨ä½œåˆ†å‰²<br><object class="ghbdage" style="margin-inline:5px" title="" standby="loading..." data="https://img.shields.io/badge/Vercel-Hosted-orange?logo=Vercel&color=orange&link=&style=social&logoWidth=20&logoColor=violet"></object></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-14-ç½‘ç«™å¡ç‰‡-sites">2.14 ç½‘ç«™å¡ç‰‡ sites</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site æ ‡é¢˜, url=é“¾æ¥, screenshot=æˆªå›¾é“¾æ¥, avatar=å¤´åƒé“¾æ¥ï¼ˆå¯é€‰ï¼‰, description=æè¿°ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br><span class="line">&#123;% site æ ‡é¢˜, url=é“¾æ¥, screenshot=æˆªå›¾é“¾æ¥, avatar=å¤´åƒé“¾æ¥ï¼ˆå¯é€‰ï¼‰, description=æè¿°ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% sitegroup %&#125;</span><br><span class="line">&#123;% site xaoxuu, url=https://xaoxuu.com, screenshot=https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg, avatar=https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/avatar/avatar.png, description=ç®€çº¦é£æ ¼ %&#125;</span><br><span class="line">&#123;% site inkss, url=https://inkss.cn, screenshot=https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg, avatar=https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;</span><br><span class="line">&#123;% site MHuiG, url=https://blog.mhuig.top, screenshot=https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png, avatar=https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;</span><br><span class="line">&#123;% site Colsrch, url=https://colsrch.top, screenshot=https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png, avatar=https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;</span><br><span class="line">&#123;% site Linhk1606, url=https://linhk1606.github.io, screenshot=https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png, avatar=https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png, description=è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­— %&#125;</span><br><span class="line">&#123;% endsitegroup %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><div class="site-card-group"><a class="site-card" href="https://fomalhaut1998.com"><div class="img"><img src="https://i.loli.net/2020/08/21/VuSwWZ1xAeUHEBC.jpg"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/fomalhaut1998/cdn-assets/avatar/avatar.png"/><span class="title">fomalhaut1998</span><span class="desc">ç®€çº¦é£æ ¼</span></div></a><a class="site-card" href="https://inkss.cn"><div class="img"><img src="https://i.loli.net/2020/08/21/Vzbu3i8fXs6Nh5Y.jpg"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/inkss/common@master/static/web/avatar.jpg"/><span class="title">inkss</span><span class="desc">è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—</span></div></a><a class="site-card" href="https://blog.mhuig.top"><div class="img"><img src="https://i.loli.net/2020/08/22/d24zpPlhLYWX6D1.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/MHuiG/imgbed@master/data/p.png"/><span class="title">MHuiG</span><span class="desc">è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—</span></div></a><a class="site-card" href="https://colsrch.top"><div class="img"><img src="https://i.loli.net/2020/08/22/dFRWXm52OVu8qfK.png"/></div><div class="info"><img src="https://cdn.jsdelivr.net/gh/Colsrch/images/Colsrch/avatar.jpg"/><span class="title">Colsrch</span><span class="desc">è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—</span></div></a><a class="site-card" href="https://linhk1606.github.io"><div class="img"><img src="https://i.loli.net/2020/08/21/3PmGLCKicnfow1x.png"/></div><div class="info"><img src="https://i.loli.net/2020/02/09/PN7I5RJfFtA93r2.png"/><span class="title">Linhk1606</span><span class="desc">è¿™æ˜¯ä¸€æ®µå…³äºè¿™ä¸ªç½‘ç«™çš„æè¿°æ–‡å­—</span></div></a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-15-è¡Œå†…å›¾ç‰‡-inlineimage">2.15 è¡Œå†…å›¾ç‰‡ inlineimage</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% inlineimage å›¾ç‰‡é“¾æ¥, height=é«˜åº¦ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>é«˜åº¦</code>ï¼šheight=20px</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯ &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif %&#125; ä¸€æ®µè¯ã€‚</span><br><span class="line"></span><br><span class="line">è¿™åˆæ˜¯ &#123;% inlineimage https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif, height=40px %&#125; ä¸€æ®µè¯ã€‚</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>è¿™æ˜¯ <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/0000.gif" style="height:1.5em"/> ä¸€æ®µè¯ã€‚</p><p>è¿™åˆæ˜¯ <img no-lazy class="inline" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/aru-l/5150.gif" style="height:40px;"/> ä¸€æ®µè¯ã€‚</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-16-å•å¼ å›¾ç‰‡-image">2.16 å•å¼ å›¾ç‰‡ image</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image é“¾æ¥, width=å®½åº¦ï¼ˆå¯é€‰ï¼‰, height=é«˜åº¦ï¼ˆå¯é€‰ï¼‰, alt=æè¿°ï¼ˆå¯é€‰ï¼‰, bg=å ä½é¢œè‰²ï¼ˆå¯é€‰ï¼‰ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li>å›¾ç‰‡å®½åº¦é«˜åº¦ï¼šwidth=300px, height=32px</li><li>å›¾ç‰‡æè¿°ï¼šalt=å›¾ç‰‡æè¿°ï¼ˆbutterflyéœ€è¦åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­å¼€å¯å›¾ç‰‡æè¿°ï¼‰</li><li>å ä½èƒŒæ™¯è‰²ï¼šbg=#f2f2f2</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.æ·»åŠ æè¿°ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, alt=æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚ %&#125;</span><br></pre></td></tr></table></figure><p>2.æŒ‡å®šå®½åº¦</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px %&#125;</span><br></pre></td></tr></table></figure><p>3.æŒ‡å®šå®½åº¦å¹¶æ·»åŠ æè¿°ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px, alt=æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚ %&#125;</span><br></pre></td></tr></table></figure><p>4.è®¾ç½®å ä½èƒŒæ™¯è‰²ï¼š</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg, width=400px, bg=#1D0C04, alt=ä¼˜åŒ–ä¸åŒå®½åº¦æµè§ˆçš„è§‚æ„Ÿ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.æ·»åŠ æè¿°ï¼š</p><div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚"/></div><span class="image-caption">æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚</span></div>2..æŒ‡å®šå®½åº¦<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" style="width:400px;"/></div></div>3.æŒ‡å®šå®½åº¦å¹¶æ·»åŠ æè¿°ï¼š<div class="img-wrap"><div class="img-bg"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚" style="width:400px;"/></div><span class="image-caption">æ¯å¤©ä¸‹è¯¾å›å®¿èˆçš„è·¯ï¼Œæ²¡æœ‰ä»€ä¹ˆæ•…äº‹ã€‚</span></div>4.è®¾ç½®å ä½èƒŒæ™¯è‰²ï¼š<div class="img-wrap"><div class="img-bg" style="background:#1D0C04"><img class="img" src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg" alt="ä¼˜åŒ–ä¸åŒå®½åº¦æµè§ˆçš„è§‚æ„Ÿ" style="width:400px;"/></div><span class="image-caption">ä¼˜åŒ–ä¸åŒå®½åº¦æµè§ˆçš„è§‚æ„Ÿ</span></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-17-éŸ³é¢‘-audio">2.17 éŸ³é¢‘ audio</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio éŸ³é¢‘é“¾æ¥ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% audio https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><div class="audio"><audio controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/Lumia1020.mp3' type='audio/mp3'>Your browser does not support the audio tag.</audio></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-18-è§†é¢‘-video">2.18 è§†é¢‘ video</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% video è§†é¢‘é“¾æ¥ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>å¯¹é½æ–¹å‘</code>ï¼šleft, center, right</li><li><code>åˆ—æ•°</code>ï¼šé€—å·åé¢ç›´æ¥å†™åˆ—æ•°ï¼Œæ”¯æŒ 1 ï½ 4 åˆ—ã€‚</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.100%å®½åº¦</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br></pre></td></tr></table></figure><p>2.50%å®½åº¦</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% videos, 2 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure><p>3.25%å®½åº¦</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% videos, 4 %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG<span class="emphasis">_0341.mov %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% video https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_</span>0341.mov %&#125;</span><br><span class="line">&#123;% endvideos %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.100%å®½åº¦</p><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div>2.50%å®½åº¦<div class="videos" col='2'><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div></div>3.25%å®½åº¦<div class="videos" col='4'><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div><div class="video"><video controls preload><source src='https://github.com/volantis-x/volantis-docs/releases/download/assets/IMG_0341.mov' type='video/mp4'>Your browser does not support the video tag.</video></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-19-ç›¸å†Œ-gallery">2.19 ç›¸å†Œ gallery</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>1.gallerygroup ç›¸å†Œå›¾åº“</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line">&#123;% galleryGroup name description link img-url %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>2.gallery ç›¸å†Œ</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">markdown åœ–ç‰‡æ ¼å¼</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ul><li>gallerygroup ç›¸å†Œå›¾åº“</li></ul><table><thead><tr><th>å‚æ•°å</th><th>é‡Šä¹‰</th></tr></thead><tbody><tr><td>name</td><td>å›¾åº“åå­—</td></tr><tr><td>description</td><td>å›¾åº“æè¿°</td></tr><tr><td>link</td><td>é“¾æ¥åˆ°å¯¹åº”ç›¸å†Œçš„åœ°å€</td></tr><tr><td>img-url</td><td>å›¾åº“å°é¢</td></tr></tbody></table><ul><li><p>gallery ç›¸å†Œ</p><p>åŒºåˆ«äºæ—§ç‰ˆçš„Galleryç›¸å†Œ,æ–°çš„Galleryç›¸å†Œä¼šè‡ªåŠ¨æ ¹æ®å›¾ç‰‡é•¿åº¦è¿›è¡Œæ’ç‰ˆï¼Œä¹¦å†™ä¹Ÿæ›´åŠ æ–¹ä¾¿ï¼Œä¸markdownæ ¼å¼ä¸€æ ·ã€‚å¯æ ¹æ®éœ€è¦æ’å…¥åˆ°ç›¸åº”çš„mdã€‚æ— éœ€å†è‡ªå·±é…ç½®é•¿å®½ã€‚<strong>å»ºè®®åœ¨ç²˜è´´æ—¶æ•…æ„ä½¿ç”¨é•¿çŸ­ã€å¤§å°ã€æ¨ªç«–ä¸ä¸€çš„å›¾ç‰‡</strong>ï¼Œä¼šæœ‰æ›´å¥½çš„æ•ˆæœã€‚ï¼ˆå°ºå¯¸å®Œå…¨ç›¸åŒçš„å›¾ç‰‡åªä¼šå¹³é“ºè¾“å‡ºï¼Œæ•ˆæœå¾ˆç³Ÿç³•ï¼‰</p></li></ul><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.gallerygroup ç›¸å†Œå›¾åº“</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;gallery-group-main&quot;</span>&gt;</span></span></span><br><span class="line">&#123;% galleryGroup MC åœ¨Rikkaã®å…­èŠ±æœåŠ¡å™¨é‡Œç•™ä¸‹çš„è¶³è¿¹ &#x27;/gallery/MC/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/1.jpg %&#125;</span><br><span class="line">&#123;% galleryGroup Gundam å“¦å’§å“‡gundamå“’ï¼ &#x27;/gallery/Gundam/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907110508327.png %&#125;</span><br><span class="line">&#123;% galleryGroup I-am-Akilar æŸç§æ„ä¹‰ä¸Šä¹Ÿç®—è‡ªæ‹å§ &#x27;/gallery/I-am-Akilar/&#x27; https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907113116651.png %&#125;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>2.gallery ç›¸å†Œ</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% gallery %&#125;</span><br><span class="line">![](<span class="link">https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg</span>)</span><br><span class="line">![](<span class="link">https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg</span>)</span><br><span class="line">&#123;% endgallery %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.gallerygroup ç›¸å†Œå›¾åº“</p><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/1.jpg' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">MC</div>  <p>åœ¨Rikkaã®å…­èŠ±æœåŠ¡å™¨é‡Œç•™ä¸‹çš„è¶³è¿¹</p>  <a href='/gallery/MC/'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907110508327.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">Gundam</div>  <p>å“¦å’§å“‡gundamå“’ï¼</p>  <a href='/gallery/Gundam/'></a>  </figcaption>  </figure>  <figure class="gallery-group">  <img class="gallery-group-img no-lightbox" src='https://cdn.cbd.int/akilar-candyassets@1.0.36/image/20200907113116651.png' alt="Group Image Gallery">  <figcaption>  <div class="gallery-group-name">I-am-Akilar</div>  <p>æŸç§æ„ä¹‰ä¸Šä¹Ÿç®—è‡ªæ‹å§</p>  <a href='/gallery/I-am-Akilar/'></a>  </figcaption>  </figure></div>2.gallery ç›¸å†Œ<div class="fj-gallery"><p><img src="https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg" alt=""><br><img src="https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg" alt=""></p>          </div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-20-æŠ˜å æ¡†-folding">2.20 æŠ˜å æ¡† folding</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><p>1.gallerygroup ç›¸å†Œå›¾åº“</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding å‚æ•°ï¼ˆå¯é€‰ï¼‰, æ ‡é¢˜ %&#125;</span><br><span class="line">![](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg</span>)</span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><!-- tab å‚æ•°é…ç½® --><ol><li><p><code>é¢œè‰²</code>ï¼šblue, cyan, green, yellow, red</p></li><li><p><code>çŠ¶æ€</code>ï¼šçŠ¶æ€å¡«å†™ open ä»£è¡¨é»˜è®¤æ‰“å¼€ã€‚</p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;% folding æŸ¥çœ‹å›¾ç‰‡æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line">![](<span class="link">https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg</span>)</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding cyan open, æŸ¥çœ‹é»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡† %&#125;</span><br><span class="line"></span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªé»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡†ã€‚</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding green, æŸ¥çœ‹ä»£ç æµ‹è¯• %&#125;</span><br><span class="line">å‡è£…è¿™é‡Œæœ‰ä»£ç å—ï¼ˆä»£ç å—æ²¡æ³•åµŒå¥—ä»£ç å—ï¼‰</span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding yellow, æŸ¥çœ‹åˆ—è¡¨æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> haha</span><br><span class="line"><span class="bullet">-</span> hehe</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding red, æŸ¥çœ‹åµŒå¥—æµ‹è¯• %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding blue, æŸ¥çœ‹åµŒå¥—æµ‹è¯•2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% folding æŸ¥çœ‹åµŒå¥—æµ‹è¯•3 %&#125;</span><br><span class="line"></span><br><span class="line">hahaha <span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#x27;https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png&#x27;</span> <span class="attr">style</span>=<span class="string">&#x27;height:24px&#x27;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% endfolding %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><details class="folding-tag" ><summary> æŸ¥çœ‹å›¾ç‰‡æµ‹è¯• </summary>              <div class='content'>              <p><img src="https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper/abstract/41F215B9-261F-48B4-80B5-4E86E165259E.jpeg" alt=""></p>              </div>            </details><details class="folding-tag" cyan open><summary> æŸ¥çœ‹é»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡† </summary>              <div class='content'>              <p>è¿™æ˜¯ä¸€ä¸ªé»˜è®¤æ‰“å¼€çš„æŠ˜å æ¡†ã€‚</p>              </div>            </details><details class="folding-tag" green><summary> æŸ¥çœ‹ä»£ç æµ‹è¯• </summary>              <div class='content'>              <p>å‡è£…è¿™é‡Œæœ‰ä»£ç å—ï¼ˆä»£ç å—æ²¡æ³•åµŒå¥—ä»£ç å—ï¼‰</p>              </div>            </details><details class="folding-tag" yellow><summary> æŸ¥çœ‹åˆ—è¡¨æµ‹è¯• </summary>              <div class='content'>              <ul><li>haha</li><li>hehe</li></ul>              </div>            </details><details class="folding-tag" red><summary> æŸ¥çœ‹åµŒå¥—æµ‹è¯• </summary>              <div class='content'>              <details class="folding-tag" blue><summary> æŸ¥çœ‹åµŒå¥—æµ‹è¯•2 </summary>              <div class='content'>              <details class="folding-tag" ><summary> æŸ¥çœ‹åµŒå¥—æµ‹è¯•3 </summary>              <div class='content'>              <p>hahaha <span><img src='https://cdn.jsdelivr.net/gh/volantis-x/cdn-emoji/tieba/%E6%BB%91%E7%A8%BD.png' style='height:24px'></span></p>              </div>            </details>              </div>            </details>              </div>            </details><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-21-åˆ†æ -tab">2.21 åˆ†æ  tab</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">é…ç½®å‚æ•°</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs Unique name, [index] %&#125;</span><br><span class="line">&lt;!-- tab [Tab caption] [@icon] --&gt;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><p>Unique name :</p><ul><li><p>é€‰é¡¹å¡å—æ ‡ç­¾çš„å”¯ä¸€åç§°ï¼Œä¸å¸¦é€—å·ã€‚</p></li><li><p>å°†åœ¨#idä¸­ç”¨ä½œæ¯ä¸ªæ ‡ç­¾åŠå…¶ç´¢å¼•å·çš„å‰ç¼€ã€‚</p></li><li><p>å¦‚æœåç§°ä¸­åŒ…å«ç©ºæ ¼ï¼Œåˆ™å¯¹äºç”Ÿæˆ#idï¼Œæ‰€æœ‰ç©ºæ ¼å°†ç”±ç ´æŠ˜å·ä»£æ›¿ã€‚</p></li><li><p>ä»…å½“å‰å¸–å­/é¡µé¢çš„URLå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼</p></li></ul></li><li><p>[index]:</p><ul><li><p>æ´»åŠ¨é€‰é¡¹å¡çš„ç´¢å¼•å·ã€‚</p></li><li><p>å¦‚æœæœªæŒ‡å®šï¼Œå°†é€‰æ‹©ç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼ˆ1ï¼‰ã€‚</p></li><li><p>å¦‚æœindexä¸º-1ï¼Œåˆ™ä¸ä¼šé€‰æ‹©ä»»ä½•é€‰é¡¹å¡ã€‚</p></li><li><p>å¯é€‰å‚æ•°ã€‚</p></li></ul></li><li><p>[Tab caption]:</p><ul><li><p>å½“å‰é€‰é¡¹å¡çš„æ ‡é¢˜ã€‚</p></li><li><p>å¦‚æœæœªæŒ‡å®šæ ‡é¢˜ï¼Œåˆ™å¸¦æœ‰åˆ¶è¡¨ç¬¦ç´¢å¼•åç¼€çš„å”¯ä¸€åç§°å°†ç”¨ä½œåˆ¶è¡¨ç¬¦çš„æ ‡é¢˜ã€‚</p></li><li><p>å¦‚æœæœªæŒ‡å®šæ ‡é¢˜ï¼Œä½†æŒ‡å®šäº†å›¾æ ‡ï¼Œåˆ™æ ‡é¢˜å°†ä¸ºç©ºã€‚</p></li><li><p>å¯é€‰å‚æ•°ã€‚</p></li></ul></li><li><p>[@icon]:</p><ul><li><p>FontAwesomeå›¾æ ‡åç§°ï¼ˆå…¨åï¼Œçœ‹èµ·æ¥åƒâ€œ fas fa-fontâ€ï¼‰</p></li><li><p>å¯ä»¥æŒ‡å®šå¸¦ç©ºæ ¼æˆ–ä¸å¸¦ç©ºæ ¼ï¼›</p></li><li><p>ä¾‹å¦‚â€™Tab caption @iconâ€™ å’Œ â€˜Tab caption@iconâ€™.</p></li><li><p>å¯é€‰å‚æ•°ã€‚</p></li></ul></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.Demo 1 - é¢„è®¾é€‰æ‹©ç¬¬ä¸€ä¸ªã€é»˜è®¤ã€‘</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>2.Demo 2 - é¢„è®¾é€‰æ‹©tabs</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test2, 3 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>3.Demo 3 - æ²¡æœ‰é¢„è®¾å€¼</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test3, -1 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 1.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 2.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line"><span class="strong">**This is Tab 3.**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><p>4.Demo 4 - è‡ªå®šä¹‰Tabå + åªæœ‰icon + iconå’ŒTabå</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs test4 %&#125;</span><br><span class="line">&lt;!-- tab ç¬¬ä¸€ä¸ªTab --&gt;</span><br><span class="line"><span class="strong">**tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab @fab fa-apple-pay --&gt;</span><br><span class="line"><span class="strong">**åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tab ç‚¸å¼¹@fas fa-bomb --&gt;</span><br><span class="line"><span class="strong">**åå­—+icon**</span></span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.Demo 1 - é¢„è®¾é€‰æ‹©ç¬¬ä¸€ä¸ªã€é»˜è®¤ã€‘</p><div class="tabs" id="test1"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test1-1">test1 1</button></li><li class="tab"><button type="button" data-href="#test1-2">test1 2</button></li><li class="tab"><button type="button" data-href="#test1-3">test1 3</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test1-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test1-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>2.Demo 2 - é¢„è®¾é€‰æ‹©tabs</p><div class="tabs" id="test2"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test2-1">test2 1</button></li><li class="tab"><button type="button" data-href="#test2-2">test2 2</button></li><li class="tab active"><button type="button" data-href="#test2-3">test2 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test2-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test2-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content active" id="test2-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>3.Demo 3 - æ²¡æœ‰é¢„è®¾å€¼</p><div class="tabs" id="test3"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#test3-1">test3 1</button></li><li class="tab"><button type="button" data-href="#test3-2">test3 2</button></li><li class="tab"><button type="button" data-href="#test3-3">test3 3</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="test3-1"><p><strong>This is Tab 1.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-2"><p><strong>This is Tab 2.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test3-3"><p><strong>This is Tab 3.</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><p>4.Demo 4 - è‡ªå®šä¹‰Tabå + åªæœ‰icon + iconå’ŒTabå</p><div class="tabs" id="test4"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#test4-1">ç¬¬ä¸€ä¸ªTab</button></li><li class="tab"><button type="button" data-href="#test4-2"><i class="fab fa-apple-pay" style="text-align: center;"></i></button></li><li class="tab"><button type="button" data-href="#test4-3"><i class="fas fa-bomb"></i>ç‚¸å¼¹</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="test4-1"><p><strong>tabåå­—ä¸ºç¬¬ä¸€ä¸ªTab</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-2"><p><strong>åªæœ‰å›¾æ ‡ æ²¡æœ‰Tabåå­—</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="test4-3"><p><strong>åå­—+icon</strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-22-è¯—è¯æ ‡ç­¾-poem">2.22 è¯—è¯æ ‡ç­¾ poem</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><ol><li><code>title</code>ï¼šè¯—è¯æ ‡é¢˜</li><li><code>author</code>ï¼šä½œè€…ï¼Œå¯ä»¥ä¸å†™</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% poem æ°´è°ƒæ­Œå¤´,è‹è½¼ %&#125;</span><br><span class="line">ä¸™è¾°ä¸­ç§‹ï¼Œæ¬¢é¥®è¾¾æ—¦ï¼Œå¤§é†‰ï¼Œä½œæ­¤ç¯‡ï¼Œå…¼æ€€å­ç”±ã€‚</span><br><span class="line">æ˜æœˆå‡ æ—¶æœ‰ï¼ŸæŠŠé…’é—®é’å¤©ã€‚</span><br><span class="line">ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ï¼Ÿ</span><br><span class="line">æˆ‘æ¬²ä¹˜é£å½’å»ï¼Œåˆæç¼æ¥¼ç‰å®‡ï¼Œé«˜å¤„ä¸èƒœå¯’ã€‚</span><br><span class="line">èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé—´ï¼Ÿ</span><br><span class="line"></span><br><span class="line">è½¬æœ±é˜ï¼Œä½ç»®æˆ·ï¼Œç…§æ— çœ ã€‚</span><br><span class="line">ä¸åº”æœ‰æ¨ï¼Œä½•äº‹é•¿å‘åˆ«æ—¶åœ†ï¼Ÿ</span><br><span class="line">äººæœ‰æ‚²æ¬¢ç¦»åˆï¼Œæœˆæœ‰é˜´æ™´åœ†ç¼ºï¼Œæ­¤äº‹å¤éš¾å…¨ã€‚</span><br><span class="line">ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚</span><br><span class="line">&#123;% endpoem %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><div class='poem'><div class='poem-title'>æ°´è°ƒæ­Œå¤´</div><div class='poem-author'>è‹è½¼</div><p>ä¸™è¾°ä¸­ç§‹ï¼Œæ¬¢é¥®è¾¾æ—¦ï¼Œå¤§é†‰ï¼Œä½œæ­¤ç¯‡ï¼Œå…¼æ€€å­ç”±ã€‚<br>æ˜æœˆå‡ æ—¶æœ‰ï¼ŸæŠŠé…’é—®é’å¤©ã€‚<br>ä¸çŸ¥å¤©ä¸Šå®«é˜™ï¼Œä»Šå¤•æ˜¯ä½•å¹´ï¼Ÿ<br>æˆ‘æ¬²ä¹˜é£å½’å»ï¼Œåˆæç¼æ¥¼ç‰å®‡ï¼Œé«˜å¤„ä¸èƒœå¯’ã€‚<br>èµ·èˆå¼„æ¸…å½±ï¼Œä½•ä¼¼åœ¨äººé—´ï¼Ÿ</p><p>è½¬æœ±é˜ï¼Œä½ç»®æˆ·ï¼Œç…§æ— çœ ã€‚<br>ä¸åº”æœ‰æ¨ï¼Œä½•äº‹é•¿å‘åˆ«æ—¶åœ†ï¼Ÿ<br>äººæœ‰æ‚²æ¬¢ç¦»åˆï¼Œæœˆæœ‰é˜´æ™´åœ†ç¼ºï¼Œæ­¤äº‹å¤éš¾å…¨ã€‚<br>ä½†æ„¿äººé•¿ä¹…ï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚</p></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-23-é˜¿é‡Œå›¾æ ‡-icon">2.23 é˜¿é‡Œå›¾æ ‡ icon</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% icon [icon-xxxx],[font-size] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>icon-xxxx</code>ï¼šè¡¨ç¤ºå›¾æ ‡<code>font-class</code>,å¯ä»¥åœ¨è‡ªå·±çš„é˜¿é‡ŒçŸ¢é‡å›¾æ ‡åº“é¡¹ç›®çš„<code>font-class</code>å¼•ç”¨æ–¹æ¡ˆå†…æŸ¥è¯¢å¹¶å¤åˆ¶ã€‚</li><li><code>font-size</code>ï¼šè¡¨ç¤ºå›¾æ ‡å¤§å°ï¼Œç›´æ¥å¡«å†™æ•°å­—å³å¯ï¼Œå•ä½ä¸º<code>em</code>ã€‚å›¾æ ‡å¤§å°é»˜è®¤å€¼ä¸º<code>1em</code>ã€‚</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&#123;% icon icon-rat<span class="emphasis">_zi %&#125;&#123;% icon icon-rat,2 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-ox_</span>chou,3 %&#125;&#123;% icon icon-ox,4 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-tiger<span class="emphasis">_yin,5 %&#125;&#123;% icon icon-tiger,6 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-rabbit_</span>mao,1 %&#125;&#123;% icon icon-rabbit,2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-dragon<span class="emphasis">_chen,3 %&#125;&#123;% icon icon-dragon,4 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-snake_</span>si,5 %&#125;&#123;% icon icon-snake,6 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-horse<span class="emphasis">_wu %&#125;&#123;% icon icon-horse,2 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-goat_</span>wei,3 %&#125;&#123;% icon icon-goat,4 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-monkey<span class="emphasis">_shen,5 %&#125;&#123;% icon icon-monkey,6 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-rooster_</span>you %&#125;&#123;% icon icon-rooster,2 %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% icon icon-dog<span class="emphasis">_xu,3 %&#125;&#123;% icon icon-dog,4 %&#125;</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">&#123;% icon icon-boar_</span>hai,5 %&#125;&#123;% icon icon-boar,6 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rat_zi"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rat"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-ox_chou"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-ox"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-tiger_yin"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-tiger"></use></svg></p><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rabbit_mao"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rabbit"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-dragon_chen"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dragon"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-snake_si"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-snake"></use></svg></p><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-horse_wu"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-horse"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-goat_wei"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-goat"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-monkey_shen"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-monkey"></use></svg></p><p><svg class="icon" style="width:1em; height:1em" aria-hidden="true"><use xlink:href="#icon-rooster_you"></use></svg><svg class="icon" style="width:2em; height:2em" aria-hidden="true"><use xlink:href="#icon-rooster"></use></svg></p><p><svg class="icon" style="width:3em; height:3em" aria-hidden="true"><use xlink:href="#icon-dog_xu"></use></svg><svg class="icon" style="width:4em; height:4em" aria-hidden="true"><use xlink:href="#icon-dog"></use></svg></p><p><svg class="icon" style="width:5em; height:5em" aria-hidden="true"><use xlink:href="#icon-boar_hai"></use></svg><svg class="icon" style="width:6em; height:6em" aria-hidden="true"><use xlink:href="#icon-boar"></use></svg></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-24-ç‰¹æ•ˆæ ‡ç­¾wow">2.24 ç‰¹æ•ˆæ ‡ç­¾wow</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ¸²æŸ“æ¼”ç¤º</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow [animete],[duration],[delay],[offset],[iteration] %&#125;</span><br><span class="line">å†…å®¹</span><br><span class="line">&#123;% endwow %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>animate</code>: åŠ¨ç”»æ ·å¼ï¼Œæ•ˆæœè¯¦è§<a href="https://animate.style/">animate.csså‚è€ƒæ–‡æ¡£</a></li><li><code>duration</code>: é€‰å¡«é¡¹ï¼ŒåŠ¨ç”»æŒç»­æ—¶é—´ï¼Œå•ä½å¯ä»¥æ˜¯<code>ms</code>ä¹Ÿå¯ä»¥æ˜¯<code>s</code>ã€‚ä¾‹å¦‚<code>3s</code>ï¼Œ<code>700ms</code>ã€‚</li><li><code>delay</code>: é€‰å¡«é¡¹ï¼ŒåŠ¨ç”»å¼€å§‹çš„å»¶è¿Ÿæ—¶é—´ï¼Œå•ä½å¯ä»¥æ˜¯<code>ms</code>ä¹Ÿå¯ä»¥æ˜¯<code>s</code>ã€‚ä¾‹å¦‚<code>3s</code>ï¼Œ<code>700ms</code>ã€‚</li><li><code>offset</code>: é€‰å¡«é¡¹ï¼Œå¼€å§‹åŠ¨ç”»çš„è·ç¦»ï¼ˆç›¸å¯¹æµè§ˆå™¨åº•éƒ¨ï¼‰</li><li><code>iteration</code>: é€‰å¡«é¡¹ï¼ŒåŠ¨ç”»é‡å¤çš„æ¬¡æ•°</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><p>1.flipåŠ¨ç”»æ•ˆæœã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__zoomIn,5s,5s,100,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`zoomIn`åŠ¨ç”»æ•ˆæœï¼ŒæŒç»­`5s`ï¼Œå»¶æ—¶`5s`ï¼Œç¦»åº•éƒ¨`100`è·ç¦»æ—¶å¯åŠ¨ï¼Œé‡å¤`10`æ¬¡</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><p>2.zoomInåŠ¨ç”»æ•ˆæœï¼ŒæŒç»­5sï¼Œå»¶æ—¶5sï¼Œç¦»åº•éƒ¨100è·ç¦»æ—¶å¯åŠ¨ï¼Œé‡å¤10æ¬¡</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__zoomIn,5s,5s,100,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note blue &#x27;fas fa-bullhorn&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`zoomIn`åŠ¨ç”»æ•ˆæœï¼ŒæŒç»­`5s`ï¼Œå»¶æ—¶`5s`ï¼Œç¦»åº•éƒ¨`100`è·ç¦»æ—¶å¯åŠ¨ï¼Œé‡å¤`10`æ¬¡</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><p>3.slideInRightåŠ¨ç”»æ•ˆæœï¼ŒæŒç»­5sï¼Œå»¶æ—¶5s</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__slideInRight,5s,5s %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note orange &#x27;fas fa-car&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`slideInRight`åŠ¨ç”»æ•ˆæœï¼ŒæŒç»­`5s`ï¼Œå»¶æ—¶`5s`ã€‚</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><p>4.heartBeatåŠ¨ç”»æ•ˆæœï¼Œå»¶æ—¶5sï¼Œé‡å¤10æ¬¡ã€‚æ­¤å¤„æ³¨æ„ä¸ç”¨çš„å‚æ•°ä½ç½®è¦ç•™ç©ºï¼Œç”¨é€—å·é—´éš”ã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% wow animate<span class="strong">__heartBeat,,5s,,10 %&#125;</span></span><br><span class="line"><span class="strong">&#123;% note red &#x27;fas fa-battery-half&#x27; modern%&#125;</span></span><br><span class="line"><span class="strong">`heartBeat`åŠ¨ç”»æ•ˆæœï¼Œå»¶æ—¶`5s`ï¼Œé‡å¤`10`æ¬¡ã€‚</span></span><br><span class="line"><span class="strong">&#123;% endnote %&#125;</span></span><br><span class="line"><span class="strong">&#123;% endwow %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>1.flipåŠ¨ç”»æ•ˆæœã€‚</p><div class='wow animate__zoomIn' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset='100'  data-wow-iteration='10' ><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>zoomIn</code>åŠ¨ç”»æ•ˆæœï¼ŒæŒç»­<code>5s</code>ï¼Œå»¶æ—¶<code>5s</code>ï¼Œç¦»åº•éƒ¨<code>100</code>è·ç¦»æ—¶å¯åŠ¨ï¼Œé‡å¤<code>10</code>æ¬¡</p></div></div><p>2.zoomInåŠ¨ç”»æ•ˆæœï¼ŒæŒç»­5sï¼Œå»¶æ—¶5sï¼Œç¦»åº•éƒ¨100è·ç¦»æ—¶å¯åŠ¨ï¼Œé‡å¤10æ¬¡</p><div class='wow animate__zoomIn' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset='100'  data-wow-iteration='10' ><div class="note blue icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p><code>zoomIn</code>åŠ¨ç”»æ•ˆæœï¼ŒæŒç»­<code>5s</code>ï¼Œå»¶æ—¶<code>5s</code>ï¼Œç¦»åº•éƒ¨<code>100</code>è·ç¦»æ—¶å¯åŠ¨ï¼Œé‡å¤<code>10</code>æ¬¡</p></div></div><p>3.slideInRightåŠ¨ç”»æ•ˆæœï¼ŒæŒç»­5sï¼Œå»¶æ—¶5s</p><div class='wow animate__slideInRight' data-wow-duration='5s' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='' ><div class="note orange icon-padding modern"><i class="note-icon fas fa-car"></i><p><code>slideInRight</code>åŠ¨ç”»æ•ˆæœï¼ŒæŒç»­<code>5s</code>ï¼Œå»¶æ—¶<code>5s</code>ã€‚</p></div></div><p>4.heartBeatåŠ¨ç”»æ•ˆæœï¼Œå»¶æ—¶5sï¼Œé‡å¤10æ¬¡ã€‚æ­¤å¤„æ³¨æ„ä¸ç”¨çš„å‚æ•°ä½ç½®è¦ç•™ç©ºï¼Œç”¨é€—å·é—´éš”ã€‚</p><div class='wow animate__heartBeat' data-wow-duration='' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='10' ><div class="note red icon-padding modern"><i class="note-icon fas fa-battery-half"></i><p><code>heartBeat</code>åŠ¨ç”»æ•ˆæœï¼Œå»¶æ—¶<code>5s</code>ï¼Œé‡å¤<code>10</code>æ¬¡ã€‚</p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-25-è¿›åº¦æ¡-progress">2.25  è¿›åº¦æ¡ progress</h2><div class="note info flat"><p>è¿›åº¦æ¡æ ‡ç­¾å‚è€ƒ<a href="https://rongbuqiu.com/jdt.html">æ²‚ä½°å­œçŒ«-ç»™HEXOæ–‡ç« æ·»åŠ å½©è‰²è¿›åº¦æ¡</a>ã€‚<br>æºæ ·å¼æå–è‡ª<a href="https://zwying0814.gitbook.io/cuteen/">Cuteen</a>ä¸»é¢˜ã€‚</p></div><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% progress [width] [color] [text] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>width</code>: 0åˆ°100çš„é˜¿æ‹‰ä¼¯æ•°å­—</li><li><code>color</code>: é¢œè‰²ï¼Œå–å€¼æœ‰red,yellow,green,cyan,blue,gray</li><li><code>text</code>:è¿›åº¦æ¡ä¸Šçš„æ–‡å­—å†…å®¹</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% progress 10 red è¿›åº¦æ¡æ ·å¼é¢„è§ˆ %&#125;</span><br><span class="line">&#123;% progress 30 yellow è¿›åº¦æ¡æ ·å¼é¢„è§ˆ %&#125;</span><br><span class="line">&#123;% progress 50 green è¿›åº¦æ¡æ ·å¼é¢„è§ˆ %&#125;</span><br><span class="line">&#123;% progress 70 cyan è¿›åº¦æ¡æ ·å¼é¢„è§ˆ %&#125;</span><br><span class="line">&#123;% progress 90 blue è¿›åº¦æ¡æ ·å¼é¢„è§ˆ %&#125;</span><br><span class="line">&#123;% progress 100 gray è¿›åº¦æ¡æ ·å¼é¢„è§ˆ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-red"  style="width: 10%" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-yellow"  style="width: 30%" aria-valuenow="30" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-green"  style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-cyan"  style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-blue"  style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><div class="progress"><div class="progress-bar-animated progress-bar progress-bar-striped bg-gray"  style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"><p>è¿›åº¦æ¡æ ·å¼é¢„è§ˆ</p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-26-æ³¨é‡Š-notation">2.26 æ³¨é‡Š notation</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% nota [label] , [text] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><p><code>label</code>: æ³¨é‡Šè¯æ±‡</p></li><li><p><code>text</code>: æ‚¬åœæ˜¾ç¤ºçš„æ³¨è§£å†…å®¹</p></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% nota æŠŠé¼ æ ‡ç§»åŠ¨åˆ°æˆ‘ä¸Šé¢è¯•è¯• ,å¯ä»¥çœ‹åˆ°æ³¨è§£å†…å®¹å‡ºç°åœ¨é¡¶æ  %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p><span class='nota' data-nota='å¯ä»¥çœ‹åˆ°æ³¨è§£å†…å®¹å‡ºç°åœ¨é¡¶æ '>æŠŠé¼ æ ‡ç§»åŠ¨åˆ°æˆ‘ä¸Šé¢è¯•è¯•</span></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-27-æ°”æ³¡æ³¨é‡Š-bubble">2.27 æ°”æ³¡æ³¨é‡Š bubble</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% bubble [content] , [notation] ,[background-color] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>content</code>: æ³¨é‡Šè¯æ±‡</li><li><code>notation</code>: æ‚¬åœæ˜¾ç¤ºçš„æ³¨è§£å†…å®¹</li><li><code>background-color</code>: å¯é€‰ï¼Œæ°”æ³¡èƒŒæ™¯è‰²ã€‚é»˜è®¤ä¸ºâ€œ#71a4e3â€</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æœ€è¿‘æˆ‘å­¦åˆ°äº†ä¸å°‘æ–°ç©æ„å„¿ï¼ˆè™½ç„¶å¯¹å¾ˆå¤šå¤§ä½¬æ¥è¯´è¿™äº›å·²ç»æ˜¯æ—§æŠ€æœ¯äº†ï¼‰ï¼Œæ¯”å¦‚CSSçš„&#123;% bubble å…„å¼Ÿç›¸é‚»é€‰æ‹©å™¨,&quot;ä¾‹å¦‚ h1 + p &#123;margin-top:50px;&#125;&quot; %&#125;ï¼Œ&#123;% bubble flexå¸ƒå±€,&quot;Flex æ˜¯ Flexible Box çš„ç¼©å†™ï¼Œæ„ä¸º&quot;å¼¹æ€§å¸ƒå±€&quot;ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§&quot;,&quot;#ec5830&quot; %&#125;ï¼Œ&#123;% bubble transformå˜æ¢,&quot;transform å±æ€§å‘å…ƒç´ åº”ç”¨ 2D æˆ– 3D è½¬æ¢ã€‚è¯¥å±æ€§å…è®¸æˆ‘ä»¬å¯¹å…ƒç´ è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€ç§»åŠ¨æˆ–å€¾æ–œã€‚&quot;,&quot;#1db675&quot; %&#125;ï¼Œanimationçš„&#123;% bubble è´å¡å°”é€Ÿåº¦æ›²çº¿,&quot;è´å¡å°”æ›²çº¿(BÃ©zier curve)ï¼Œåˆç§°è´å…¹æ›²çº¿æˆ–è´æµåŸƒæ›²çº¿ï¼Œæ˜¯åº”ç”¨äºäºŒç»´å›¾å½¢åº”ç”¨ç¨‹åºçš„æ•°å­¦æ›²çº¿ã€‚ä¸€èˆ¬çš„çŸ¢é‡å›¾å½¢è½¯ä»¶é€šè¿‡å®ƒæ¥ç²¾ç¡®ç”»å‡ºæ›²çº¿ï¼Œè´å…¹æ›²çº¿ç”±çº¿æ®µä¸èŠ‚ç‚¹ç»„æˆï¼ŒèŠ‚ç‚¹æ˜¯å¯æ‹–åŠ¨çš„æ”¯ç‚¹ï¼Œçº¿æ®µåƒå¯ä¼¸ç¼©çš„çš®ç­‹&quot;,&quot;#de4489&quot; %&#125;å†™æ³•ï¼Œè¿˜æœ‰ä»Šå¤©åˆšçœ‹åˆ°çš„&#123;% bubble clip-path,&quot;clip-pathå±æ€§ä½¿ç”¨è£å‰ªæ–¹å¼åˆ›å»ºå…ƒç´ çš„å¯æ˜¾ç¤ºåŒºåŸŸã€‚åŒºåŸŸå†…çš„éƒ¨åˆ†æ˜¾ç¤ºï¼ŒåŒºåŸŸå¤–çš„éšè—ã€‚&quot;,&quot;#868fd7&quot; %&#125;å±æ€§ã€‚è¿™äº›å¯¹æˆ‘æ¥è¯´å¾ˆæ–°é¢–çš„æ¦‚å¿µç‹ ç‹ çš„å†²å‡»ç€æˆ‘ä»¥å‰ç§¯ç´¯èµ·æ¥çš„è®¾è®¡æ€è·¯ã€‚</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>æœ€è¿‘æˆ‘å­¦åˆ°äº†ä¸å°‘æ–°ç©æ„å„¿ï¼ˆè™½ç„¶å¯¹å¾ˆå¤šå¤§ä½¬æ¥è¯´è¿™äº›å·²ç»æ˜¯æ—§æŠ€æœ¯äº†ï¼‰ï¼Œæ¯”å¦‚CSSçš„<span class="bubble-content">å…„å¼Ÿç›¸é‚»é€‰æ‹©å™¨</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#71a4e3;">ä¾‹å¦‚ h1 + p {margin-top:50px;}</span></span>ï¼Œ<span class="bubble-content">flexå¸ƒå±€</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#ec5830;">Flex æ˜¯ Flexible Box çš„ç¼©å†™ï¼Œæ„ä¸ºå¼¹æ€§å¸ƒå±€&quot;ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§&quot;</span></span>ï¼Œ<span class="bubble-content">transformå˜æ¢</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#1db675;">transform å±æ€§å‘å…ƒç´ åº”ç”¨ 2D æˆ– 3D è½¬æ¢ã€‚è¯¥å±æ€§å…è®¸æˆ‘ä»¬å¯¹å…ƒç´ è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾ã€ç§»åŠ¨æˆ–å€¾æ–œã€‚</span></span>ï¼Œanimationçš„<span class="bubble-content">è´å¡å°”é€Ÿåº¦æ›²çº¿</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#de4489;">è´å¡å°”æ›²çº¿(BÃ©zier curve)ï¼Œåˆç§°è´å…¹æ›²çº¿æˆ–è´æµåŸƒæ›²çº¿ï¼Œæ˜¯åº”ç”¨äºäºŒç»´å›¾å½¢åº”ç”¨ç¨‹åºçš„æ•°å­¦æ›²çº¿ã€‚ä¸€èˆ¬çš„çŸ¢é‡å›¾å½¢è½¯ä»¶é€šè¿‡å®ƒæ¥ç²¾ç¡®ç”»å‡ºæ›²çº¿ï¼Œè´å…¹æ›²çº¿ç”±çº¿æ®µä¸èŠ‚ç‚¹ç»„æˆï¼ŒèŠ‚ç‚¹æ˜¯å¯æ‹–åŠ¨çš„æ”¯ç‚¹ï¼Œçº¿æ®µåƒå¯ä¼¸ç¼©çš„çš®ç­‹</span></span>å†™æ³•ï¼Œè¿˜æœ‰ä»Šå¤©åˆšçœ‹åˆ°çš„<span class="bubble-content">clip-path</span><span class="bubble-notation"><span class="bubble-item" style="background-color:#868fd7;">clip-pathå±æ€§ä½¿ç”¨è£å‰ªæ–¹å¼åˆ›å»ºå…ƒç´ çš„å¯æ˜¾ç¤ºåŒºåŸŸã€‚åŒºåŸŸå†…çš„éƒ¨åˆ†æ˜¾ç¤ºï¼ŒåŒºåŸŸå¤–çš„éšè—ã€‚</span></span>å±æ€§ã€‚è¿™äº›å¯¹æˆ‘æ¥è¯´å¾ˆæ–°é¢–çš„æ¦‚å¿µç‹ ç‹ çš„å†²å‡»ç€æˆ‘ä»¥å‰ç§¯ç´¯èµ·æ¥çš„è®¾è®¡æ€è·¯ã€‚</p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-28-å¼•ç”¨æ–‡çŒ®-reference">2.28 å¼•ç”¨æ–‡çŒ® reference</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% referto [id] , [literature] %&#125;</span><br><span class="line">&#123;% referfrom [id] , [literature] , [url] %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><p>referto å¼•ç”¨ä¸Šæ ‡</p><ul><li><p><code>id</code>: ä¸Šæ ‡åºå·å†…å®¹ï¼Œéœ€ä¸referfromæ ‡ç­¾çš„idå¯¹åº”æ‰èƒ½å®ç°è·³è½¬</p></li><li><p><code>literature</code>: å¼•ç”¨çš„å‚è€ƒæ–‡çŒ®åç§°</p></li></ul></li><li><p>referfrom å¼•ç”¨å‡ºå¤„</p><ul><li><p><code>id</code>: åºå·å†…å®¹ï¼Œéœ€ä¸refertoæ ‡ç­¾çš„idå¯¹åº”æ‰èƒ½å®ç° è·³è½¬</p></li><li><p><code>literature</code>: å¼•ç”¨çš„å‚è€ƒæ–‡çŒ®åç§°</p></li><li><p><code>url</code>: å¼•ç”¨çš„å‚è€ƒæ–‡çŒ®é“¾æ¥ï¼Œå¯çœç•¥</p></li></ul></li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Akilarã®ç³–æœå±‹(akilar.top)æ˜¯ä¸€ä¸ªç§äººæ€§è´¨çš„åšå®¢&#123;% referto &#x27;[1]&#x27;,&#x27;Akilarã®ç³–æœå±‹ç¾¤èŠç®€ä»‹&#x27; %&#125;ï¼Œä»å„ç±»æ•™ç¨‹è‡³ç”Ÿæ´»ç‚¹æ»´ï¼Œæ— è¯ä¸è°ˆã€‚å»ºç¾¤çš„ç›®çš„æ˜¯æä¾›ä¸€ä¸ªé—²èŠçš„åœºæ‰€ã€‚åšå®¢é‡‡ç”¨Hexoæ¡†æ¶&#123;% referto &#x27;[2]&#x27;,&#x27;Hexoä¸­æ–‡æ–‡æ¡£&#x27; %&#125;ï¼ŒButterflyä¸»é¢˜&#123;% referto &#x27;[3]&#x27;,&#x27;Butterfly å®‰è£…æ–‡æ¡£(ä¸€) å¿«é€Ÿå¼€å§‹&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">æœ¬é¡¹ç›®å‚è€ƒäº†Volantis&#123;% referto &#x27;[4]&#x27;,&#x27;hexo-theme-volantis æ ‡ç­¾æ’ä»¶&#x27; %&#125;çš„æ ‡ç­¾æ ·å¼ã€‚å¼•å…¥<span class="code">`[tag].js`</span>ï¼Œå¹¶é’ˆå¯¹<span class="code">`butterfly`</span>ä¸»é¢˜ä¿®æ”¹äº†ç›¸åº”çš„<span class="code">`[tag].styl`</span>ã€‚åœ¨æ­¤é¸£è°¢<span class="code">`Volantis`</span>ä¸»é¢˜ä¼—å¼€å‘è€…ã€‚</span><br><span class="line">ä¸»è¦å‚è€ƒå†…å®¹åŒ…æ‹¬å„ä¸ªvolantisçš„å†…ç½®æ ‡ç­¾æ’ä»¶æ–‡æ¡£&#123;% referto &#x27;[5]&#x27;,&#x27;Volantisæ–‡æ¡£:å†…ç½®æ ‡ç­¾æ’ä»¶&#x27; %&#125;</span><br><span class="line">Butterflyä¸»é¢˜çš„å„ä¸ªè¡ç”Ÿé­”æ”¹&#123;% referto &#x27;[6]&#x27;,&#x27;Butterfly å®‰è£…æ–‡æ¡£:æ ‡ç­¾å¤–æŒ‚ï¼ˆTag Plugins&#x27; %&#125;&#123;% referto &#x27;[7]&#x27;,&#x27;å°å¼‹ã®ç”Ÿæ´»é¦†å…¨æ ·å¼é¢„è§ˆ&#x27; %&#125;&#123;% referto &#x27;[8]&#x27;,&#x27;l-lin-font-awesome-animation&#x27; %&#125;&#123;% referto &#x27;[9]&#x27;,&#x27;å°åº·çš„butterflyä¸»é¢˜ä½¿ç”¨æ–‡æ¡£&#x27; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% referfrom &#x27;[1]&#x27;,&#x27;Akilarã®ç³–æœå±‹ç¾¤èŠç®€ä»‹&#x27;,&#x27;https://jq.qq.com/?<span class="emphasis">_wv=1027&amp;k=pGLB2C0N&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[2]&#x27;,&#x27;Hexoä¸­æ–‡æ–‡æ¡£&#x27;,&#x27;https://hexo.io/zh-cn/docs/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[3]&#x27;,&#x27;Butterfly å®‰è£…æ–‡æ¡£(ä¸€) å¿«é€Ÿå¼€å§‹&#x27;,&#x27;https://butterfly.js.org/posts/21cfbf15/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[4]&#x27;,&#x27;hexo-theme-volantis æ ‡ç­¾æ’ä»¶&#x27;,&#x27;https://volantis.js.org/v5/tag-plugins/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[5]&#x27;,&#x27;Volantisæ–‡æ¡£:å†…ç½®æ ‡ç­¾æ’ä»¶&#x27;,&#x27;https://volantis.js.org/tag-plugins/&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[6]&#x27;,&#x27;Butterfly å®‰è£…æ–‡æ¡£:æ ‡ç­¾å¤–æŒ‚ï¼ˆTag Plugins&#x27;,&#x27;https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[7]&#x27;,&#x27;å°å¼‹ã®ç”Ÿæ´»é¦†å…¨æ ·å¼é¢„è§ˆ&#x27;,&#x27;https://lovelijunyi.gitee.io/posts/c898.html&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[8]&#x27;,&#x27;l-lin-font-awesome-animation&#x27;,&#x27;https://github.com/l-lin/font-awesome-animation&#x27; %&#125;</span></span><br><span class="line"><span class="emphasis">&#123;% referfrom &#x27;[9]&#x27;,&#x27;å°åº·çš„butterflyä¸»é¢˜ä½¿ç”¨æ–‡æ¡£&#x27;,&#x27;https://www.antmoe.com/posts/3b43914f/&#x27; %&#125;</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>Akilarã®ç³–æœå±‹(akilar.top)æ˜¯ä¸€ä¸ªç§äººæ€§è´¨çš„åšå®¢<span class="hidden-anchor" id="referto_[1]"></span><sup class="reference"><a href="#referfrom_[1]">[1]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Akilarã®ç³–æœå±‹ç¾¤èŠç®€ä»‹</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span>ï¼Œä»å„ç±»æ•™ç¨‹è‡³ç”Ÿæ´»ç‚¹æ»´ï¼Œæ— è¯ä¸è°ˆã€‚å»ºç¾¤çš„ç›®çš„æ˜¯æä¾›ä¸€ä¸ªé—²èŠçš„åœºæ‰€ã€‚åšå®¢é‡‡ç”¨Hexoæ¡†æ¶<span class="hidden-anchor" id="referto_[2]"></span><sup class="reference"><a href="#referfrom_[2]">[2]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Hexoä¸­æ–‡æ–‡æ¡£</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span>ï¼ŒButterflyä¸»é¢˜<span class="hidden-anchor" id="referto_[3]"></span><sup class="reference"><a href="#referfrom_[3]">[3]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Butterfly å®‰è£…æ–‡æ¡£(ä¸€) å¿«é€Ÿå¼€å§‹</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span></p><p>æœ¬é¡¹ç›®å‚è€ƒäº†Volantis<span class="hidden-anchor" id="referto_[4]"></span><sup class="reference"><a href="#referfrom_[4]">[4]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">hexo-theme-volantis æ ‡ç­¾æ’ä»¶</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span>çš„æ ‡ç­¾æ ·å¼ã€‚å¼•å…¥<code>[tag].js</code>ï¼Œå¹¶é’ˆå¯¹<code>butterfly</code>ä¸»é¢˜ä¿®æ”¹äº†ç›¸åº”çš„<code>[tag].styl</code>ã€‚åœ¨æ­¤é¸£è°¢<code>Volantis</code>ä¸»é¢˜ä¼—å¼€å‘è€…ã€‚<br>ä¸»è¦å‚è€ƒå†…å®¹åŒ…æ‹¬å„ä¸ªvolantisçš„å†…ç½®æ ‡ç­¾æ’ä»¶æ–‡æ¡£<span class="hidden-anchor" id="referto_[5]"></span><sup class="reference"><a href="#referfrom_[5]">[5]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Volantisæ–‡æ¡£:å†…ç½®æ ‡ç­¾æ’ä»¶</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span><br>Butterflyä¸»é¢˜çš„å„ä¸ªè¡ç”Ÿé­”æ”¹<span class="hidden-anchor" id="referto_[6]"></span><sup class="reference"><a href="#referfrom_[6]">[6]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">Butterfly å®‰è£…æ–‡æ¡£:æ ‡ç­¾å¤–æŒ‚ï¼ˆTag Plugins</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span><span class="hidden-anchor" id="referto_[7]"></span><sup class="reference"><a href="#referfrom_[7]">[7]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">å°å¼‹ã®ç”Ÿæ´»é¦†å…¨æ ·å¼é¢„è§ˆ</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span><span class="hidden-anchor" id="referto_[8]"></span><sup class="reference"><a href="#referfrom_[8]">[8]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">l-lin-font-awesome-animation</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span><span class="hidden-anchor" id="referto_[9]"></span><sup class="reference"><a href="#referfrom_[9]">[9]</a></sup><span class="reference-bubble"><span class="reference-item"><span class="reference-literature">å°åº·çš„butterflyä¸»é¢˜ä½¿ç”¨æ–‡æ¡£</span><span class="reference-title">å‚è€ƒèµ„æ–™</span></span></span></p><div class="reference-source"><span class="hidden-anchor" id="referfrom_[1]"></span><a class="reference-anchor" href="#referto_[1]">[1]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://jq.qq.com/?_wv=1027&k=pGLB2C0N">Akilarã®ç³–æœå±‹ç¾¤èŠç®€ä»‹</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[2]"></span><a class="reference-anchor" href="#referto_[2]">[2]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://hexo.io/zh-cn/docs/">Hexoä¸­æ–‡æ–‡æ¡£</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[3]"></span><a class="reference-anchor" href="#referto_[3]">[3]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://butterfly.js.org/posts/21cfbf15/">Butterfly å®‰è£…æ–‡æ¡£(ä¸€) å¿«é€Ÿå¼€å§‹</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[4]"></span><a class="reference-anchor" href="#referto_[4]">[4]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://volantis.js.org/v5/tag-plugins/">hexo-theme-volantis æ ‡ç­¾æ’ä»¶</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[5]"></span><a class="reference-anchor" href="#referto_[5]">[5]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://volantis.js.org/tag-plugins/">Volantisæ–‡æ¡£:å†…ç½®æ ‡ç­¾æ’ä»¶</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[6]"></span><a class="reference-anchor" href="#referto_[6]">[6]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://butterfly.js.org/posts/4aa8abbe/#%E6%A8%99%E7%B1%A4%E5%A4%96%E6%8E%9B%EF%BC%88Tag-Plugins%EF%BC%89">Butterfly å®‰è£…æ–‡æ¡£:æ ‡ç­¾å¤–æŒ‚ï¼ˆTag Plugins</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[7]"></span><a class="reference-anchor" href="#referto_[7]">[7]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://lovelijunyi.gitee.io/posts/c898.html">å°å¼‹ã®ç”Ÿæ´»é¦†å…¨æ ·å¼é¢„è§ˆ</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[8]"></span><a class="reference-anchor" href="#referto_[8]">[8]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://github.com/l-lin/font-awesome-animation">l-lin-font-awesome-animation</a></div><div class="reference-source"><span class="hidden-anchor" id="referfrom_[9]"></span><a class="reference-anchor" href="#referto_[9]">[9]<div class="reference-anchor-up fa-solid fa-angles-up"></div></a><a class="reference-link" href="https://www.antmoe.com/posts/3b43914f/">å°åº·çš„butterflyä¸»é¢˜ä½¿ç”¨æ–‡æ¡£</a></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-29-PDFå±•ç¤º">2.29 PDFå±•ç¤º</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% pdf æ–‡ä»¶è·¯å¾„ %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li><code>æ–‡ä»¶è·¯å¾„</code>: å¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„æˆ–è€…æ˜¯åœ¨çº¿é“¾æ¥</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 1.æœ¬åœ°æ–‡ä»¶:åœ¨mdæ–‡ä»¶è·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ªåŒåæ–‡ä»¶å¤¹ï¼Œå…¶å†…æ”¾pdfæ–‡ä»¶åä¸ºxxx.pdfçš„æ–‡ä»¶</span></span><br><span class="line">&#123;% pdf xxx.pdf %&#125;</span><br><span class="line"><span class="section"># 2.åœ¨çº¿é“¾æ¥</span></span><br><span class="line">&#123;% pdf https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/pdf/å°ä½œæ–‡è®²ä¹‰.pdf %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><p>2.åœ¨çº¿é“¾æ¥(è¦æ”¾åˆ°æœ€å¤–å±‚æ‰èƒ½èµ·ä½œç”¨)</p><pre><code>&lt;div class=&quot;row&quot;&gt;&lt;embed src=&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/pdf/å°ä½œæ–‡è®²ä¹‰.pdf&quot; width=&quot;100%&quot; height=&quot;550&quot; type=&quot;application/pdf&quot;&gt;&lt;/div&gt;</code></pre><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-30-Hexo-tag-map-æ’ä»¶">2.30 Hexo-tag-map æ’ä»¶</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% + æ ‡ç­¾å€¼ + ç»åº¦ + çº¬åº¦ + æ–‡æœ¬ + ç¼©æ”¾ç­‰çº§ + å®½ + é«˜ + é»˜è®¤å›¾å±‚ + %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><table><thead><tr><th style="text-align:center">åœ°å›¾å</th><th style="text-align:center">æ ‡ç­¾å€¼ &lt;å¿…å¡«&gt;</th><th style="text-align:center">å®½ (é»˜è®¤ 100%) / é«˜ (é»˜è®¤ 360px)</th><th style="text-align:center">ç¼©æ”¾ç­‰çº§ (é»˜è®¤ 14)</th><th style="text-align:center">å®½ (é»˜è®¤ 100%) / é«˜ (é»˜è®¤ 360px)</th><th style="text-align:center">é»˜è®¤å›¾å±‚ (é»˜è®¤ 1)</th></tr></thead><tbody><tr><td style="text-align:center">æ··åˆåœ°å›¾</td><td style="text-align:center">map</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 3~18</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~7</td></tr><tr><td style="text-align:center">è°·æ­Œåœ°å›¾</td><td style="text-align:center">googleMap</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~20</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~3</td></tr><tr><td style="text-align:center">é«˜å¾·åœ°å›¾</td><td style="text-align:center">gaodeMap</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 3~18</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~3</td></tr><tr><td style="text-align:center">ç™¾åº¦åœ°å›¾</td><td style="text-align:center">baiduMap</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 4~18</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~2</td></tr><tr><td style="text-align:center">Geoq åœ°å›¾</td><td style="text-align:center">geoqMap</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~18</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~5</td></tr><tr><td style="text-align:center">openstreet åœ°å›¾</td><td style="text-align:center">openstreetMap</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">å–å€¼ 1~18</td><td style="text-align:center">ç™¾åˆ†æ•°æˆ–å…·ä½“å€¼ (100% æˆ– 360px)</td><td style="text-align:center">ä¸æ”¯æŒæ­¤å‚æ•°</td></tr></tbody></table><ol><li>å‚æ•°ä¹‹é—´ï¼Œç”¨è‹±æ–‡é€—å·ç›¸éš”</li><li>å‚æ•°å¿…é¡»æŒ‰ä¸Šè¿°äº‹ä¾‹é¡ºåºè¾“å…¥ï¼Œä¸å¾—ä¸ºç©º</li><li>åŒä¸€ä¸ªé¡µé¢ï¼ŒåŒä¸€ç»„ç»çº¬åº¦å€¼ï¼Œåªèƒ½æ’å…¥ä¸€ä¸ªç›¸åŒæ ‡ç­¾å€¼çš„åœ°å›¾ (è‹¥æœ‰éœ€è¦ï¼Œå¯ä»¥å°†ç¬¬äºŒä¸ªåœ°å›¾ä¸Šï¼Œç»åº¦æˆ–çº¬åº¦æœ«å°¾åˆ é™¤ä¸€ä¸¤ä¸ªæ•°)</li><li>å‚æ•°å–å€¼å¿…é¡»åœ¨ä¸Šè¿°èŒƒå›´å†…</li><li>é»˜è®¤å›¾å±‚ï¼šå³åœ°å›¾å åŠ å±‚çš„å€¼ï¼Œé»˜è®¤å¸¸è§„åœ°å›¾è¿˜æ˜¯å«æ˜Ÿåœ°å›¾ï¼Œå¯æŒ‰åœ°å›¾æ˜¾ç¤ºé¡ºåºå–å€¼</li><li>ç¼©æ”¾ç­‰çº§ï¼Œæ•°å­—è¶Šå¤§ï¼Œåœ°å›¾æ¯”ä¾‹å°ºè¶Šå°ï¼Œæ˜¾ç¤ºçš„è¶Šç²¾ç»†</li><li>é™¤æ ‡ç­¾å€¼å¤–ï¼Œå…¶ä»–å‚æ•°é€‰å¡«ï¼Œä½† æ¯ä¸ªå‚æ•°çš„å·¦è¾¹çš„å‚æ•°å¿…å¡«</li><li>è°·æ­Œåœ°å›¾éœ€è¦å¤–ç½‘æ‰èƒ½åŠ è½½æŸ¥çœ‹</li></ol><p>åæ ‡è·å–ï¼š<a href="https://lbs.amap.com/tools/picker">é«˜å¾·åœ°å›¾åæ ‡æ‹¾å–ç³»ç»Ÿ</a> ã€<a href="https://api.map.baidu.com/lbsapi/getpoint/index.html">ç™¾åº¦åœ°å›¾åæ ‡æ‹¾å–ç³»ç»Ÿ</a></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% map 120.101101,30.239119 %&#125;</span><br><span class="line">&#123;% googleMap 120.101101,30.239119, è¿™é‡Œæ˜¯è¥¿æ¹–çµéšå¯ºï¼Œæ®è¯´æ±‚å§»ç¼˜å¾ˆçµéªŒå“¦ï¼ %&#125;</span><br><span class="line">&#123;% geoqMap 120.101101,30.239119, è¿™é‡Œæ˜¯è¥¿æ¹–çµéšå¯ºï¼Œæ®è¯´æ±‚å§»ç¼˜å¾ˆçµéªŒå“¦ï¼, 13, 90%, 320px, 3 %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div class="map-box"><div id="map-120.101101-30.239119" style="max-width:100%; height:360px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div></div><script type="text/javascript">var normalm=L.tileLayer.chinaProvider('GaoDe.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imgm=L.tileLayer.chinaProvider('GaoDe.Satellite.Map',{maxZoom:20,minZoom:1,attribution:'Amap'});var imga=L.tileLayer.chinaProvider('GaoDe.Satellite.Annotion',{maxZoom:20,minZoom:1,attribution:'Amap'});var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:20,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'});routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:21,minZoom:1});var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:21,minZoom:1,attribution:'Google Maps'}),routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:21,minZoom:1,attribution:'Google Maps'});var normalm1=L.tileLayer.chinaProvider('Geoq.Normal.Map',{maxZoom:21,minZoom:1,attribution:'GeoQ'});var normal=L.layerGroup([normalm]),image=L.layerGroup([imgm,imga]);var baseLayers={"é«˜å¾·åœ°å›¾":normal,"æ™ºå›¾åœ°å›¾":normalm1,"è°·æ­Œåœ°å›¾":normalMap,"é«˜å¾·å«æ˜Ÿåœ°å›¾":imgm,"è°·æ­Œå«æ˜Ÿåœ°å›¾":satelliteMap,"é«˜å¾·å«æ˜Ÿæ ‡æ³¨":image,"è°·æ­Œå«æ˜Ÿæ ‡æ³¨":routeMap};var mymap=L.map('map-120.101101-30.239119',{center:[30.239119,120.101101],zoom:14,layers:[normal],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'æ”¾å¤§',zoomOutTitle:'ç¼©å°'}).addTo(mymap);</script><br><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div id="googleMap-120.101101-30.239119" style="max-width:100%; height:360px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div><script type="text/javascript">var normalMap=L.tileLayer.chinaProvider('Google.Normal.Map',{maxZoom:22,minZoom:1,attribution:'Google Maps'}),satelliteMap=L.tileLayer.chinaProvider('Google.Satellite.Map',{maxZoom:22,minZoom:1,attribution:'Google Maps'}),routeMap=L.tileLayer.chinaProvider('Google.Satellite.Annotion',{maxZoom:22,minZoom:1,attribution:'Google Maps'});var baseLayers={"è°·æ­Œåœ°å›¾":normalMap,"è°·æ­Œå«æ˜Ÿå›¾":satelliteMap,"è°·æ­Œå«æ˜Ÿæ ‡æ³¨": routeMap};var overlayLayers={};var mymap=L.map("googleMap-120.101101-30.239119",{center:[30.239119,120.101101],zoom:14,layers:[normalMap],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'æ”¾å¤§',zoomOutTitle:'ç¼©å°'}).addTo(mymap);var marker = L.marker(['30.239119','120.101101']).addTo(mymap);marker.bindPopup("è¿™é‡Œæ˜¯è¥¿æ¹–çµéšå¯ºï¼Œæ®è¯´æ±‚å§»ç¼˜å¾ˆçµéªŒå“¦ï¼").openPopup();</script><br><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.css"><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet@1.7.1.js"></script><script data-pjax src="https://cdn.jsdelivr.net/npm/hexo-tag-map/lib/leaflet.ChineseTmsProviders@1.0.4.js"></script><div id="geoqMap-120.101101-30.239119" style="max-width:90%; height:320px;display: block;margin:0 auto;z-index:1;border-radius: 5px;"></div><script type="text/javascript">var normalm1=L.tileLayer.chinaProvider('Geoq.Normal.Map',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm2=L.tileLayer.chinaProvider('Geoq.Normal.PurplishBlue',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm3=L.tileLayer.chinaProvider('Geoq.Normal.Gray',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm4=L.tileLayer.chinaProvider('Geoq.Normal.Warm',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normalm5=L.tileLayer.chinaProvider('Geoq.Theme.Hydro',{maxZoom:20,minZoom:1,attribution:'GeoQ'});var normal=L.layerGroup([normalm1,normalm2,normalm3,normalm4,normalm5]);var baseLayers={"æ™ºå›¾åœ°å›¾":normalm1,"åˆå¤œè“":normalm2,"ç°è‰²":normalm3,"æš–è‰²":normalm4,"æ°´ç³»":normalm5};var mymap=L.map("geoqMap-120.101101-30.239119",{center:[30.239119,120.101101],zoom:13,layers:[normalm3],zoomControl:false});L.control.layers(baseLayers,null).addTo(mymap);L.control.zoom({zoomInTitle:'æ”¾å¤§',zoomOutTitle:'ç¼©å°'}).addTo(mymap);var marker = L.marker(['30.239119','120.101101']).addTo(mymap);marker.bindPopup("è¿™é‡Œæ˜¯è¥¿æ¹–çµéšå¯ºï¼Œæ®è¯´æ±‚å§»ç¼˜å¾ˆçµéªŒå“¦ï¼").openPopup();</script><br><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><h2 id="2-31-éšè—å—">2.31 éšè—å—</h2><div class="tabs" id="åˆ†æ "><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#åˆ†æ -1">æ ‡ç­¾è¯­æ³•</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -2">å‚æ•°é…ç½®</button></li><li class="tab"><button type="button" data-href="#åˆ†æ -3">ç¤ºä¾‹æºç </button></li><li class="tab"><button type="button" data-href="#åˆ†æ -4">æ¸²æŸ“æ¼”ç¤º</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="åˆ†æ -1"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideBlock display,bg,color %&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -2"><ol><li>contentï¼šè¦éšè—çš„å†…å®¹</li><li>displayï¼šå±•ç¤ºå‰æŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—ï¼ˆå¯é€‰ï¼‰</li><li>bgï¼šæŒ‰é’®çš„èƒŒæ™¯é¢œè‰²ï¼ˆå¯é€‰ï¼‰</li><li>colorï¼šæŒ‰é’®æ˜¾ç¤ºçš„æ–‡å­—çš„é¢œè‰²ï¼ˆå¯é€‰ï¼‰</li></ol><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -3"><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% hideBlock ç‚¹æˆ‘é¢„è§ˆ, blue %&#125;</span><br><span class="line">è¿™é‡Œæœ‰å¼ å›¾ç‰‡ï¼š</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://s1.vika.cn/space/2022/10/30/b35fce448bc9404a8d65c3ce1e6e46eb&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;image (1)&quot;</span> <span class="attr">style</span>=<span class="string">&quot;zoom:67%;&quot;</span> /&gt;</span></span></span><br><span class="line">&#123;% endhideBlock %&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="åˆ†æ -4"><div class="hide-block"><button type="button" class="hide-button" style="background-color:  blue;">ç‚¹æˆ‘é¢„è§ˆ    </button><div class="hide-content"><p>è¿™é‡Œæœ‰å¼ å›¾ç‰‡ï¼š<br><img src="https://s1.vika.cn/space/2022/10/30/b35fce448bc9404a8d65c3ce1e6e46eb" alt="image (1)" style="zoom:67%;" /></p></div></div><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
    
    
    <summary type="html">ğŸ¥§æœ¬æ–‡æ±‡æ€»Markdownæ ¼å¼ä»¥åŠå¤–æŒ‚æ ‡ç­¾åœ¨ç½‘é¡µç«¯çš„æ¸²æŸ“æ•ˆæœï¼Œå¯ä½œä¸ºæ–‡æ¡£è¿›è¡ŒæŸ¥è¯¢</summary>
    
    
    
    <category term="æ¼”ç¤º" scheme="https://u7u7.top/categories/%E6%BC%94%E7%A4%BA/"/>
    
    
    <category term="Markdown" scheme="https://u7u7.top/tags/Markdown/"/>
    
    <category term="å¤–æŒ‚æ ‡ç­¾" scheme="https://u7u7.top/tags/%E5%A4%96%E6%8C%82%E6%A0%87%E7%AD%BE/"/>
    
  </entry>
  
</feed>
